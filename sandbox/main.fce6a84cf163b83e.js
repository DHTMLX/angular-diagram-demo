(self.webpackChunksandbox=self.webpackChunksandbox||[]).push([[179],{905:Xi=>{if(window.dhx&&(window.dhx_legacy=dhx,delete window.dhx),window,Xi.exports=function(ne){var E={};function D(S){if(E[S])return E[S].exports;var T=E[S]={i:S,l:!1,exports:{}};return ne[S].call(T.exports,T,T.exports,D),T.l=!0,T.exports}return D.m=ne,D.c=E,D.d=function(S,T,C){D.o(S,T)||Object.defineProperty(S,T,{enumerable:!0,get:C})},D.r=function(S){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(S,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(S,"__esModule",{value:!0})},D.t=function(S,T){if(1&T&&(S=D(S)),8&T||4&T&&"object"==typeof S&&S&&S.__esModule)return S;var C=Object.create(null);if(D.r(C),Object.defineProperty(C,"default",{enumerable:!0,value:S}),2&T&&"string"!=typeof S)for(var x in S)D.d(C,x,function(m){return S[m]}.bind(null,x));return C},D.n=function(S){var T=S&&S.__esModule?function(){return S.default}:function(){return S};return D.d(T,"a",T),T},D.o=function(S,T){return Object.prototype.hasOwnProperty.call(S,T)},D.p="/codebase/",D(D.s=114)}([function(ne,E,D){"use strict";(function(S){Object.defineProperty(E,"__esModule",{value:!0}),E.setTheme=E.awaitRedraw=E.resizeHandler=E.jsonToVDOM=E.xmlToJson=E.resizer=E.disableHelp=E.KEYED_LIST=E.inject=E.create=E.view=E.sv=E.el=void 0;var T=D(125),C=D(2);E.el=T.defineElement,E.sv=T.defineSvgElement,E.view=T.defineView,E.create=T.createView,E.inject=T.injectView,E.KEYED_LIST=T.KEYED_LIST;var x=["animate","animateMotion","animateTransform","circle","clipPath","color-profile","defs","desc","discard","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","foreignObject","g","hatch","hatchpath","image","line","linearGradient","marker","mask","mesh","meshgradient","meshpatch","meshrow","metadata","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","solidcolor","stop","style","svg","switch","symbol","text","textPath","title","tspan","unknown","use","view"];function m(p){var y=window.ResizeObserver,v=function(u){p(u.el.offsetWidth,u.el.offsetHeight)};return y?(0,E.el)("div.dhx-resize-observer",{_hooks:{didInsert:function(u){new y(function(){return v(u)}).observe(u.el)}}}):(0,E.el)("iframe.dhx-resize-observer",{_hooks:{didInsert:function(u){u.el.contentWindow.onresize=function(){return v(u)},v(u)}}})}E.disableHelp=function(){T.DEVMODE.mutations=!1,T.DEVMODE.warnings=!1,T.DEVMODE.verbose=!1,T.DEVMODE.UNKEYED_INPUT=!1},E.resizer=m,E.xmlToJson=function p(y){var v={};if(1===y.nodeType){if(y.attributes.length>0){v["@attributes"]={};for(var u=0;u<y.attributes.length;u++){var h=y.attributes.item(u);v["@attributes"][h.nodeName]=h.nodeValue}}}else 3===y.nodeType&&(v=y.nodeValue);if(y.hasChildNodes())for(var c=0;c<y.childNodes.length;c++){var d=y.childNodes.item(c),a=d.nodeName;if(void 0===v[a])v[a]=p(d);else{if(void 0===v[a].push){var r=v[a];v[a]=[],v[a].push(r)}v[a].push(p(d))}}return v},E.jsonToVDOM=function p(y){var v,u,h=Object.keys(y)[0],c=y[h];Array.isArray(c["#text"])&&(c["#text"]=c["#text"].join("").trim());var d="string"==typeof c["#text"]?[c["#text"]]:[];for(var a in c)if(c.hasOwnProperty(a)&&"@attributes"!==a&&"#text"!==a)if(Array.isArray(c[a]))for(var r in c[a])c[a].hasOwnProperty(r)&&d.push(p(((v={})[a]=c[a][r],v)));else d.push(p(((u={})[a]=c[a],u)));return x.includes(h)?(0,E.sv)(h,c["@attributes"]?c["@attributes"]:{},d):(0,E.el)(h,c["@attributes"]?c["@attributes"]:{},d)},E.resizeHandler=function(p,y){return(0,E.create)({render:function(){return m(y)}}).mount(p)},E.awaitRedraw=function(){return new S(function(p){requestAnimationFrame(function(){p()})})},E.setTheme=function(p,y){void 0===p&&(p="light");var v="data-dhx-theme";y||document.querySelectorAll("[".concat(v,"]")).forEach(function(u){return u.removeAttribute(v)}),y=y||document.documentElement,(0,C.toNode)(y).setAttribute(v,p)}}).call(this,D(17))},function(ne,E,D){"use strict";(function(S){var T=this&&this.__assign||function(){return T=Object.assign||function(m){for(var p,y=1,v=arguments.length;y<v;y++)for(var u in p=arguments[y])Object.prototype.hasOwnProperty.call(p,u)&&(m[u]=p[u]);return m},T.apply(this,arguments)};Object.defineProperty(E,"__esModule",{value:!0}),E.blobToBase64=E.isMacintosh=E.getTextLines=E.getCloneObject=E.rgbToHex=E.isObject=E.getStringWidth=E.getMinArrayNumber=E.getMaxArrayNumber=E.isEmptyObj=E.isType=E.compare=E.debounce=E.downloadFile=E.isNumeric=E.range=E.isId=E.isDefined=E.wrapBox=E.unwrapBox=E.detectWidgetClick=E.singleOuterClick=E.isExistValue=E.findIndex=E.naturalSort=E.copy=E.extend=E.uid=void 0;var C=D(2),x=(new Date).valueOf();E.uid=function(){return"u"+x++},E.extend=function m(p,y,v){if(void 0===v&&(v=!0),y)for(var u in y){var h=y[u],c=p[u];void 0===h?delete p[u]:!v||"object"!=typeof c||c instanceof Date||c instanceof Array?p[u]=h:m(c,h)}return p},E.copy=function(m,p){var y={};for(var v in m)p&&v.startsWith("$")||(y[v]=m[v]);return y},E.naturalSort=function(m){return m.sort(function(p,y){return"string"==typeof p?p.localeCompare(y):p-y})},E.findIndex=function(m,p){for(var y=m.length,v=0;v<y;v++)if(p(m[v]))return v;return-1},E.isExistValue=function(m,p){var y=p.toString(),v=m.toString();return!(y.length>v.length)&&v.toLowerCase().includes(y.toLowerCase())},E.singleOuterClick=function(m){var p=function(y){m(y)&&document.removeEventListener("click",p)};document.addEventListener("click",p)},E.detectWidgetClick=function(m,p){var y=function(v){return p((0,C.locate)(v,"data-dhx-widget-id")===m)};return document.addEventListener("click",y),function(){return document.removeEventListener("click",y)}},E.unwrapBox=function(m){return Array.isArray(m)?m[0]:m},E.wrapBox=function(m){return Array.isArray(m)?m:[m]},E.isDefined=function(m){return null!=m},E.isId=function(m){return"number"==typeof m||"string"==typeof m&&""!==m},E.range=function(m,p){if(m>p)return[];for(var y=[];m<=p;)y.push(m++);return y},E.isNumeric=function(m){return!isNaN(m-parseFloat(m))},E.downloadFile=function(m,p,y){void 0===y&&(y="text/plain");var v=new Blob([m],{type:y});if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveOrOpenBlob(v,p);else{var u=document.createElement("a"),h=URL.createObjectURL(v);u.href=h,u.download=p,document.body.appendChild(u),u.click(),setTimeout(function(){document.body.removeChild(u),window.URL.revokeObjectURL(h)},0)}},E.debounce=function(m,p,y){var v;return function(){for(var u=this,h=[],c=0;c<arguments.length;c++)h[c]=arguments[c];var d=y&&!v;clearTimeout(v),v=setTimeout(function(){v=null,y||m.apply(u,h)},p),d&&m.apply(this,h)}},E.compare=function m(p,y){for(var v in p){if(p.hasOwnProperty(v)!==y.hasOwnProperty(v))return!1;switch(typeof p[v]){case"object":if(!m(p[v],y[v]))return!1;break;case"function":if(void 0===y[v]||"compare"!==v&&p[v].toString()!==y[v].toString())return!1;break;default:if(p[v]!==y[v])return!1}}for(var v in y)if(!p.hasOwnProperty(v))return!1;return!0},E.isType=function(m){return((Object.prototype.toString.call(m).match(/^\[object (\S+?)\]$/)||[])[1]||"undefined").toLowerCase()},E.isEmptyObj=function(m){for(var p in m)return!1;return!0},E.getMaxArrayNumber=function(m){if(m.length){for(var p=-1/0,y=0,v=m.length;y<v;y++)m[y]>p&&(p=m[y]);return p}},E.getMinArrayNumber=function(m){if(m.length){for(var p=1/0,y=0,v=m.length;y<v;y++)m[y]<p&&(p=m[y]);return p}},E.getStringWidth=function(m,p){p=T({font:"normal 14px Roboto",lineHeight:20},p);var y=document.createElement("canvas"),v=y.getContext("2d");p.font&&(v.font=p.font);var u=v.measureText(m).width;return(0,C.isIE)()||y.remove(),u},E.isObject=function(m){return null!==m&&"object"==typeof m&&!(m instanceof Date)},E.rgbToHex=function(m){if("#"===m.substr(0,1))return m;if("rgb"===m.substr(0,3)){var p=/(.*?)rgb[a]?\((\d+), *(\d+), *(\d+),* *([\d+.]*)\)/.exec(m),y=parseInt(p[2],10).toString(16).padStart(2,"0"),v=parseInt(p[3],10).toString(16).padStart(2,"0"),u=parseInt(p[4],10).toString(16).padStart(2,"0");return"#".concat(y).concat(v).concat(u)}},E.getCloneObject=function m(p){if(!p)return p;var y=Array.isArray(p)?[]:{};for(var v in p){var u=p[v];y[v]=u instanceof Date?new Date(u):"object"==typeof u?m(u):u}return y},E.getTextLines=function(m,p,y){for(var v=p.split(" "),u="",h="",c=[],d=0;d<v.length;d++)h+="".concat(v[d]," "),m.measureText(h.trimEnd()).width>y&&d>0?(c.push(u),u="".concat(v[d]," "),h="".concat(v[d]," ")):u+="".concat(v[d]," "),d===v.length-1&&c.push(u);return c},E.isMacintosh=function(){return navigator.userAgent.indexOf("Mac")>-1},E.blobToBase64=function(m){return new S(function(p,y){var v=new FileReader;v.onloadend=function(){p(v.result)},v.readAsDataURL(m)})}}).call(this,D(17))},function(ne,E,D){"use strict";var S=this&&this.__assign||function(){return S=Object.assign||function(c){for(var d,a=1,r=arguments.length;a<r;a++)for(var i in d=arguments[a])Object.prototype.hasOwnProperty.call(d,i)&&(c[i]=d[i]);return c},S.apply(this,arguments)};function T(c,d,a){for(void 0===d&&(d="data-dhx-id"),void 0===a&&(a="target"),c instanceof Event&&(c=c[a]);c;){if(c.getAttribute&&c.getAttribute(d))return c;c=c.parentNode}}Object.defineProperty(E,"__esModule",{value:!0}),E.getPageLinksCss=E.getPageInlineCss=E.getLabelStyle=E.getStrSize=E.fitPosition=E.calculatePosition=E.getRealPosition=E.isFirefox=E.isSafari=E.isIE=E.getScrollbarHeight=E.getScrollbarWidth=E.getBox=E.locateNodeByClassName=E.locate=E.locateNode=E.eventHandler=E.toNode=void 0,E.toNode=function(c){var d;return"string"==typeof c?document.getElementById(c)||document.querySelector("[data-cell-id=".concat(c,"]"))||document.querySelector(c)||(null===(d=document.querySelector("[data-dhx-root-id=".concat(c,"]")))||void 0===d?void 0:d.parentElement)||document.body:c||document.body},E.eventHandler=function(c,d,a){var r=Object.keys(d);return function(i){var o=c(i);if(void 0!==o){var l=i.target;e:for(;l;){var f=l.getAttribute&&l.getAttribute("class")||"";if(f.length)for(var _=f.split(" "),b=0;b<r.length;b++)if(_.includes(r[b])){if(!1===d[r[b]](i,o)||i.cancelBubble)return!1;break e}l=l.parentNode}}return"function"==typeof a&&a(i),!0}},E.locateNode=T,E.locate=function(c,d){void 0===d&&(d="data-dhx-id");var a=T(c,d);return a?a.getAttribute(d):""},E.locateNodeByClassName=function(c,d){for(c instanceof Event&&(c=c.target);c;){if(d){if(c.classList&&c.classList.contains(d))return c}else if(c.getAttribute&&c.getAttribute("data-dhx-id"))return c;c=c.parentNode}},E.getBox=function(c){var d=c.getBoundingClientRect(),a=document.body,r=window.pageYOffset||a.scrollTop,i=window.pageXOffset||a.scrollLeft;return{top:d.top+r,left:d.left+i,right:a.offsetWidth-d.right,bottom:a.offsetHeight-d.bottom,width:d.right-d.left,height:d.bottom-d.top}};var C=-1;E.getScrollbarWidth=function(){if(C>-1)return C;var c=document.createElement("div");return document.body.appendChild(c),c.style.cssText="position: absolute;left: -99999px;overflow:scroll;width: 100px;height: 100px;",C=c.offsetWidth-c.clientWidth,document.body.removeChild(c),C};var x=-1;function m(c){var d=c.getBoundingClientRect();return{left:d.left+window.pageXOffset,right:d.right+window.pageXOffset,top:d.top+window.pageYOffset,bottom:d.bottom+window.pageYOffset}}function p(){return{rightBorder:window.pageXOffset+window.innerWidth,bottomBorder:window.pageYOffset+window.innerHeight}}function y(c,d){var a,r,I,O,P,R,N,i=p(),o=i.rightBorder,l=i.bottomBorder-c.bottom-d.height,f=c.top-d.height;if("bottom"===d.mode?l>=0?r=c.bottom:f>=0&&(r=f):f>=0?r=f:l>=0&&(r=c.bottom),l<0&&f<0){if(d.auto)return v(c,S(S({},d),{mode:"right",auto:!1}));r=l>f?c.bottom:f}if(d.centering)P=o,a=(N=(I=c).left-(R=((O=d.width)-(I.right-I.left))/2))>=0&&I.right+R<=P?N:N<0?0:P-O;else{var _=o-c.left-d.width,b=c.right-d.width;a=_>=0?c.left:b>=0?b:b>_?c.left:b}return{left:a,top:r}}function v(c,d){var a,r,O,P,R,N,V,i=p(),l=i.bottomBorder,f=i.rightBorder-c.right-d.width,_=c.left-d.width;if("right"===d.mode?f>=0?a=c.right:_>=0&&(a=_):_>=0?a=_:f>=0&&(a=c.right),_<0&&f<0){if(d.auto)return y(c,S(S({},d),{mode:"bottom",auto:!1}));a=_>f?_:c.right}if(d.centering)R=l,r=(V=(O=c).top-(N=((P=d.height)-(O.bottom-O.top))/2))>=0&&O.bottom+N<=R?V:V<0?0:R-P;else{var b=c.bottom-d.height,I=l-c.top-d.height;r=I>=0?c.top:b>0||b>I?b:c.top}return{left:a,top:r}}function u(c,d){var a="bottom"===d.mode||"top"===d.mode?y(c,d):v(c,d),i=a.top;return{left:Math.round(a.left)+"px",top:Math.round(i)+"px",minWidth:Math.round(d.width)+"px",position:"absolute"}}E.getScrollbarHeight=function(){if(x>-1)return x;var c=document.createElement("div");return document.body.appendChild(c),c.style.cssText="position: absolute;left: -99999px;overflow:scroll;width: 100px;height: 100px;",x=c.offsetHeight-c.clientHeight,document.body.removeChild(c),x},E.isIE=function(){var c=window.navigator.userAgent;return c.includes("MSIE ")||c.includes("Trident/")},E.isSafari=function(){var c=function(r){return r.test(window.navigator.userAgent)},d=c(/Chrome/),a=c(/Firefox/);return!d&&!a&&c(/Safari/)},E.isFirefox=function(){var c=function(r){return r.test(window.navigator.userAgent)},d=c(/Chrome/),a=c(/Safari/);return!d&&!a&&c(/Firefox/)},E.getRealPosition=m,E.calculatePosition=u,E.fitPosition=function(c,d){return u(m(c),d)},E.getStrSize=function(c,d){d=S({fontSize:"14px",fontFamily:"Arial",lineHeight:"14px",fontWeight:"normal",fontStyle:"normal"},d);var a=document.createElement("span"),i=d.fontFamily,o=d.lineHeight,l=d.fontWeight,f=d.fontStyle,_=d.strokeWidth;a.style.fontSize=d.fontSize,a.style.fontFamily=i,a.style.lineHeight=o,a.style.fontWeight=l,a.style.fontStyle=f,a.style.display="inline-flex",a.innerText=c,document.body.appendChild(a);var b=a.offsetWidth,I=a.clientHeight;return document.body.removeChild(a),{width:b+parseFloat(_||0),height:I+parseFloat(_||0)}};var h=function(c){return c.href&&-1===c.ownerNode.outerHTML.indexOf(window.location.origin)&&(-1!==c.ownerNode.outerHTML.indexOf("http")||-1!==c.ownerNode.outerHTML.indexOf("https")||-1!==c.ownerNode.outerHTML.indexOf('href="//'))};E.getLabelStyle=function(c){var d=c.helpMessage,a=c.type,r=c.labelWidth,i=c.label,o=r&&r.toString().startsWith("0");return!!(d||"text"!==a&&c.required||!(!i||i&&o)||r&&!o)&&{style:(i||r)&&!o&&{width:r,"max-width":"100%"},label:i&&o?null:i}},E.getPageInlineCss=function(){for(var c=[],d=0;d<document.styleSheets.length;d++){var a=document.styleSheets[d];if(!h(a))for(var r=("cssRules"in a&&a.cssRules.length?a.cssRules:a.rules),i=0;i<r.length;i++){var o=r[i];c.push("cssText"in o?o.cssText:"".concat(o.selectorText," {\n").concat(o.style.cssText,"\n}\n"))}}return c.join("\n")},E.getPageLinksCss=function(c){var d=[];if(c)c.forEach(function(i){return d.push('<link href="'.concat(i,'" rel="stylesheet"/>'))});else for(var a=0;a<document.styleSheets.length;a++){var r=document.styleSheets[a];h(r)&&d.push('<link href="'.concat(r.href,'" rel="stylesheet"/>'))}return d.join("\n")}},function(ne,E,D){"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.EventsMixin=E.EventSystem=void 0;var S=function(){function T(C){this.events={},this.context=C||this}return T.prototype.on=function(C,x,m){var p=C.toLowerCase();this.events[p]=this.events[p]||[],this.events[p].push({callback:x,context:m||this.context})},T.prototype.detach=function(C,x){var m=C.toLowerCase(),p=this.events[m];if(x&&p&&p.length)for(var y=p.length-1;y>=0;y--)p[y].context===x&&p.splice(y,1);else this.events[m]=[]},T.prototype.fire=function(C,x){void 0===x&&(x=[]);var m=C.toLowerCase();return!this.events[m]||!this.events[m].map(function(p){return p.callback.apply(p.context,x)}).includes(!1)},T.prototype.clear=function(){this.events={}},T}();E.EventSystem=S,E.EventsMixin=function(T){var C=new S(T=T||{});T.detachEvent=C.detach.bind(C),T.attachEvent=C.on.bind(C),T.callEvent=C.fire.bind(C)}},function(ne,E,D){"use strict";var S,T,C,x,m;Object.defineProperty(E,"__esModule",{value:!0}),E.ItemEvent=E.ValidationStatus=E.FormEvents=E.ClearMethod=void 0,(m=S||(E.ClearMethod=S={})).value="value",m.validation="validation",function(m){m.beforeChange="beforeChange",m.change="change",m.click="click",m.focus="focus",m.blur="blur",m.keydown="keydown",m.beforeShow="beforeShow",m.afterShow="afterShow",m.beforeHide="beforeHide",m.afterHide="afterHide",m.afterValidate="afterValidate",m.beforeValidate="beforeValidate",m.beforeChangeProperties="beforeChangeProperties",m.afterChangeProperties="afterChangeProperties",m.beforeSend="beforesend",m.afterSend="aftersend",m.buttonClick="buttonClick",m.validationFail="validationfail"}(T||(E.FormEvents=T={})),function(m){m[m.pre=0]="pre",m[m.error=1]="error",m[m.success=2]="success"}(C||(E.ValidationStatus=C={})),function(m){m.click="click",m.beforeChange="beforeChange",m.change="change",m.input="input",m.focus="focus",m.blur="blur",m.keydown="keydown",m.beforeChangeOptions="beforeChangeOptions",m.changeOptions="changeOptions",m.beforeShow="beforeShow",m.afterShow="afterShow",m.beforeHide="beforeHide",m.afterHide="afterHide",m.beforeValidate="beforeValidate",m.afterValidate="afterValidate",m.beforeUploadFile="beforeUploadFile",m.uploadFile="uploadfile",m.uploadBegin="uploadBegin",m.uploadComplete="uploadComplete",m.uploadFail="uploadFail",m.uploadProgress="uploadProgress",m.beforeChangeProperties="beforeChangeProperties",m.afterChangeProperties="afterChangeProperties"}(x||(E.ItemEvent=x={}))},function(ne,E,D){"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.toViewLike=E.View=void 0;var S=D(1),T=D(2),C=function(){function x(m,p){var y;this.config=p||{},this._uid=null!==(y=this.config.rootId)&&void 0!==y?y:(0,S.uid)()}return x.prototype.mount=function(m,p){p&&(this._view=p),m&&this._view&&this._view.mount&&(this._container=(0,T.toNode)(m),this._container.tagName?this._view.mount(this._container):this._container.attach&&this._container.attach(this))},x.prototype.unmount=function(){var m=this.getRootView();m&&m.node&&(m.unmount(),this._view=null)},x.prototype.getRootView=function(){return this._view},x.prototype.getRootNode=function(){return this._view&&this._view.node&&this._view.node.el},x.prototype.paint=function(){this._view&&(this._view.node||this._container)&&(this._doNotRepaint=!1,this._view.redraw())},x}();E.View=C,E.toViewLike=function(x){return{getRootView:function(){return x},paint:function(){return x.node&&x.redraw()},mount:function(m){return x.mount(m)}}}},function(ne,E,D){"use strict";var S,T=this&&this.__rest||function(u,h){var c={};for(var d in u)Object.prototype.hasOwnProperty.call(u,d)&&h.indexOf(d)<0&&(c[d]=u[d]);if(null!=u&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(d=Object.getOwnPropertySymbols(u);a<d.length;a++)h.indexOf(d[a])<0&&Object.prototype.propertyIsEnumerable.call(u,d[a])&&(c[d[a]]=u[d[a]])}return c};Object.defineProperty(E,"__esModule",{value:!0}),E.setAttacments=E.widgetConfig=E.baseProps=E.isVerify=E.isTimeFormat=E.baseInputValidate=E.validateInput=E.isBlock=E.validateTemplate=E.getValidationMessage=E.getFormItemCss=void 0;var C=D(4),x=D(41),m=D(1);E.getFormItemCss=function(u,h,c){var d;void 0===c&&(c=!1);var a=u.labelPosition,r=u.required,i=u.disabled,o=u.hiddenLabel,l=u.$validationStatus,f=(d={},d[C.ValidationStatus.pre]="",d[C.ValidationStatus.error]=" dhx_form-group--state_error",d[C.ValidationStatus.success]=" dhx_form-group--state_success",d)[l]||"",_="left"===a?" dhx_form-group--inline":"",b=i?" dhx_form-group--disabled":"",I=o?" dhx_form-group--label_sr":"";return h?_+(c?"":f)+(r?" dhx_form-group--required":"")+b+I:_+b+I};var p=((S={})[x.Validation.validAlphaNumeric]=/^[a-zA-Z0-9_]+$/,S[x.Validation.validEmail]=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,S[x.Validation.validInteger]=/^-?\d+$/,S[x.Validation.validIPv4]=/\b((25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)(\.|$)){4}\b/,S[x.Validation.validNumeric]=/^-?\d+(\.\d+)?$/,S);function y(u){return!("fieldset"===u.type||!u.rows&&!u.cols)}function v(u,h,c){void 0===u&&(u=[]);for(var d=[],a=0;a<u.length;a++){var r=u[a];r.type&&(h[r.name].parent=c,d.push(h[r.name])),y(r)&&d.push.apply(d,v(r.rows||r.cols,h,c))}return d}E.getValidationMessage=function(u){var h;return(h={undefined:u.preMessage},h[C.ValidationStatus.pre]=u.preMessage,h[C.ValidationStatus.error]=u.errorMessage,h[C.ValidationStatus.success]=u.successMessage,h)[u.$validationStatus]||""},E.validateTemplate=function(u,h){return!p[u]||p[u].test(h)},E.isBlock=y,E.validateInput=function(u,h){var c=!0;if("function"==typeof h)c=h(u);else{var d=p[h];d&&(c=d.test(u.toString()))}return c},E.baseInputValidate=function(u,h){var c=u??"";if(h.required&&!String(c).trim())return!1;var d=function(a,r,i){var o=(0,m.isDefined)(r),l=(0,m.isDefined)(i);return o&&l?Number(r)<=Number(i)&&Number(r)<=a&&Number(i)>=a:o?Number(r)<=a:!l||Number(i)>=a};return"number"===h.inputType?d(Number(c),h.min,h.max):d(String(c).length,h.minlength,h.maxlength)},E.isTimeFormat=function(u,h){return 12===h?/(^0?([1-9][0-2]?):[0-5][0-9]?([AP][M]?)$)/i.test(u):/(^(0[0-9]|1[0-9]|2[0-3]|[0-9]):[0-5][0-9]$)/i.test(u)},E.isVerify=function(u){return["required","validation","minlength","maxlength","min","max"].some(function(h){switch(h){case"required":return!!u[h];case"validation":return"function"==typeof u[h]||"email"===u[h]||"integer"===u[h]||"numeric"===u[h]||"alphanumeric"===u[h]||"IPv4"===u[h];case"minlength":case"maxlength":return"number"==typeof u[h]||"string"==typeof u[h];case"min":case"max":return("number"==typeof u[h]||"string"==typeof u[h])&&"number"===u.inputType}})},E.baseProps=["width","height","padding","css"],E.widgetConfig=function(u){return T(u,["width","type","id","name","hidden","editable","css","required","helpMessage","preMessage","successMessage","errorMessage","label","labelWidth","labelPosition","hiddenLabel","validation","icon"])},E.setAttacments=function(u,h){var c;for(var d in u){var a=u[d];"fieldset"===a.config.type?(a.setAttachments(v(a.config.rows||a.config.cols,u,a)),a.setCell(h.getCell(d))):null===(c=h.getCell(d))||void 0===c||c.attach(a)}}},function(ne,E,D){"use strict";var S,T,C,x,m,p;Object.defineProperty(E,"__esModule",{value:!0}),E.Split=E.GridSelectionEvents=E.GridSystemEvents=E.GridEvents=E.HeaderFilterEvent=void 0,(S||(E.HeaderFilterEvent=S={})).change="change",(p=T||(E.GridEvents=T={})).scroll="scroll",p.expand="expand",p.filterChange="filterChange",p.beforeFilter="beforeFilter",p.beforeResizeStart="beforeResizeStart",p.resize="resize",p.afterResizeEnd="afterResizeEnd",p.cellClick="cellClick",p.cellRightClick="cellRightClick",p.cellMouseOver="cellMouseOver",p.cellMouseDown="cellMouseDown",p.cellDblClick="cellDblClick",p.headerCellClick="headerCellClick",p.footerCellClick="footerCellClick",p.headerCellMouseOver="headerCellMouseOver",p.footerCellMouseOver="footerCellMouseOver",p.headerCellMouseDown="headerCellMouseDown",p.footerCellMouseDown="footerCellMouseDown",p.headerCellDblClick="headerCellDblClick",p.footerCellDblClick="footerCellDblClick",p.headerCellRightClick="headerCellRightClick",p.footerCellRightClick="footerCellRightClick",p.beforeEditStart="beforeEditStart",p.afterEditStart="afterEditStart",p.beforeEditEnd="beforeEditEnd",p.afterEditEnd="afterEditEnd",p.beforeKeyDown="beforeKeyDown",p.afterKeyDown="afterKeyDown",p.beforeColumnHide="beforeColumnHide",p.afterColumnHide="afterColumnHide",p.beforeColumnShow="beforeColumnShow",p.afterColumnShow="afterColumnShow",p.beforeRowHide="beforeRowHide",p.afterRowHide="afterRowHide",p.beforeRowShow="beforeRowShow",p.afterRowShow="afterRowShow",p.beforeRowDrag="beforeRowDrag",p.dragRowStart="dragRowStart",p.dragRowOut="dragRowOut",p.dragRowIn="dragRowIn",p.canRowDrop="canRowDrop",p.cancelRowDrop="cancelRowDrop",p.beforeRowDrop="beforeRowDrop",p.afterRowDrop="afterRowDrop",p.afterRowDrag="afterRowDrag",p.beforeColumnDrag="beforeColumnDrag",p.dragColumnStart="dragColumnStart",p.dragColumnOut="dragColumnOut",p.dragColumnIn="dragColumnIn",p.canColumnDrop="canColumnDrop",p.cancelColumnDrop="cancelColumnDrop",p.beforeColumnDrop="beforeColumnDrop",p.afterColumnDrop="afterColumnDrop",p.afterColumnDrag="afterColumnDrag",p.beforeRowResize="beforeRowResize",p.afterRowResize="afterRowResize",p.beforeSort="beforeSort",p.afterSort="afterSort",function(p){p.cellTouchMove="cellTouchMove",p.cellTouchEnd="cellTouchEnd",p.headerCellTouchMove="headerCellTouchMove",p.headerCellTouchEnd="headerCellTouchEnd"}(C||(E.GridSystemEvents=C={})),function(p){p.beforeUnSelect="beforeUnSelect",p.afterUnSelect="afterUnSelect",p.beforeSelect="beforeSelect",p.afterSelect="afterSelect"}(x||(E.GridSelectionEvents=x={})),function(p){p.left="leftSplit",p.right="rightSplit",p.top="topSplit",p.bottom="bottomSplit"}(m||(E.Split=m={}))},function(ne,E,D){"use strict";var S=this&&this.__createBinding||(Object.create?function(C,x,m,p){void 0===p&&(p=m);var y=Object.getOwnPropertyDescriptor(x,m);y&&!("get"in y?!x.__esModule:y.writable||y.configurable)||(y={enumerable:!0,get:function(){return x[m]}}),Object.defineProperty(C,p,y)}:function(C,x,m,p){void 0===p&&(p=m),C[p]=x[m]}),T=this&&this.__exportStar||function(C,x){for(var m in C)"default"===m||Object.prototype.hasOwnProperty.call(x,m)||S(x,C,m)};Object.defineProperty(E,"__esModule",{value:!0}),T(D(22),E),T(D(68),E),T(D(135),E),T(D(136),E),T(D(32),E),T(D(171),E),T(D(23),E),T(D(71),E),T(D(70),E),T(D(172),E),T(D(69),E),T(D(47),E)},function(ne,E,D){"use strict";var S,T=this&&this.__extends||(S=function(h,c){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,a){d.__proto__=a}||function(d,a){for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(d[r]=a[r])})(h,c)},function(h,c){if("function"!=typeof c&&null!==c)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function d(){this.constructor=h}S(h,c),h.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}),C=this&&this.__assign||function(){return C=Object.assign||function(h){for(var c,d=1,a=arguments.length;d<a;d++)for(var r in c=arguments[d])Object.prototype.hasOwnProperty.call(c,r)&&(h[r]=c[r]);return h},C.apply(this,arguments)};Object.defineProperty(E,"__esModule",{value:!0}),E.Label=void 0;var x=D(0),m=D(2),p=D(5),y=D(11),v=D(4),u=function(h){function c(d,a){void 0===a&&(a={});var r=h.call(this,d,a)||this;return r._handlers=C({showHelper:function(i){i.preventDefault(),i.stopPropagation(),r._helper.show(i.target,{mode:"left"===r.config.labelPosition?"bottom":"right",theme:i.target})},hideHelper:function(i){i.preventDefault(),i.stopPropagation(),r._helper.hide()}},r._getHandlers()),r.mount(d,(0,x.create)({render:function(){return r.config&&r._draw()}})),r}return T(c,h),c.prototype.setValidationStatus=function(d){void 0===d&&(d="pre"),this.config.$validationStatus=v.ValidationStatus[d]},c.prototype._destructor=function(){this._helper&&this._helper.destructor(),this.config=this._handlers=this._helper=null,this.unmount()},c.prototype._getHandlers=function(){return{}},c.prototype._init=function(){},c.prototype._draw=function(){return this._drawLabel()},c.prototype._drawLabel=function(){var d=this.config,a=d.id,r=d.helpMessage,i=d.required;this.config.helpMessage&&(this._helper||(this._helper=new y.Popup({css:"dhx_tooltip dhx_tooltip--forced dhx_tooltip--light"})),this._helper.attachHTML(this.config.helpMessage));var o=(0,m.getLabelStyle)(this.config);return o&&(0,x.el)("".concat(this.config.type.includes("group")?"legend":"label",".dhx_label"),{for:a||this._uid,class:r?"dhx_label--with-help":"",style:o.style},r?[(o.label||i)&&(0,x.el)("span.dhx_label__holder",o.label),(0,x.el)("span.dhx_label-help.dxi.dxi-help-circle-outline",{tabindex:"0",role:"button",onclick:this._handlers.showHelper,onfocus:this._handlers.showHelper,onblur:this._handlers.hideHelper,id:"dhx_label__help_".concat(a||this._uid)})]:o.label)},c}(p.View);E.Label=u},function(ne,E,D){"use strict";Object.defineProperty(E,"__esModule",{value:!0});var S=D(12),T=D(43);E.default={type:"input",key:"text",$handler:function(C){var x=C.id,m=C.value,p=C.editor,y=C.key,v=C.control;"number"===this.inputType&&(m=m||this.value),p.diagram.data.update(x,(0,T.getModifiedObject)(y,m,Array.isArray(y)&&p.diagram.data.getItem(x)||{})),v.setValue(m)},$setValue:function(C){var x=C.control,m=C.value;""!==m||"function"!=typeof x.clear?x.setValue(m):x.clear()},$layout:function(C){return(0,S.default)(C,{type:"input"})}}},function(ne,E,D){"use strict";var S=this&&this.__createBinding||(Object.create?function(C,x,m,p){void 0===p&&(p=m);var y=Object.getOwnPropertyDescriptor(x,m);y&&!("get"in y?!x.__esModule:y.writable||y.configurable)||(y={enumerable:!0,get:function(){return x[m]}}),Object.defineProperty(C,p,y)}:function(C,x,m,p){void 0===p&&(p=m),C[p]=x[m]}),T=this&&this.__exportStar||function(C,x){for(var m in C)"default"===m||Object.prototype.hasOwnProperty.call(x,m)||S(x,C,m)};Object.defineProperty(E,"__esModule",{value:!0}),T(D(150),E),T(D(76),E)},function(ne,E,D){"use strict";var S=this&&this.__assign||function(){return S=Object.assign||function(C){for(var x,m=1,p=arguments.length;m<p;m++)for(var y in x=arguments[m])Object.prototype.hasOwnProperty.call(x,y)&&(C[y]=x[y]);return C},S.apply(this,arguments)},T=this&&this.__rest||function(C,x){var m={};for(var p in C)Object.prototype.hasOwnProperty.call(C,p)&&x.indexOf(p)<0&&(m[p]=C[p]);if(null!=C&&"function"==typeof Object.getOwnPropertySymbols){var y=0;for(p=Object.getOwnPropertySymbols(C);y<p.length;y++)x.indexOf(p[y])<0&&Object.prototype.propertyIsEnumerable.call(C,p[y])&&(m[p[y]]=C[p[y]])}return m};Object.defineProperty(E,"__esModule",{value:!0}),E.default=function(C,x){if(C.wrap&&C.label){var m=C.label,p=C.labelAlignment,y=C.padding,v=C.align,u=C.width,h=C.height,c=C.disabled,d=C.hidden,a=C.compact,r=T(C,["label","labelAlignment","padding","align","width","height","disabled","hidden","labelWidth","helpMessage","compact"]),i=C.css||"";return C.label&&!C.compact||(i+=" dhx_form-fieldset--compact"),{type:"fieldset",label:m,labelAlignment:p,css:i,padding:y,align:v,width:u,height:h,disabled:c,hidden:d,compact:a,rows:[S(S({},r),x)]}}return S(S({},C),x)}},function(ne,E,D){"use strict";var S=this&&this.__assign||function(){return S=Object.assign||function(T){for(var C,x=1,m=arguments.length;x<m;x++)for(var p in C=arguments[x])Object.prototype.hasOwnProperty.call(C,p)&&(T[p]=C[p]);return T},S.apply(this,arguments)};Object.defineProperty(E,"__esModule",{value:!0}),E.default={type:"fieldset",compact:!1,$layout:function(T){var C=T.css||"";return T.label&&!T.compact||(C+=" dhx_form-fieldset--compact"),S(S({},T),{type:"fieldset",css:C})}}},function(ne,E,D){"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.KeyManager=void 0;var S=D(31),T=D(2);function C(p){for(var y=p.toLowerCase().match(/\w+/g),v=0,u="",h=0;h<y.length;h++){var c=y[h];"ctrl"===c?v+=4:"shift"===c?v+=2:"alt"===c?v+=1:u=c}return v+u}var x={Up:"arrowUp",Down:"arrowDown",Right:"arrowRight",Left:"arrowLeft",Esc:"escape",Spacebar:"space"},m=function(){function p(y){var v=this;this._keysStorage={},this._initHandler=function(u){var h;if(u.which>=48&&u.which<=57||u.which>=65&&u.which<=90)h=String.fromCharCode(u.which);else{var c=32===u.which?u.code:u.key;h=(0,T.isIE)()&&x[c]||c}var d=v._keysStorage[(u.ctrlKey||u.metaKey?4:0)+(u.shiftKey?2:0)+(u.altKey?1:0)+(h&&h.toLowerCase())];if(d)for(var a=0;a<d.length;a++){if(v._beforeCall&&!1===v._beforeCall(u,S.focusManager.getFocusId()))return;d[a].handler(u)}},y&&(this._beforeCall=y),document.addEventListener("keydown",this._initHandler)}return p.prototype.destructor=function(){document.removeEventListener("keydown",this._initHandler),this.removeHotKey()},p.prototype.addHotKey=function(y,v){var u=C(y);this._keysStorage[u]||(this._keysStorage[u]=[]),this._keysStorage[u].push({handler:v})},p.prototype.removeHotKey=function(y,v){var u=this;if(y)if(y&&v){var h=C(y),c=function(a){return a.toString().replace(/\n/g,"").replace(/\s/g,"")};this._keysStorage[h].forEach(function(a,r){c(a.handler)===c(v)&&(delete u._keysStorage[h][r],u._keysStorage[h]=u._keysStorage[h].filter(function(i){return i}))})}else{var d=C(y);delete this._keysStorage[d]}else this._keysStorage={}},p.prototype.exist=function(y){var v=C(y);return!!this._keysStorage[v]},p.prototype.getKeyStorageLength=function(){return Object.keys(this._keysStorage).length},p}();E.KeyManager=m},function(ne,E,D){"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.scrollFixedColsAndRows=E.getTotalHeight=E.getTotalWidth=E.isHtmlEnable=E.isTooltip=E.isContentTooltip=E.showTooltip=E.isAutoWidth=E.isSortable=E.isRowEmpty=E.isCssSupport=E.removeHTMLTags=E.getStyleByClass=E.transpose=void 0;var S=D(1),T=D(2),C=D(21);E.transpose=function(x,m){for(var p=[],y=0;y<x.length;y++)for(var v=x[y],u=0;u<v.length;u++){p[u]=p[u]||[];var h=m?m(v[u]):v[u];p[u].push(h)}return p},E.getStyleByClass=function(x,m,p,y){void 0===y&&(y=document.body);var v,u,h,c=y.querySelector("."+m.trim().replace(/\s/g,".")),d=(v=c,"string"==typeof(u='<div class="'.concat(x,'"></div>'))?(v.insertAdjacentHTML("beforeend",u),v.lastChild):(v.appendChild(u),u)),a=window.getComputedStyle(d),r="rgba(0, 0, 0, 0)";if(a.backgroundColor===r){var i=window.getComputedStyle(c);h=i.backgroundColor===r?p.background:(0,S.rgbToHex)(i.backgroundColor)}else h=(0,S.rgbToHex)(a.backgroundColor);var o={color:"rgb(0, 0, 0)"===a.color?p.color:(0,S.rgbToHex)(a.color),background:h,fontSize:Math.round(parseFloat(a.fontSize)),bold:["bold","700","600","500"].includes(a.fontWeight)};return c.removeChild(d),(0,S.compare)(o,p)?null:o},E.removeHTMLTags=function(x){return"string"!=typeof x&&"number"!=typeof x&&"boolean"!=typeof x?"":"".concat(x??"").replace(/<[^>]*>/g,"").replace(/["]/g,"&quot;").trim()},E.isCssSupport=function(x,m){try{return CSS.supports(x,m)}catch{var p=document.createElement("div");return p.style[x]=m,p.style[x]===m}},E.isRowEmpty=function(x){if(x)return Object.keys(x).reduce(function(m,p){return"id"===p||p.startsWith("$")?m:m&&void 0!==x[p]&&""!==x[p]?void 0:m},!0)},E.isSortable=function(x,m){return!1!==m.sortable&&x.sortable||m.sortable},E.isAutoWidth=function(x,m){if(m)return!1!==m.autoWidth&&x.autoWidth||m.autoWidth;var p=!1;return x.columns.map(function(y){(!1!==y.autoWidth&&x.autoWidth||y.autoWidth)&&(p=!0)}),p},E.showTooltip=function(x){var m=x.node,y=x.htmlEnable,v=void 0!==y&&y;m&&(0,C.tooltip)(x.value.toString(),{css:"dhx_grid_tooltip",node:m,htmlEnable:v})},E.isContentTooltip=function(x,m,p,y){for(var v=!1,h=[x.tooltip,"header"===y?x.headerTooltip:x.footerTooltip,m.tooltip,p?.tooltip],c=0;c<h.length;c++)"boolean"==typeof h[c]&&(v=h[c]);return v},E.isTooltip=function(x,m){return!1!==m.tooltip&&x.tooltip||m.tooltip},E.isHtmlEnable=function(x,m,p){var y,v;return!!(null!==(v=null!==(y=p?.htmlEnable)&&void 0!==y?y:m.htmlEnable)&&void 0!==v?v:x.htmlEnable)},E.getTotalWidth=function(x){return x.reduce(function(m,p){return m+(p.$width||0)},0)},E.getTotalHeight=function(x){return x.reduce(function(m,p){return m+(p.$height||0)},0)},E.scrollFixedColsAndRows=function(x){var m=(0,T.locateNode)(x,"data-dhx-widget-id").querySelector(".dhx_grid-body"),p=x.deltaY,y=x.shiftKey?[p,0]:[0,p];m?.scrollBy.apply(m,y)}},function(ne,E,D){"use strict";var S=this&&this.__createBinding||(Object.create?function(C,x,m,p){void 0===p&&(p=m);var y=Object.getOwnPropertyDescriptor(x,m);y&&!("get"in y?!x.__esModule:y.writable||y.configurable)||(y={enumerable:!0,get:function(){return x[m]}}),Object.defineProperty(C,p,y)}:function(C,x,m,p){void 0===p&&(p=m),C[p]=x[m]}),T=this&&this.__exportStar||function(C,x){for(var m in C)"default"===m||Object.prototype.hasOwnProperty.call(x,m)||S(x,C,m)};Object.defineProperty(E,"__esModule",{value:!0}),T(D(49),E),T(D(147),E),T(D(50),E)},function(ne,E,D){(function(S,T){!function(){S=typeof window<"u"?window:this;var C=1,x={},m=!1;function p(v){S.setImmediate?T(v):S.importScripts?setTimeout(v):(C++,x[C]=v,S.postMessage(C,"*"))}function y(v){"use strict";if("function"!=typeof v&&null!=v||"object"!=typeof this||this&&this.then)throw TypeError();var u,h,c=this,d=0,a=0,r=[];c.promise=c,c.resolve=function(f){return u=c.fn,h=c.er,d||(a=f,d=1,p(l)),c},c.reject=function(f){return u=c.fn,h=c.er,d||(a=f,d=2,p(l)),c},c._d=1,c.then=function(f,_){if(1!=this._d)throw TypeError();var b=new y;return b.fn=f,b.er=_,3==d?b.resolve(a):4==d?b.reject(a):r.push(b),b},c.catch=function(f){return c.then(null,f)};var i=function(f){d=f||4,r.map(function(_){3==d&&_.resolve(a)||_.reject(a)})};try{"function"==typeof v&&v(c.resolve,c.reject)}catch(f){c.reject(f)}return c;function o(f,_,b,I){if(2==d)return I();if("object"!=typeof a&&"function"!=typeof a||"function"!=typeof f)I();else try{var O=0;f.call(a,function(P){O++||(a=P,_())},function(P){O++||(a=P,b())})}catch(P){a=P,b()}}function l(){var f;try{f=a&&a.then}catch(_){return a=_,d=2,l()}o(f,function(){d=1,l()},function(){d=2,l()},function(){try{1==d&&"function"==typeof u?a=u(a):2==d&&"function"==typeof h&&(a=h(a),d=1)}catch(_){return a=_,i()}a==c?(a=TypeError(),i()):o(f,function(){i(3)},i,function(){i(1==d&&3)})})}}S.setImmediate||S.addEventListener("message",function(v){if(v.source==S)if(m)p(x[v.data]);else{m=!0;try{x[v.data]()}catch{}delete x[v.data],m=!1}}),y.resolve=function(v){if(1!=this._d)throw TypeError();return v instanceof y?v:new y(function(u){u(v)})},y.reject=function(v){if(1!=this._d)throw TypeError();return new y(function(u,h){h(v)})},y.all=function(v){if(1!=this._d)throw TypeError();if(!(v instanceof Array))return y.reject(TypeError());var u=new y;return function h(c,d){return d?u.resolve(d):c?u.reject(c):(0==v.reduce(function(a,r){return r&&r.then?a+1:a},0)&&u.resolve(v),void v.map(function(a,r){a&&a.then&&a.then(function(i){return v[r]=i,h(),i},h)}))}(),u},y.race=function(v){if(1!=this._d)throw TypeError();if(!(v instanceof Array))return y.reject(TypeError());if(0==v.length)return new y;var u=new y;return function h(c,d){return d?u.resolve(d):c?u.reject(c):(0==v.reduce(function(a,r){return r&&r.then?a+1:a},0)&&u.resolve(v),void v.map(function(a,r){a&&a.then&&a.then(function(i){h(null,i)},h)}))}(),u},y._d=1,ne.exports=y}()}).call(this,D(44),D(120).setImmediate)},function(ne,E,D){"use strict";var S=this&&this.__assign||function(){return S=Object.assign||function(u){for(var h,c=1,d=arguments.length;c<d;c++)for(var a in h=arguments[c])Object.prototype.hasOwnProperty.call(h,a)&&(u[a]=h[a]);return u},S.apply(this,arguments)},T=this&&this.__spreadArray||function(u,h,c){if(c||2===arguments.length)for(var d,a=0,r=h.length;a<r;a++)!d&&a in h||(d||(d=Array.prototype.slice.call(h,0,a)),d[a]=h[a]);return u.concat(d||Array.prototype.slice.call(h))};Object.defineProperty(E,"__esModule",{value:!0}),E.getEditorValue=E.getValueForNumberColumn=E.getEditorOptions=E.toFormat=E.getMaxColsWidth=E.getTreeCellWidthOffset=E.getCalculatedRowHeight=E.getMaxRowHeight=E.getUnique=E.calculatePositions=E.countColumns=E.measureTextHeight=E.normalizeArray=void 0;var C=D(1),x=D(15),m=D(24);function p(u,h){return T(T([],("function"==typeof u.options?u.options(u,h):u.options)||[],!0),u.$customOptions||[],!0)}function y(u,h,c){var d=p(h,c);return"multiselect"===h.editorType&&"string"==typeof u?u.split(",").map(function(a){return v(a.trim(),d)}).join(", "):v(u,d)}function v(u,h){var c=h.find(function(d){return d instanceof Object&&d.id==u});return c?c.value:u}E.normalizeArray=function(u,h){u[h]&&(u[h]="string"==typeof u[h]?[{text:"".concat(u[h])}]:u[h].map(function(c){return"string"==typeof c&&(c={text:c}),c}))},E.measureTextHeight=function(u){var h=u.text,c=void 0===h?"":h,d=u.width,a=void 0===d?0:d,r=u.lineHeight,i=void 0===r?20:r,o=u.font,l=void 0===o?"14px Arial":o,f=u.htmlEnable,_=void 0!==f&&f,b=document.createElement("canvas"),I=b.getContext("2d",{alpha:!1});I.font=l;var O=[],P=[];_&&(c=(0,x.removeHTMLTags)(c));var R=Math.ceil(I.measureText(c).width/a);R>1&&(R=(0,C.getTextLines)(I,c,a).length),P.push(R),O.push(c.split("\n").length);var N=Math.max((0,C.getMaxArrayNumber)(O),(0,C.getMaxArrayNumber)(P));return b.remove(),N*i},E.countColumns=function(u,h){var c=0,d=0,a=0,r=!1,i=0,o=!1;return h.forEach(function(l){if(c=Math.max(c,l.header.length),a+=l.$width,l.footer&&(d=Math.max(d,l.footer.length),o||(o=!0)),!r)for(var f=0,_=l.header;f<_.length;f++)if(_[f].colspan)return void(r=!0)}),h.forEach(function(l){if(o&&(l.footer=l.footer||[]),l.header.length<c)for(var f=0;f<c;f++)l.header[f]=l.header[f]||{text:""};if(l.footer){if(l.footer.length<d)for(f=0;f<d;f++)l.footer[f]=l.footer[f]||{text:""};for(f=0;f<l.footer.length;f++)l.footer[f].id||(l.footer[f].id=(0,C.uid)())}l.header=l.header.map(function(_){return"object"!=typeof _&&(_={text:_}),_.css=_.css||"",_.text||_.css.includes("dhx_cell-empty")||(_.css+=" dhx_cell-empty"),_.id||(_.id=(0,C.uid)()),_}),""===l.header[0].text&&i++}),u.$totalWidth=a,u.$colspans=r,u.$footer=o,i},E.calculatePositions=function(u,h,c,d,a){for(var r,i,o,l=d.columns||[],f=l.length,_=a||[],b=_.length,I=d.leftSplit?d.columns.slice(0,d.leftSplit).filter(function(q){return!q.hidden}).length:0,O=null!==(r=d.topSplit)&&void 0!==r?r:0,P=null!==(i=d.rightSplit)&&void 0!==i?i:0,R=null!==(o=d.bottomSplit)&&void 0!==o?o:0,N=0,V=0,U=c.left,B=d.$totalWidth/f,F=0;F<f;F++){var W=l[F];if(W.hidden)V++;else{if(!((U-=W.$width)+B/2>0))break;N++}}var M=0,$=0,Y=c.top,ee=d.$totalHeight/b;for(F=0;F<b;F++)if((ve=_[F]).hidden)$++;else{if(!((Y-=ve.$height)+ee/2>0))break;M++}for(var J=0,Z=0,j=-1/0,L=1/0,G=N+V,X=0;X<f;X++){var ae=l[X];X>=G&&J<u&&!ae.hidden&&(J+=ae.$width,Z++),ae.$width>j&&(j=ae.$width),ae.$width<L&&(L=ae.$width)}var ie=0,re=0,he=-1/0,fe=1/0,ge=M+$;for(X=0;X<b;X++){var ve=_[X];X>=ge&&ie<h&&!ve.hidden&&(ie+=ve.$height,re++),ve.$height>he&&(he=ve.$height),ve.$height<fe&&(fe=ve.$height)}fe=fe<d.rowHeight?fe:d.rowHeight;var ye=Math.round(j/L),we=Math.round(he/fe),Te=N+Z+ye,ke=l.length-P-((d.leftSplit||0)-I),Le=M+re+we,Ne=_.length-R;return{xStart:N-ye>=I?N-ye:I,xEnd:Te<ke?Te:ke,yStart:M-we>=O?M-we:O,yEnd:Le<Ne?Le:Ne}},E.getUnique=function(u,h,c){var d=u.map(function(a){return a[h]});return c&&d.forEach(function(a,r){"string"==typeof a&&a.includes(", ")&&(a.split(", ").forEach(function(i){return d.push(i)}),delete d[r])}),d.filter(function(a,r,i){return i.indexOf(a)===r&&(0,C.isDefined)(a)}).sort()},E.getMaxRowHeight=function(u,h,c){var d,a;void 0===c&&(c={font:"14px Arial",lineHeight:20});var r=document.createElement("canvas"),i=r.getContext("2d",{alpha:!1});i.font=c.font;for(var o={},l=h.length,f=0;f<l;f++)o[h[f].id]=h[f].template?{width:h[f].$width-24||0,htmlEnable:h[f].htmlEnable,template:h[f].template,cols:h[f]}:{width:h[f].$width-24||0,htmlEnable:h[f].htmlEnable,cols:h[f]};for(var _=[],b=[],I=0,O=Object.entries(u);I<O.length;I++){var P=O[I],R=P[0],N=P[1];if(o[R]&&"id"!==R&&"height"!==R&&!R.startsWith("$")&&("string"==typeof N||"number"==typeof N||N instanceof Date||Array.isArray(N))){var V=o[R].cols;N="combobox"===V.editorType||"multiselect"===V.editorType?y(N,V,u):N;var U="";if(null!==(d=o[R])&&void 0!==d&&d.template){var B=o[R].template(N,u,o[R].cols);U=o[R].htmlEnable?(0,x.removeHTMLTags)(B):B}else U="string"==typeof N?o[R].htmlEnable?(0,x.removeHTMLTags)(N):N:N.toString();var F=Math.ceil(i.measureText(U).width/o[R].width);F>1&&(F=(0,C.getTextLines)(i,U,null===(a=o[R])||void 0===a?void 0:a.width).length),b.push(F),_.push(U.split("\n").length)}}var W=Math.max((0,C.getMaxArrayNumber)(_),(0,C.getMaxArrayNumber)(b));return r.remove(),W*c.lineHeight+8},E.getCalculatedRowHeight=function(u,h){var c=(h=S({rowHeight:40,padding:12},h)).rowHeight<40?u:u+2*h.padding;return u<h.rowHeight?h.rowHeight:c},E.getTreeCellWidthOffset=function(u){return 20+20*u.$level-(u.$items?20:0)},E.getMaxColsWidth=function(u,h,c,d){if(void 0===c&&(c={font:"normal 14.4px Arial"}),u.length&&h.length){var a=document.createElement("canvas"),r=a.getContext("2d",{alpha:!1});r.font=c.font;for(var i={},o=h.length,l=0;l<o;l++){var f=h[l],_=f.template,b=f.htmlEnable,I=f.format,P=f.type;i[f.id]=_&&"data"===d?{width:20,htmlEnable:!!b,template:_,cols:f,type:P}:{width:20,htmlEnable:!!b,format:"date"===P?I||"%M %d %Y":I,cols:f,type:P}}var R=u.length;for(l=0;l<R;l++)for(var N=0,V=Object.entries(u[l]);N<V.length;N++){var U=V[N],B=U[0],F=U[1],W=i[B];if(W&&"id"!==B&&"height"!==B&&!B.startsWith("$")&&("string"==typeof F||"number"==typeof F||F instanceof Date||Array.isArray(F))){_=W.template;var M=W.cols,$=(I=W.format,P=W.type,b=W.htmlEnable,W.width);F="combobox"===M.editorType||"multiselect"===M.editorType?y(F,M,u[l]):F;var Y=void 0;if("function"==typeof _){var ee=_(F,u[l],M);Y=b?(0,x.removeHTMLTags)(ee):ee}else Y=b?(0,x.removeHTMLTags)(F):F.toString();var J=I&&"date"===P&&new Date(Y);J?.valueOf()&&(Y=(0,m.getFormattedDate)(I,J));var Z=r.measureText(Y).width;Z>$&&(i[B].width=Z)}}a.remove();for(var j={},L=0,G=Object.entries(i);L<G.length;L++){var X=G[L];F=X[1],j[B=X[0]]=Math.ceil(F.width)}return j}},E.toFormat=function(u,h,c){if("boolean"==typeof u||!u&&"number"!=typeof u)return u;var d=function(a){var r,i,o,l=c.replace(/#+/g,"#").split("#").filter(function(P){return P}),f=c.match(/0/g)&&c.match(/0/g).length;u=("percent"===a?100*Number(u):u).toString();var _=Math.trunc(Number(u));if(f){var b=u.split(".")[1]||"0";o=l.find(function(P){return P.includes("0")}).replace(/0+/g,""),i=(+("0."+b)).toFixed(f),Number(i)>=1&&_++,i=i.toString().split(".")[1].padEnd(f,"0")}var I="".concat(u<0&&0===Math.abs(_)?"-":"").concat(_),O=l.find(function(P){return!P.includes("0")});return r=O?I.replace(/(\d)(?=(\d{3})+(\D|$))/g,"$1".concat(O)):I,r+=(o||"")+(i||""),"percent"===a?"".concat(r,"%"):r};switch(h){case"number":return c&&!isNaN(Number(u))?d(h):u;case"percent":return c||(c="#"),isNaN(Number(u))?u:d(h);case"date":return c||(c="%M %d %Y"),"string"==typeof u?u=(0,m.getFormattedDate)(c,(0,m.stringToDate)(u,c)):"object"==typeof u&&(u=(0,m.getFormattedDate)(c,u)),u;default:return u}},E.getEditorOptions=p,E.getValueForNumberColumn=function(u,h){return!(0,C.isDefined)(h)||""===h||"number"==typeof h||["select","combobox","multiselect"].includes(u.editorType)?h:"string"==typeof h?parseFloat(h):NaN},E.getEditorValue=v},function(ne,E,D){"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.getTextStyle=E.getSwimlaneContainerStyle=E.getSwimlaneBackGround=E.getGroupContainerStyle=E.getMenuIcon=E.getExpandIcon=E.getShapeCss=E.getTextTemplate=E.getHeaderTpl=E.getCircleTpl=void 0;var S=D(0);E.getCircleTpl=function(T,C){if(!T.$count&&!1!==T.open||!T.$connection)return null;var x="vertical"===T.dir,m=!1===T.open,y=T.height/2,v={x:x?0:T.width/2,y:x?y:T.height},u="";return Array.isArray(T.dir)?("verticalLeft"===T.dir[C]&&(v.x=0,v.y=y,u+="icon-left ",m=!1===T.openDir.left),"verticalRight"===T.dir[C]&&(v.x=T.width,v.y=y,u+="icon-right ",m=!1===T.openDir.right)):("verticalLeft"===T.dir&&(v.x=0,v.y=y),"verticalRight"===T.dir&&(v.x=T.width,v.y=y)),(0,S.el)("div",{class:"dhx_diagram_toggle-icon "+(m?"dhx_diagram_toggle-icon--expand ":"dhx_diagram_toggle-icon--collapse "),style:{position:"absolute",top:v.y,left:v.x}},[(0,S.el)("div.dhx_diagram_toggle-icon__wrapper",{style:{background:T.$expandColor}},[(0,S.el)("i.dxi",{class:"".concat(m?"dxi-plus ":"dxi-minus ").concat(u)})])])},E.getHeaderTpl=function(T){return(0,S.el)("div",{class:"dhx_item_header",style:{height:4,width:T.width,top:0,left:0,position:"absolute",background:T.headerColor||"#20b6e2"}})},E.getTextTemplate=function(T,C){return"string"==typeof T.text||"string"==typeof T.title?(0,S.el)("div.dhx_diagram_shape__content",{style:{width:T.width,height:T.height,top:0,left:0,overflow:"hidden",transform:"translate(0 0)",position:"absolute"}},[].concat(C)):null},E.getShapeCss=function(T){return{width:T.width,height:T.height,display:"flex",color:T.fontColor,"flex-direction":"column","justify-content":{bottom:"flex-end",top:"flex-start",center:"center"}[T.textVerticalAlign],"text-align":T.textAlign,"line-height":T.lineHeight,"font-size":T.fontSize,"font-style":T.fontStyle||"normal","font-weight":T.fontWeight||"normal","word-break":"break-word","white-space":"pre-wrap"}},E.getExpandIcon=function(T){var C,x,m=T.open,p=T.color;switch(T.position){case"top":C="dxi-chevron-up",x="dxi-chevron-down";break;case"bottom":C="dxi-chevron-down",x="dxi-chevron-up";break;case"right":C="dxi-chevron-right",x="dxi-chevron-left";break;case"left":C="dxi-chevron-left",x="dxi-chevron-right"}var y=m?"dxi ".concat(x," dhx_diagram_toggle-icon dhx_diagram_toggle-icon--collapse"):"dxi ".concat(C," dhx_diagram_toggle-icon dhx_diagram_toggle-icon--expand");return(0,S.el)("div.dhx_diagram_icon",[(0,S.el)("i",{class:y,style:{color:p}})])},E.getMenuIcon=function(T){return(0,S.el)("div.dhx_diagram_icon.dhx_diagram_menu_icon",[(0,S.el)("i",{class:"cols"===T.dir?"dxi dxi-dots-vertical":"dxi dxi-dots-horizontal",style:{color:T.color}})])},E.getGroupContainerStyle=function(T,C){var x,m=T.$width,p=T.$height,u=T.$selected,c=T.style,d=c.borderStyle,a=c.strokeWidth,r=c.stroke,i=c.overFill,o=c.partiallyFill,l=c.fill,f=T.$group||u?u&&"$sgroup"!==T.type?2:1:0;switch(T.$captureArea){case"over":x=i;break;case"partially":x=o;break;default:x=l}return{position:"absolute",background:x,outline:"".concat(a,"px ").concat(d," ").concat(r),outlineOffset:-a,width:m,height:p,top:C.y,left:C.x,zIndex:f}},E.getSwimlaneBackGround=function(T,C){var x,m=T.$width,p=T.$height,v=T.style,u=v.overFill,h=v.partiallyFill,c=v.fill;switch(T.$captureArea){case"over":x=u;break;case"partially":x=h;break;default:x=c}return{position:"absolute",background:x,width:m,height:p,top:C.y,left:C.x,zIndex:-1}},E.getSwimlaneContainerStyle=function(T,C){var x=T.$width,m=T.$height,y=T.$selected,u=T.style,h=u.borderStyle,c=u.strokeWidth,d=u.stroke,a=T.$group||y?y&&"$sgroup"!==T.type?2:1:0;return{position:"absolute",outline:"".concat(c,"px ").concat(h," ").concat(d),outlineOffset:-c,width:x,height:m,top:C.y,left:C.x,zIndex:a}},E.getTextStyle=function(T){var p=T.fontSize,y=T.fontColor,h=T.container,c=h.width,d=h.height,a={center:"center",left:"flex-start",right:"flex-end",bottom:"flex-end",top:"flex-start"};return{"justify-content":a[T.textAlign],"align-items":a[T.textVerticalAlign],fontStyle:T.fontStyle||"normal",fontWeight:T.fontWeight||"500",lineHeight:"".concat(parseInt(T.lineHeight),"px"),fontSize:p,color:y,width:"number"==typeof c?"".concat(c-4-20,"px"):c,height:"number"==typeof d?"".concat(d-4-20,"px"):d}}},function(ne,E,D){"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.INPUT_PADDING_RIGHT_8=E.INPUT_PADDING_RIGHT_4=E.INPUT_WIDTH_50=void 0,E.INPUT_WIDTH_50="50%",E.INPUT_PADDING_RIGHT_4="0 4px 0 0",E.INPUT_PADDING_RIGHT_8="0 8px 0 0"},function(ne,E,D){"use strict";var S=this&&this.__createBinding||(Object.create?function(C,x,m,p){void 0===p&&(p=m);var y=Object.getOwnPropertyDescriptor(x,m);y&&!("get"in y?!x.__esModule:y.writable||y.configurable)||(y={enumerable:!0,get:function(){return x[m]}}),Object.defineProperty(C,p,y)}:function(C,x,m,p){void 0===p&&(p=m),C[p]=x[m]}),T=this&&this.__exportStar||function(C,x){for(var m in C)"default"===m||Object.prototype.hasOwnProperty.call(x,m)||S(x,C,m)};Object.defineProperty(E,"__esModule",{value:!0}),T(D(127),E),T(D(128),E),T(D(129),E),T(D(67),E),T(D(46),E)},function(ne,E,D){"use strict";var S,T,C,x,m;Object.defineProperty(E,"__esModule",{value:!0}),E.DataDriver=E.DragEvents=E.DataEvents=E.TreeFilterType=void 0,(m=S||(E.TreeFilterType=S={})).all="all",m.level="level",m.leafs="leafs",function(m){m.afterAdd="afteradd",m.beforeAdd="beforeadd",m.removeAll="removeall",m.beforeRemove="beforeremove",m.afterRemove="afterremove",m.change="change",m.filter="filter",m.dataRequest="dataRequest",m.load="load",m.loadError="loaderror",m.beforeLazyLoad="beforelazyload",m.afterLazyLoad="afterlazyload",m.beforeItemLoad="beforeItemLoad",m.afterItemLoad="afterItemLoad"}(T||(E.DataEvents=T={})),function(m){m.beforeDrag="beforeDrag",m.dragStart="dragStart",m.dragOut="dragOut",m.dragIn="dragIn",m.canDrop="canDrop",m.cancelDrop="cancelDrop",m.beforeDrop="beforeDrop",m.afterDrop="afterDrop",m.afterDrag="afterDrag"}(C||(E.DragEvents=C={})),function(m){m.json="json",m.csv="csv",m.xml="xml"}(x||(E.DataDriver=x={}))},function(ne,E,D){"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.isOnlyPermanentFilters=E.hasJsonOrArrayStructure=E.isTreeCollection=E.copyWithoutInner=E.toDataDriver=E.toProxy=E.dhxError=E.dhxWarning=E.isDebug=E.findByConf=E.naturalCompare=E.isEqualObj=void 0;var S=D(1),T=D(32),C=D(69);E.isEqualObj=function(x,m){for(var p in x)if(x[p]!==m[p]||Array.isArray(x[p]))return!1;return!0},E.naturalCompare=function(x,m){if(isNaN(x)||isNaN(m)){var p=[],y=[];for(x.replace(/(\d+)|(\D+)/g,function(c,d,a){p.push([d||1/0,a||""])}),m.replace(/(\d+)|(\D+)/g,function(c,d,a){y.push([d||1/0,a||""])});p.length&&y.length;){var v=p.shift(),u=y.shift(),h=v[0]-u[0]||v[1].localeCompare(u[1]);if(h)return h}return p.length-y.length}return x-m},E.findByConf=function(x,m){if("function"==typeof m){if(m.call(this,x))return x}else if(m.by&&m.match&&x[m.by]===m.match)return x},E.isDebug=function(){var x=window.dhx;if(void 0!==x)return void 0!==x.debug&&x.debug},E.dhxWarning=function(x){console.warn(x)},E.dhxError=function(x){throw new Error(x)},E.toProxy=function(x){var m=typeof x;return"string"===m?new T.DataProxy(x):"object"===m?x:void 0},E.toDataDriver=function(x){if("string"==typeof x){var m=window.dhx,p=m&&m.dataDrivers||C.dataDrivers;if(p[x])return new p[x];console.warn("Incorrect data driver type:",x),console.warn("Available types:",JSON.stringify(Object.keys(p)))}else if("object"==typeof x)return x},E.copyWithoutInner=function(x,m){var p={};for(var y in x)y.startsWith("$")||m&&m[y]||(p[y]=x[y]);return p},E.isTreeCollection=function(x){return!!x.getRoot},E.hasJsonOrArrayStructure=function(x){if("object"==typeof x)return!0;if("string"!=typeof x)return!1;try{var m=JSON.parse(x);return"[object Object]"===Object.prototype.toString.call(m)||Array.isArray(m)}catch{return!1}},E.isOnlyPermanentFilters=function(x){return!(!x||(0,S.isEmptyObj)(x))&&Object.keys(x).every(function(m){var p;return null===(p=x[m].config)||void 0===p?void 0:p.permanent})}},function(ne,E,D){"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.DateHelper=E.stringToDate=E.getFormattedDate=E.locale=void 0;var S=D(1),T=D(1);E.locale={monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Monday"],cancel:"Cancel"};var C,u,x={"%d":function(u){var h=u.getDate();return h<10?"0"+h:h},"%j":function(u){return u.getDate()},"%l":function(u){return E.locale.days[u.getDay()]},"%D":function(u){return E.locale.daysShort[u.getDay()]},"%m":function(u){var h=u.getMonth()+1;return h<10?"0"+h:h},"%n":function(u){return u.getMonth()+1},"%M":function(u){return E.locale.monthsShort[u.getMonth()]},"%F":function(u){return E.locale.months[u.getMonth()]},"%y":function(u){return u.getFullYear().toString().slice(2)},"%Y":function(u){return u.getFullYear()},"%h":function(u){var h=u.getHours()%12;return 0===h&&(h=12),h<10?"0"+h:h},"%g":function(u){var h=u.getHours()%12;return 0===h&&(h=12),h},"%H":function(u){var h=u.getHours();return h<10?"0"+h:h},"%G":function(u){return u.getHours()},"%i":function(u){var h=u.getMinutes();return h<10?"0"+h:h},"%s":function(u){var h=u.getSeconds();return h<10?"0"+h:h},"%a":function(u){return u.getHours()>=12?"pm":"am"},"%A":function(u){return u.getHours()>=12?"PM":"AM"},"%u":function(u){return u.getMilliseconds()}},m={"%d":function(u,h,c,d){var a=/(^([0-9][0-9])$)/i.test(h);if(d)return a;u.setDate(a?Number(h):1)},"%j":function(u,h,c,d){var a=/(^([0-9]?[0-9])$)/i.test(h);if(d)return a;u.setDate(a?Number(h):1)},"%m":function(u,h,c,d){var a=/(^([0-9][0-9])$)/i.test(h);if(d)return a;u.setMonth(a?Number(h)-1:0),a&&u.getMonth()!==Number(h)-1&&u.setMonth(Number(h)-1)},"%n":function(u,h,c,d){var a=/(^([0-9]?[0-9])$)/i.test(h);if(d)return a;u.setMonth(a?Number(h)-1:0),a&&u.getMonth()!==Number(h)-1&&u.setMonth(Number(h)-1)},"%M":function(u,h,c,d){var a=(0,T.findIndex)(E.locale.monthsShort,function(r){return r===h});if(d)return-1!==a;u.setMonth(-1===a?0:a),-1!==a&&u.getMonth()!==a&&u.setMonth(a)},"%F":function(u,h,c,d){var a=(0,T.findIndex)(E.locale.months,function(r){return r===h});if(d)return-1!==a;u.setMonth(-1===a?0:a),-1!==a&&u.getMonth()!==a&&u.setMonth(a)},"%y":function(u,h,c,d){var a=/(^([0-9][0-9])$)/i.test(h);if(d)return a;u.setFullYear(a?+("20"+h):2e3)},"%Y":function(u,h,c,d){var a=/(^([0-9][0-9][0-9][0-9])$)/i.test(h);if(d)return a;u.setFullYear(a?Number(h):2e3)},"%h":function(u,h,c,d){var a=/(^0[1-9]|1[0-2]$)/i.test(h);if(d)return a;u.setHours(a&&("am"===c||"pm"===c)||"AM"===c||"PM"===c?Number(h):0)},"%g":function(u,h,c,d){var a=/(^[1-9]$)|(^0[1-9]|1[0-2]$)/i.test(h);if(d)return a;u.setHours(a&&("am"===c||"pm"===c)||"AM"===c||"PM"===c?Number(h):0)},"%H":function(u,h,c,d){var a=/(^[0-2][0-9]$)/i.test(h);if(d)return a;u.setHours(a?Number(h):0)},"%G":function(u,h,c,d){var a=/(^[1-9][0-9]?$)/i.test(h);if(d)return a;u.setHours(a?Number(h):0)},"%i":function(u,h,c,d){var a=/(^([0-5][0-9])$)/i.test(h);if(d)return a;u.setMinutes(a?Number(h):0)},"%s":function(u,h,c,d){var a=/(^([0-5][0-9])$)/i.test(h);if(d)return a;u.setSeconds(a?Number(h):0)},"%u":function(u,h,c,d){var a=/(^([0-9][0-9][0-9])$)/i.test(h);if(d)return a;u.setMilliseconds(a?Number(h):0)},"%a":function(u,h,c,d){if(d)return"pm"===h||"am"===h;"pm"===h&&u.setHours(u.getHours()+12)},"%A":function(u,h,c,d){if(d)return"PM"===h||"AM"===h;"PM"===h&&u.setHours(u.getHours()+12)}};function p(u){for(var h=[],c="",d=0;d<u.length;d++)"%"===u[d]?(c.length>0&&(h.push({type:C.separator,value:c}),c=""),h.push({type:C.datePart,value:u[d]+u[d+1]}),d++):c+=u[d];return c.length>0&&h.push({type:C.separator,value:c}),h}(u=C||(C={}))[u.separator=0]="separator",u[u.datePart=1]="datePart",E.getFormattedDate=function(u,h){return p(u).reduce(function(c,d){return d.type===C.separator?c+d.value:x[d.value]?c+x[d.value](h):c},"")};var y={"%Y":1,"%y":1,"%M":2,"%F":2,"%m":2,"%n":2};function v(u,h,c){if("string"==typeof u){h=h.replace(/([a-z])(%a)/i,function(){for(var N=[],V=0;V<arguments.length;V++)N[V]=arguments[V];return u=u.replace(/(am|pm)/i," $&"),N[1]+" "+N[2]});for(var d,a=p(h),r=new Array(2),i=0,o=null,l="Incorrect date, see docs: https://docs.dhtmlx.com/suite/calendar__api__calendar_dateformat_config.html",f=function(N){var V=y[N.formatter];V?r[V-1]=N:("%A"!==N.formatter&&"%a"!==N.formatter||(d=N.value),r.push(N))},_=0;_<a.length;_++)if(a[_].type===C.separator){var b=u.indexOf(a[_].value,i);if(-1===b){if(c)return!1;throw new Error(l)}o&&(f({formatter:o,value:u.slice(i,b)}),o=null),i=b+a[_].value.length}else if(a[_].type===C.datePart){if(a[_+1]&&a[_+1].type!==C.separator){if(c)return!1;throw new Error(l)}o=a[_].value}o&&f({formatter:o,value:u.slice(i)});for(var I=new Date(0),O=0,P=r;O<P.length;O++){var R=P[O];if(R&&m[R.formatter]){if(c&&!m[R.formatter](I,R.value,d,c))return!1;m[R.formatter](I,R.value,d)}}return!!c||I}}E.stringToDate=v,E.DateHelper=function(){function u(){}return u.copy=function(h){return new Date(h)},u.fromYear=function(h){return new Date(h,0,1)},u.fromYearAndMonth=function(h,c){return new Date(h,c,1)},u.weekStart=function(h,c){var d=(h.getDay()+7-c)%7;return new Date(h.getFullYear(),h.getMonth(),h.getDate()-d)},u.monthStart=function(h){return new Date(h.getFullYear(),h.getMonth(),1)},u.yearStart=function(h){return new Date(h.getFullYear(),0,1)},u.dayStart=function(h){return new Date(h.getFullYear(),h.getMonth(),h.getDate())},u.addDay=function(h,c){return void 0===c&&(c=1),new Date(h.getFullYear(),h.getMonth(),h.getDate()+c)},u.addMonth=function(h,c){return void 0===c&&(c=1),new Date(h.getFullYear(),h.getMonth()+c)},u.addYear=function(h,c){return void 0===c&&(c=1),new Date(h.getFullYear()+c,h.getMonth())},u.withHoursAndMinutes=function(h,c,d,a){return void 0===a||!a&&12===c||a&&12!==c?new Date(h.getFullYear(),h.getMonth(),h.getDate(),c,d):a&&12===c?new Date(h.getFullYear(),h.getMonth(),h.getDate(),0,d):new Date(h.getFullYear(),h.getMonth(),h.getDate(),c+12,d)},u.setMonth=function(h,c){h.setMonth(c)},u.setYear=function(h,c){h.setFullYear(c)},u.mergeHoursAndMinutes=function(h,c){return new Date(h.getFullYear(),h.getMonth(),h.getDate(),c.getHours(),c.getMinutes())},u.isWeekEnd=function(h){return 0===h.getDay()||6===h.getDay()},u.getTwelweYears=function(h){var c=h.getFullYear(),d=c-c%12;return(0,S.range)(d,d+11)},u.getDayOrdinal=function(h){return(h.valueOf()-u.yearStart(h).valueOf())/864e5},u.getWeekNumber=function(h){var c=4===h.getDay()?h:u.addDay(h,4-h.getDay()),d=u.getDayOrdinal(c);return Math.trunc(d/7)+1},u.isSameDay=function(h,c){return h.getFullYear()===c.getFullYear()&&h.getMonth()===c.getMonth()&&h.getDate()===c.getDate()},u.toDateObject=function(h,c){return"string"==typeof h?v(h,c):new Date(h)},u.nullTimestampDate=new Date(0),u}()},function(ne,E,D){"use strict";var S=this&&this.__assign||function(){return S=Object.assign||function(_){for(var b,I=1,O=arguments.length;I<O;I++)for(var P in b=arguments[I])Object.prototype.hasOwnProperty.call(b,P)&&(_[P]=b[P]);return _},S.apply(this,arguments)};Object.defineProperty(E,"__esModule",{value:!0}),E.proRender=E.render=E.applyAutoWidth=E.getElementSizes=E.getRenderConfig=E.getCurrFixedCols=E.calcScrollBarWidth=E.BORDERS=void 0;var T=D(0),C=D(2),x=D(18),m=D(15),p=D(7),y=D(33),v=D(87),u=D(88),h=D(1);function c(_,b,I){var O,P;void 0===b&&(b=!1);var R=_.$totalHeight+_.$headerHeight+_.$footerHeight+E.BORDERS>(null!==(O=I?.height)&&void 0!==O?O:_.$height),N=!R||b?0:(0,C.getScrollbarWidth)(),V=_.$totalWidth+E.BORDERS+N>(null!==(P=I?.width)&&void 0!==P?P:_.$width);return{x:!V||b?0:(0,C.getScrollbarWidth)(),y:N,xState:V,yState:R}}function d(_,b){return _[b]?(b===p.Split.left?_.columns.slice(0,_.leftSplit):_.columns.slice(-_.rightSplit)).filter(function(I){return!I.hidden}):[]}function a(_,b,I,O){var P=void 0===I?[0,0]:I,N=P[1],V=_[0],U=_[1],B=b[0],F=b[1];return B<=V&&V<=F||B<=U&&U<=F||V<=B&&F<=U||V<P[0]||N&&U>=O-N}function r(_,b,I){var O=_.config,P=O.spans,R=void 0===P?[]:P,N=O.columns,V=O.leftSplit,U=void 0===V?0:V,B=O.topSplit,F=void 0===B?0:B,W=O.rightSplit,M=void 0===W?0:W,$=O.bottomSplit,Y=void 0===$?0:$,ee=N.filter(function(ae){return!ae.hidden}),J=(0,x.calculatePositions)(I.width,I.height,_._scroll,O,b),Z=ee.slice(J.xStart,J.xEnd),j=b.slice(J.yStart,J.yEnd),L=R.filter(function(ae){var ie;if(null===(ie=ae.$renderFrom)||void 0===ie||!ie.length)return!1;var re=a(ae.$rowsVisibility,[J.yStart,J.yEnd],[F,Y],b.length),he=a(ae.$colsVisibility,[J.xStart,J.xEnd],[U,M],N.length);return re&&he}),G={left:d(O,p.Split.left),right:d(O,p.Split.right)},X={top:b.slice(0,O.topSplit||0),bottom:O.bottomSplit?b.slice(-O.bottomSplit):[]};return S(S({},O),{data:b,columns:O.columns,scroll:_._scroll,$positions:J,headerHeight:O.$headerHeight,footerHeight:O.$footerHeight,firstColId:ee[0]&&ee[0].id,events:_.events,_events:_._events,filteredColumns:ee,currentColumns:Z,currentRows:j,currentSpans:L,fixedColumns:G,fixedRows:X,sortBy:_._sortBy,sortDir:_._sortDir,content:_.content,gridId:_._uid,$renderFrom:"render"})}function i(_){if(_&&(_.tagName||(_=_._parent._container),_)){var b=_.currentStyle||window.getComputedStyle(_),I=parseFloat(b.paddingLeft)+parseFloat(b.paddingRight)||0,O=parseFloat(b.paddingTop)+parseFloat(b.paddingBottom)||0;return{width:_.clientWidth-I,height:_.clientHeight-O}}}function o(_,b){var I,O=(0,y.getCells)(_),P=_.filteredColumns,R=_.$resizing,N=_.$totalHeight,V=_.$totalWidth,U=_.leftSplit,B=_.data,F=_.$positions,W=(0,y.getSpans)(_);if(R){var M=(0,h.findIndex)(P,function(Z){return Z.id===R}),$=(0,m.getTotalWidth)(P.slice(0,M))+P[M].$width;I=(0,T.el)(".dhx_grid-resize-line",{style:{top:0,left:$,height:N}})}var Y=_.selection?_.selection.toHTML():null;Y="string"==typeof Y?(0,T.el)("div.dhx_selection",{".innerHTML":Y}):Y;var ee,J=F;return(0,T.el)(".dhx_data-wrap",{style:{height:N,width:V,"padding-left":b.x,"padding-top":b.y},role:"presentation"},[(0,T.el)(".dhx_grid_data".concat(U?".dhx_grid_fixed_left":""),S(S({_flags:T.KEYED_LIST},(0,y.getHandlers)(J.yStart,J.xStart,_)),(ee=B.length,{role:"rowgroup","aria-rowcount":ee})),O),(0,T.el)(".dhx_span-spans",S({role:"presentation"},(0,y.getHandlers)(J.yStart,J.xStart,_)),W),(0,T.el)(".dhx_grid_selection",{_ref:"selection","aria-hidden":"true"},[Y,I])])}function l(_,b,I){var O=I.height-E.BORDERS;return O=b?O:O-_.headerHeight,_.$footer?b?O:O-_.footerHeight:O}function f(_,b,I,O,P){void 0===I&&(I=!0),void 0===O&&(O=!1),void 0===P&&(P=!1);var R=!P&&_.$totalHeight>=b.height-_.$headerHeight?(0,C.getScrollbarWidth)():0,N=b.width-E.BORDERS-R,V=_.columns.filter(function(M){return!M.hidden}),U=V.filter(function(M){return!M.width&&!M.$fixed&&(0,m.isAutoWidth)(_,M)}),B=(0,m.getTotalWidth)(V.filter(function(M){return M.width||M.$fixed||!(0,m.isAutoWidth)(_,M)})),F=U.reduce(function(M,$){return M+($.gravity||1)},0);if(N<_.$totalWidth){var W=U.reduce(function(M,$){return M+($.maxWidth||$.$width)},0);U.length&&U.forEach(function(M){var $,Y=($=I?Math.abs(N-W)*((M.gravity||1)/F):Math.abs(N-B)*((M.gravity||1)/F))<M.minWidth||M.minWidth<M.$width,ee=$>M.maxWidth;Y||ee?Y?(B+=M.$width-$,M.$fixed=!0):ee&&(M.$width=M.maxWidth,M.$fixed=!0):M.$width=$,M.$width<20&&(M.$width=20)})}else U.forEach(function(M){var $=Math.abs(N-B)*((M.gravity||1)/F),Y=$<M.minWidth||M.minWidth<M.$width,ee=$>M.maxWidth;Y||ee?Y?(B+=M.$width-$,O&&(M.$fixed=!0)):ee&&(M.$width=M.maxWidth,O&&(M.$fixed=!0)):M.$width=$,M.$width<20&&(M.$width=20),!I&&M.$fixed&&delete M.$fixed});I&&f(_,b,!1,O,P)}E.BORDERS=2,E.calcScrollBarWidth=c,E.getCurrFixedCols=d,E.getRenderConfig=r,E.getElementSizes=i,E.applyAutoWidth=f,E.render=function(_,b,I,O,P){if(b._container||(b.config.$width=1,b.config.$height=1),_&&_.node&&_.node.parent&&_.node.parent.el){var R=i(_.node.parent.el);b.config.$width=R.width,b.config.$height=R.height}var N=b.config;if(!N)return(0,T.el)("div");if(!N.columns.length)return(0,T.el)(".dhx_grid",{"data-dhx-widget-id":P,"data-dhx-root-id":N.rootParent,role:"empty-grid"});var V=b.data.getRawData(0,-1,null,2);N.$totalHeight=N.columns.reduce(function(ve,ye){return ye.hidden?ve:ye.hidden},!0)?0:V.reduce(function(ve,ye){return ve+(ye.$height||0)},0);var U=i(b._container),B={width:(N.$width?N.$width:N.width&&"number"==typeof N.width?N.width:U?.width)||0,height:(N.$height?N.$height:N.height&&"number"==typeof N.height?N.height:U?.height)||0};(0,m.isAutoWidth)(N)&&(f(N,B),N.$totalWidth=(0,m.getTotalWidth)(N.columns.filter(function(ve){return!ve.hidden}))),N.$width=B.width,N.$height=B.height;var F=r(b,V,B);F.selection=O,F.datacollection=b.data;var W=(0,y.getShifts)(F);F.$scrollBarWidth=c(F);var Y,ee,J=(0,m.isCssSupport)("position","sticky"),Z=l(F,J,B),j={wrapper:B,sticky:J,shifts:W,gridBodyHeight:Z},L=(0,u.getFixedRows)(F,S(S({},j),{name:"header",position:"top"})),G=F.$footer?(0,u.getFixedRows)(F,S(S({},j),{name:"footer",position:"bottom"})):null,X=F.$totalWidth+E.BORDERS<B.width?"dhx_grid-less-width":"",ae=F.$totalHeight+E.BORDERS<B.height?"dhx_grid-less-height":"",ie=F.fixedColumns.right.length?"dhx_grid__contains_cols_right--fixed":"",re=N.bottomSplit?"dhx_grid__contains_rows_bottom--fixed":"";if(!_.node){var he=b.getScrollState(),fe=he.x,ge=he.y;(0,T.awaitRedraw)().then(function(){b.scroll(fe,ge)})}return(0,T.el)(".dhx_grid.dhx_widget",S({class:(F.css||"")+(J?"":" dhx_grid_border")+(N.multiselection?" dhx_no-select--pointer":""),"data-dhx-widget-id":P,"data-dhx-root-id":N.rootParent},(Y=F.editable,ee=F.multiselection,{role:"grid","aria-rowcount":F.data.length,"aria-colcount":N.columns.filter(function(ve){return!ve.hidden}).length,"aria-readonly":Y?"false":"true","aria-multiselectable":ee?"true":"false"})),[(0,T.resizer)(function(ve){return(0,m.isAutoWidth)(b.config)&&ve&&(N.$totalWidth=0,f(N,B,!0,!0)),b.paint()}),(0,T.el)(".dhx_grid-content",{style:S({},B),onclick:I.onclick,onmouseover:I.onmouseover,class:"".concat(X," ").concat(ae," ").concat(ie," ").concat(re).trim(),role:"presentation"},[J?null:L,(0,T.el)(".dhx_grid-body",{style:{height:Z,width:B.width-E.BORDERS},onscroll:I.onscroll,_ref:"grid_body",role:"presentation"},[(0,T.el)("div",{},[J?L:null,o(F,W),J?G:null])]),(0,v.getFixedColsHeader)(F,j,p.Split.left),(0,v.getFixedColsHeader)(F,j,p.Split.right),(0,v.getFixedCols)(F,j,p.Split.left),(0,v.getFixedCols)(F,j,p.Split.right),(0,u.getFixedDataRows)(F,j,p.Split.top),(0,u.getFixedDataRows)(F,j,p.Split.bottom),J?null:G])])},E.proRender=function(_,b,I,O,P){var R,N;b._container||(b.config.$width=1,b.config.$height=1),_&&_.node&&_.node.parent&&_.node.parent.el&&(N=i(_.node.parent.el),b.config.$width=N.width,b.config.$height=N.height);var V=b.config;if(!V)return(0,T.el)("div");if(!V.columns.length)return(0,T.el)(".dhx_grid",{"data-dhx-widget-id":P,"data-dhx-root-id":V.rootParent,role:"empty-grid"});var F,W=b.data.getRawData(0,-1,null,2);V.$totalHeight=V.columns.reduce(function(ye,we){return we.hidden?ye:we.hidden},!0)?0:W.reduce(function(ye,we){return ye+(we.$height||0)},0);var M=i(b._container);"auto"===b.config.height&&(F=function(ye,we,De){var Te,Ee,ke=ye._container,Ae=we.$headerHeight+(we.$footerHeight&&we.$footerHeight+1)+we.$totalHeight+E.BORDERS;if(ke){var He=window.getComputedStyle(ke),Le=He.minHeight,Ne=He.maxHeight;return Ae<=parseFloat(Le)?parseFloat(Le):Ae>=parseFloat(Ne)?parseFloat(Ne):Ae+c(we,!(null===(Te=ye.scrollView)||void 0===Te||!Te.config.enable),De).x}return Ae+(De?c(we,!(null===(Ee=ye.scrollView)||void 0===Ee||!Ee.config.enable),De).x:0)}(b,V,N||M));var $={width:(V.$width?V.$width:V.width&&"number"==typeof V.width?V.width:M?.width)||0,height:("auto"===b.config.height?F:V.$height?V.$height:V.height&&"number"==typeof V.height?V.height:M?.height)||0};(0,m.isAutoWidth)(V)&&(f(V,$,!0,!1,b.scrollView&&b.scrollView.config.enable),V.$totalWidth=(0,m.getTotalWidth)(V.columns.filter(function(ye){return!ye.hidden}))),V.$width=$.width,V.$height=$.height;var Y=r(b,W,$);Y.selection=O,Y.datacollection=b.data;var ee=(0,y.getShifts)(Y);Y.$scrollBarWidth=c(Y,!(null===(R=b.scrollView)||void 0===R||!R.config.enable));var J=(0,m.isCssSupport)("position","sticky"),Z=l(Y,J,$),j={wrapper:$,sticky:J,shifts:ee,gridBodyHeight:Z},L=(0,u.getFixedRows)(Y,S(S({},j),{name:"header",position:"top"})),G=Y.$footer?(0,u.getFixedRows)(Y,S(S({},j),{name:"footer",position:"bottom"})):null,X=Y.$totalWidth+E.BORDERS<$.width?"dhx_grid-less-width":"",ae=Y.$totalHeight+E.BORDERS<$.height?"dhx_grid-less-height":"",ie=Y.fixedColumns.right.length?"dhx_grid__contains_cols_right--fixed":"",re=V.bottomSplit?"dhx_grid__contains_rows_bottom--fixed":"";if(!_.node){var he=b.getScrollState(),fe=he.x,ge=he.y;(0,T.awaitRedraw)().then(function(){b.scroll(fe,ge)})}var ve=(0,T.el)("div",{},[J?L:null,o(Y,ee),J?G:null]);return(0,T.el)(".dhx_grid.dhx_widget",{class:(Y.css||"")+(J?"":" dhx_grid_border")+(V.multiselection?" dhx_no-select--pointer":""),style:{height:F??null},"data-dhx-widget-id":P,"data-dhx-root-id":V.rootParent,role:"grid","aria-rowcount":Y.data.length,"aria-colcount":V.columns.filter(function(ye){return!ye.hidden}).length},[(0,T.resizer)(function(ye){return(0,m.isAutoWidth)(b.config)&&ye&&(V.$totalWidth=0,f(V,$,!0,!0)),b.paint()}),(0,T.el)(".dhx_grid-content",{style:S({},$),onclick:I.onclick,onmouseover:I.onmouseover,class:"".concat(X," ").concat(ae," ").concat(ie," ").concat(re).trim(),role:"presentation"},[J?null:L,(0,T.el)(".dhx_grid-body",{style:{height:Z,width:$.width-E.BORDERS},onscroll:I.onscroll,_ref:"grid_body",role:"presentation"},[b.scrollView&&b.scrollView.config.enable?b.scrollView.render([ve]):ve]),(0,v.getFixedColsHeader)(Y,j,p.Split.left),(0,v.getFixedColsHeader)(Y,j,p.Split.right),(0,v.getFixedCols)(Y,j,p.Split.left),(0,v.getFixedCols)(Y,j,p.Split.right),(0,u.getFixedDataRows)(Y,j,p.Split.top),(0,u.getFixedDataRows)(Y,j,p.Split.bottom),J?null:G])])}},function(ne,E,D){"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.normalizeCell=E.getReducedColspan=E.getHeight=E.getWidth=void 0,E.getWidth=function(S,T,C){return S.slice(C,C+(T||1)).filter(function(x){return!x.hidden}).reduce(function(x,m){return x+m.$width},0)},E.getHeight=function(S,T,C){var x=S.filter(function(m){return!m.hidden});return T?x.reduce(function(m,p,y){return m+(y>=C&&y<C+T?p.$height:0)},0):x[C].$height},E.getReducedColspan=function(S,T,C){var x=S.findIndex(function(m){return m.id===T});return S.slice(x,x+(C||1)).filter(function(m){return!m.hidden}).length},E.normalizeCell=function(S,T){if(S){var C=S.row,x=S.column,m=T.getSpan(C.id,x.id);return m?{row:C.id===m.row?C:T.data.getItem(m.row),column:x.id===m.column?x:T.config.columns.find(function(p){return p.id===m.column})}:S}}},function(ne,E,D){"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.DiagramEvents=E.DataEvents=E.SelectionEvents=void 0;var S=D(35);Object.defineProperty(E,"SelectionEvents",{enumerable:!0,get:function(){return S.SelectionEvents}});var T,x,C=D(8);Object.defineProperty(E,"DataEvents",{enumerable:!0,get:function(){return C.DataEvents}}),(x=T||(E.DiagramEvents=T={})).scroll="scroll",x.beforeRender="beforerender",x.emptyAreaClick="emptyAreaClick",x.emptyAreaDblClick="emptyAreaDblClick",x.emptyAreaMouseDown="emptyAreaMouseDown",x.beforeSubmenuOpen="beforeSubmenuOpen",x.afterSubmenuOpen="afterSubmenuOpen",x.beforeCollapse="beforeCollapse",x.afterCollapse="afterCollapse",x.beforeExpand="beforeExpand",x.afterExpand="afterExpand",x.shapeMouseDown="shapeMouseDown",x.shapeClick="shapeClick",x.shapeDblClick="shapeDblClick",x.shapeIconClick="shapeIconClick",x.lineMouseDown="lineMouseDown",x.lineClick="lineClick",x.lineDblClick="lineDblClick",x.lineTitleMouseDown="lineTitleMouseDown",x.lineTitleClick="lineTitleClick",x.lineTitleDblClick="lineTitleDblClick",x.groupMouseDown="groupMouseDown",x.groupClick="groupClick",x.groupDblClick="groupDblClick",x.groupHeaderClick="groupHeaderClick",x.groupHeaderDblClick="groupHeaderDblClick",x.itemMouseDown="itemMouseDown",x.itemClick="itemClick",x.itemDblClick="itemDblClick",x.itemMouseOver="itemMouseOver",x.itemMouseOut="itemMouseOut",x.shapeHover="shapeHover"},function(ne,E,D){"use strict";var S,T=this&&this.__extends||(S=function(x,m){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,y){p.__proto__=y}||function(p,y){for(var v in y)Object.prototype.hasOwnProperty.call(y,v)&&(p[v]=y[v])})(x,m)},function(x,m){if("function"!=typeof m&&null!==m)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");function p(){this.constructor=x}S(x,m),x.prototype=null===m?Object.create(m):(p.prototype=m.prototype,new p)});Object.defineProperty(E,"__esModule",{value:!0}),E.BaseShape=void 0;var C=function(x){function m(p,y){var v=x.call(this,p,y)||this;return p.width&&(p.width=parseFloat(p.width)),p.height&&(p.height=parseFloat(p.height)),p.x&&(p.x=parseFloat(p.x)),p.y&&(p.y=parseFloat(p.y)),p.strokeWidth&&(p.strokeWidth=parseFloat(p.strokeWidth)),v}return T(m,x),m.prototype.getBaseType=function(){return"shape"},m.prototype.getCenter=function(){var p=this.config;return{x:Math.abs(p.width/2),y:Math.abs(p.height/2)}},m.prototype.getPoint=function(p,y){var v=this.config;if(v.angle){var u=v.x+v.width/2,h=v.y+v.height/2,c=v.angle*(Math.PI/180);return{x:(p-u)*Math.cos(c)-(y-h)*Math.sin(c)+u,y:(p-u)*Math.sin(c)+(y-h)*Math.cos(c)+h}}return{x:p,y}},m}(D(54).BaseItem);E.BaseShape=C},function(ne,E,D){"use strict";var S=this&&this.__createBinding||(Object.create?function(p,y,v,u){void 0===u&&(u=v);var h=Object.getOwnPropertyDescriptor(y,v);h&&!("get"in h?!y.__esModule:h.writable||h.configurable)||(h={enumerable:!0,get:function(){return y[v]}}),Object.defineProperty(p,u,h)}:function(p,y,v,u){void 0===u&&(u=v),p[u]=y[v]}),T=this&&this.__exportStar||function(p,y){for(var v in p)"default"===v||Object.prototype.hasOwnProperty.call(y,v)||S(y,p,v)};Object.defineProperty(E,"__esModule",{value:!0}),E.shapes=E.locale=E.ShapesCollection=void 0,T(D(63),E);var C=D(91);Object.defineProperty(E,"ShapesCollection",{enumerable:!0,get:function(){return C.ShapesCollection}});var x=D(57);Object.defineProperty(E,"locale",{enumerable:!0,get:function(){return x.default}}),T(D(27),E);var m=D(53);Object.defineProperty(E,"shapes",{enumerable:!0,get:function(){return m.shapes}}),T(D(90),E),T(D(55),E)},function(ne,E,D){"use strict";var S=this&&this.__createBinding||(Object.create?function(C,x,m,p){void 0===p&&(p=m);var y=Object.getOwnPropertyDescriptor(x,m);y&&!("get"in y?!x.__esModule:y.writable||y.configurable)||(y={enumerable:!0,get:function(){return x[m]}}),Object.defineProperty(C,p,y)}:function(C,x,m,p){void 0===p&&(p=m),C[p]=x[m]}),T=this&&this.__exportStar||function(C,x){for(var m in C)"default"===m||Object.prototype.hasOwnProperty.call(x,m)||S(x,C,m)};Object.defineProperty(E,"__esModule",{value:!0}),T(D(130),E),T(D(173),E),T(D(38),E)},function(ne,E,D){"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.focusManager=void 0;var S=D(2),T=function(){function C(){var x=this;this._initHandler=function(m){return x._activeWidgetId=(0,S.locate)(m,"data-dhx-widget-id")},this._removeFocusClass=function(m){var p=document.body.classList;p.contains("utilityfocus")&&p.remove("utilityfocus")},this._addFocusClass=function(m){var p=document.body.classList;"Tab"===m.code?p.contains("utilityfocus")||p.add("utilityfocus"):p.contains("utilityfocus")&&p.remove("utilityfocus")},document.addEventListener("focusin",this._initHandler),document.addEventListener("pointerdown",this._initHandler),document.addEventListener("mousedown",this._removeFocusClass),document.addEventListener("keydown",this._addFocusClass)}return C.prototype.getFocusId=function(){return this._activeWidgetId},C.prototype.setFocusId=function(x){this._activeWidgetId=x},C}();E.focusManager=new T},function(ne,E,D){"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.DataProxy=void 0;var S=D(47),T=function(){function C(x,m){void 0===m&&(m={}),this.url=this._url=x,this.config=m}return C.prototype.updateUrl=function(x,m){for(var p in void 0===m&&(m={}),this._url=this.url=x||this._url,this.url+=this.url.includes("?")?"&":"?",m)this.config[p]=m[p],this.url+="".concat(p,"=").concat(encodeURIComponent(m[p]),"&");this.url=this.url.slice(0,-1)},C.prototype.load=function(){return S.ajax.get(this.url,void 0,this.config)},C.prototype.save=function(x,m){switch(m){case"delete":return S.ajax.delete(this.url,x,this.config);case"update":return S.ajax.put(this.url,x,this.config);default:return S.ajax.post(this.url,x,this.config)}},C}();E.DataProxy=T},function(ne,E,D){"use strict";var S=this&&this.__assign||function(){return S=Object.assign||function(i){for(var o,l=1,f=arguments.length;l<f;l++)for(var _ in o=arguments[l])Object.prototype.hasOwnProperty.call(o,_)&&(i[_]=o[_]);return i},S.apply(this,arguments)};Object.defineProperty(E,"__esModule",{value:!0}),E.normalizeSpan=E.getShifts=E.getSpans=E.getCells=E.getTreeCell=E.getHandlers=void 0;var T=D(1),C=D(0),x=D(26),m=D(15),p=D(7),y=D(140),v=D(2),u=D(18),h=D(25);function c(i,o,l,f,_){o=(0,v.locateNodeByClassName)(_.target,"dhx_grid-fixed-cols-wrap")?0:o;var b=(0,v.locateNodeByClassName)(_.target,"dhx_grid-cell"),I=(0,v.locateNodeByClassName)(_.target,"dhx_span-cell");if((b||I)&&f){var O=b?b.parentNode:I,P=(b||I).getAttribute("data-dhx-col-id"),R=l.filteredColumns.find(function(U){return U.id===P}),N=O.getAttribute("data-dhx-id"),V=(l.$data||l.data).find(function(U){return U.id.toString()===N});f.toLocaleLowerCase().includes("touch")?l._events.fire(f,[V,R,_]):l.events.fire(f,[V,R,_])}}function d(i,o,l,f){var _=f.$editable&&f.$editable.row===o.id&&f.$editable.col===l.id,b=!f.fixedColumns.left.length||"leftFixedCols"===f.$renderFrom,I=l.align?"dhx_align-".concat(l.align):"dhx_align-left",O="";b&&(O="dhx_tree-cell ".concat(l.$cellCss[o.id]||""," ").concat(I),o.$items&&(O+=" dhx_grid-expand-cell"),_&&(O+=" dhx_tree-editing-cell"),f.dragMode&&!_&&(O+=(o.$drophere?" dhx_grid-cell--drophere":"")+(o.$dragtarget?" dhx_grid-cell--dragtarget":"")));var R,P=(0,u.getTreeCellWidthOffset)(o);return(0,C.el)(".dhx_grid-cell",S({class:O,style:{width:l.$width,height:o.$height,padding:o.$items?0:"0 0 0 ".concat(P,"px")},"data-dhx-col-id":l.id},{role:"gridcell","aria-colindex":1}),b?[o.$items?(0,C.el)(".dhx_grid-expand-cell-icon",S(S({class:o.$opened?"dxi dxi-chevron-up":"dxi dxi-chevron-down","data-dhx-id":o.id},(R=o,{role:"button","aria-label":R.$opened?"Collapse group":"Expand group"})),{style:{padding:o.$level?"0 0 0 ".concat(4+P,"px"):"0 0 0 4px"}})):null,(0,C.el)(".dhx_tree-cell",{class:I+"".concat(f.autoHeight?" dhx_tree-cell_auto-height":"")},[i])]:null)}function a(i,o,l){return(0,y.getEditor)(i,o,l)}function r(i){var o=i.$scrollBarWidth,l=i.$totalWidth-i.$width+h.BORDERS+o.y,f=i.$totalHeight-i.$height+i.$headerHeight+i.$footerHeight+h.BORDERS+o.x;return{x:l>0?l-i.scroll.left:0,y:f>0?f-i.scroll.top:0}}E.getHandlers=function(i,o,l){return{onclick:[c,i,o,l,p.GridEvents.cellClick],onmouseover:[c,i,o,l,p.GridEvents.cellMouseOver],onmousedown:[c,i,o,l,p.GridEvents.cellMouseDown],ondblclick:[c,i,o,l,p.GridEvents.cellDblClick],oncontextmenu:[c,i,o,l,p.GridEvents.cellRightClick],ontouchstart:[c,i,o,l,p.GridEvents.cellMouseDown],ontouchmove:[c,i,o,l,p.GridSystemEvents.cellTouchMove],ontouchend:[c,i,o,l,p.GridSystemEvents.cellTouchEnd]}},E.getTreeCell=d,E.getCells=function(i){if(!i.data||!i.filteredColumns)return[];var o,l=i.$positions,f=i.data?i.data.slice(l.yStart,l.yEnd):[],_=i.filteredColumns.slice(l.xStart,l.xEnd),b=i.selection.getCell(),I=!0,O=document.querySelector(".dhx_drag-ghost");if(O){var P=Array.from(O.querySelectorAll(".dhx_grid-row")).map(function(R){return Number(R.getAttribute("aria-rowindex"))-1});P.length&&(o=P.map(function(R){return i.data[R]}).filter(function(R){return R&&!f.find(function(N){return N.id===R.id})}),f.push.apply(f,o))}return f.map(function(R,N){var V=o?.some(function(F){return F.id===R.id}),U=f.length-1===N,B="";return i.rowCss&&(B=i.rowCss(R)),R.$css&&(B+=R.$css),(0,C.el)(".dhx_grid-row",S({style:{height:U?R.$height+1:R.$height,display:V?"none":null},"data-dhx-id":R.id,class:B,_key:R.id,_flags:C.KEYED_LIST},V?{}:{role:"row","aria-rowindex":l.yStart+N+1}),R.$customRender?[R.$customRender(R,i)]:_.map(function(F,W){var M,$,ye;if(!F.hidden){var Y=R[F.id],ee=(0,u.getEditorOptions)(F,R);(F.editable||i.editable&&!1!==F.editable)&&("select"===F.editorType||"combobox"===F.editorType||"multiselect"===F.editorType)&&ee&&(Y=(Y="string"==typeof Y&&"multiselect"===F.editorType?Y.split(",").map(function(ie){return ie.trim()}):[Y?.toString()]).map(function(ie){var re,he;return null!==(he=null===(re=ee.find(function(fe){return fe.id&&fe.id.toString()===ie}))||void 0===re?void 0:re.value)&&void 0!==he?he:ie}).join(", "));var J=(0,u.toFormat)(Y,F.type,F.format),Z=F.template?F.template(J,R,F):"boolean"!=typeof($=J)&&"boolean"!==F.type||"string"==typeof $?$||0===$?$:"":"".concat(!!$);"string"==typeof Z&&(Z=(0,m.isHtmlEnable)(i,F)?(0,C.el)("div.dhx_grid-cell__content",S({".innerHTML":Z},{role:"button","aria-label":"Edit content"})):Z);var j="".concat(F.$cellCss&&F.$cellCss[R.id]||""," dhx_").concat(F.type,"-cell").replace(/\s+/g," "),L=F.$width,G=i.$editable&&i.$editable.row===R.id&&i.$editable.col===F.id&&!i.$editable.isSpan,X=i.leftSplit,ae=i.filteredColumns;return(G||"boolean"===F.type&&(i.editable&&(null===(M=F.editable)||void 0===M||M)||!i.editable&&F.editable))&&(Z=a(R,F,i).toHTML(),j+=" dhx_grid-cell__editable",X===ae.indexOf(F)+1&&(L-=1)),"tree"===i.type&&i.firstColId===F.id?d(Z,R,F,i):(i.dragMode&&!G&&(j+=(R.$drophere?" dhx_grid-cell--drophere":"")+(R.$dragtarget?" dhx_grid-cell--dragtarget":"")),F.align&&(j+=" dhx_align-".concat(F.align)),(0,m.isHtmlEnable)(i,F)&&(j+=" dhx_grid-cell__content_html-enable"),i.autoHeight&&(j+=" dhx_grid-cell__content_auto-height"),(0,C.el)(".dhx_grid-cell",S({class:j,style:{width:L,height:R.$height+"px"},_key:F.id,"data-dhx-col-id":F.id},S({role:"gridcell","aria-colindex":l.xStart+W+1,"aria-readonly":i.editable?"false":"true"},(ye={tabindex:-1},b?b.row.id===R.id&&b.column.id===F.id&&(ye.tabindex=0):I&&(ye.tabindex=0,ye.onkeydown=function(we){if(i.selection&&!b&&"Tab"===we.key){var De=we.target.parentNode.getAttribute("data-dhx-id"),Te=we.target.getAttribute("data-dhx-col-id");Te&&De&&(i.selection.setCell(De,Te),b=i.selection.getCell()),I=!1}}),ye))),[Z]))}}))})},E.getSpans=function(i,o){var l,f,_=[],b=i.columns,I=i.filteredColumns,O=i.data,P=i.currentSpans,R=i.bottomSplit;if(!I.length||!P)return null;for(var N=i.fixedColumns.right.length,U=P.filter(function(W){var M;return null===(M=W.$renderFrom)||void 0===M?void 0:M.includes(i.$renderFrom)}).sort(function(W,M){return"string"==typeof W.row&&"string"==typeof M.row?W.row.localeCompare(M.row):W.row-M.row}),B=function(W){var M=U[W].row,$=U[W].column,Y=U[W].rowspan||1,ee=U[W].colspan||1,J=U[W].text,Z=U[W].css,j=o===p.Split.bottom&&i.$renderFrom.endsWith("FixedCols"),L=j?i.$data:O,G=I?.findIndex(function(_t){return"".concat(_t.id)==="".concat($)}),X=L?.findIndex(function(_t){return"".concat(_t.id)==="".concat(M)});if(G<0||X<0)return"continue";if(j){var ae=i.$data[X+Y-1];if(!O.find(function(_t){return _t.id===ae?.id}))return"continue"}var ie=I[G],re=L[X],he=ie.$cellCss[M],fe=(0,T.isDefined)(U[W].text)?"string":ie.type;if(ie.hidden)return"continue";var ge=void 0;ge=(0,T.isDefined)(J)?J.toString():void 0===re[$]?"":(0,u.toFormat)(re[$],ie.type,ie.format),ge=(ie.template||function(_t,ta,Qi){return _t||0===_t?_t:""})(ge,re,ie);var ye=(0,m.isHtmlEnable)(i,ie);ge="string"==typeof ge?(0,C.el)("div.dhx_span-cell-content",{".innerHTML":ye?ge:null},ye?null:ge):ge;var we=void 0;if("bottomFixedRows"===i.$renderFrom||j){var De=L.length-R;we=X<De?-(0,m.getTotalHeight)(L.slice(X,De)):(0,m.getTotalHeight)(L.slice(De,X))}else we=(0,m.getTotalHeight)(L.slice(0,X))-(o?0:1);var Te=0;if("rightFixedCols"===i.$renderFrom){var Ee=I.length-i.fixedColumns.right.length;Te=G<Ee?-(0,m.getTotalWidth)(I.slice(G,Ee)):(0,m.getTotalWidth)(I.slice(Ee,G))}else for(var ke=G-1;ke>=0;ke--)Te+=I[ke].$width;var Ae=re.$items&&0===G,He=G===I.length-1,Le=G+(0,x.getReducedColspan)(b,$,ee)===I.length,Ne=N&&G===I.length-N,q=o===p.Split.bottom&&i.fixedRows.bottom.find(function(_t){return _t.id===M}),me=R&&X+Y>L.length-R,tt=N&&G+ee===I.length-N,Qe=ie.header[0].text?" dhx_span-cell":" dhx_span-cell dhx_span-cell--title";Qe+=Ae?" dhx_span-expand-cell":"",Qe+=he?" ".concat(he):"",Qe+=Z?" ".concat(Z):"",Qe+=0===X?" dhx_span-first-row":"",Qe+=X+Y===L.length?" dhx_grid__span_bottom--last-row":"",Qe+=0===G||Ne?" dhx_span-first-col":"",Qe+=He||Le?" dhx_span-last-col":"",Qe+=1===ee?" dhx_span-".concat(ie.type||"string","-cell"):" dhx_span-string-cell",Qe+=ie.align?" dhx_align-".concat(ie.align):" dhx_".concat(fe,"-cell"),Qe+=q?" dhx_grid__span_bottom--all-fixed":"",Qe+=me?" dhx_grid__span_bottom--part-fixed":"",Qe+=tt?" dhx_grid__span_right--before-fixed":"";var xt=b?.findIndex(function(_t){return"".concat(_t.id)===$}),at=ee>1?(0,x.getWidth)(b,ee,xt):ie.$width,Je=void 0;if(Y>1){if(Je=(0,x.getHeight)(L,Y,X),o===p.Split.top&&i.$renderFrom.endsWith("FixedCols")){var st=X+Y-L.length;if(st>0){var ot=i.fixedRows.top.length;Je+=(0,m.getTotalHeight)(i.$data.slice(ot,ot+st))}}}else Je=re.$height;var Cn=null;if(null!==(l=i.$editable)&&void 0!==l&&l.isSpan&&i.$editable.row===M&&i.$editable.col===$||"boolean"===ie.type&&(i.editable&&(null===(f=ie.editable)||void 0===f||f)||!i.editable&&ie.editable)){var At=i.topSplit,Dn=i.fixedColumns.left.length,Rn=Dn&&G+ee<=Dn||N&&G>=I.length-N,vt=At&&X+Y<=At||R&&X>=L.length-R;if("render"===i.$renderFrom||Rn&&!(X<(At||0)||X+Y>L.length-(R||0))||vt&&!(G<(Dn||0)||G+ee>I.length-(N||0))){var Zi=i.$height,Co=i.$scrollBarWidth,vn=i.scroll,In=i.fixedRows,Nn=i.fixedColumns,Do=U[W].text,Ln=0;if(ge=a(re,ie,i).toHTML(Do),Qe+=" dhx_span__editable",!vt){var Yn=(0,m.getTotalHeight)(In.top),_n=(0,m.getTotalHeight)(In.bottom),No=Co.yState?Zi-i.$headerHeight-i.$footerHeight-Co.x-h.BORDERS:i.$totalHeight,Lo=we+Je-vn.top,Jt=we-Yn<vn.top,Io=Lo>No-_n;Jt&&Io&&Co.xState&&(Ln=1),we=Jt?vn.top+Yn-(Yn&&!Rn?1:0):we,Je=Io?No-we-_n+vn.top-Ln:Jt?Lo-Yn:Je}if("render"===i.$renderFrom){if(Cn=12,Nn.left.find(function(_t){return _t.id===$})&&(Te=vn.left+(0,m.getTotalWidth)(Nn.left.slice(0,G)),!Rn)){var Hn=(0,m.getTotalWidth)(Nn.left.slice(G,Dn));at=at-vn.left>Hn?at-vn.left:Hn}if(In.top.find(function(_t){return _t.id===M})&&(we=vn.top+(0,m.getTotalHeight)(In.top.slice(0,X)),!vt)){var Xn=(0,m.getTotalHeight)(i.fixedRows.top.slice(X,i.topSplit));Je=Je>0?Xn+Je-Ln:Xn}if(Nn.right.find(function(_t){return _t===I[I.indexOf(ie)+ee-1]})){var Kn=I.length,sn=r(i),ti=Kn-I.indexOf(ie)-ee,Ho=(Hn=(0,m.getTotalWidth)(ti?Nn.right.slice(0,-ti):Nn.right),(0,m.getTotalWidth)(I.slice(G,Kn-N)));Te=sn.x>Ho?Te-sn.x+Ho:Te,Rn||(at=sn.x<Ho?at-sn.x-1:Hn-1)}if(In.bottom.find(function(_t){return _t===L[L.indexOf(re)+Y-1]})){Kn=L.length,sn=r(i);var en=Kn-L.indexOf(re)-Y,So=(Xn=(0,m.getTotalHeight)(en?In.bottom.slice(0,-en):i.fixedRows.bottom),(0,m.getTotalHeight)(L.slice(X,Kn-R)));we=sn.y>So?we-sn.y+So:we,vt||(Je=sn.y<So?Xn+Je-Ln-(en?-1:Ln?0:1):Xn-(en?-1:1))}}Dn===G+1&&(at-=1),G===I.length-N&&(Te+=1,at-=1)}}_.push((0,C.el)("div",{class:Qe,style:{width:at,height:Je,top:we,left:Te,zIndex:Cn},"data-dhx-col-id":$,"data-dhx-id":M,"aria-hidden":"true"},[Ae?(0,C.el)(".dhx_span-expand-cell-icon",{class:re.$opened?"dxi dxi-chevron-up":"dxi dxi-chevron-down","data-dhx-id":re.id,role:"button","aria-label":re.$opened?"Collapse group":"Expand group",style:{padding:"0 0 0 ".concat(4+(0,u.getTreeCellWidthOffset)(re),"px")}}):null,ge]))},F=0;F<U.length;F++)B(F);return _},E.getShifts=function(i){var o=i.filteredColumns.slice(0,i.$positions.xStart),l=i.data.slice(0,i.$positions.yStart);return{x:(0,m.getTotalWidth)(o),y:(0,m.getTotalHeight)(l)}},E.normalizeSpan=function(i,o,l){var f=o.topSplit,_=void 0===f?0:f,b=o.bottomSplit,I=void 0===b?0:b,O=o.columns,P=i.column,R=i.row,N=i.colspan,V=i.rowspan,U=l.getRawData(0,-1,null,2),B=O.filter(function(ie){return!ie.hidden}),F=B.findIndex(function(ie){return ie.id==P}),W=U.findIndex(function(ie){return ie.id==R}),M=F+(N?(0,x.getReducedColspan)(O,P,N)-1:0),$=W+(V?V-1:0),Y=-1===F?[]:[F,M],ee=-1===W?[]:[W,$],J=[];if(-1!==F&&-1!==W){var Z=(0,h.getCurrFixedCols)(o,p.Split.left).length,j=(0,h.getCurrFixedCols)(o,p.Split.right).length,L=F<Z,G=W<_,X=M>=B.length-j,ae=$>=U.length-I;M>=Z&&$>=_&&F<B.length-j&&W<U.length-I&&J.push("render"),L&&J.push("leftFixedCols"),X&&J.push("rightFixedCols"),!G||L||X?G&&!J.includes("render")&&J.push("render"):J.push("topFixedRows"),!ae||L||X?ae&&!J.includes("render")&&J.push("render"):J.push("bottomFixedRows")}return S(S({},i),{$renderFrom:J,$rowsVisibility:ee,$colsVisibility:Y})}},function(ne,E,D){"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.ScrollView=E.scrollViewConfig=void 0;var S=D(1),T=D(0),C=D(2);E.scrollViewConfig={enable:!1,autoHide:!0,timeout:1e3,scrollHandler:function(){}};var x=function(){function m(p,y){var v;void 0===y&&(y={});var u=this;this.config=(0,S.extend)({enable:E.scrollViewConfig.enable,autoHide:E.scrollViewConfig.autoHide,timeout:E.scrollViewConfig.timeout,scrollHandler:E.scrollViewConfig.scrollHandler},y),this._wheelName=(0,C.isIE)()?"onmousewheel":"onwheel",this._getRootView=p,this._scrollYTop=this._scrollXLeft=this._runnerYTop=this._runnerXLeft=this._runnerHeight=this._runnerWidth=0,this._visibleYArea=this._visibleXArea=1,this._scrollWidth=(0,C.getScrollbarWidth)(),this._scrollHeight=(0,C.getScrollbarHeight)(),this._handlers=((v={onscroll:function(h){u.config.scrollHandler(h),u.update()}})[this._wheelName]=function(h){var c=!!(0,C.locateNodeByClassName)(h.target,"y-scroll");h.preventDefault();var d=40*((h.deltaY||-h.wheelDelta)>0?1:-1),a=u._getRefs().area;if(c){var r=a.scrollHeight-u._runnerHeight,i=u._scrollYTop+d;a.scrollTop=i<0?0:i>r?r:i}else{var o=a.scrollWidth-u._runnerWidth,l=u._scrollXLeft+d;a.scrollLeft=l<0?0:l>o?o:l}u.update()},v.onmousedownRunner=function(h){h.preventDefault();var c=!!(0,C.locateNodeByClassName)(h.target,"y-scroll"),d=u._getRefs(),a=d.area,r=d.runnerY,i=d.runnerX,o=a.getBoundingClientRect(),l=o.top+window.pageYOffset,f=o.bottom+window.pageYOffset,_=a.scrollHeight-u._runnerHeight,b=h.pageY-r.getBoundingClientRect().top-window.pageYOffset,I=o.left+window.pageXOffset,O=o.right+window.pageXOffset,P=a.scrollWidth-u._runnerWidth,R=h.pageX-i.getBoundingClientRect().left-window.pageXOffset,N=function(U){if(c){var B=U.pageY-b;a.scrollTop=B<=l?0:B>f?_:(B-l)/u._visibleYArea}else{var F=U.pageX-R;a.scrollLeft=F<=I?0:F>O?P:(F-I)/u._visibleXArea}u.update()},V=function(){document.removeEventListener("mousemove",N),document.removeEventListener("mouseup",V),document.body.classList.remove("dhx-no-select")};document.body.classList.add("dhx-no-select"),document.addEventListener("mousemove",N),document.addEventListener("mouseup",V)},v.onmousedownArea=function(h){if(!(0,C.locateNodeByClassName)(h,"scroll-runner")){h.preventDefault();var c=!!(0,C.locateNodeByClassName)(h.target,"y-scroll"),d=u._getRefs(),a=d.area,i=d.runnerX;c?a.scrollTop+=(h.pageY-d.runnerY.getBoundingClientRect().top)/u._visibleYArea:a.scrollLeft+=(h.pageX-i.getBoundingClientRect().left)/u._visibleXArea,u.update()}},v.onmouseenter=function(h){if(!(0,C.locateNodeByClassName)(h,"scroll-runner")){var c=u._getRefs();if(c){var d=!!(0,C.locateNodeByClassName)(h.target,"y-scroll"),a=c.areaX;d&&u._runnerHeight>0?c.areaY.style.background="#eee":!d&&u._runnerWidth>0&&(a.style.background="#eee")}}},v.onmouseleave=function(h){if(!(0,C.locateNodeByClassName)(h,"scroll-runner")){var c=u._getRefs();if(c){var d=!!(0,C.locateNodeByClassName)(h.target,"y-scroll"),a=c.areaX;d&&u._runnerHeight>0?c.areaY.style.background="transparent":!d&&u._runnerWidth>0&&(a.style.background="transparent")}}},v)}return m.prototype.enable=function(){this.config.enable=!0,this._getRootView().redraw()},m.prototype.disable=function(){this.config.enable=!1,this._getRootView().redraw()},m.prototype.render=function(p,y){var v,u,h=this;if(void 0===y&&(y=""),!this.config.enable||!p.length)return p;y&&(this._uid=y);var c=this.config.enable?[(0,T.el)(".y-scroll",(v={},v[this._wheelName]=this._handlers[this._wheelName],v._ref=y?"scroll-y-area-".concat(y):"scroll-y-area",v.onmousedown=this._handlers.onmousedownArea,v.onmouseenter=this._handlers.onmouseenter,v.onmouseleave=this._handlers.onmouseleave,v.style={width:"6px",height:"100%",right:0,top:0,position:"absolute"},v),[(0,T.el)(".scroll-runner",{_ref:y?"scroll-y-runner-".concat(y):"scroll-y-runner",onmousedown:this._handlers.onmousedownRunner,style:{height:this._runnerHeight+"px",top:this._runnerYTop}})]),(0,T.el)(".x-scroll",(u={},u[this._wheelName]=this._handlers[this._wheelName],u._ref=y?"scroll-x-area-".concat(y):"scroll-x-area",u.onmousedown=this._handlers.onmousedownArea,u.onmouseenter=this._handlers.onmouseenter,u.onmouseleave=this._handlers.onmouseleave,u.style={width:"100%",height:"6px",left:0,bottom:0,position:"absolute"},u),[(0,T.el)(".scroll-runner",{_ref:y?"scroll-x-runner-".concat(y):"scroll-x-runner",onmousedown:this._handlers.onmousedownRunner,style:{width:this._runnerWidth+"px",left:this._runnerXLeft}})])]:null;return(0,T.el)(".scroll-view-wrapper",[(0,T.el)(".scroll-view",{onscroll:this._handlers.onscroll,_ref:y?"scroll-view-".concat(y):"scroll-view",_hooks:{didInsert:function(){h.update()},didRecycle:function(){h.update()}},style:{width:"calc(100% + ".concat(this._scrollWidth,"px)"),height:"calc(100% + ".concat(this._scrollHeight,"px)")}},p)].concat(c))},m.prototype.update=function(){var p=this._getRefs();if(p){var y=p.area,v=p.areaX,u=p.areaY,h=p.runnerY,c=p.runnerX;this._visibleYArea=y.clientHeight/y.scrollHeight,this._visibleXArea=y.clientWidth/y.scrollWidth,this._scrollYTop=y.scrollTop,this._scrollXLeft=y.scrollLeft,this._runnerYTop=this._scrollYTop*this._visibleYArea,this._runnerXLeft=this._scrollXLeft*this._visibleXArea,this._runnerHeight=this._visibleYArea<1?y.clientHeight*this._visibleYArea:0,this._runnerWidth=this._visibleXArea<1?y.clientWidth*this._visibleXArea:0;var d=h.style.top,a=c.style.left;h.style.opacity=1,h.style.top=this._runnerYTop+"px",h.style.height=this._runnerHeight+"px",c.style.opacity=1,c.style.left=this._runnerXLeft+"px",c.style.width=this._runnerWidth+"px",d!==h.style.top&&(u.style.opacity=.9,u.style.width="10px"),a!==c.style.left&&(v.style.opacity=.9,v.style.height="10px"),this.config.autoHide?!this._autoHideFunc&&(this._autoHideFunc=(0,S.debounce)(function(){h.style.opacity=0,u.style.width="6px",c.style.opacity=0,v.style.height="6px"},this.config.timeout)):this._autoHideFunc=(0,S.debounce)(function(){u.style.width="6px",v.style.height="6px"},this.config.timeout),this._autoHideFunc()}},m.prototype._getRefs=function(){var p=this._getRootView(),y=!(!p.refs["scroll-view"]||!p.refs["scroll-x-runner"]&&!p.refs["scroll-y-runner"]),v=!(!this._uid||!p.refs["scroll-view-".concat(this._uid)]||!p.refs["scroll-x-runner-".concat(this._uid)]&&!p.refs["scroll-y-runner-".concat(this._uid)]);if(p.refs){if(y)return{area:p.refs["scroll-view"].el,areaY:p.refs["scroll-y-area"].el,areaX:p.refs["scroll-x-area"].el,runnerY:p.refs["scroll-y-runner"].el,runnerX:p.refs["scroll-x-runner"].el};if(v)return{area:p.refs["scroll-view-".concat(this._uid)].el,areaY:p.refs["scroll-y-area-".concat(this._uid)].el,areaX:p.refs["scroll-x-area-".concat(this._uid)].el,runnerY:p.refs["scroll-y-runner-".concat(this._uid)].el,runnerX:p.refs["scroll-x-runner-".concat(this._uid)].el}}},m}();E.ScrollView=x},function(ne,E,D){"use strict";var S,T;Object.defineProperty(E,"__esModule",{value:!0}),E.SelectionEvents=void 0,(T=S||(E.SelectionEvents=S={})).beforeUnSelect="beforeunselect",T.afterUnSelect="afterunselect",T.beforeSelect="beforeselect",T.afterSelect="afterselect"},function(ne,E,D){"use strict";var S=this&&this.__assign||function(){return S=Object.assign||function(x){for(var m,p=1,y=arguments.length;p<y;p++)for(var v in m=arguments[p])Object.prototype.hasOwnProperty.call(m,v)&&(x[v]=m[v]);return x},S.apply(this,arguments)};Object.defineProperty(E,"__esModule",{value:!0}),E.getNavbarButtonCSS=E.navbarComponentMixin=E.getIcon=E.getCount=void 0;var T=D(0),C=D(1);E.getCount=function(x,m,p){return(0,T.el)(".dhx_navbar-count",{class:m+({danger:" dhx_navbar-count--color_danger",secondary:" dhx_navbar-count--color_secondary",primary:" dhx_navbar-count--color_primary",success:" dhx_navbar-count--color_success"}[x.countColor]||" dhx_navbar-count--color_danger")+(!p&&parseInt(x.count,10)>99?" dhx_navbar-count--overlimit":"")},p&&parseInt(x.count,10)>99?"99+":x.count)},E.getIcon=function(x,m){return void 0===x&&(x=""),x.startsWith("dxi")&&(x="dxi "+x),(0,T.el)("span",{class:"dhx_".concat(m,"__icon ").concat(x),"aria-hidden":"true"})},E.navbarComponentMixin=function(x,m,p,y){var u,d,a,i,o,h=(d=x,"",o="",o=(i=p?"dhx_menu-item":"dhx_"+d+"__item")+((a=m).css?" "+a.css:""),"spacer"!==a.type&&"separator"!==a.type||(o+=" ".concat(i,"--").concat(a.type)),"button"!==a.type||"sidebar"!==d||a.icon||(o+=" dhx_navbar-item--colapse_hidden"),o),c="ribbon"===x&&("navItem"===m.type||"imageButton"===m.type);return(0,T.el)("li",S({_key:m.id,class:h+(m.icon&&!m.value&&c?" dhx_ribbon__item--icon":"")+(m.src&&!m.value&&c?" dhx_ribbon__item--icon":"")+(m.size&&c?" dhx_ribbon__item--"+m.size:""),".innerHTML":"customHTML"===m.type?m.html:void 0,"data-dhx-id":"customHTML"===m.type?m.id:void 0},(u={role:"none"},"separator"===m.type&&(u.role="separator",u["aria-orientation"]="vertical"),u)),"customHTML"!==m.type?[y]:void 0)},E.getNavbarButtonCSS=function(x,m){return({danger:" dhx_button--color_danger",secondary:" dhx_button--color_secondary",primary:" dhx_button--color_primary",success:" dhx_button--color_success"}[x.color]||" dhx_button--color_primary")+({small:" dhx_button--size_small",medium:" dhx_button--size_medium"}[x.size]||" dhx_button--size_medium")+({flat:" dhx_button--view_flat",link:" dhx_button--view_link"}[x.view]||" dhx_button--view_flat")+(x.full?" dhx_button--width_full":"")+(x.circle?" dhx_button--circle":"")+(x.loading?" dhx_button--loading":"")+(x.active?" dhx_button--active":"")+(x.icon&&!x.value?" dhx_button--icon":"")+((0,C.isDefined)(x.count)?" dhx_button--count":"")}},function(ne,E,D){"use strict";var S,T;Object.defineProperty(E,"__esModule",{value:!0}),E.DiagramEditorEvents=void 0,(T=S||(E.DiagramEditorEvents=S={})).shapeResize="shapeResize",T.zoomIn="zoomin",T.zoomOut="zoomout",T.beforeShapeIconClick="beforeShapeIconClick",T.afterShapeIconClick="afterShapeIconClick",T.beforeLineTitleMove="beforeLineTitleMove",T.afterLineTitleMove="afterLineTitleMove",T.lineTitleMoveEnd="lineTitleMoveEnd",T.beforeShapeMove="beforeShapeMove",T.afterShapeMove="afterShapeMove",T.shapeMoveEnd="shapeMoveEnd",T.beforeGroupMove="beforeGroupMove",T.afterGroupMove="afterGroupMove",T.groupMoveEnd="groupMoveEnd",T.beforeItemMove="beforeItemMove",T.afterItemMove="afterItemMove",T.itemMoveEnd="itemMoveEnd",T.itemTarget="itemTarget",T.beforeItemCatch="beforeItemCatch",T.afterItemCatch="afterItemCatch",T.shapeMove="shapemove",T.resetButton="resetButton",T.applyButton="applyButton",T.undoButton="undoButton",T.redoButton="redoButton",T.visibility="visibility",T.exportData="exportData",T.importData="importData",T.autoLayout="autoLayout",T.changeGridStep="changeGridStep",T.shapesUp="shapesUp"},function(ne,E,D){"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.NavigationBarEvents=E.DataEvents=void 0;var S,C,T=D(8);Object.defineProperty(E,"DataEvents",{enumerable:!0,get:function(){return T.DataEvents}}),(C=S||(E.NavigationBarEvents=S={})).inputCreated="inputCreated",C.click="click",C.openMenu="openMenu",C.beforeHide="beforeHide",C.afterHide="afterHide",C.inputFocus="inputFocus",C.inputBlur="inputBlur",C.inputChange="inputChange",C.input="input",C.keydown="keydown"},function(ne,E,D){"use strict";var S=this&&this.__assign||function(){return S=Object.assign||function(p){for(var y,v=1,u=arguments.length;v<u;v++)for(var h in y=arguments[v])Object.prototype.hasOwnProperty.call(y,h)&&(p[h]=y[h]);return p},S.apply(this,arguments)};function T(p,y,v){var u=p.x,h=p.y;switch(v){case"top":return p.$item.getPoint(u+p.width/2,h-y);case"bottom":return p.$item.getPoint(u+p.width/2,h+p.height+y);case"left":return p.$item.getPoint(u-y,h+p.height/2);case"right":return p.$item.getPoint(u+p.width+y,h+p.height/2);case"center":return p.$item.getPoint(u+p.width/2,h+p.height/2)}}function C(p,y,v,u,h,c){if(void 0===c&&(c=10),!h){var d=v.y===u.y?+c:0,a=v.x===u.x?+c:0;return[p,{x1:v.x,y1:v.y,x:v.x+d,y:v.y+a},{x:u.x-d,y:u.y-a},{x1:u.x,y1:u.y,x:y.x,y:y.y}]}var r=u.x<h.x?-1:1,i=u.y<h.y?-1:1,o=v.x>h.x?1:-1,l=v.y>h.y?1:-1,f=S({},h),_=S({},u),b={x1:h.x,y1:h.y,x:h.x,y:h.y+c*i};return v.x===h.x&&(f.y+=c*l,_.x-=c*r,b={x1:h.x,y1:h.y,x:h.x+c*r,y:h.y}),v.y===h.y&&(f.x+=c*o,_.y-=c*i,b={x1:h.x,y1:h.y,x:h.x,y:h.y+c*i}),[p,v,f,b,_,{x1:u.x,y1:u.y,x:y.x,y:y.y}]}Object.defineProperty(E,"__esModule",{value:!0}),E.directLinkPath=E.nearestLinkPath=void 0;var x=["top","bottom","right","left","center"];E.nearestLinkPath=function(p,y,v,u){var h;if(y&&v){var c=function m(p,y,v,u,h,c,d){var a,r,i,o;void 0===c&&(c=""),void 0===d&&(d="");var l=h&&h>u?h:u||0;if("center"===c&&"center"===d)return[{x:y.x+y.width/2,y:y.y+y.height/2},{x:v.x+v.width/2,y:v.y+v.height/2}];if(c&&(a=T(y,0,c),i=T(y,u,c)),d&&(r=T(v,0,d),o=T(v,l,d)),!c||!d){var f=x.map(function(R){var N=T(y,u,R);return x.map(function(V){var F,W,M,$,U=T(v,l,V),B=(M=(W=U).x-(F=N).x,$=W.y-F.y,Math.sqrt(M*M+$*$));return[N,U,B,R,V]}).sort(function(V,U){return V[2]-U[2]})[0]}).sort(function(R,N){return R[2]-N[2]})[0];i=f[0],o=f[1],d=f[4],p.fromSide=c=f[3],p.toSide=d,a=T(y,0,c),r=T(v,0,d)}var _="bottom"===c&&"top"===d||"top"===c&&"bottom"===d?Math.abs(r.y-a.y):0;(_=_||("left"===c&&"right"===d||"right"===c&&"left"===d?Math.abs(r.x-a.x):0))>0&&l+u>=_&&(o=T(v,l=_-u,d));var N,V,b=[];if(i.x===o.x||i.y===o.y)a.x===i.x&&i.x===r.x||a.y===i.y&&i.y===r.y?b=[a,r]:(b=[a,i,o,r],p.cornersRadius&&"straight"!==p.connectType&&(b=C(a,r,i,o,null,p.cornersRadius)));else{var P=a.x===i.x||i.x<a.x&&i.x<o.x?{x:i.x,y:o.y}:{x:o.x,y:i.y};P=i.y>a.y&&i.y>o.y?{x:o.x,y:i.y}:P,b="flex"===p.connectType?[a,{x1:(V=P).x,y1:V.y,x:(N=r).x,y:N.y}]:p.cornersRadius&&"straight"!==p.connectType?C(a,r,i,o,P,p.cornersRadius):[a,i,P,o,r]}return b}(p,y,v,(null===(h=u?.lineConfig)||void 0===h?void 0:h.lineGap)||0,p.customGap,p.fromSide,p.toSide);if("straight"===p.connectType)return p.points=[c[0],c[c.length-1]];if(p.points){if(p.points.length===c.length)p.points=p.points.map(function(a,r){return a&&c[r]&&!a.custom?c[r]:a});else{var d=p.points.filter(function(a){return a.custom});p.points=d.length?p.points:c}p.$move||(p.points[0]=c[0],p.points[p.points.length-1]=c[c.length-1])}else p.points=c}},E.directLinkPath=function(p,y,v,u){var h,c;if(p||!y.assistant||!y.partner){var d=y.x+(y.dx||0),a=y.y+(y.dy||0),r=v.x+(v.dx||0),i=v.y+(v.dy||0);if(y.dir&&y.dir.includes("vertical")||Array.isArray(y.dir)){var o=d,l=Math.round(a+y.height/2),f=r,_=Math.round(i+v.height/2),b=.5-Math.round(u.margin.itemX/2);"vertical"===y.dir&&(p.points=[{x:o,y:l},{x:o+b,y:l},{x:o+b,y:_},{x:f,y:_}]),("verticalLeft"===y.dir||Array.isArray(y.dir)&&y.dir.includes("verticalLeft"))&&(p.points=[{x:o,y:l},{x:o+b,y:l},{x:o+b,y:_},{x:f+v.width,y:_}]),("verticalRight"===y.dir||Array.isArray(y.dir)&&y.dir.includes("verticalRight"))&&(p.points=[{x:o+y.width,y:l},{x:o+y.width-b,y:l},{x:o+y.width-b,y:_},{x:f,y:_}])}else{if(o=Math.round(d+y.width/2),l=a+y.height,f=r+(v.$even?0:v.width),_=Math.round(i+v.height/2),v.partner){var I=v.$even?d+y.width:d,O=Math.round(a+y.height/2),P=Math.round(u.margin.itemX/2);return void(p.points=[{x:I,y:O},{x:I+(P=v.$even?P:-P),y:O},{x:I+P,y:_},{x:f,y:_}])}if(v.assistant){if(1===(null===(h=y?.$partners)||void 0===h?void 0:h.common.length)){var R=d,N=Math.round(a+y.height/2),V=Math.round(u.margin.itemX/2);return void(p.points=[{x:R,y:N},{x:R-V,y:N},{x:R-V,y:_},{x:f,y:_}])}return void(p.points=[{x:o,y:l},{x:o,y:l},{x:o,y:_},{x:f,y:_}])}if(f=Math.round(r+v.width/2),_=i,b=y.$height-(y.$baseHeight+y.height)/2,1===(null===(c=y?.$partners)||void 0===c?void 0:c.common.length)){var U=Math.round(d-u.margin.itemX/2);return void(p.points=[{x:U,y:l-y.height/2},{x:U,y:l+b},{x:f,y:l+b},{x:f,y:_}])}p.points=[{x:o,y:l},{x:o,y:l+b},{x:f,y:l+b},{x:f,y:_}]}}}},function(ne,E,D){"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.addLineTitle=E.getDistanceEblowLine=E.getDistancePercentage=E.getDistanceFactor=E.getLinePercentage=E.getLineLength=E.getLineAngle=E.getNearPointStraightLine=void 0;var S=D(29);function T(y,v,u){var h=y.x,c=y.y,d=v.x,a=v.y,r=u.x,i=u.y;if(h===d)return{x:h,y:i};if(c===a)return{x:r,y:c};var o=(a-c)/(d-h),l=-1/o,f=(o*h-l*r+i-c)/(o-l);return{x:f,y:l*(f-r)+i}}function C(y,v){var u=y.x,h=y.y,c=v.x,d=v.y;return Math.sqrt((c-u)*(c-u)+(d-h)*(d-h))}function x(y,v,u){var h=C(y,v),c=C(y,u);return c<=h?c/h:h/c}function m(y){return 100*y}function p(y,v){for(var u,h,c=y.points,d=[],a=1/0,r=0,i=0,o=0,l=0;l<c.length-1;l++){var f=c[l],_=c[l+1],b=T(f,_,v),I=C(b,v),O=C(f,_);r+=O,d.push(O);var P=f.x,R=f.y,N=_.x,V=_.y,U=b.x,B=b.y;P>N&&(P=(u=[N,P])[0],N=u[1]),R>V&&(R=(h=[V,R])[0],V=h[1]),I<=a&&N>=U&&P<=U&&V>=B&&R<=B&&(a=I,i=C(f,b),o=l)}var F=0;if(0!==o)for(l=0;l<o;l++)F+=d[l];return(F+=i)/r*100}E.getNearPointStraightLine=T,E.getLineAngle=function(y,v){return Math.atan((v.y-y.y)/(v.x-y.x))*(180/Math.PI)},E.getLineLength=C,E.getLinePercentage=x,E.getDistanceFactor=function(y){return void 0===y&&(y=50),"string"==typeof y&&(y=parseFloat(y)),y>=100?1:y<=0?0:y/100},E.getDistancePercentage=m,E.getDistanceEblowLine=p,E.addLineTitle=function(y,v){var u,h=y.points,c=v._lastItemClickCoords,d=50;if("straight"===y.connectType||2===h.length){var a=h[0],r=h[h.length-1];d=m(x(a,r,T(a,r,c)))}else d=p(y,c);var i=v.data.add({type:"lineTitle",text:S.locale.text,distance:d,parent:y.id});v.selection.add({id:i});var o=null===(u=v.data.getItem(i))||void 0===u?void 0:u.$item;o&&o.isEditable()&&v.editor.openEditor(i,"text")&&o.setEditorNode(v.editor.render(),"text")}},function(ne,E,D){"use strict";var S,T=this&&this.__extends||(S=function(d,a){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(d,a)},function(d,a){if("function"!=typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function r(){this.constructor=d}S(d,a),d.prototype=null===a?Object.create(a):(r.prototype=a.prototype,new r)}),C=this&&this.__spreadArray||function(d,a,r){if(r||2===arguments.length)for(var i,o=0,l=a.length;o<l;o++)!i&&o in a||(i||(i=Array.prototype.slice.call(a,0,o)),i[o]=a[o]);return d.concat(i||Array.prototype.slice.call(a))};Object.defineProperty(E,"__esModule",{value:!0}),E.Input=E.Validation=void 0;var x,d,m=D(0),p=D(1),y=D(6),v=D(9),u=D(3),h=D(4);(d=x||(E.Validation=x={})).empty="",d.validEmail="email",d.validInteger="integer",d.validNumeric="numeric",d.validAlphaNumeric="alphanumeric",d.validIPv4="IPv4";var c=function(d){function a(r,i){void 0===i&&(i={});var o=d.call(this,null,i)||this;return o.events=new u.EventSystem,o._propsItem=["inputType","required","validation","icon","placeholder","autocomplete","readOnly","maxlength","minlength","min","max","step","label","labelWidth","labelPosition","hiddenLabel","helpMessage","preMessage","successMessage","errorMessage"],o._props=C(C([],y.baseProps,!0),o._propsItem,!0),o._initView(i),o._initHandlers(),o}return T(a,d),a.prototype.destructor=function(){this.events&&this.events.clear(),this.events=this._uid=this._propsItem=this._propsItem=null,d.prototype._destructor.call(this),this.unmount()},a.prototype.setProperties=function(r){if(r&&!(0,p.isEmptyObj)(r)&&this.events.fire(h.ItemEvent.beforeChangeProperties,[this.getProperties()])){for(var i in r)this._props.includes(i)&&(this.config[i]=r[i]);this.events.fire(h.ItemEvent.afterChangeProperties,[this.getProperties()]),this.paint()}},a.prototype.getProperties=function(){for(var r={},i=0,o=this._props;i<o.length;i++){var l=o[i];r[l]=this.config[l]}return r},a.prototype.show=function(){var r=this.config,i=r.value;r.hidden&&this.events.fire(h.ItemEvent.beforeShow,[i])&&(this.config.hidden=!1,this.events.fire(h.ItemEvent.afterShow,[i]))},a.prototype.hide=function(r){var i=this.config,o=i.value;i.hidden&&!r||!this.events.fire(h.ItemEvent.beforeHide,[o,r])||(this.config.hidden=!0,this.events.fire(h.ItemEvent.afterHide,[o,r]))},a.prototype.isVisible=function(){return!this.config.hidden},a.prototype.disable=function(){this.config.disabled=!0,this.paint()},a.prototype.enable=function(){var r;this.config.disabled=!1,!(null===(r=this.parent)||void 0===r)&&r.isDisabled()&&this.parent.enable(),this.paint()},a.prototype.isDisabled=function(){return!!this.config.disabled},a.prototype.validate=function(r){void 0===r&&(r=!1);for(var i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];var l=i.length?i[0]:this.getValue();if(!r&&!this.events.fire(h.ItemEvent.beforeValidate,[l]))return!1;var f=this.config.validation?(0,y.validateInput)(l,this.config.validation):(0,y.baseInputValidate)(l,this.config);return r||(this.setValidationStatus(f?"success":"error"),this.events.fire(h.ItemEvent.afterValidate,[l,f]),!this.isFocused()&&this.paint()),f},a.prototype.clearValidate=function(){this.setValidationStatus(),this.paint()},a.prototype.clear=function(){""!==this.config.value&&this.events.fire(h.ItemEvent.beforeChange,[""])&&(this.config.value="",this.events.fire(h.ItemEvent.change,[this.getValue()]),(0,y.isVerify)(this.config)&&this.setValidationStatus(this.validate(!0)?"success":"error"))},a.prototype.setValue=function(r){void 0!==r&&this.config.value!==r&&this.events.fire(h.ItemEvent.beforeChange,[r])&&(this.config.value=r,this.events.fire(h.ItemEvent.change,[this.getValue()]),(0,y.isVerify)(this.config)&&this.validate())},a.prototype.getValue=function(){var r=this.config,i=r.inputType,o=r.value;return"number"===i&&"number"==typeof o||null===o?o:"number"===i&&"string"==typeof o?o.length?Number(o):"":"string"==typeof o?o.length?o:"":void 0===o?"":String(o)},a.prototype.isFocused=function(){var r,i,o;return(null===(o=null===(i=null===(r=this.getRootView())||void 0===r?void 0:r.refs)||void 0===i?void 0:i.input)||void 0===o?void 0:o.el)===document.activeElement},a.prototype.focus=function(){var r=this;(0,m.awaitRedraw)().then(function(){r.getRootView().refs.input.el.focus()})},a.prototype.blur=function(){var r=this;(0,m.awaitRedraw)().then(function(){r.getRootView().refs.input.el.blur()})},a.prototype._initView=function(r){if((0,p.isEmptyObj)(r))throw new Error("Check the configuration is correct");for(var i in this.config={type:"input",id:r.id,name:r.name,value:"",disabled:!1,hidden:!1,inputType:"text",required:!1,icon:"",placeholder:"",autocomplete:!1,readOnly:!1,label:"",labelWidth:"",labelPosition:"top",hiddenLabel:!1,helpMessage:"",preMessage:"",successMessage:"",errorMessage:"",width:"content",height:"content"},r)"id"!==i&&"type"!==i&&"name"!==i&&(this.config[i]=r[i]);this._value=this.config.value,this.paint()},a.prototype._initHandlers=function(){var r=this;this.events.on(h.ItemEvent.change,function(i){r._value=i,r.paint()})},a.prototype._getHandlers=function(){var r=this;return{oninput:function(i){i.isComposing||(r._value=i.target.value,r.events.fire(h.ItemEvent.input,["number"===r.config.inputType?Number(r._value):r._value]))},onchange:function(i){r._value=i.target.value,r._value!==r.config.value&&r.setValue(r._value)},onfocus:function(){r.events.fire(h.ItemEvent.focus,[r.getValue()]),r.paint()},onblur:function(){r._uid&&(r.events.fire(h.ItemEvent.blur,[r.getValue()]),r._value!==r.config.value&&r.setValue(r._value),r.paint())},onkeydown:function(i){"Enter"===i.code&&"input"===r.config.type&&i.preventDefault(),r.events.fire(h.ItemEvent.keydown,[i])}}},a.prototype._draw=function(){var r=this.config,i=r.id,o=r.disabled,l=r.name,f=r.icon,_=r.placeholder,b=r.required,I=r.inputType,P=r.autocomplete,R=r.readOnly,N=r.maxlength,V=r.minlength,U=r.max,B=r.min,F=r.label,W=r.helpMessage,M=r.value,$=r.hidden?" dhx_form-group--hidden":"";return(0,m.el)("div.dhx_form-group",{class:(0,y.getFormItemCss)(this.config,(0,y.isVerify)(this.config),this.isFocused())+$},[this._drawLabel(),(0,m.el)(".dhx_input__wrapper",{},[(0,m.el)("div.dhx_input__container",{},[this.config.icon?(0,m.el)(".dhx_input__icon",{class:this.config.icon}):null,(0,m.el)("input.dhx_input",{type:["text","number","password"].includes(I)?I:"text","data-dhx-id":l||i,id:i||this._uid,_key:i||this._uid,placeholder:_||"",value:M,name:l||"",disabled:o,required:b,readOnly:R,maxlength:N,minlength:V,max:U,min:B,onblur:this._handlers.onblur,oninput:this._handlers.oninput,onchange:this._handlers.onchange,onfocus:this._handlers.onfocus,onkeydown:this._handlers.onkeydown,class:f?"dhx_input--icon-padding":"",autocomplete:P?"on":"off",_ref:"input","aria-label":F||W||"type ".concat(l||I||"text"),"aria-describedby":W?"dhx_label__help_".concat(i||this._uid):null,_hooks:this._getHooks()})]),(0,y.getValidationMessage)(this.config)&&(0,m.el)("span.dhx_input__caption",(0,y.getValidationMessage)(this.config))])])},a.prototype._getHooks=function(){var r=this,i=this._handlers.oninput;return{didRecycle:function(o,l){r.isFocused()&&(0,p.isDefined)(r._value)&&(l.el.value=r._value)},didInsert:function(o){o.el.addEventListener("compositionend",i)},willRemove:function(o){o.el.removeEventListener("compositionend",i),i=null}}},a}(v.Label);E.Input=c},function(ne,E,D){"use strict";var S,T,C,x,m;Object.defineProperty(E,"__esModule",{value:!0}),E.VaultMode=E.ProgressBarEvents=E.UploaderEvents=E.FileStatus=void 0,D(8),(m=S||(E.FileStatus=S={})).queue="queue",m.uploaded="uploaded",m.failed="failed",m.inprogress="inprogress",function(m){m.uploadBegin="uploadbegin",m.beforeUploadFile="beforeuploadfile",m.uploadFile="uploadfile",m.uploadFail="uploadfail",m.uploadComplete="uploadcomplete",m.uploadProgress="uploadprogress"}(T||(E.UploaderEvents=T={})),function(m){m.cancel="cancel"}(C||(E.ProgressBarEvents=C={})),function(m){m.grid="grid",m.list="list"}(x||(E.VaultMode=x={}))},function(ne,E,D){"use strict";function S(T,C,x){return void 0===x&&(x={}),T.reduce(function(m,p,y){return m[p]=y===T.length-1?C:m[p]||{},m[p]},x),x}Object.defineProperty(E,"__esModule",{value:!0}),E.getValueFromObjectByKeys=E.getModifiedObject=E.createNestedObject=void 0,E.createNestedObject=S,E.getModifiedObject=function(T,C,x){return Array.isArray(T)?x=S(T,C,x):x[T]=C,x},E.getValueFromObjectByKeys=function(T,C){if(T&&C?.length){if("string"==typeof C)return T[C];for(var x=T,m=0,p=C;m<p.length;m++){var y=p[m];if(void 0===x[y])return;x=x[y]}return x}}},function(ne,E){var D;D=function(){return this}();try{D=D||new Function("return this")()}catch{"object"==typeof window&&(D=window)}ne.exports=D},function(ne,E,D){"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.i18n=E.DiagramEditor=E.Diagram=E.setTheme=E.awaitRedraw=void 0,D(123),D(124);var S=D(0);Object.defineProperty(E,"awaitRedraw",{enumerable:!0,get:function(){return S.awaitRedraw}}),Object.defineProperty(E,"setTheme",{enumerable:!0,get:function(){return S.setTheme}});var T=D(63);Object.defineProperty(E,"Diagram",{enumerable:!0,get:function(){return T.Diagram}});var C=D(204);Object.defineProperty(E,"DiagramEditor",{enumerable:!0,get:function(){return C.DiagramEditor}});var x=D(57),m=D(277),p=window;E.i18n=p.dhx&&p.dhx.i18n?p.dhx.i18:{},E.i18n.setLocale=m.setLocale,E.i18n.diagram=E.i18n.diagram||x.default},function(ne,E,D){"use strict";var S,T,C,x;Object.defineProperty(E,"__esModule",{value:!0}),E.MessageContainerPosition=E.Position=E.RealPosition=void 0,(x=S||(E.RealPosition=S={})).left="left",x.right="right",x.top="top",x.bottom="bottom",x.center="center",function(x){x.right="right",x.bottom="bottom",x.center="center",x.left="left",x.top="top"}(T||(E.Position=T={})),function(x){x.topLeft="top-left",x.topRight="top-right",x.bottomLeft="bottom-left",x.bottomRight="bottom-right"}(C||(E.MessageContainerPosition=C={}))},function(ne,E,D){"use strict";(function(S){Object.defineProperty(E,"__esModule",{value:!0}),E.ajax=void 0;var T=D(22),C=D(23);function x(p){return p?p.includes("json")?"json":p.includes("xml")?"xml":"text":"text"}function m(p,y,v,u,h){var a,c=u||{};if(h&&(c.Accept="application/"+h),"GET"!==v&&(c["Content-Type"]=c["Content-Type"]||"application/json"),"GET"===v){var d=y&&"object"==typeof y?(a=y,Object.keys(a).reduce(function(r,i){var o="object"==typeof a[i]?JSON.stringify(a[i]):a[i];return r.push(i+"="+encodeURIComponent(o)),r},[]).join("&")):y&&"string"==typeof y?y:"";d&&(p+=p.includes("?")?"&":"?",p+=d),y=null}return window.fetch?("application/json"===c["Content-Type"]&&y&&"object"==typeof y&&(y=JSON.stringify(y)),window.fetch(p,{method:v,body:y||null,headers:c}).then(function(a){if(!a.ok)return a.text().then(function(o){return S.reject({status:a.status,statusText:a.statusText,message:o})});var r=h||x(a.headers.get("Content-Type"));if("raw"===r)return{headers:Object.fromEntries(a.headers.entries()),url:a.url,body:a.body};if(204!==a.status)switch(r){case"json":return a.json();case"xml":var i=(0,C.toDataDriver)(T.DataDriver.xml);return i?a.text().then(function(o){return i.toJsonObject(o)}):a.text();default:return a.text()}})):new S(function(a,r){var i=new XMLHttpRequest;for(var o in i.onload=function(){i.status>=200&&i.status<300?("raw"===h&&a({url:i.responseURL,headers:i.getAllResponseHeaders().trim().split(/[\r\n]+/).reduce(function(l,f){var _=f.split(": ");return l[_[0]]=_[1],l},{}),body:i.response}),204===i.status?a():a(function(l,f){switch(f){case"json":return JSON.parse(l);case"text":default:return l;case"xml":var _=(0,C.toDataDriver)(T.DataDriver.xml);return _?_.toJsonObject(l):{parseError:"Incorrect data driver type: 'xml'"}}}(i.responseText,h||x(i.getResponseHeader("Content-Type"))))):r({status:i.status,statusText:i.statusText})},i.onerror=function(){r({status:i.status,statusText:i.statusText,message:i.responseText})},i.open(v,p),c)i.setRequestHeader(o,c[o]);switch(v){case"POST":case"DELETE":case"PUT":i.send(void 0!==y?JSON.stringify(y):"");break;default:i.send()}})}E.ajax={get:function(p,y,v){return m(p,y,"GET",v&&v.headers,void 0!==v?v.responseType:void 0)},post:function(p,y,v){return m(p,y,"POST",v&&v.headers,void 0!==v?v.responseType:void 0)},put:function(p,y,v){return m(p,y,"PUT",v&&v.headers,void 0!==v?v.responseType:void 0)},delete:function(p,y,v){return m(p,y,"DELETE",v&&v.headers,void 0!==v?v.responseType:void 0)}}}).call(this,D(17))},function(ne,E,D){"use strict";var S=this&&this.__createBinding||(Object.create?function(C,x,m,p){void 0===p&&(p=m);var y=Object.getOwnPropertyDescriptor(x,m);y&&!("get"in y?!x.__esModule:y.writable||y.configurable)||(y={enumerable:!0,get:function(){return x[m]}}),Object.defineProperty(C,p,y)}:function(C,x,m,p){void 0===p&&(p=m),C[p]=x[m]}),T=this&&this.__exportStar||function(C,x){for(var m in C)"default"===m||Object.prototype.hasOwnProperty.call(x,m)||S(x,C,m)};Object.defineProperty(E,"__esModule",{value:!0}),T(D(144),E),T(D(79),E)},function(ne,E,D){"use strict";var S,T=this&&this.__extends||(S=function(y,v){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,h){u.__proto__=h}||function(u,h){for(var c in h)Object.prototype.hasOwnProperty.call(h,c)&&(u[c]=h[c])})(y,v)},function(y,v){if("function"!=typeof v&&null!==v)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");function u(){this.constructor=y}S(y,v),y.prototype=null===v?Object.create(v):(u.prototype=v.prototype,new u)});Object.defineProperty(E,"__esModule",{value:!0}),E.Layout=void 0;var C=D(50),x=D(74),m=D(0),p=function(y){function v(u,h){var c=y.call(this,u,h)||this;if(c._root=c.config.parent||c,c._all={},c._parseConfig(),c._progress=!1,c.config.activeTab&&(c.config.activeView=c.config.activeTab),c.config.views&&(c.config.activeView=c.config.activeView||c._cells[0].id,c._isViewLayout=!0),!h.parent){var d=(0,m.create)({render:function(){return c._root&&c.toVDOM()}},c);c.mount(u,d)}return c}return T(v,y),v.prototype.destructor=function(){if(this.unmount(),this.config){for(var u=0,h=this._cells;u<h.length;u++){var c=h[u];c?.destructor()}this.config=this._cells=this._root=this._xLayout=this._isViewLayout=null,this._all={}}},v.prototype.toVDOM=function(){var u;if(this._isViewLayout){var h=[this.getCell(this.config.activeView).toVDOM()];return y.prototype.toVDOM.call(this,h)}var c=[];return this._inheritTypes(),null===(u=this._cells)||void 0===u||u.forEach(function(d){var a=d.toVDOM();Array.isArray(a)?c=c.concat(a):c.push(a)}),y.prototype.toVDOM.call(this,c)},v.prototype.removeCell=function(u){if(this.events.fire(C.LayoutEvents.beforeRemove,[u])){var h=this.config.parent||this;if(h===this){var c=this.getCell(u);if(c){var d=c.getParent();delete this._all[u],d._cells=d._cells.filter(function(a){return a.id!=u}),d.paint()}this.events.fire(C.LayoutEvents.afterRemove,[u])}else h.removeCell(u)}},v.prototype.addCell=function(u,h){if(void 0===h&&(h=-1),this.events.fire(C.LayoutEvents.beforeAdd,[u.id])){var c=this._createCell(u);h<0&&(h=this._cells.length+h+1),this._cells.splice(h,0,c),this.paint(),this.events.fire(C.LayoutEvents.afterAdd,[u.id])}},v.prototype.getId=function(u){return u<0&&(u=this._cells.length+u),this._cells[u]?this._cells[u].id:void 0},v.prototype.getRefs=function(u){return this._root.getRootView().refs[u]},v.prototype.getCell=function(u){var h;return null===(h=this._root)||void 0===h?void 0:h._all[u]},v.prototype.forEach=function(u,h,c){if(void 0===c&&(c=1/0),this._haveCells(h)&&!(c<1)){var d;d=h?this._root._all[h]._cells:this._root._cells;for(var a=0;a<d.length;a++){var r=d[a];u.call(this,r,a,d),this._haveCells(r.id)&&r.forEach(u,r.id,--c)}}},v.prototype.cell=function(u){return this.getCell(u)},v.prototype.progressShow=function(){this._progress=!0,this.paint()},v.prototype.progressHide=function(){this._progress=!1,this.paint()},v.prototype._initHandlers=function(){var u=this;this._handlers={enterCollapse:function(h){13===h.keyCode&&u._handlers.toggle()},collapse:function(){u.config.collapsable&&u.collapse()},expand:function(){u.config.collapsable&&u.expand()},toggle:function(){u.config.collapsable&&u.toggle()}}},v.prototype._getCss=function(u){var h=this._xLayout?"dhx_layout-columns":"dhx_layout-rows",c=this.config.align?" "+h+"--"+this.config.align:"";return u?h+" dhx_layout-cell"+(this.config.align?" dhx_layout-cell--"+this.config.align:""):(this.config.parent?y.prototype._getCss.call(this):"dhx_widget dhx_layout")+(this.config.full?this.config.parent?"":" dhx_layout-cell":" "+h)+c},v.prototype._parseConfig=function(){var u=this,h=this.config,c=h.rows||h.cols||h.views||[];this._xLayout=!h.rows,this._cells=c.map(function(d){return u._createCell(d)})},v.prototype._createCell=function(u){var h;return u.rows||u.cols||u.views?(u.parent=this._root,h=new v(this,u)):h=new x.Cell(this,u),this._root._all[h.id]=h,u.init&&u.init(h,u),h},v.prototype._haveCells=function(u){if(u){var h=this._root._all[u];return h._cells&&h._cells.length>0}return Object.keys(this._all).length>0},v.prototype._inheritTypes=function(u){var h=this;if(void 0===u&&(u=this._cells),Array.isArray(u))u.forEach(function(a){return h._inheritTypes(a)});else{var c=u?.config;if(c?.rows||c?.cols){var d=u.getParent();!c.type&&d&&(d.config.type?c.type=d.config.type:this._inheritTypes(d))}}},v}(x.Cell);E.Layout=p},function(ne,E,D){"use strict";var S,T;Object.defineProperty(E,"__esModule",{value:!0}),E.LayoutEvents=void 0,(T=S||(E.LayoutEvents=S={})).beforeShow="beforeShow",T.afterShow="afterShow",T.beforeHide="beforeHide",T.afterHide="afterHide",T.beforeResizeStart="beforeResizeStart",T.resize="resize",T.afterResizeEnd="afterResizeEnd",T.beforeAdd="beforeAdd",T.afterAdd="afterAdd",T.beforeRemove="beforeRemove",T.afterRemove="afterRemove",T.beforeCollapse="beforeCollapse",T.afterCollapse="afterCollapse",T.beforeExpand="beforeExpand",T.afterExpand="afterExpand"},function(ne,E,D){"use strict";var S=this&&this.__createBinding||(Object.create?function(C,x,m,p){void 0===p&&(p=m);var y=Object.getOwnPropertyDescriptor(x,m);y&&!("get"in y?!x.__esModule:y.writable||y.configurable)||(y={enumerable:!0,get:function(){return x[m]}}),Object.defineProperty(C,p,y)}:function(C,x,m,p){void 0===p&&(p=m),C[p]=x[m]}),T=this&&this.__exportStar||function(C,x){for(var m in C)"default"===m||Object.prototype.hasOwnProperty.call(x,m)||S(x,C,m)};Object.defineProperty(E,"__esModule",{value:!0}),T(D(80),E),T(D(161),E),T(D(86),E)},function(ne,E,D){"use strict";var S,T;Object.defineProperty(E,"__esModule",{value:!0}),E.ListEvents=void 0,(T=S||(E.ListEvents=S={})).click="click",T.doubleClick="doubleclick",T.focusChange="focuschange",T.beforeEditStart="beforeEditStart",T.afterEditStart="afterEditStart",T.beforeEditEnd="beforeEditEnd",T.afterEditEnd="afterEditEnd",T.itemRightClick="itemRightClick",T.itemMouseOver="itemMouseOver",T.contextmenu="contextmenu"},function(ne,E,D){"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.shapesFactory=E.shapes=void 0;var S=D(89),T=D(187),C=D(55),x=D(188),m=D(90),p=D(189);for(var y in E.shapes={card:S.Card,"img-card":T.ImgCard,text:x.TextShape,topic:p.TopicShape},C.flowShapes)E.shapes[y]=C.FlowShape;E.shapesFactory=function(v,u){var h=E.shapes[v.type];return!h&&(h=E.shapes.card,u.shapes[v.type])?new m.CustomShape(v,u):new h(v,u)}},function(ne,E,D){"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.BaseItem=void 0;var S=function(){function T(C,x){this.editableProperty={key:null,editableId:null},this.config=this.setDefaults(C,"line"===C.type||"dash"===C.type?x:x.defaults),this.id=this.config.id=C.id}return T.prototype.isFixed=function(){return this.config.fixed},T.prototype.isEditable=function(){return this.config.editable||!1},T.prototype.getBaseType=function(){return"base"},T.prototype.isLocate=function(C){var x=this.config,m=x.x,p=x.y,u=x.dx,h=void 0===u?0:u,c=x.dy,d=void 0===c?0:c;return m+x.width+h>=C.x&&m+h<=C.x+C.width&&p+x.height+d>=C.y&&p+d<=C.y+C.height},T.prototype.getBox=function(){var C=this.config,x=C.x,p=C.y,v=C.dx,h=C.dy,c=(void 0===x?0:x)+(void 0===v?0:v),d=(void 0===p?0:p)+(void 0===h?0:h);return{left:c,right:c+C.width,top:d,bottom:d+C.height}},T.prototype.canResize=function(){return!0},T.prototype.render=function(){return""},T.prototype.getEditorNode=function(){return this.editorNode},T.prototype.setEditorNode=function(C,x,m){this.editorNode=C,x&&(this.editableProperty.key=x),m&&(this.editableProperty.editableId=m)},T.prototype.destructor=function(){this.config=this.id=null},T.prototype.getCss=function(){var C=this.config,m=C.$target,p=C.assistant,y=void 0!==p&&p,v=C.partner,u=void 0!==v&&v,h=C.catchItem,c=void 0===h||h,d=C.$move,a=C.type,r=this.config.css||"";return C.$selected&&"line"!==this.getBaseType()&&(r+=" dhx_diagram_item--selected"),d&&"$sgroup"!==a&&(r+=" dhx_diagram_item--move"),m&&(r+=y||u||!c?" dhx_action__target dhx_action__target--doesnt_take":" dhx_action__target dhx_action__target--take"),r},T.prototype.setDefaults=function(C,x){return C},T.prototype.getCoords=function(C){var x=C.dx,m=C.dy,u=C.x,h=C.y;return x&&(u+=x),m&&(h+=m),C.$group?{x:C.$gx,y:C.$gy}:(delete C.$gx,delete C.$gy,{x:u,y:h})},T}();E.BaseItem=S},function(ne,E,D){"use strict";var S,T=this&&this.__extends||(S=function(v,u){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,c){h.__proto__=c}||function(h,c){for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(h[d]=c[d])})(v,u)},function(v,u){if("function"!=typeof u&&null!==u)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function h(){this.constructor=v}S(v,u),v.prototype=null===u?Object.create(u):(h.prototype=u.prototype,new h)}),C=this&&this.__spreadArray||function(v,u,h){if(h||2===arguments.length)for(var c,d=0,a=u.length;d<a;d++)!c&&d in u||(c||(c=Array.prototype.slice.call(u,0,d)),c[d]=u[d]);return v.concat(c||Array.prototype.slice.call(u))};Object.defineProperty(E,"__esModule",{value:!0}),E.flowShapes=E.FlowShape=void 0;var x=D(0),m=D(28),p=D(19),y=function(v){function u(h,c){return v.call(this,h,c)||this}return T(u,v),u.prototype.setDefaults=function(h,c){var d=h.width,a=h.height,r=h.stroke,i=h.fill,o=h.strokeWidth,l=h.fontColor,f=h.strokeDash,_=h.textAlign,b=h.lineHeight,I=h.fontStyle,O=h.textVerticalAlign,R=h.fontSize,N=h.text,V=h.preview,U=h.x,B=h.y,F=h.fixed,W=h.editable,M=["circle","or","junction"].includes(h.type),$=c.width?parseFloat(c.width):M?90:140,Y=c.height?parseFloat(c.height):90,ee=c.lineHeight?parseFloat(c.lineHeight):14,J=c.fontSize?parseFloat(c.fontSize):14,Z=c.strokeWidth?parseFloat(c.strokeWidth):1;return h.strokeWidth=o||Z,h.width=d||$,h.height=a||Y,h.fontSize=R||J,h.lineHeight=b||ee,h.strokeDash=f||c.strokeDash||"",h.fill=i||c.fill||"#EEF1F6",h.stroke=r||c.stroke||"#B8C6D6",h.text="string"==typeof N?N:c.text||"",h.textAlign=_||c.textAlign||"center",h.textVerticalAlign=O||c.textVerticalAlign||"center",h.fontStyle=I||c.fontStyle||"normal",h.fontColor=l||c.fontColor||"#4C4C4C",h.preview=V||c.preview,h.x=U||0,h.y=B||0,h.fixed=F||!1,h.editable="boolean"!=typeof W||W,h},u.prototype.getContent=function(){var h=this.config,c=h.text,d=h.$editable;return[(0,x.el)("div.dhx_diagram_item__text",{style:(0,p.getShapeCss)(this.config)},d?[this.getEditorNode()]:c)]},u.prototype.render=function(){var h=this;this.config.strokeType||(this.config.strokeType="line"),"line"===this.config.strokeType&&(this.config.strokeDash="0"),"dash"===this.config.strokeType&&(this.config.strokeDash="5,5");var c=this.config,d=c.id,a=c.angle,r=c.width,i=c.height,o=c.strokeWidth,f=c.$selected,_=c.$group||f?f?2:1:0,b=this.getCoords(this.config),I=o/2,O=[];return Array.isArray(this.config.dir)?this.config.dir.forEach(function(P,R){O.push((0,p.getCircleTpl)(h.config,R))}):O.push((0,p.getCircleTpl)(this.config)),(0,x.el)("div.dhx_diagram_item.dhx_diagram_shape.dhx_diagram_shape_flow",{_key:d,class:this.getCss(),"data-dhx-id":d,style:{transform:"rotate(".concat(a||0,"deg)"),position:"absolute",height:i,width:r,top:b.y,left:b.x,zIndex:_}},C([(0,x.sv)("svg",{xmlns:"http://www.w3.org/2000/svg",height:i,width:r,viewBox:"".concat(-I," ").concat(-I," ").concat(r+I," ").concat(i+I),reserveAspectRatio:"none"},this._getShapeContour()),(0,p.getTextTemplate)(this.config,this.getContent())],O,!0))},u.prototype._getShapeContour=function(){var h,V,c=this.config,d=c.width,a=c.height,r=c.stroke,i=c.fill,o=c.strokeWidth,l=c.strokeDash,_=c.strokeType,b=E.flowShapes[c.type],I=Math.round(d/12),O=d-o/2,P=a-o/2,R=b.path(O,P,I),N=b.additionalPath(O,P,I);return[(h=R,(0,x.sv)("path",{d:h,class:"dhx_diagram_shape_flow__svg ",stroke:"none"!==_&&r,fill:i,"stroke-width":o,"stroke-dasharray":l})),(V=N,(0,x.sv)("path",{d:V,fill:"none",stroke:r,class:"dhx_diagram_shape_flow__extra-line"}))]},u}(m.BaseShape);E.FlowShape=y,E.flowShapes={circle:{path:function(v,u){return"\n\t\t\tM ".concat(v/2," 0 A ").concat(u/2,",").concat(u/2," 0 1 0 ").concat(v/2,",").concat(u,"\n\t\t\tA ").concat(u/2,",").concat(u/2," 0 1 0 ").concat(v/2,",0 Z")},additionalPath:function(){}},rectangle:{path:function(v,u){return"M 0,0 L 0,".concat(u," L ").concat(v,",").concat(u," L ").concat(v,",0 Z")},additionalPath:function(){}},triangle:{path:function(v,u){return"M ".concat(v/2," 0 L").concat(v," ").concat(u," L 0 ").concat(u," z")},additionalPath:function(){}},start:{path:function(v,u){return"\n\t\t\tM ".concat(u/2," 0 A ").concat(u/2,",").concat(u/2," 0 1 0 ").concat(u/2,",").concat(u,"\n\t\t\tH ").concat(v-u/2," A ").concat(u/2,",").concat(u/2," 0 1 0 ").concat(v-u/2,",0 H ").concat(u/2," Z")},additionalPath:function(){}},end:{path:function(v,u){return"\n\t\t\tM ".concat(u/2," 0 A ").concat(u/2,",").concat(u/2," 0 1 0 ").concat(u/2,",").concat(u,"\n\t\t\tH ").concat(v-u/2," A ").concat(u/2,",").concat(u/2," 0 1 0 ").concat(v-u/2,",0 H ").concat(u/2," Z")},additionalPath:function(){}},process:{path:function(v,u){return"M 0,0 L 0,".concat(u," L ").concat(v,",").concat(u," L ").concat(v,",0 Z")},additionalPath:function(){}},output:{path:function(v,u,h){return"M ".concat(2*h,",0 ").concat(v,",0 ").concat(v-2*h,",").concat(u," 0,").concat(u," Z")},additionalPath:function(){}},decision:{path:function(v,u){return"M 0 ".concat(u/2," L ").concat(v/2," 0 L ").concat(v," ").concat(u/2," L ").concat(v/2," ").concat(u," Z")},additionalPath:function(){}},display:{path:function(v,u){return"\n\t\t\tM 0 ".concat(u/2," L ").concat(v/4," 0 H ").concat(3*v/4,"\n\t\t\tA ").concat(v/4,",").concat(u/2," 0 1 1 ").concat(3*v/4,",").concat(u,"\n\t\t\tH ").concat(v/4," Z")},additionalPath:function(){}},document:{path:function(v,u){return"M0 ".concat(u-=8," C\n\t\t\t").concat(v/6," ").concat(10*u/9,",\n\t\t\t").concat(v/3," ").concat(10*u/9,",\n\t\t\t").concat(v/2," ").concat(u," S\n\t\t\t").concat(5*v/6," ").concat(8*u/9,",\n\t\t\t").concat(v," ").concat(u,"\n\t\t\tV 0 H 0 Z")},additionalPath:function(){}},data:{path:function(v,u,h){return"M ".concat(h," 0 Q\n\t\t\t").concat(-h," ").concat(u/2,",\n\t\t\t").concat(h," ").concat(u," H ").concat(v," Q\n\t\t\t").concat(v-2*h," ").concat(u/2,",\n\t\t\t").concat(v," 0 Z")},additionalPath:function(){}},database:{path:function(v,u,h){return"M 0 ".concat(h," A ").concat(v/2,",").concat(h," 0 1 0 ").concat(v,",").concat(h,"\n\t\t\tA ").concat(v/2,",").concat(h," 0 1 0 0,").concat(h,"\n\t\t\tV ").concat(u," H ").concat(v," V ").concat(h)},additionalPath:function(v,u,h){return"M 0 ".concat(h," A ").concat(v/2,",").concat(h," 0 1 0 ").concat(v,",").concat(h)}},internal:{path:function(v,u){return"M 0,0 L 0,".concat(u," L ").concat(v,",").concat(u," L ").concat(v,",0 Z")},additionalPath:function(v,u,h){return"M ".concat(h," 0 V ").concat(u," M 0 ").concat(h," H ").concat(v)}},offline:{path:function(v,u){return"M 0,0 ".concat(v,",0 ").concat(v/2,",").concat(u," Z")},additionalPath:function(v,u,h){var c=u/Math.sqrt(Math.pow(v/2,2)+Math.pow(u,2)),d=Math.sqrt(Math.pow(h/c,2)-Math.pow(h,2));return"M ".concat(v/2-d," ").concat(u-h," h ").concat(2*d)}},delay:{path:function(v,u){return"\n\t\t\tM 0 0 H ".concat(3*v/4,"\n\t\t\tA ").concat(v/4,",").concat(u/2," 0 1 1 ").concat(3*v/4,",").concat(u,"\n\t\t\tH 0 Z")},additionalPath:function(){}},page:{path:function(v,u){return"\n\t\t\tM 0,0\n\t\t\t".concat(v,",0\n\t\t\t").concat(v,",").concat(u/2,"\n\t\t\t").concat(v/2,",").concat(u,"\n\t\t\t0,").concat(u/2," Z")},additionalPath:function(){}},input:{path:function(v,u){return"\n\t\t\tM 0,".concat(u/3,"\n\t\t\t").concat(v,",").concat(0,"\n\t\t\t").concat(v,",").concat(u,"\n\t\t\t0,").concat(u," Z")},additionalPath:function(){}},operation:{path:function(v,u){return"\n\t\t\tM 0,0\n\t\t\t".concat(v,",0\n\t\t\t").concat(3*v/4,",").concat(u,"\n\t\t\t").concat(v/4,",").concat(u," Z")},additionalPath:function(){}},punchcard:{path:function(v,u){return"\n\t\t\tM 0,".concat(u/4,"\n\t\t\t").concat(v/4,",0\n\t\t\t").concat(v,",0\n\t\t\t").concat(v,",").concat(u,"\n\t\t\t0,").concat(u," Z")},additionalPath:function(){}},subroutine:{path:function(v,u){return"M 0,0 L 0,".concat(u," L ").concat(v,",").concat(u," L ").concat(v,",0 Z")},additionalPath:function(v,u,h){return"M ".concat(h," 0 V ").concat(u," M ").concat(v-h," 0 V ").concat(u)}},comment:{path:function(v,u){return"M ".concat(v," 0 H 0 V ").concat(u," H").concat(v," V").concat(u-4," H").concat(4," V").concat(4," H").concat(v)},additionalPath:function(){}},storage:{path:function(v,u){return"M 0,0 ".concat(v,",0 ").concat(v/2,",").concat(u," Z")},additionalPath:function(){}},extract:{path:function(v,u){return"M 0,".concat(u," ").concat(v,",").concat(u," ").concat(v/2,",0 Z")},additionalPath:function(){}},collate:{path:function(v,u){return"M ".concat(v/2," ").concat(u/2," L 0 0 H ").concat(v," L 0 ").concat(u," H ").concat(v," Z")},additionalPath:function(){}},or:{path:function(v,u){return"\n\t\t\tM ".concat(v/2," 0 A ").concat(u/2,",").concat(u/2," 0 1 0 ").concat(v/2,",").concat(u,"\n\t\t\tA ").concat(u/2,",").concat(u/2," 0 1 0 ").concat(v/2,",0 Z")},additionalPath:function(v,u){return"\n\t\t\tM".concat((v-u)/2," ").concat(u/2," ").concat(v-(v-u)/2," ").concat(u/2,"\n\t\t\tM").concat(v/2," ").concat(0," ").concat(v/2," ").concat(u)}},junction:{path:function(v,u){return"\n\t\t\tM ".concat(v/2," 0 A ").concat(u/2,",").concat(u/2," 0 1 0 ").concat(v/2,",").concat(u,"\n\t\t\tA ").concat(u/2,",").concat(u/2," 0 1 0 ").concat(v/2,",0 Z")},additionalPath:function(v,u){return"\n\t\t\tM ".concat(v/2-u*Math.SQRT2/4," ").concat(u/2-u*Math.SQRT2/4," L ").concat(v/2+u*Math.SQRT2/4," ").concat(u/2+u*Math.SQRT2/4,"\n\t\t\tM ").concat(v/2-u*Math.SQRT2/4," ").concat(u/2+u*Math.SQRT2/4," L ").concat(v/2+u*Math.SQRT2/4," ").concat(u/2-u*Math.SQRT2/4)}},keyring:{path:function(v,u,h){return"\n\t\t\tM ".concat(h," 0 A ").concat(h,",").concat(u/2," 0 1 0 ").concat(h,",").concat(u,"\n\t\t\tH ").concat(v-h," A ").concat(h,",").concat(u/2," 0 1 0 ").concat(v-h,",0 H ").concat(h," Z")},additionalPath:function(){}},tape:{path:function(v,u){return"\n\t\t\tM0 ".concat(u-12," C\n\t\t\t").concat(v/6," ").concat(10*(u-8)/9,",\n\t\t\t").concat(v/3," ").concat(10*(u-8)/9,",\n\t\t\t").concat(v/2," ").concat(u-8," S\n\t\t\t").concat(5*v/6," ").concat(8*(u-8)/9,",\n\t\t\t").concat(v," ").concat(u,"\n\t\t\tV 12 C\n\t\t\t").concat(5*v/6," ").concat(-u/9,",\n\t\t\t").concat(2*v/3," ").concat(u/9/2,",\n\t\t\t").concat(v/2," 8 S\n\t\t\t").concat(v/6," ").concat(u/9,",\n\t\t\t0 0 Z")},additionalPath:function(){}},preparation:{path:function(v,u){return"M0 ".concat(u/2,"L").concat(20," 0H").concat(v-20,"L ").concat(v," ").concat(u/2,"L").concat(v-20," ").concat(u,"H").concat(20,"L0 ").concat(u/2,"Z")},additionalPath:function(){}},endpoint:{path:function(v,u){return"M0 ".concat(u/2,"  L").concat(v/2," ").concat(0," L ").concat(v/2," ").concat(u," z")},additionalPath:function(){}},roll:{path:function(v,u){return"\n\t\t\tM ".concat(v/2," 0 A ").concat(u/2,",").concat(u/2," 0 1 0 ").concat(v/2,",").concat(u,"\n\t\t\tA ").concat(u/2,",").concat(u/2," 0 1 0 ").concat(v/2,",0 Z")},additionalPath:function(v,u){return"M ".concat(v/2," ").concat(u," H ").concat(v)}}}},function(ne,E,D){"use strict";var S=this&&this.__spreadArray||function(C,x,m){if(m||2===arguments.length)for(var p,y=0,v=x.length;y<v;y++)!p&&y in x||(p||(p=Array.prototype.slice.call(x,0,y)),p[y]=x[y]);return C.concat(p||Array.prototype.slice.call(x))};Object.defineProperty(E,"__esModule",{value:!0});var T=function(){function C(x,m,p){this._tbounds=[0,0],x?(this.nodes=[m],x.collectSubNodes(m,this.nodes),this.hash=x.hash,this.root(m,p)):(this.nodes=[],this.hash={})}return C.prototype.copy=function(){var x=this,m=new C;return m.nodes=this.nodes.map(function(p){return{id:p.id,w:p.w,h:p.h,x:p.x,y:p.y,kids:[],links:[],isn:p.isn,iss:p.iss}}),m.hash={},m.nodes.forEach(function(p){m.hash[p.id]=p}),m.nodes.forEach(function(p){p.kids=x.hash[p.id].kids.map(function(y){return m.hash[y.id]}),p.links=x.hash[p.id].links.map(function(y){return m.hash[y.id]})}),m._tbounds=[].concat(this._tbounds),m._ybounds=[].concat(this._ybounds),m._bounds=this._bounds?this._bounds.map(function(p){return[].concat(p)}):[],m.routes=this.routes,m._root=this._root?m.hash[this._root.id]:null,m},C.prototype.collectSubNodes=function(x,m){for(var p=0;p<x.kids.length;p++){var y=x.kids[p];m.push(y),y.kids&&this.collectSubNodes(y,m)}},C.prototype.getLevelBounds=function(){return this._bounds},C.prototype.getBounds=function(x,m,p){var y;return[(y=p?this._tbounds:this._bounds[x])[0]?y[0]-m/4:0,y[1]?y[1]+m/4:0]},C.prototype.addEdge=function(x,m){var p=this.hash[x],y=this.hash[m];p.links.push(y),y.links.push(p)},C.prototype.importNodes=function(x){var m=this;x.forEach(function(p){m.hash[p.id]=p,m.nodes.push(p)})},C.prototype.split=function(x){var m=this,p=[];if(this.nodes=this.nodes.filter(function(v){return!x(v)||(delete m.hash[v.id],p.push(v),!1)}),!p.length)return null;var y=new C;return y.importNodes(p),y},C.prototype.addNode=function(x){x.kids=[],x.links=[],this._root||(this._root=x),this.hash[x.id]=x,this.nodes.push(x)},C.prototype.setRoot=function(){var x=this.nodes[0];this.nodes.forEach(function(m){m.id!==x.id&&m.links.length&&(x=m.links.length>x.links.length?m:x)}),this._root=x},C.prototype.getNode=function(x){return this.hash[x]},C.prototype.getRoot=function(){return this._root},C.prototype.getLevels=function(){return this._deep},C.prototype.clean=function(){this.nodes.forEach(function(x){if(x.links.length>1){var m=[];x.links=x.links.filter(function(p){return!m.includes(p)&&x!==p&&(m.push(p),!0)})}})},C.prototype.getNodes=function(){return this.nodes},C.prototype.getBox=function(){return[this._tbounds,this._ybounds]},C.prototype.setGlobalBox=function(){var x,m,p,y;this.nodes.length&&(x=p=1/0,m=y=-1/0,this.nodes.forEach(function(v){var u=v.x-v.w/2,h=v.x+v.w/2,c=v.y-v.h/2,d=v.y+v.h/2;u<x&&(x=u),c<p&&(p=c),h>m&&(m=h),d>y&&(y=d)}),this._tbounds=[x,m],this._ybounds=[p,y])},C.prototype.translate=function(x){if(this.nodes.forEach(function(p){p.x+=x.x,p.y+=x.y}),this._tbounds[0]+=x.x,this._tbounds[1]+=x.x,this._bounds)for(var m=0;m<this._bounds.length;m++)this._bounds[m][0]+=x.x,this._bounds[m][1]+=x.x;this._ybounds&&(this._ybounds[0]+=x.y,this._ybounds[1]+=x.y)},C.prototype.rotate=function(x){var m=x.x,p=x.y;this.nodes.forEach(function(a){var i=a.x*m+a.y*p;a.x=a.x*p-a.y*m,a.y=i});var y=this._tbounds,v=y[0],u=y[1],h=this._ybounds,c=h[0],d=h[1];this._tbounds=[v*p-c*m,u*p-d*m].sort(),this._ybounds=[v*m+c*p,u*m+d*p].sort()},C.prototype.setBox=function(){var m=-1/0;this._deep[this._deep.length-1].forEach(function(p){var y=p.y+p.h/2;y>m&&(m=y)}),this._ybounds=[this._root.y-this._root.h/2,m]},C.prototype.mirror=function(){this.nodes.forEach(function(c){c.x=-c.x});for(var x=0;x<this._bounds.length;x++){var m=this._bounds[x];this._bounds[x]=[-m[1],-m[0]]}var v=this._tbounds;this._tbounds=[-v[1],-v[0]]},C.prototype.nonLeaves=function(x){return x.kids.filter(function(m){return m.kids.length>0})},C.prototype.toTree=function(x){return x&&this.hash[x.id]||(x=this._detectRoot()),this.nodes.forEach(function(m){return m.kids=[]}),this.setKids(x),this.cleanKids(x,[x.id]),x},C.prototype.root=function(x,m){this._deep=[[x]];var p=Math.round((m&&m.rotate?x.h:x.w)/2);this._tbounds=[-p,p],this._bounds=[[-p,p]],this._leaves=[],this._root=x,this._setLevels(x,1),this._width=1;for(var y=0;y<this._deep.length;y++){var v=this._deep[y].length;v>this._width&&(this._width=v)}},C.prototype.setKids=function(x){var m=this;x.links.forEach(function(p){x.kids.push(p),p.kids.length||m.setKids(p)})},C.prototype.cleanKids=function(x,m,p){var y=this;void 0===p&&(p=[]);var v=S([],x.kids,!0);x.kids.forEach(function(u){if(m.includes(u.id)){var h=v.findIndex(function(c){return c.id===u.id});h>-1&&v.splice(h,1)}else m.push(u.id)}),x.kids=v,x.kids.forEach(function(u){u.kids.length&&!p.includes(u.id)&&y.cleanKids(u,m,p)}),p.push(x.id)},C.prototype._detectRoot=function(){var x={},m=this.nodes,p=[];do{p.forEach(function(y){return x[y]=1}),p=[],m=m.filter(function(y){var v=y.links.map(function(u){return x[u.id]?0:1}).reduce(function(u,h){return u+h},0)>1;return v||p.push(y.id),v})}while(m.length>2&&p.length);return m[0]||this.nodes[0]},C.prototype._setLevels=function(x,m){for(var p=x.kids,y=0;y<p.length;y++){var v=p[y],u=this._deep[m];u?u.push(v):(this._deep[m]=[v],this._bounds[m]=[0,0]),v.kids.length?this._setLevels(v,m+1):this._leaves.push(v)}},C.prototype.getIString=function(){for(var x=[],m=0;m<this._leaves.length;m++)this._leaves[m].isn=0,this._leaves[m].iss="";for(m=this._deep.length-2;m>=0;m--){for(var p=this._deep[m].filter(function(d){return d.kids.length>0}),y=0;y<p.length;y++)for(var v=p[y],u=0;u<v.kids.length;u++)v.iss=v.kids.map(function(d){return d.isn}).sort().join(",");p.sort(function(d,a){return d.iss>a.iss?1:-1}),x.push(p.map(function(d){return d.iss}).join("|"));var h=p[0].iss,c=1;for(y=0;y<p.length;y++)h!==p[y].iss&&(h=p[y].iss,c++),p[y].isn=c}return x.join(";")},C}();E.default=T},function(ne,E,D){"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.en=void 0,E.en={addColumnLast:"Add column",addLeftShape:"Add left shape",addLineTitle:"Add title",addRightShape:"Add right shape",addRowLast:"Add row",addShape:"Add shape",alignHorizontalCenter:"Align horizontal center",alignHorizontalDistribution:"Distribute horizontal spacing",alignHorizontalLeft:"Align left",alignHorizontalRight:"Align right",alignVerticalBottom:"Align bottom",alignVerticalDistribution:"Distribute vertical spacing",alignVerticalMiddle:"Align vertical center",alignVerticalTop:"Align top",connect:"Connect",copy:"Duplicate",lineTitleAutoPositionDisable:"Disable title auto position",lineTitleAutoPositionEnable:"Enable title auto position",menu:"Menu",menuAddAssistant:"Add assistant",menuAddColumnLeft:"Add column left",menuAddColumnRight:"Add column right",menuAddPartner:"Add partner",menuAddRowDown:"Add row down",menuAddRowUp:"Add row up",menuAlignChildrenHorizontally:"Align children horizontally",menuAlignChildrenVertically:"Align children vertically",menuDelete:"Delete",menuDeleteCol:"Delete column",menuDeleteRow:"Delete row",menuMoveColumnLeft:"Move column left",menuMoveColumnRight:"Move column right",menuMoveRowDown:"Move row down",menuMoveRowUp:"Move row up",remove:"Delete",removePoint:"Delete point",text:"Text",title:"Title",shapebar:{shapeSections:"Shapes",groupSections:"Groups",swimlaneSections:"Swimlanes",group:"Group",swimlaneCols:"Swimlane cols",swimlaneRows:"Swimlane rows",swimlaneMix:"Swimlane mix",untitled:"Untitled"},editbar:{arrange:"Arrange",border:"Border",fill:"Fill",gridStep:"Grid step",header:"Header",headerColor:"Header color",headerPosition:"Position",image:"Image",lineShape:"Line shape",lineStyle:"Line style",pointerView:"Pointer view",positionOffset:"Position offset",size:"Size",subheaderCols:"Subheader for columns",subheaderRows:"Subheader for rows",text:"Text",textAlignment:"Text alignment",textStyle:"Text style",title:"Title"},toolbar:{align:"Align",alignHorizontalCenter:"Horizontal center",alignHorizontalLeft:"Left",alignHorizontalRight:"Right",alignVerticalBottom:"Bottom",alignVerticalCenter:"Vertical center",alignVerticalTop:"Top",arrange:"Arrange",connectionPoints:"Connection points",copy:"Copy",copyStyle:"Copy style",distribute:"Distribute",distributeHorizontal:"Horizontal",distributeVertical:"Vertical",duplicate:"Duplicate",edit:"Edit",editbar:"Edit bar",export:"Export as",exportJson:"JSON",exportPdf:"PDF",exportPng:"PNG",file:"File",grid:"Grid",gridStep:"Grid step",importJson:"Import from JSON",itemsDraggable:"Draggable items",layout:"Auto layout",layoutMode:"Placement mode",layoutModeDirect:"Direct",layoutModeEdges:"Edges",layoutOrthogonal:"Orthogonal",layoutRadial:"Radial",magnetic:"Magnetic",paste:"Paste",pasteStyle:"Paste style",redo:"Redo",resizePoints:"Resize points",selectAll:"Select all",selectNone:"Select none",shapebar:"Shape bar",theme:"Theme",themeDark:"Dark",themeDarkContrast:"Dark contrast",themeLight:"Light",themeLightContrast:"Light contrast",undo:"Undo",view:"View",zoomIn:"Zoom in",zoomOut:"Zoom out"},hotkey:{"Alt+1":"Alt+1","Alt+2":"Alt+2","Alt+3":"Alt+3","Ctrl+Z":"Ctrl+Z","Ctrl+Shift+Z":"Ctrl+Shift+Z","Ctrl+D":"Ctrl+D","Ctrl+C":"Ctrl+C","Ctrl+V":"Ctrl+V","Ctrl+Alt+C":"Ctrl+Alt+C","Ctrl+Alt+V":"Ctrl+Alt+V","Ctrl+A":"Ctrl+A","Ctrl+Shift+A":"Ctrl+Shift+A","Ctrl+Mousewheel":"Ctrl+Mousewheel","CMD+Z":"CMD+Z","CMD+Shift+Z":"CMD+Shift+Z","CMD+D":"CMD+D","CMD+C":"CMD+C","CMD+V":"CMD+V","CMD+Alt+C":"CMD+Alt+C","CMD+Alt+V":"CMD+Alt+V","CMD+A":"CMD+A","CMD+Shift+A":"CMD+Shift+A","CMD+Mousewheel":"CMD+Mousewheel"}},E.default=E.en},function(ne,E,D){"use strict";var S,T=this&&this.__extends||(S=function(u,h){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,d){c.__proto__=d}||function(c,d){for(var a in d)Object.prototype.hasOwnProperty.call(d,a)&&(c[a]=d[a])})(u,h)},function(u,h){if("function"!=typeof h&&null!==h)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");function c(){this.constructor=u}S(u,h),u.prototype=null===h?Object.create(h):(c.prototype=h.prototype,new c)}),C=this&&this.__assign||function(){return C=Object.assign||function(u){for(var h,c=1,d=arguments.length;c<d;c++)for(var a in h=arguments[c])Object.prototype.hasOwnProperty.call(h,a)&&(u[a]=h[a]);return u},C.apply(this,arguments)};Object.defineProperty(E,"__esModule",{value:!0}),E.BaseGroup=void 0;var x=D(0),m=D(39),p=D(54),y=D(19),v=function(u){function h(c,d){var a=u.call(this,c,d)||this;return a.data=d.data,a.setMinBox(),a}return T(h,u),h.prototype.getBaseType=function(){return"group"},h.prototype.isEditable=function(c){var d,a;return null===(a=null===(d=this.config)||void 0===d?void 0:d.header)||void 0===a?void 0:a.editable},h.prototype.getLocatePercent=function(c){var d=function(o,l){var f=Math.max(l.left,o.left),_=Math.min(l.right,o.right);return Math.max(_-f,0)},a=this.getBox(),r=d({left:c.left,right:c.right},{left:a.left,right:a.right})*d({left:c.top,right:c.bottom},{left:a.top,right:a.bottom});return Math.round(r/((c.right-c.left)*(c.bottom-c.top))*100)},h.prototype.setMinBox=function(c){var d=c||this.getBox();this.config.$minBox={left:d.left,right:d.right,top:d.top,bottom:d.bottom}},h.prototype.getBox=function(){var c=this.config,d=c.x,r=c.y,o=c.dx,f=c.dy,_=(void 0===d?0:d)+(void 0===o?0:o),b=(void 0===r?0:r)+(void 0===f?0:f);return{left:_,right:_+c.$width,top:b,bottom:b+c.$height}},h.prototype.getChildBox=function(){var c={left:0,top:0,right:0,bottom:0};return this.data.eachChild(this.id,function(d){var a=d.$item.getBox();(a.right>c.right||0===c.right)&&(c.right=a.right),(a.left<c.left||0===c.left)&&(c.left=a.left),(a.bottom>c.bottom||0===c.bottom)&&(c.bottom=a.bottom),(a.top<c.top||0===c.top)&&(c.top=a.top)},!1),c},h.prototype.trackChildMove=function(c,d){var a=this.config,r=a.x,i=a.y,o=a.width,l=a.height,f=a.exitArea,_=f.padding,b=f.groupBehavior;if("unbound"!==b){var I=r+o-_>=c.right+d.x&&r+_<=c.left+d.x,O=i+l-_>=c.bottom+d.y&&i+_<=c.top+d.y;if("boundNoBorderExtension"===b)return I&&O;if("boundBorderExtension"===b){var P=this.config.$minBox,N=P.left,V=P.top,U=P.bottom,F=r+_>=c.left+d.x,W=i+_>=c.top+d.y,M=i+l-_<=c.bottom+d.y,$={x:r,y:i,width:o,height:l};(r+o-_<=c.right+d.x||I&&d.x<0&&r+o+d.x-_>=P.right)&&($.width+=d.x),(F||I&&d.x>0&&r+d.x-_<=N)&&($.width+=-d.x,$.x+=d.x),(M||O&&d.y<0&&i+l+d.y-_>=U)&&($.height+=d.y),(W||O&&d.y>0&&i+d.y-_<=V)&&($.height+=-d.y,$.y+=d.y),this.data.update(this.id,$)}}return!0},h.prototype.getChildHtmlNodes=function(c,d){var a=[],r=c.x,i=c.y,o=c.open,l=c.header,f=!l?.enable||!l?.closable||o;if(c.groupChildren.length)if(Array.isArray(d))for(var _=0;_<d.length;_++)!d[_].hidden&&f&&(d[_].$gx=d[_].x-r,d[_].$gy=d[_].y-i,a.push(d[_].$item.render()));else d.eachChild(this.id,function(b){!b.hidden&&f&&(b.$gx=b.x-r,b.$gy=b.y-i,a.push(b.$item.render()))},!1);return a},h.prototype.getChildSvgNodes=function(c,d){var a=this,r=c.$typeConfig,i=c.x,o=c.y,l=c.groupChildren,f=c.header,_=!f?.enable||!f?.closable||open,b=[];return l.length&&r&&_&&d.mapVisible(function(I){var O;if(!("line"!==I.$item.getBaseType()||I.$move||null!==(O=I?.points)&&void 0!==O&&O.some(function(N){return N.custom}))){var P=d.getItem(I.from),R=d.getItem(I.to);P?.$group==a.id&&R?.$group==a.id&&P.$gx&&P.$gy&&R.$gx&&R.$gy?((0,m.nearestLinkPath)(I,C(C({},P),{x:P.$gx,y:P.$gy}),C(C({},R),{x:R.$gx,y:R.$gy}),r),b.push(I.$item.render())):P?.$group===a.id&&P.$gx&&P.$gy&&R?((0,m.nearestLinkPath)(I,C(C({},P),{x:P.$gx,y:P.$gy}),C(C({},R),{x:R.x-i,y:R.y-o}),r),b.push(I.$item.render())):R?.$group===a.id&&R.$gx&&R.$gy&&P&&((0,m.nearestLinkPath)(I,C(C({},P),{x:P.x-i,y:P.y-o}),C(C({},R),{x:R.$gx,y:R.$gy}),r),b.push(I.$item.render()))}}),b},h.prototype.getGroupHeader=function(c,d){var R,a=c.id,r=c.header,i=r.text,l=r.position,f=r.iconColor,_=c.$editable,b=c.open,I="$sgroup"!==c.type&&r.closable,O="right"===l||"left"===l?c.height:"100%",P="bottom"===l||"top"===l?c.width:"100%";return(0,x.el)("div",{dhx_group_header:a,class:(R=c,"dhx_diagram_group__header dhx_diagram_group__header--position_".concat(R.header.position)),style:function(R){var N=R.style,U=N.stroke,B=N.borderStyle,F=R.header,W=F.position,M=F.fill,$="bottom"===W||"top"===W?R.header.height:"100%",Y="right"===W||"left"===W?R.header.height:"100%",ee="".concat(N.strokeWidth,"px ").concat(B," ").concat(U);return{height:$,width:Y,minWidth:Y,minHeight:$,background:M,zIndex:R.$selected?1:0,border:ee}}(c)},[(0,x.el)("span.dhx_diagram_group__header_text",{style:(0,y.getTextStyle)(C(C({},c?.header),{container:{width:P,height:O}}))},_&&this.editableProperty.editableId===a?[d]:i),I&&(0,y.getExpandIcon)({color:f,open:b,position:l})||null])},h.prototype.setDefaults=function(c){return c.x=c.x||0,c.y=c.y||0,c.open="boolean"!=typeof c.open||c.open,c.header&&(c.header=C({enable:!0,text:"",fontSize:14,lineHeight:14,textAlign:"center",textVerticalAlign:"center",fontStyle:"normal",fontWeight:"500",fontColor:"#4C4C4C",position:"top",editable:!0,fill:"#EEF1F6",height:40,iconColor:"#808080"},c.header)),c.style=C({strokeWidth:1,stroke:"#B8C6D6",strokeType:"line",borderStyle:"solid",fill:"inherit",overFill:"rgba(46, 204, 113, 0.1)",partiallyFill:"rgba(231, 76, 60, 0.1)"},c.style),c.entryArea=C({catchArea:100,borderFlexible:!1},c.entryArea),c.entryArea.borderFlexible||(c.entryArea.catchArea=100),c.exitArea=C({groupBehavior:"unbound",padding:0},c.exitArea),c.fixed=c.fixed||!1,c.groupChildren=c.groupChildren||[],c},h.prototype.setServiceProp=function(c){var d=c.open,a=c.height,r=c.width,i=c.header;if(c.$captureArea=c.$captureArea||"out",i){var f=i.height,_=i.position;if(!d&&i.enable&&i.closable){var I="bottom"===_||"top"===_;return c.$width="left"===_||"right"===_?parseInt(f):r,void(c.$height=I?parseInt(f):a)}}c.$width=r,c.$height=a},h}(p.BaseItem);E.BaseGroup=v},function(ne,E,D){"use strict";var S=this&&this.__assign||function(){return S=Object.assign||function(r){for(var i,o=1,l=arguments.length;o<l;o++)for(var f in i=arguments[o])Object.prototype.hasOwnProperty.call(i,f)&&(r[f]=i[f]);return r},S.apply(this,arguments)};Object.defineProperty(E,"__esModule",{value:!0}),E.Controls=E.getLength=void 0;var T=D(0),C=D(2),x=D(29),m=D(40),p=D(37),y=D(97),v=D(207),u=D(208);function h(r,i){y.drag.start(r,i.data.resizer,i.data.p)}function c(r,i){return void 0===i&&(i="default"),{x:("default"===i?r.x:r.x+(r.dx||0))+r.width/2,y:("default"===i?r.y:r.y+(r.dy||0))+r.height/2}}function d(r,i,o){if(void 0===o&&(o="default"),r.$move=!0,"default"===o)return r.x=(r.x||0)+i.x,void(r.y=(r.y||0)+i.y);r.dx=(r.dx||0)+i.x,r.dy=(r.dy||0)+i.y}E.getLength=function(r,i){var o=i.x-r.x,l=i.y-r.y;return Math.sqrt(o*o+l*l)};var a=function(){function r(i,o,l){var f=this;this._touch={dblDuration:300,timeStamp:null},this._magneticItems={xItem:null,xItemLeft:null,xItemRight:null,yItem:null,yItemTop:null,yItemBottom:null,dragItem:null},this.setConfig(l),this._events=i,this._diagram=o,this._isOrgType=["org","mindmap"].includes(this._diagram.config.type),this.connect=new v.Connect(this,this._diagram),this._resize=new u.Resize(this,this._diagram),this._diagram.events.on(x.DiagramEvents.lineTitleMouseDown,function(_,b,I){var O=f._diagram.data.getItem(b);O.$editable||O.$item.isFixed()||f._eventHandling(I,b,"lineTitle")}),this._diagram.events.on(x.DiagramEvents.lineMouseDown,function(_,b){"touch"===b.pointerType&&(f._touch.timeStamp?(f._touch.dblDuration>=+b.timeStamp.toFixed()-f._touch.timeStamp&&(b.preventDefault(),f._diagram.events.fire(x.DiagramEvents.lineDblClick,[_,b])),f._touch.timeStamp=null):f._touch.timeStamp=+b.timeStamp.toFixed(),setTimeout(function(){f._touch.timeStamp=null},f._touch.dblDuration))}),this._diagram.events.on(x.DiagramEvents.groupMouseDown,function(_,b){f.connect.removeNearShape();var I=f._diagram.data.getItem(_);I&&!I.$editable&&("$sgroup"===I.type&&(I=f._diagram.data.getItem(I.$group)),f._eventHandling(b,_,"group"))}),this._diagram.events.on(x.DiagramEvents.shapeMouseDown,function(_,b){f.connect.removeNearShape();var I=f._diagram.data.getItem(_);I&&!I.$editable&&f._eventHandling(b,_,"shape")}),this._diagram.events.on(x.SelectionEvents.afterUnSelect,function(_){var I=f._diagram.data.getItem(_.id);I&&"line"===I.$item.getBaseType()&&I.$selectedPoint&&(I.$selectedPoint=null)})}return r.prototype.render=function(i,o){if(!i)return this.config.connectionPoints?(0,T.el)(".dhx_controls",{style:{zIndex:0},onpointerdown:{".dhx_connect_grip":h,".dhx_connect_point":h}},[this.connect.getPoints(i,o)]):null;if(!1!==i.$item.canResize()){var l=[];this._isOrgType?this.config.resizePoints&&l.push(this._resize.getPoints(i,o)):(this.config.connectionPoints&&l.push(this.connect.getPoints(i,o)),this.config.resizePoints&&this.connect.getItemId()!=i.id&&l.push(this._resize.getPoints(i,o)));var f=this._getMagneticLines(o);return this._magnetic&&f.length&&l.push.apply(l,f),l.length?(0,T.el)(".dhx_controls",{style:{zIndex:0},onpointerdown:{".dhx_diagram_resizer_grip":h,".dhx_connect_grip":h,".dhx_connect_point":h,".dhx_editor_icon-rotate":h},onclick:{".dhx_diagram_resizer_grip":this._gripClick}},l):null}},r.prototype.setConfig=function(i){var o;this.config=S(S({},this.config),i),this._magnetic=!this._isOrgType&&!1!==(null===(o=this.config.magnetic)||void 0===o?void 0:o.show)&&this.config.magnetic},r.prototype.setNearShape=function(i){this.connect.setNearShape(i)},r.prototype.toggleNearShape=function(i){this.connect.toggleNearShape(i)},r.prototype.getPoint=function(i,o){var l=this._diagram.getRootView().node.el,f=l.getBoundingClientRect(),_=this._diagram.config.margin,b=this._diagramSize||{left:-_.x,top:-_.y},I=this._diagram.config.scale;return{x:(i-f.left+l.scrollLeft)/I-_.x+(b.left+_.x),y:(o-f.top+l.scrollTop)/I-_.y+(b.top+_.y)}},r.prototype.onMove=function(i,o,l){var f,_,b=this._diagram.selection.getItem();if(b&&!b.$item.isFixed()){l.rotate&&(i.preventDefault(),this._rotate(i,b));var I=b.id,O=b.x,P=b.y,R=b.height,N=b.width,V=b.$item,U=b.dy,B={x:O,y:P,width:N,height:R};o.x=Math.round(o.x),o.y=Math.round(o.y);var F=V.getBaseType();if("line"===F)return this._diagram.toolbar.hide(),void this.connect.moveConnector(i,b,o,l);var W=-1===l.dx,M=1===l.dx,$=1===l.dy,Y=-1===l.dy;if("group"===F){var ee=b.$item.getChildBox(),J=ee.right,Z=ee.left,j=ee.top,L=ee.bottom,G=J+Z+j+L===0,X=(null===(f=b?.header)||void 0===f?void 0:f.height)||40;G?(W&&N+o.x>=X&&(B.width+=o.x),M&&N-o.x>=X&&(B.width+=-o.x,B.x+=o.x),Y&&R+o.y>=X&&(B.height+=o.y),$&&R-o.y>=X&&(B.height+=-o.y,B.y+=o.y)):(W&&O+N+o.x>=J&&(B.width+=o.x),M&&O+o.x<=Z&&(B.width+=-o.x,B.x+=o.x),Y&&P+R+o.y>=L&&(B.height+=o.y),$&&P+o.y<=j&&(B.height+=-o.y,B.y+=o.y)),V.setMinBox()}if("swimlane"===F){var ae=0,ie=0,re=0,he=0;this._diagram.data.eachChild(b.id,function(ge){var ve=ge.$item.getChildBox(),ye=ve.left,we=ve.right,De=ve.top,Te=ve.bottom;ye>ie&&(ie=ye),we>ae&&(ae=we),De>re&&(re=De),Te>he&&(he=Te),ge.$item.setMinBox()},!1),G=ae+ie+re+he===0;var fe=W||M?b.layout[0].length:b.layout.length;X=((null===(_=b?.header)||void 0===_?void 0:_.height)||40)*fe,G?(W&&N+o.x>=X&&(B.width+=o.x),M&&N-o.x>=X&&(B.width+=-o.x,B.x+=o.x),Y&&R+o.y>=X&&(B.height+=o.y),$&&R-o.y>=X&&(B.height+=-o.y,B.y+=o.y)):(W&&O+N+o.x>=ae&&(B.width+=o.x),M&&O+o.x<=ie&&(B.width+=-o.x,B.x+=o.x),Y&&P+R+o.y>=he&&(B.height+=o.y),$&&P+o.y<=re&&(B.height+=-o.y,B.y+=o.y)),V.setMinBox()}"shape"===F&&(1===l.dx?(B.x+=o.x,B.width=N-o.x):B.width=b.width-o.x*l.dx,B.width>=30||(B.width=N),B.height=R-o.y*l.dy,B.height>=30?this._isOrgType?B.dy=(U||0)+o.y*(1===l.dy?1:0):B.y=(P||0)+o.y*(1===l.dy?1:0):B.height=R),b.$group&&!this._moveChilds(I,o)||this._diagram.data.update(I,B)}},r.prototype.onUp=function(i){this.connectOnUp(i),this._events.fire(p.DiagramEditorEvents.shapeResize,[])},r.prototype.connectOnUp=function(i){i&&(this.connect.onUp(i),this._diagram._lastItemClickCoords=this._diagram.getCurrentCoords(i),this._diagram.toolbar.show(),this._diagram.paint())},r.prototype._moveChilds=function(i,o){var l=this._diagram.data.getItem(i),f=this._diagram.selection.getItem();if(l.$item.isFixed())return!1;if(l.$group){var _=this._diagram.data.getItem(l.$group);return _.$group&&this._moveChilds(_.id,o),_.$item.trackChildMove(f.$item.getBox(),{x:o.x,y:o.y})}},r.prototype._rotate=function(i,o){var l=this.getPoint(i.pageX,i.pageY),O=Math.atan2(l.y-(o.y+o.height/2),l.x-(o.x+o.width/2));O<0&&(O+=2*Math.PI);var P=Math.round(O*(180/Math.PI));this._diagram.data.update(o.id,{angle:P})},r.prototype._gripClick=function(i,o){var l=o.data.resizer._diagram.selection.getItem();if(l){var f=o.data.p;"line"===l.$item.getBaseType()&&(l.$selectedPoint=f.i)}},r.prototype._eventHandling=function(i,o,l){var f=this;if(this._dragStart(i,o,l),"touch"===i.pointerType){if(document.body.classList.add("dhx_notouch"),this._touch.timeStamp){if(this._touch.dblDuration>=+i.timeStamp.toFixed()-this._touch.timeStamp)switch(i.preventDefault(),l){case"lineTitle":var _=this._diagram.data.getItem(o);this._diagram.events.fire(x.DiagramEvents.lineTitleDblClick,[_.parent,o,i]);break;case"group":this._diagram.events.fire(x.DiagramEvents.groupHeaderDblClick,[o,i,(0,C.locate)(i,"subheader_id")]);break;case"shape":this._diagram.events.fire(x.DiagramEvents.shapeDblClick,[o,i])}this._touch.timeStamp=null}else this._touch.timeStamp=+i.timeStamp.toFixed();setTimeout(function(){f._touch.timeStamp=null},this._touch.dblDuration)}},r.prototype._dragStart=function(i,o,l){var f=this,_=this._diagram.data.getItem(o);"group"===l&&"$sgroup"===_.type&&(_=this._diagram.data.getItem(_.$group));var b=[];this._diagram.selection.getIds().forEach(function(I){b.push(I),f._diagram.data.eachChild(I,function(O){return b.push(O.id)})}),this._movedItems=Array.from(new Set(b)),y.drag.start(i,{onMove:this._getMoveHandler(i,_,l),onUp:this._getUpHandler(i,_,l)},null,this._diagram.config.scale),this._diagram.events.on(x.DiagramEvents.beforeRender,function(I){return f._diagramSize=I})},r.prototype._getUpHandler=function(i,o,l){var f=this;return"shape"===l||"group"===l?function(){document.body.classList.remove("dhx_notouch"),f._events.fire(p.DiagramEditorEvents["".concat(l,"MoveEnd")],[{id:o.id,batch:f._movedItems,coords:{x:o.x,y:o.y},event:i}]),f._events.fire(p.DiagramEditorEvents.itemMoveEnd,[{id:o.id,batch:f._movedItems,coords:{x:o.x,y:o.y},event:i}]),f._magneticItems={xItem:null,xItemLeft:null,xItemRight:null,yItem:null,yItemTop:null,yItemBottom:null,dragItem:null},f._movedItems.forEach(function(_){f._diagram.data.update(_,{$move:!1},!0)}),f._diagram.toolbar.show(),f._diagram.paint()}:"lineTitle"===l?function(_){document.body.classList.remove("dhx_notouch"),f._events.fire(p.DiagramEditorEvents.lineTitleMoveEnd,[{id:o.parent,titleId:o.id,coords:{x:o.$x,y:o.$y},event:_}]),f._diagram._lastItemClickCoords=f._diagram.getCurrentCoords(_),f._diagram.toolbar.show(),f._diagram.paint()}:void 0},r.prototype._setClosestItems=function(i,o){void 0===o&&(o="default");var l={xItem:null,xItemLeft:null,xItemRight:null,yItem:null,yItemTop:null,yItemBottom:null,dragItem:null},f=c(i,o),_=f.x,b=f.y,I=i.x+(i.dx||0),O=I+i.width,P=i.y+(i.dy||0),R=P+i.height,N=this._diagram.getScrollState(),V=this._diagram.getRootView().node.el.getBoundingClientRect(),U=this._diagram.config.margin,B=N.x-U.x,F=N.y-U.y,W=N.x+V.width-U.x,M=N.y+V.height-U.y;this._diagram.data.forEach(function($){if($.id!==i.id&&"line"!==$.type&&"$sgroup"!==$.type){var Y=c($,o),ee=Y.x,J=Y.y,Z=$.x+($.dx||0),j=Z+$.width,L=$.y+($.dy||0),G=L+$.height;if(!(Z>W||j<B||L>M||G<F)){if(_===ee){var X=(l.xItem?c(l.xItem,o):{y:0}).y;l.xItem=!l.xItem||Math.abs(J-b)<=Math.abs(X-b)?$:l.xItem}if(b===J){var ae=(l.yItem?c(l.yItem,o):{x:0}).x;l.yItem=!l.yItem||Math.abs(ee-_)<Math.abs(ae-_)?$:l.yItem}(I===Z||I===j)&&(X=(l.xItemLeft?c(l.xItemLeft,o):{y:0}).y,l.xItemLeft=!l.xItemLeft||Math.abs(J-b)<=Math.abs(X-b)?$:l.xItemLeft),(O===Z||O===j)&&(X=(l.xItemRight?c(l.xItemRight,o):{y:0}).y,l.xItemRight=!l.xItemRight||Math.abs(J-b)<=Math.abs(X-b)?$:l.xItemRight),(P===L||P===G)&&(ae=(l.yItemTop?c(l.yItemTop,o):{x:0}).x,l.yItemTop=!l.yItemTop||Math.abs(ee-_)<Math.abs(ae-_)?$:l.yItemTop),(R===L||R===G)&&(ae=(l.yItemBottom?c(l.yItemBottom,o):{x:0}).x,l.yItemBottom=!l.yItemBottom||Math.abs(ee-_)<Math.abs(ae-_)?$:l.yItemBottom)}}}),l.dragItem=i,this._magneticItems=S({},l)},r.prototype._getMagneticLines=function(i){var o=[],l=this._magneticItems,f=l.xItem,_=l.xItemLeft,b=l.xItemRight,I=l.yItem,O=l.yItemTop,P=l.yItemBottom;return f&&o.push(this._getMagneticLine(f,i,"x","center")),I&&o.push(this._getMagneticLine(I,i,"y","center")),f&&I||(f?.id===_?.id&&f?.id===b?.id||(_&&o.push(this._getMagneticLine(_,i,"x","left")),b&&o.push(this._getMagneticLine(b,i,"x","right"))),I?.id===O?.id&&I?.id===P?.id||(O&&o.push(this._getMagneticLine(O,i,"y","top")),P&&o.push(this._getMagneticLine(P,i,"y","bottom")))),o},r.prototype._getMagneticLine=function(i,o,l,f){var _=this._magneticItems.dragItem;if(_){var b,I=c(_),O=I.x,P=I.y,R=i.$item.getBox(),N=this._diagram.config.scale,V=this._magnetic.lineWidth||2;switch(f){case"top":b=_.y+(_.dy||0);break;case"bottom":b=_.y+(_.dy||0)+_.height;break;case"left":b=_.x+(_.dx||0);break;case"right":b=_.x+(_.dx||0)+_.width;break;default:b="x"===l?O:P}return(0,T.el)(".dhx_magnetic",{style:{width:i.width*N,height:i.height*N,top:(R.top-o.top)*N,left:(R.left-o.left)*N}},[(0,T.el)(".dhx_magnetic_line",{style:{backgroundColor:this._magnetic.lineColor||"",width:"x"===l?V*N:(i.width+_.width+Math.abs(i.x-_.x)-(i.x<_.x?i.width:_.width))*N,height:"x"===l?(i.height+_.height+Math.abs(i.y-_.y)-(i.y<_.y?i.height:_.height))*N:V*N,top:"x"===l?(i.y<_.y?0:-(i.y-_.y))*N:(b-i.y-V/2)*N,left:"x"===l?(b-i.x-V/2)*N:(i.x<_.x?0:-(i.x-_.x))*N}})])}},r.prototype._getMoveHandler=function(i,o,l){var f=this;if(!o.$item.isFixed()){var _=this._diagram.config.gridStep;return"shape"===l||"group"===l?function(b,I,O){I.x=Math.round(I.x/_)*_-(o.x+(o.dx||0))%_,I.y=Math.round(I.y/_)*_-(o.y+(o.dy||0))%_,f._events.fire(p.DiagramEditorEvents["before".concat(l[0].toUpperCase()+l.slice(1),"Move")],[{id:o.id,batch:f._movedItems,coords:{x:o.x,y:o.y},event:b}])&&f._events.fire(p.DiagramEditorEvents.beforeItemMove,[{id:o.id,batch:f._movedItems,coords:{x:o.x,y:o.y},event:b,$mov:I}])&&(f._movedItems.forEach(function(P){var N,V,U,R=f._diagram.data.getItem(P);"line"===R.$item.getBaseType()?R.points.forEach(function(N){return N.$custom&&d(N,I)}):o.id==P?f._diagram.data.update(P,S({},(N=R,V=I,void 0===(U=f._diagram.config.type)&&(U="default"),"default"===U?{x:(N.x||0)+V.x,y:(N.y||0)+V.y}:{dx:(N.dx||0)+V.x,dy:(N.dy||0)+V.y}))):d(R,I,f._diagram.config.type)}),f._setClosestItems(o,f._diagram.config.type),f._diagram.toolbar.hide(),f._events.fire(p.DiagramEditorEvents["after".concat(l[0].toUpperCase()+l.slice(1),"Move")],[{id:o.id,batch:f._movedItems,coords:{x:o.x,y:o.y},event:b}]),f._events.fire(p.DiagramEditorEvents.afterItemMove,[{id:o.id,batch:f._movedItems,coords:{x:o.x,y:o.y},event:b}]),f._diagram.paint())}:"lineTitle"===l?function(b){if(f._events.fire(p.DiagramEditorEvents.beforeLineTitleMove,[{id:o.parent,titleId:o.id,coords:{x:o.$x,y:o.$y},event:b}])){var I=f._diagram.data.getItem(o.parent),O=f._diagram.getCurrentCoords(b),P=I.points[0],R=I.points[I.points.length-1],N=S({},P),V=S({},R);if(I.points.length>2)for(var U=0;U<I.points.length;U++){var B=I.points[U],F=B.x,W=B.y;N.x>F&&(N.x=F),V.x<F&&(V.x=F),N.y>W&&(N.y=W),V.y<W&&(V.y=W)}N.x<V.x&&(N.x>=O.x&&(O.x=N.x),V.x<=O.x&&(O.x=V.x)),N.y<V.y&&(N.y>=O.y&&(O.y=N.y),V.y<=O.y&&(O.y=V.y)),N.x>V.x&&(V.x>=O.x&&(O.x=V.x),N.x<=O.x&&(O.x=N.x)),N.y>V.y&&(V.y>=O.y&&(O.y=V.y),N.y<=O.y&&(O.y=N.y));var M=50;if("straight"===I.connectType||2===I.points.length){var $=(0,m.getNearPointStraightLine)(P,R,O),Y=(0,m.getLinePercentage)(P,R,$);M=(0,m.getDistancePercentage)(Y)}else M=(0,m.getDistanceEblowLine)(I,O);f._diagram.toolbar.hide(),f._diagram.data.update(o.id,{distance:M}),f._events.fire(p.DiagramEditorEvents.afterLineTitleMove,[{id:o.parent,titleId:o.id,coords:{x:o.$x,y:o.$y},event:b}]),f._diagram.paint()}}:void 0}},r}();E.Controls=a},function(ne,E,D){"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.default={dragAndDrop:"Drag & drop",or:"or",browse:"Browse files",filesOrFoldersHere:"files or folders here",cancel:"Cancel",clearAll:"Clear all",clear:"Clear",add:"Add",upload:"Upload",download:"Download",error:"error",byte:"B",kilobyte:"KB",megabyte:"MB",gigabyte:"GB"}},function(ne,E,D){"use strict";function S(C){C=C.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(m,p,y,v){return p+p+y+y+v+v});var x=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(C);return x?{r:parseInt(x[1],16),g:parseInt(x[2],16),b:parseInt(x[3],16)}:null}function T(C){var x,m,p=C.r/255,y=C.g/255,v=C.b/255,u=Math.max(p,y,v),h=u-Math.min(p,y,v),c=function(i){return(u-i)/6/h+.5};if(0===h)x=m=0;else{m=h/u;var d=c(p),a=c(y),r=c(v);p===u?x=r-a:y===u?x=1/3+d-r:v===u&&(x=2/3+a-d),x<0?x+=1:x>1&&(x-=1)}return{h:360*x,s:m,v:u}}Object.defineProperty(E,"__esModule",{value:!0}),E.getAlpha=E.alphaToHex=E.isHex=E.HexToHSV=E.RGBToHSV=E.HexToRGB=E.RGBToHex=E.HSVtoRGB=void 0,E.HSVtoRGB=function(C){var x={r:0,g:0,b:0},m=C.h/60,p=C.s,y=C.v,v=Math.floor(m)%6,u=m-Math.floor(m),h=255*y*(1-p),c=255*y*(1-p*u),d=255*y*(1-p*(1-u));switch(y*=255,v){case 0:x.r=y,x.g=d,x.b=h;break;case 1:x.r=c,x.g=y,x.b=h;break;case 2:x.r=h,x.g=y,x.b=d;break;case 3:x.r=h,x.g=c,x.b=y;break;case 4:x.r=d,x.g=h,x.b=y;break;case 5:x.r=y,x.g=h,x.b=c}for(var a in x)x[a]=Math.round(x[a]);return x},E.RGBToHex=function(C){return Object.keys(C).reduce(function(x,m){var p=C[m].toString(16).toUpperCase();return x+(1===p.length?"0"+p:p)},"#")},E.HexToRGB=S,E.RGBToHSV=T,E.HexToHSV=function(C){return T(S(9===C.length?C.slice(0,-2):C))},E.isHex=function(C){return/(^#[0-9A-F]{8}$)|(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(C)},E.alphaToHex=function(C){var x=Math.round(255*C).toString(16).toUpperCase();return 1===x.length?"0"+x:x},E.getAlpha=function(C){return 9===C.length?Number((parseInt(C.slice(-2),16)/255).toFixed(2)):1}},function(ne,E,D){"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.default={cancel:"Cancel",select:"Select",rightClickToDelete:"Right click to delete",customColors:"Custom colors",addNewColor:"Add new color"}},function(ne,E,D){"use strict";var S,T=this&&this.__extends||(S=function(Z,j){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(L,G){L.__proto__=G}||function(L,G){for(var X in G)Object.prototype.hasOwnProperty.call(G,X)&&(L[X]=G[X])})(Z,j)},function(Z,j){if("function"!=typeof j&&null!==j)throw new TypeError("Class extends value "+String(j)+" is not a constructor or null");function L(){this.constructor=Z}S(Z,j),Z.prototype=null===j?Object.create(j):(L.prototype=j.prototype,new L)}),C=this&&this.__assign||function(){return C=Object.assign||function(Z){for(var j,L=1,G=arguments.length;L<G;L++)for(var X in j=arguments[L])Object.prototype.hasOwnProperty.call(j,X)&&(Z[X]=j[X]);return Z},C.apply(this,arguments)},x=this&&this.__spreadArray||function(Z,j,L){if(L||2===arguments.length)for(var G,X=0,ae=j.length;X<ae;X++)!G&&X in j||(G||(G=Array.prototype.slice.call(j,0,X)),G[X]=j[X]);return Z.concat(G||Array.prototype.slice.call(j))};Object.defineProperty(E,"__esModule",{value:!0}),E.Diagram=void 0;var m=D(3),p=D(1),y=D(0),v=D(2),u=D(5),h=D(64),c=D(185),d=D(39),a=D(186),r=D(53),i=D(55),o=D(91),l=D(190),f=D(27),_=D(56),b=D(92),I=D(191),O=D(195),P=D(196),R=D(197),N=D(198),V=D(94),U=D(95),B=D(199),F=D(96),W=D(200),M=D(201),$=D(202),Y=D(40),ee=D(203),J=function(Z){function j(L,G){var X=Z.call(this,L,G)||this;X._orgTypes=["org","mindmap"],X.version="6.0.1",X._set_defaults(),X._init_struct(),X._initEvents(),X.config.toolbar&&(X.toolbar=new l.Toolbar(X.events,X.config.toolbar));var ae=(0,y.create)({render:function(ie){return X._render(ie)}},X);return X.mount(L,ae),X}return T(j,Z),j.prototype.addShape=function(L,G){var X=this;if(x(["line","dash","card","img-card","text","topic"],Object.keys(this.flowShapes),!0).includes(L))throw new Error("Cannot reassign existing type");if("function"!=typeof G.template)throw new Error("The template property must be set as a function");if(G.defaults&&(this.config.defaults[L]=C({},G.defaults)),G.eventHandlers)for(var ae=0,ie=Object.entries(G.eventHandlers);ae<ie.length;ae++){var re=ie[ae],he=re[0];this._htmlevents[he]=(0,v.eventHandler)(function(ge){var ve=C({},X.data.getItem((0,v.locate)(ge)));return Object.keys(ve).forEach(function(ye){(ye.startsWith("$")||"preview"===ye)&&delete ve[ye]}),ve},re[1],this._htmlevents[he])}this.flowShapes[L]=G.template},j.prototype.locate=function(L){var G=(0,v.locate)(L,"data-dhx-id"),X=this.data.getItem(G);return X?X.$item:null},j.prototype.collapseItem=function(L,G){var X=this;if(this.events.fire(f.DiagramEvents.beforeCollapse,[L,G])){var ae=this.data.getItem(L);"mindmap"!==this.config.type||0!==ae.$level||!ae.openDir||"left"!==G&&"right"!==G?this.data.update(L,{open:!1}):(this.data.update(L,{openDir:{right:"right"!==G&&!!ae.openDir.right,left:"left"!==G&&!!ae.openDir.left}}),ae.$connection.length&&ae.$connection.forEach(function(ie){var re=X.data.getItem(ie[1]);re.dir&&re.dir.toLowerCase().includes(G)&&X.data.update(re.id,{hidden:!0},!0)})),this.events.fire(f.DiagramEvents.afterCollapse,[L,G])}this.paint()},j.prototype.expandItem=function(L,G){var X=this,ae=this.data.getItem(L);if(!ae?.open||ae.openDir){if(this.events.fire(f.DiagramEvents.beforeExpand,[L,G])){"mindmap"!==this.config.type||0!==ae.$level||!ae.openDir||"left"!==G&&"right"!==G?this.data.update(L,{open:!0}):(this.data.update(L,{open:!0,openDir:{right:"right"===G||!!ae.openDir.right,left:"left"===G||!!ae.openDir.left}}),ae.$connection.length&&ae.$connection.forEach(function(re){var he=X.data.getItem(re[1]);he.dir&&he.dir.toLowerCase().includes(G)&&X.data.update(he.id,{hidden:!1},!0)})),this.events.fire(f.DiagramEvents.afterExpand,[L,G]);var ie=this.data.getItem(L);ie&&ie.parent&&this.expandItem(ie.parent)}this.paint()}},j.prototype.getScrollState=function(){var L=this.getRootView().node.el;return{x:Math.round(L.scrollLeft*this.config.scale),y:Math.round(L.scrollTop*this.config.scale)}},j.prototype.scrollTo=function(L,G){var X=this.getRootView().node.el;X.scrollLeft=Math.round(L*this.config.scale),X.scrollTop=Math.round(G*this.config.scale)},j.prototype.showItem=function(L,G){var X=this,ae=this.data.getItem(L);ae&&(ae.parent&&this.expandItem(ae.parent,G),(0,y.awaitRedraw)().then(function(){var ie=X.getRootView().node.el,re=ae.$item.getBox();X.scrollTo(re.right+10-ie.offsetWidth/2,re.bottom+10-ie.offsetHeight/2)}))},j.prototype.autoPlace=function(L){var G=this,X=this.config,ae=X.autoplacement,ie=X.type,re=L?.placeMode||ae?.placeMode||"orthogonal",he=L?.mode||ae?.mode||"direct",fe=L?.root||this.selection.getIds()[0];if(this._orgTypes.includes(ie))throw new Error("This method does not work with this type of diagram");var ge,ve=new _.default;this.data.forEach(function(De){"shape"===De.$item.getBaseType()&&ve.addNode({id:De.id.toString(),w:De.width,h:De.height,x:De.x,y:De.y})}),this.data.forEach(function(De){var Te,Ee=De.$item.getBaseType();if("line"===Ee&&De.from&&De.to){var ke=(null===(Te=De.points)||void 0===Te?void 0:Te.filter(function(Ae,He){if(0===He||He===De.points.length-1)return!0}))||[];G.data.update(De.id,{fromSide:"direct"===he?"center":void 0,toSide:"direct"===he?"center":void 0,points:ke,customGap:void 0}),ve.addEdge(De.from.toString(),De.to.toString())}else"line"===Ee&&G.data.remove(De.id)}),ve.clean(),"orthogonal"===re?ge=new I.default:"radial"===re&&(ge=new ee.default);var ye=(0,O.compose)((0,P.decompose)(ve).map(function(De){return(De=ge.layout(De,{mode:he,root:fe,dir:ae?.direction||b.Direction.Bottom,wide:ae?.wide,itemPadding:ae?.itemPadding||0,levelPadding:ae?.levelPadding||0,full:!0,preserveLocation:!1})).setGlobalBox(),De}),{padding:"number"==typeof ae?.graphPadding?L?.graphPadding||ae?.graphPadding:200});if(ye){var we=ye.getBox();ye.translate({x:-we[0][0],y:-we[1][0]}),ye.getNodes().forEach(function(De){var Te=G.data.getItem(De.id);if(Te&&!Te?.$group){var Ee=Math.floor(De.x-De.w/2),ke=Math.floor(De.y-De.h/2);G.data.update(De.id,{x:Ee,y:ke})}})}},j.prototype.getCurrentCoords=function(L){var G=this.config,X=G.scale,ae=G.margin,ie=this.getRootView().node.el,re=ie.getBoundingClientRect();if(ie&&re){var he=this._diagramSize||{left:-ae.x,top:-ae.y},ge=ie.scrollTop;return{x:Math.round((L.clientX-re.left+ie.scrollLeft)/X-ae.x+(he.left+ae.x)),y:Math.round((L.clientY-re.top+ge)/X-ae.y+(he.top+ae.y))}}},j.prototype.findNearestConnector=function(L){var G=this.getCurrentCoords(L),X=[];if(this.data.map(function(ae){var ie;if("line"===ae.$item.getBaseType()&&null!==(ie=ae?.points)&&void 0!==ie&&ie.length)for(var re=0;re<ae.points.length;re++)if(ae.points[re+1]){var fe=G,ge=ae.points[re],ve=ae.points[re+1];if(ge.y<fe.y&&ve.y>fe.y||ve.y<fe.y&&ge.y>fe.y||ge.x<fe.x&&ve.x>fe.x||ve.x<fe.x&&ge.x>fe.x){var De=Math.sqrt(Math.pow(ge.x-fe.x,2)+Math.pow(ge.y-fe.y,2)),Te=Math.sqrt(Math.pow(ve.x-fe.x,2)+Math.pow(ve.y-fe.y,2)),Ee=Math.sqrt(Math.pow(ve.x-ge.x,2)+Math.pow(ve.y-ge.y,2)),ke=(De+Te+Ee)/2;if(2*Math.sqrt(ke*(ke-De)*(ke-Te)*(ke-Ee))/Ee<=8){X.push(ae);break}}}}),X.length)return X[X.length-1]},j.prototype.destructor=function(){this.editor&&this.editor.destructor(),this._menu&&this._menu.destructor(),this.data.removeAll(),this.data.events.clear(),this.events.clear(),this.selection.clear(),this.unmount()},j.prototype._render=function(L){var G,X,ae=this;if(this._doNotRepaint&&L.node)return L.node;var ie=this._getContent(),re=ie.size,he=ie.svgContent,fe=ie.htmlContent;this.events.fire(f.DiagramEvents.beforeRender,[re]),this._diagramSize=re;var ge=this.config,ve=ge.margin,ye=ge.type,we=ge.scale,De=re.x-re.left+2*ve.x,Te=re.y-re.top+2*ve.y;re.left-=ve.x,re.top-=ve.y;var Ee=re.top+ve.y<0?Math.abs(re.top):ve.y,ke=re.left+ve.x<0?Math.abs(re.left):ve.x;this._backgroundPos={x:-(Math.ceil(ke/this.config.gridStep)*this.config.gridStep-ke)*we,y:-(Math.ceil(Ee/this.config.gridStep)*this.config.gridStep-Ee)*we};var Ae=null;if(this.toolbar&&(null!==(G=this._lastItemClickCoords)&&void 0!==G&&G.x&&null!==(X=this._lastItemClickCoords)&&void 0!==X&&X.y||this.selection.getIds().length)){var He=this.selection.getIds().map(function(Ne){return ae.data.getItem(Ne)}).filter(function(Ne){return Ne});He.length&&(Ae=He.length>1?this.toolbar.render(He.filter(function(Ne){return"line"!==Ne.$item.getBaseType()}),C(C({},re),{scale:we})):this.toolbar.render(He[0],C(C({},re),{scale:we}),this._lastItemClickCoords))}var Le=[];return this.config.$svg&&(Le=this.config.$svg(re)),(0,y.el)(".dhx_widget.dhx_diagram",C(C({},this._htmlevents),{"data-dhx-widget-id":this._uid,style:{backgroundImage:this._getBackground(this.config.gridStep),backgroundPosition:"".concat(this._backgroundPos.x,"px ").concat(this._backgroundPos.y,"px")}}),[(0,y.el)("div.dhx_diagram__container",{style:{height:Te*we,width:De*we}},[(0,y.el)(".dhx_diagram__wrapper.dhx_wrapper",{style:{transform:"scale(".concat(we,")"),position:"absolute",top:0,left:0,transformOrigin:"top",zIndex:this._orgTypes.includes(ye)&&this._active?1:0}},[(0,y.el)("div.dhx_diagram__scale-container",[(0,y.sv)("svg",{xmlns:"http://www.w3.org/2000/svg",width:De,height:Te,viewBox:"".concat(re.left," ").concat(re.top," ").concat(De," ").concat(Te)},[(0,y.sv)("defs",[(0,y.sv)("filter",{x:0,y:0,width:1,height:1,id:"dhx_text_background"},[(0,y.sv)("feFlood",{"flood-color":"white"}),(0,y.sv)("feComposite",{in:"SourceGraphic"})])]),(0,y.sv)("g",he)]),(0,y.el)(".dhx_diagram__shape-container",{style:{position:"absolute",top:Ee,left:ke}},fe)])]),Le,Ae])])},j.prototype._set_defaults=function(){var L,G,X;switch(this.config.type){case"mindmap":X="topic";break;case"org":X="card";break;default:X="rectangle"}this.config=(0,p.extend)({type:"default",defaultShapeType:(null===(L=this.config)||void 0===L?void 0:L.defaultShapeType)||X,lineConfig:{lineType:"line",lineDirection:"forwardArrow",arrowsHidden:!1,lineGap:10},scale:1,margin:{x:40,y:40,itemX:40,itemY:"mindmap"===(null===(G=this.config)||void 0===G?void 0:G.type)?20:40},gridStep:10,defaults:{},autoplacement:{mode:"direct",graphPadding:200},exportStyles:!0,$isEditor:!1},this.config)},j.prototype._initEventsHandlers=function(){var L=this;this._htmlevents={onscroll:function(G){var X=G.target,ae=L.config.scale;X.getAttribute&&(X.getAttribute("class")||"").match(/dhx_diagram\b/)&&(X.style.backgroundPosition="".concat(L._backgroundPos.x-X.scrollLeft*ae,"px ").concat(L._backgroundPos.y-X.scrollTop*ae,"px")),L.events.fire(f.DiagramEvents.scroll,[L.getScrollState()])},onpointerdown:(0,v.eventHandler)(function(G){return L.locate(G)},{dhx_diagram:function(G){var X=G.target,ae=X.getAttribute&&(X.getAttribute("class")||"").match(/dhx_diagram\b/),ie="svg"===X.tagName;if(!(0,v.locateNodeByClassName)(X,"dhx_diagram_toolbar")&&(ae||ie)){var re=L.findNearestConnector(G);re?("default"===L.config.type&&L.setSelectionItem({id:re.id},G.shiftKey,G.altKey),L.events.fire(f.DiagramEvents.lineMouseDown,[re.id,G]),L.events.fire(f.DiagramEvents.itemMouseDown,[re.id,G])):(document.body.classList.add("dhx_notouch"),G.altKey||L.selection.remove(),L.events.fire(f.DiagramEvents.emptyAreaMouseDown,[G]))}},dhx_diagram_line_title:function(G){var X=(0,v.locate)(G,"data-dhx-parent-id"),ae=(0,v.locate)(G,"data-dhx-id");L.setSelectionItem({id:ae},G.shiftKey,G.altKey),L.events.fire(f.DiagramEvents.lineTitleMouseDown,[X,ae,G])},dhx_diagram_shape:function(G,X){L.setSelectionItem({id:X.id},G.shiftKey,G.altKey),L.events.fire(f.DiagramEvents.shapeMouseDown,[X.id,G,L._getPoint(G.clientX,G.clientY)]),L.events.fire(f.DiagramEvents.itemMouseDown,[X.id,G,L._getPoint(G.clientX,G.clientY)])},dhx_diagram_line:function(G,X){"default"===L.config.type&&L.setSelectionItem({id:X.id},G.shiftKey,G.altKey),L.events.fire(f.DiagramEvents.lineMouseDown,[X.id,G,L._getPoint(G.clientX,G.clientY)]),L.events.fire(f.DiagramEvents.itemMouseDown,[X.id,G,L._getPoint(G.clientX,G.clientY)])},dhx_diagram_group:function(G,X){L.setSelectionItem({id:X.id},G.shiftKey,G.altKey),L.events.fire(f.DiagramEvents.groupMouseDown,[X.id,G,L._getPoint(G.clientX,G.clientY)]),L.events.fire(f.DiagramEvents.itemMouseDown,[X.id,G,L._getPoint(G.clientX,G.clientY)])}}),onpointerout:(0,v.eventHandler)(function(G){return L.locate(G)},{"dhx_diagram_item--selected":function(){L._active=!1,L.paint()},dhx_diagram_item:function(G,X){X&&L.events.fire(f.DiagramEvents.itemMouseOut,[X.id,G])}}),onpointerover:(0,v.eventHandler)(function(G){return L.locate(G)},{"dhx_diagram_item--selected":function(){L._active=!0,L.paint()},dhx_diagram_item:function(G,X){X&&L.events.fire(f.DiagramEvents.itemMouseOver,[X.id,G])}}),onclick:(0,v.eventHandler)(function(G){return L.locate(G)},{dhx_diagram_menu_icon:function(G,X){var ae,ie,re,he,fe,ge,ve,ye,we,De,Te=(0,v.locate)(G,"subheader_id");if(L.events.fire(f.DiagramEvents.beforeSubmenuOpen,[X.id,G,Te])){var Ee=[];null!==(ie=null===(ae=X.config)||void 0===ae?void 0:ae.subHeaderRows)&&void 0!==ie&&ie.enable&&null!==(fe=null===(he=null===(re=X.config)||void 0===re?void 0:re.subHeaderRows)||void 0===he?void 0:he.headers)&&void 0!==fe&&fe.length&&(Ee=X.config.subHeaderRows.headers);var ke=[];null!==(ve=null===(ge=X.config)||void 0===ge?void 0:ge.subHeaderCols)&&void 0!==ve&&ve.enable&&null!==(De=null===(we=null===(ye=X.config)||void 0===ye?void 0:ye.subHeaderCols)||void 0===we?void 0:we.headers)&&void 0!==De&&De.length&&(ke=X.config.subHeaderCols.headers);var Ae=x(x([],Ee,!0),ke,!0).find(function(q){return q.id===Te}),He=Ae.$subMenu,Le=Ae.id;L.cellManager.setSwimlane(X.id);var Ne=L.cellManager.getSubHeaderCellIndex(Le);He.data.forEach(function(q){q.remove&&!L.cellManager.validation(Ne,q.remove,"remove")&&(q.disabled=!0),q.add&&!L.cellManager.validation(Ne,q.add,"add")&&(q.disabled=!0),q.move&&!L.cellManager.validation(Ne,q.move,"move")&&(q.disabled=!0)}),L._menu.data.parse(He.data),L._menu.showAt(G),L.events.fire(f.DiagramEvents.afterSubmenuOpen,[X.id,G,Te])}},"dhx_diagram_toggle-icon--expand":function(G,X){G.target.classList.contains("icon-left")?L.expandItem(X.id,"left"):G.target.classList.contains("icon-right")?L.expandItem(X.id,"right"):L.expandItem(X.id)},"dhx_diagram_toggle-icon--collapse":function(G,X){G.target.classList.contains("icon-left")?L.collapseItem(X.id,"left"):G.target.classList.contains("icon-right")?L.collapseItem(X.id,"right"):L.collapseItem(X.id)},dhx_diagram:function(G){var X=G.target;if(X.getAttribute&&(X.getAttribute("class")||"").match(/dhx_diagram\b/)||"svg"===X.tagName){var re=L.findNearestConnector(G);re?(L.events.fire(f.DiagramEvents.lineClick,[re.id,G]),L.events.fire(f.DiagramEvents.itemClick,[re.id,G])):L.events.fire(f.DiagramEvents.emptyAreaClick,[G])}},dhx_diagram_line_title:function(G){var X=(0,v.locate)(G,"data-dhx-parent-id"),ae=(0,v.locate)(G,"data-dhx-id");L.events.fire(f.DiagramEvents.lineTitleClick,[X,ae,G])},dhx_diagram_shape:function(G,X){L.events.fire(f.DiagramEvents.shapeClick,[X.id,G]),L.events.fire(f.DiagramEvents.itemClick,[X.id,G])},dhx_diagram_line:function(G,X){L.events.fire(f.DiagramEvents.lineClick,[X.id,G]),L.events.fire(f.DiagramEvents.itemClick,[X.id,G])},dhx_diagram_group:function(G,X){L.events.fire(f.DiagramEvents.groupClick,[X.id,G]),L.events.fire(f.DiagramEvents.itemClick,[X.id,G])},dhx_diagram_group__header:function(G,X){L.events.fire(f.DiagramEvents.groupHeaderClick,[X.id,G]),L.events.fire(f.DiagramEvents.groupClick,[X.id,G]),L.events.fire(f.DiagramEvents.itemClick,[X.id,G])},dhx_diagram_swimlane__subheader:function(G,X){var ae=(0,v.locate)(G,"subheader_id");L.events.fire(f.DiagramEvents.groupHeaderClick,[X.id,G,ae]),L.events.fire(f.DiagramEvents.groupClick,[X.id,G]),L.events.fire(f.DiagramEvents.itemClick,[X.id,G])}}),ondblclick:(0,v.eventHandler)(function(G){return L.locate(G)},{dhx_diagram:function(G){var X=G.target;if(X.getAttribute&&(X.getAttribute("class")||"").match(/dhx_diagram\b/)||"svg"===X.tagName){var re=L.findNearestConnector(G);re?(L.events.fire(f.DiagramEvents.lineDblClick,[re.id,G]),L.events.fire(f.DiagramEvents.itemDblClick,[re.id,G])):L.events.fire(f.DiagramEvents.emptyAreaDblClick,[G])}},dhx_diagram_line_title:function(G){var X=(0,v.locate)(G,"data-dhx-parent-id"),ae=(0,v.locate)(G,"data-dhx-id");L.events.fire(f.DiagramEvents.lineTitleDblClick,[X,ae,G])},dhx_diagram_shape:function(G,X){L.events.fire(f.DiagramEvents.shapeDblClick,[X.id,G]),L.events.fire(f.DiagramEvents.itemDblClick,[X.id,G])},dhx_diagram_line:function(G,X){L.events.fire(f.DiagramEvents.lineDblClick,[X.id,G]),L.events.fire(f.DiagramEvents.itemDblClick,[X.id,G])},dhx_diagram_group:function(G,X){L.events.fire(f.DiagramEvents.groupDblClick,[X.id,G]),L.events.fire(f.DiagramEvents.itemDblClick,[X.id,G])},dhx_diagram_group__header:function(G,X){L.events.fire(f.DiagramEvents.groupDblClick,[X.id,G]),L.events.fire(f.DiagramEvents.itemDblClick,[X.id,G]),L.events.fire(f.DiagramEvents.groupHeaderDblClick,[X.id,G])},dhx_diagram_swimlane__subheader:function(G,X){var ae=(0,v.locate)(G,"subheader_id");L.events.fire(f.DiagramEvents.groupDblClick,[X.id,G]),L.events.fire(f.DiagramEvents.itemDblClick,[X.id,G]),L.events.fire(f.DiagramEvents.groupHeaderDblClick,[X.id,G,ae])},dhx_diagram_item__text:function(G,X){L.events.fire(f.DiagramEvents.shapeDblClick,[X.id,G]),L.events.fire(f.DiagramEvents.itemDblClick,[X.id,G])},dhx_diagram_item__title:function(G,X){L.events.fire(f.DiagramEvents.shapeDblClick,[X.id,G]),L.events.fire(f.DiagramEvents.itemDblClick,[X.id,G])}})}},j.prototype._init_struct=function(){var L=this;this.events=new m.EventSystem(this),this.flowShapes=C({},i.flowShapes),this.data=new o.ShapesCollection({init:function(G){var X,ae,ie,re,he,fe;G.id||(G.id=(0,p.uid)());var ge="from"in G?(null===(X=L.config.lineConfig)||void 0===X?void 0:X.lineType)||"line":L.config.defaultShapeType;switch(G.type=G.type||ge,G.type){case"$group":G.$item=new U.Group(G,{data:L.data});break;case"$swimlane":G.$item=new V.Swimlane(G,{data:L.data});break;case"$sgroup":G.$item=new F.GroupSwimlane(G,{data:L.data});break;case"line":case"dash":!L._orgTypes.includes(L.config.type)&&G.from&&(G.stroke=G.stroke||(null===(ie=null===(ae=L.config.defaults)||void 0===ae?void 0:ae[G.type])||void 0===ie?void 0:ie.stroke)||"#2196F3"),G.$item=new M.Line(G,(null===(re=L.config.defaults)||void 0===re?void 0:re[G.type])||{});break;case"lineTitle":G.$item=new $.LineTitle(G,{defaults:(null===(he=L.config.defaults)||void 0===he?void 0:he[G.type])||{}});break;default:G.$item=(0,r.shapesFactory)(G,{defaults:(null===(fe=L.config.defaults)||void 0===fe?void 0:fe[G.type])||{},shapes:L.flowShapes,data:L.data})}return G},update:function(G){G.$item.config=G},diagramConfig:this.config},this.events),this.selection=new a.Selection(this.data,this.events),this.cellManager=new W.CellManager(this.data,this.events),this.export=new c.Exporter("diagram",this.version,this),this.editor=new B.Editor({data:this.data,events:this.events}),this._menu=new h.ContextMenu(null)},j.prototype._initEvents=function(){var L=this;this._initEventsHandlers(),this.events.on(f.DiagramEvents.lineDblClick,function(G){(0,p.isDefined)(G)&&"default"===L.config.type&&(0,Y.addLineTitle)(L.data.getItem(G),L)}),this.events.on(f.DiagramEvents.shapeDblClick,function(G,X){var ae=X.target,ie=L.data.getItem(G).$item;if(ie){var re=ae.getAttribute&&(ae.getAttribute("class")||"").match(/dhx_diagram_item__text\b/),he=ae.getAttribute&&(ae.getAttribute("class")||"").match(/dhx_diagram_item__title\b/);(re||he)&&ie.isEditable()&&L.editor.openEditor(G,he?"title":"text")&&ie.setEditorNode(L.editor.render(),he?"title":"text")}}),this.events.on(f.DiagramEvents.groupHeaderDblClick,function(G,X,ae){var ie=L.data.getItem(G).$item;ie&&((0,v.locateNodeByClassName)(X,"dhx_diagram_group__header_text")||(0,v.locateNodeByClassName)(X,"dhx_diagram_swimlane__subheader_text"))&&ie.isEditable(ae)&&L.editor.openEditor(G,"text",ae)&&ie.setEditorNode(L.editor.render(),"text",ae||G)}),this.events.on(f.DiagramEvents.lineTitleDblClick,function(G,X){var ae=L.data.getItem(X).$item;ae.isEditable()&&L.editor.openEditor(X,"text")&&ae.setEditorNode(L.editor.render(),"text")}),this.events.on(f.SelectionEvents.afterSelect,function(G){var X=G.id;"swimlane"===L.data.getItem(X).$item.getBaseType()&&L.cellManager.setSwimlane(X),L.paint()}),this.events.on(f.SelectionEvents.afterUnSelect,function(){return L.paint()}),this.events.on(f.DiagramEvents.itemMouseDown,function(G,X){L._lastItemClickCoords=L.getCurrentCoords(X),L.paint()}),this.events.on(f.DiagramEvents.lineTitleMouseDown,function(G,X,ae){L._lastItemClickCoords=L.getCurrentCoords(ae),L.paint()}),[B.EditorEvents.beforeEditorOpen,B.EditorEvents.afterEditorClose,f.DataEvents.change,f.DataEvents.filter].forEach(function(G){return L.events.on(G,function(){return L.paint()})}),this._menu.events.on("click",function(G){var X=G.split("/"),ie=X[1],re=X[2];L.cellManager.setSwimlane(X[0]);var he=L.cellManager.getSubHeaderType(ie),fe=L.cellManager.getSubHeaderCellIndex(ie);switch(re){case"move_column_left":L.cellManager.move(fe,"left",!0);break;case"move_column_right":L.cellManager.move(fe,"right",!0);break;case"move_row_up":L.cellManager.move(fe,"up",!0);break;case"move_row_down":L.cellManager.move(fe,"down",!0);break;case"add_column_left":L.cellManager.add(fe,"left",!0);break;case"add_column_right":L.cellManager.add(fe,"right",!0);break;case"add_row_up":L.cellManager.add(fe,"up",!0);break;case"add_row_down":L.cellManager.add(fe,"down",!0);break;case"remove":L.cellManager.remove(fe,he,!0)}L.paint()})},j.prototype._getContent=function(){var L=this;switch(this.config.type){case"org":(0,N.placeOrgonogram)(this.data,this.config);break;case"mindmap":(0,R.placeMindmap)(this.data,this.config)}var G={x:0,y:0,left:0,top:0,scale:this.config.scale},X=[],ae=[];return this.data.mapVisible(function(ie){var re=ie?.$item.getBaseType();if(ie&&!ie.$group&&"$sgroup"!==ie.type){"line"===re&&("default"===L.config.type&&(0,d.nearestLinkPath)(ie,L.data.getItem(ie.from),L.data.getItem(ie.to),L.config),X.push(ie.$item.render())),"shape"!==re&&"group"!==re&&"swimlane"!==re&&"lineTitle"!==re||ae.push(ie.$item.render());var he=ie.$item.getBox();he.right>G.x&&(G.x=he.right),he.left<G.left&&(G.left=he.left),he.bottom>G.y&&(G.y=he.bottom),he.top<G.top&&(G.top=he.top)}}),{size:G,svgContent:X,htmlContent:ae}},j.prototype._getPoint=function(L,G){var X=this.getRootView().node.el.getBoundingClientRect();return{x:L-X.left-this.config.margin.x,y:G-X.top-this.config.margin.y}},j.prototype._getBackground=function(L){if(!this.config.$isEditor||!this.config.$grid())return"none";var G=L<1?1:L,X=this.config.scale;return G>1?"url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100%' height='100%' %3E%3Cdefs%3E%3Cpattern id='Pattern' width='".concat(G*X,"' height='").concat(G*X,"' patternUnits='userSpaceOnUse' shapeRendering='auto'%3E%3Ccircle cx='0' cy='0' r='0.5' fill='%23c4c4c4' stroke='none'%3E%3C/circle%3E%3Ccircle cx='0' cy='").concat(G*X,"' r='0.5' fill='%23c4c4c4' stroke='none'%3E%3C/circle%3E%3Ccircle cx='").concat(G*X,"' cy='0' r='0.5' fill='%23c4c4c4' stroke='none'%3E%3C/circle%3E%3Ccircle cx='").concat(G*X,"' cy='").concat(G*X,"' r='0.5' fill='%23c4c4c4' stroke='none'%3E%3C/circle%3E%3C/pattern%3E%3C/defs%3E%3Cg shapeRendering='auto'%3E%3Crect x='0' y='0' width='100%' height='100%' fill='url%28%23Pattern%29'%3E%3C/rect%3E%3C/g%3E%3C/svg%3E\")"):"none"},j.prototype.setSelectionItem=function(L,G,X){var ae=L.id;this.config.select&&(X?this.selection.includes({id:ae})&&this.selection.remove({id:ae}):this.selection.add({id:ae,join:G}))},j}(u.View);E.Diagram=J},function(ne,E,D){"use strict";var S=this&&this.__createBinding||(Object.create?function(C,x,m,p){void 0===p&&(p=m);var y=Object.getOwnPropertyDescriptor(x,m);y&&!("get"in y?!x.__esModule:y.writable||y.configurable)||(y={enumerable:!0,get:function(){return x[m]}}),Object.defineProperty(C,p,y)}:function(C,x,m,p){void 0===p&&(p=m),C[p]=x[m]}),T=this&&this.__exportStar||function(C,x){for(var m in C)"default"===m||Object.prototype.hasOwnProperty.call(x,m)||S(x,C,m)};Object.defineProperty(E,"__esModule",{value:!0}),T(D(126),E),T(D(184),E)},function(ne,E,D){"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.default={apply:"apply",reject:"reject"}},function(ne,E,D){"use strict";function S(T){var C=document.activeElement;C.classList.contains("dhx_alert__apply-button")&&"Enter"===T.key||C.classList.contains("dhx_alert__confirm-reject")||C.classList.contains("dhx_alert__confirm-aply")||T.preventDefault()}Object.defineProperty(E,"__esModule",{value:!0}),E.blockScreen=void 0,E.blockScreen=function(T){var C=document.createElement("div");return C.className="dhx_alert__overlay "+(T||""),document.body.appendChild(C),document.addEventListener("keydown",S),function(){document.body.removeChild(C),document.removeEventListener("keydown",S)}}},function(ne,E,D){"use strict";var S=this&&this.__assign||function(){return S=Object.assign||function(_){for(var b,I=1,O=arguments.length;I<O;I++)for(var P in b=arguments[I])Object.prototype.hasOwnProperty.call(b,P)&&(_[P]=b[P]);return _},S.apply(this,arguments)};Object.defineProperty(E,"__esModule",{value:!0}),E.disableTooltip=E.enableTooltip=E.tooltip=E.getZIndex=E.findPosition=void 0;var T=D(2),C=D(46),x=750,m=200;function p(_,b,I,O,P,R){var N,V,U;if(void 0===P&&(P=8),void 0===R&&(R=0),R>1&&(b=C.Position.center),"top"!==b&&"bottom"!==b){var B=_.top+(_.height-O)/2,F=B<0&&window.pageYOffset+B+O<scrollY+window.innerHeight;U=window.pageYOffset+(F?0:B)}switch(b){case C.Position.center:return(V=_.left+window.pageXOffset+(_.width-I)/2)+P<window.pageXOffset&&(V=_.left+window.pageXOffset),{left:V,top:U,pos:N=C.RealPosition.center};case C.Position.right:return N=C.RealPosition.right,(V=_.right+window.pageXOffset+P)+I>window.innerWidth+window.pageXOffset?p(_,C.Position.left,I,O,P,++R):{left:V,top:U,pos:N};case C.Position.left:return N=C.RealPosition.left,(V=window.pageXOffset+_.left-I-P)<0?p(_,C.Position.right,I,O,P,++R):{left:V,top:U,pos:N};case C.Position.top:return N=C.RealPosition.top,(V=window.pageXOffset+_.left+(_.width-I)/2)+I>window.innerWidth+window.pageXOffset?V=window.innerWidth+window.pageXOffset-I:V<0&&(V=0),_.top<O?p(_,C.Position.bottom,I,O,P,++R):{left:V,top:U=window.pageYOffset+_.top-O-P,pos:N};default:return(V=window.pageXOffset+_.left+(_.width-I)/2)+I>window.innerWidth+window.pageXOffset?V=window.innerWidth+window.pageXOffset-I:V<0&&(V=0),N=C.RealPosition.bottom,(U=window.pageYOffset+_.bottom+P)+O>window.innerHeight+window.pageYOffset?p(_,C.Position.top,I,O,P,++R):{left:V,top:U,pos:N}}}E.findPosition=p;var y=document.createElement("div"),v=document.createElement("span");v.className="dhx_tooltip__text",y.appendChild(v),y.setAttribute("role","tooltip"),y.style.position="absolute";var u,h=null,c=!1,d=null,a=null;function r(_){return _&&(_.classList.contains("dhx_popup--window")&&_.classList.contains("dhx_popup--window_active")||_.classList.contains("dhx_popup--window_modal")||_.classList.contains("dhx_popup"))?1e7:_?.classList.contains("dhx_popup--window")?9999999:_&&_.offsetParent?r(_.offsetParent):null}function i(_,b,I,O,P,R,N){void 0===O&&(O=""),void 0===P&&(P=!1),void 0===R&&(R=8);var V=_.getBoundingClientRect();N?v.innerHTML=b:v.textContent=b,y.style.left=null,y.style.top=null,document.body.appendChild(y),y.className="dhx_widget dhx_tooltip ".concat(P?" dhx_tooltip--forced":""," ").concat(O);var U=y.getBoundingClientRect(),B=p(V,I,U.width,U.height,R),F=B.left,W=B.top,M=B.pos,$=r(_);switch($&&(y.style.zIndex=$.toString()),M){case C.RealPosition.bottom:case C.RealPosition.top:case C.RealPosition.left:case C.RealPosition.right:case C.RealPosition.center:y.style.left=F+"px",y.style.top=W+"px"}y.className+=" dhx_tooltip--".concat(M),c=!0,P||setTimeout(function(){y.className+=" dhx_tooltip--animate"})}function o(_,b,I){var O=I.force,R=I.hideDelay,N=I.position,V=I.css,U=I.htmlEnable,B=I.margin;O||(a=setTimeout(function(){i(_,b,N||C.Position.bottom,V,!1,B,U)},I.showDelay||x));var F=function(){c&&h&&(d=setTimeout(function(){document.body.removeChild(y),c=!1,d=null},R||m)),clearTimeout(a),_.removeEventListener("mouseleave",F),_.removeEventListener("blur",F),document.removeEventListener("mousedown",F),h=null,u=null};O&&i(_,b,N,V,O,B,U),_.addEventListener("mouseleave",F),_.addEventListener("blur",F),document.addEventListener("mousedown",F),u=F}function l(_,b){var I=(0,T.toNode)(b.node);I!==h&&(u&&(u(),u=null),h=I,d?(clearTimeout(d),d=null,o(I,_,S(S({},b),{force:!0}))):o(I,_,b))}function f(_){var b=(0,T.locateNode)(_,"dhx_tooltip_text");b&&l(b.getAttribute("dhx_tooltip_text"),{position:b.getAttribute("dhx_tooltip_position")||C.Position.bottom,node:b})}E.getZIndex=r,E.tooltip=l,E.enableTooltip=function(){document.addEventListener("mousemove",f)},E.disableTooltip=function(){document.removeEventListener("mousemove",f)}},function(ne,E,D){"use strict";var S=this&&this.__assign||function(){return S=Object.assign||function(c){for(var d,a=1,r=arguments.length;a<r;a++)for(var i in d=arguments[a])Object.prototype.hasOwnProperty.call(d,i)&&(c[i]=d[i]);return c},S.apply(this,arguments)},T=this&&this.__spreadArray||function(c,d,a){if(a||2===arguments.length)for(var r,i=0,o=d.length;i<o;i++)!r&&i in d||(r||(r=Array.prototype.slice.call(d,0,i)),r[i]=d[i]);return c.concat(r||Array.prototype.slice.call(d))};Object.defineProperty(E,"__esModule",{value:!0}),E.DataCollection=void 0;var C=D(3),x=D(131),m=D(134),p=D(32),y=D(23),v=D(22),u=D(1),h=function(){function c(d,a){var r=this;this._filters={},this._changes={order:[]},this.config=d||{},this._sort=new m.Sort,this._loader=new x.Loader(this,this._changes),this.events=a||new C.EventSystem(this),this.events.on(v.DataEvents.dataRequest,function(i,o){var l=r.dataProxy;l&&l.updateUrl&&(l.updateUrl(null,{from:i,limit:l.config.limit||o-i}),r.load(l))}),this.events.on(v.DataEvents.loadError,function(i){setTimeout(function(){"string"!=typeof i?(0,y.dhxError)(i):(0,y.dhxWarning)(i)},0)}),this._reset()}return c.prototype._reset=function(){this._order=[],this._pull={},this._changes={order:[]},this._initOrder=null,this._meta=new WeakMap,this._loaded=!1},c.prototype.add=function(d,a){var r,i=this;if(this.events.fire(v.DataEvents.beforeAdd,[d]))return r=Array.isArray(d)?d.map(function(o,l){return 0!==l&&(a+=1),i._add(o,a)}):this._add(d,a),this._reapplyFilters(!0),r},c.prototype.remove=function(d){var a=this;d instanceof Array?T([],d,!0).map(function(r){a._remove(r)}):(0,u.isId)(d)&&this._remove(d)},c.prototype.removeAll=function(){this._reset(),this.events.fire(v.DataEvents.removeAll),this.events.fire(v.DataEvents.change)},c.prototype.exists=function(d){return!!this._pull[d]},c.prototype.getNearId=function(d){if(!this._pull[d])return this._order[0].id||""},c.prototype.getItem=function(d){return this._pull[d]},c.prototype.update=function(d,a,r){var i=this.getItem(d);if(i){if((0,y.isEqualObj)(a,i))return;(0,u.isId)(a.id)&&d!==a.id?((0,y.dhxWarning)("this method doesn't allow change id"),(0,y.isDebug)()):(a.parent&&i.parent&&a.parent!==i.parent&&this.move(d,-1,this,a.parent),(0,u.extend)(this._pull[d],a,!1),this.config.update&&this.config.update(this._pull[d]),r||this._onChange("update",d,this._pull[d])),this._reapplyFilters(!0)}else(0,y.dhxWarning)("item not found")},c.prototype.getIndex=function(d){return(0,u.isId)(d)&&(0,u.isDefined)(this._pull[d])?this._order.findIndex(function(a){return a?.id==d}):-1},c.prototype.getId=function(d){if(this._order[d])return this._order[d].id},c.prototype.getLength=function(){return this._order.length},c.prototype.isDataLoaded=function(d,a){return void 0===d&&(d=0),void 0===a&&(a=this._order.length),(0,u.isNumeric)(d)&&(0,u.isNumeric)(a)?0===this._order.slice(d,a).filter(function(r){return r&&r.$empty}).length:(this._loaded||(this._loaded=!this.find(function(r){return r.$empty})),!!this._loaded)},c.prototype.filter=function(d,a,r){var i;if(this.isDataLoaded()){if(a?.$restore&&(d=this._normalizeFilters(d||this._filters)),!a?.add&&(this._order=this._initOrder||this._order,this._initOrder=null,!a?.$restore))for(var o in this._filters){var l=this._filters[o];null!==(i=l.config)&&void 0!==i&&i.permanent?this._applyFilters(l.rule):delete this._filters[o]}var f;if(d&&!a?.$restore&&(f=a?.id||(0,u.uid)(),this._filters[f]={rule:d,config:a||{}}),d&&"function"!=typeof d)if((0,u.isDefined)(d.by))this._applyFilters(d);else for(var o in d)this._applyFilters(d[o]);else this._applyFilters(d);if(!r){var _=this._getPureFilters(this._filters);this.events.fire(v.DataEvents.filter,[(0,u.isEmptyObj)(_)?null:_])}return f}(0,y.dhxWarning)("the method doesn't work with lazyLoad")},c.prototype.resetFilter=function(d,a){var r,i=d||{},o=i.id,l=i.permanent;if((0,u.isEmptyObj)(d))for(var f in this._filters)null!==(r=this._filters[f].config)&&void 0!==r&&r.permanent||delete this._filters[f];else l?this._filters={}:o&&delete this._filters[o];return this.filter(null,{$restore:!0},a),(0,u.isEmptyObj)(this._getPureFilters(this._filters))},c.prototype.getFilters=function(d){var a=this.getRawFilters(d),r=a?this._getPureFilters(a):{};return(0,u.isEmptyObj)(r)?null:r},c.prototype.getRawFilters=function(d){var a=this._filters;return d?.permanent&&(a=Object.keys(a).reduce(function(r,i){var o;return!(null===(o=a[i].config)||void 0===o)&&o.permanent&&(r[i]=a[i]),r},{})),(0,u.isEmptyObj)(a)?null:a},c.prototype.find=function(d){for(var a in this._pull){var r=(0,y.findByConf)(this._pull[a],d);if(r)return r}return null},c.prototype.findAll=function(d){var a=[];for(var r in this._pull){var i=(0,y.findByConf)(this._pull[r],d);i&&a.push(i)}return a},c.prototype.sort=function(d,a){this.isDataLoaded()?(a&&a.smartSorting&&(this._sorter=d),d&&this._applySorters(d),this.events.fire(v.DataEvents.change,[void 0,"sort",d])):(0,y.dhxWarning)("the method doesn't work with lazyLoad")},c.prototype.copy=function(d,a,r,i){var o=this;return d instanceof Array?d.map(function(l,f){return o._copy(l,a,r,i,f)}):this._copy(d,a,r,i)},c.prototype.move=function(d,a,r,i,o){var l=this;return d instanceof Array?d.map(function(f,_){return l._move(f,a,r,i,_)}):this._move(d,a,r,i,0,o)},c.prototype.forEach=function(d){for(var a=0;a<this._order.length;a++)d.call(this,this._order[a],a,this._order)},c.prototype.load=function(d,a){if("string"==typeof d&&(this.dataProxy=d=new p.DataProxy(d)),"string"==typeof a){var r=a.toLocaleLowerCase();"xml"!==r&&"csv"!==r||(d.config.responseType=d.config.responseType||"text")}return this.dataProxy=d,this._loader.load(d,a)},c.prototype.parse=function(d,a){return this._reset(),this._loader.parse(d,a)},c.prototype.$parse=function(d){var a=this.config.approximate;a&&(d=this._approximate(d,a.value,a.maxNum)),this._parse_data(d),this._reapplyFilters(!0),this.events.fire(v.DataEvents.change,[void 0,"load"]),this.events.fire(v.DataEvents.load)},c.prototype.save=function(d){"string"==typeof d&&(d=new p.DataProxy(d)),this._loader.save(d)},c.prototype.changeId=function(d,a,r){if(void 0===a&&(a=(0,u.uid)()),r||this.isDataLoaded()){var i=this.getItem(d);i?(i.id=a,(0,u.extend)(this._pull[d],i),this._pull[a]=this._pull[d],r||this._onChange("update",a,this._pull[a]),delete this._pull[d]):(0,y.dhxWarning)("item not found")}else(0,y.dhxWarning)("the method doesn't work with lazyLoad")},c.prototype.isSaved=function(){return!this._changes.order.length},c.prototype.map=function(d){for(var a=[],r=0;r<this._order.length;r++)a.push(d.call(this,this._order[r],r,this._order));return a},c.prototype.mapRange=function(d,a,r){d<0&&(d=0),a>this._order.length-1&&(a=this._order.length-1);for(var i=this._order.slice(d,a),o=[],l=d;l<=a;l++)o.push(r.call(this,this._order[l],l,i));return o},c.prototype.reduce=function(d,a){for(var r=0;r<this._order.length;r++)a=d.call(this,a,this._order[r],r);return a},c.prototype.serialize=function(d){void 0===d&&(d=v.DataDriver.json);for(var a=[],r=function(f){var _=S({},i._order[f]);Object.keys(_).forEach(function(b){b.startsWith("$")&&delete _[b]}),a.push(_)},i=this,o=0;o<this._order.length;o++)r(o);var l=(0,y.toDataDriver)(d);if(l)return l.serialize(a)},c.prototype.getInitialData=function(){return this._initOrder},c.prototype.setMeta=function(d,a,r){if(d){var i=this._meta.get(d);i||this._meta.set(d,i={}),i[a]=r}},c.prototype.getMeta=function(d,a){var r=this._meta.get(d);return r?r[a]:null},c.prototype.getMetaMap=function(d){return this._meta.get(d)},c.prototype.setRange=function(d,a){this._range=a?[d,a]:null},c.prototype.getRawData=function(d,a,r,i){if(r=r||this._order,1===i)return r;if(this._range)if(d=this._range[0]+d,-1===a)a=this._range[1];else{var o=Math.abs(a-d);a=d+o>this._range[1]?this._range[1]:d+o}if(!a||0===d&&(-1===a||a===r.length))return r;if(d>=r.length)return[];(-1===a||a>r.length)&&(a=r.length);var l=r.slice(d,a);return 0!==l.filter(function(f){return f.$empty}).length&&this.events.fire(v.DataEvents.dataRequest,[d,a]),l},c.prototype._add=function(d,a){if(this.isDataLoaded()){var r=this._addCore(d,a);return this._onChange("add",d.id,d),this.events.fire(v.DataEvents.afterAdd,[d]),r}(0,y.dhxWarning)("the method doesn't work with lazyLoad")},c.prototype._remove=function(d){if(this.isDataLoaded()){var a=this._pull[d];if(a){if(!this.events.fire(v.DataEvents.beforeRemove,[a]))return;this._removeCore(a.id),this._onChange("remove",d,a)}this.events.fire(v.DataEvents.afterRemove,[a])}else(0,y.dhxWarning)("the method doesn't work with lazyLoad")},c.prototype._copy=function(d,a,r,i,o){if(this.isDataLoaded()){if(!this.exists(d))return null;var l=(0,u.uid)();return o&&(a=-1===a?-1:a+o),r?r instanceof c||!i?r.exists(d)?(r.add(S(S({},(0,y.copyWithoutInner)(this.getItem(d))),{id:l}),a),l):(r.add((0,y.copyWithoutInner)(this.getItem(d)),a),d):void r.add((0,y.copyWithoutInner)(this.getItem(d)),a):(this.add(S(S({},(0,y.copyWithoutInner)(this.getItem(d))),{id:l}),a),l)}(0,y.dhxWarning)("the method doesn't work with lazyLoad")},c.prototype._move=function(d,a,r,i,o,l){if(this.isDataLoaded()){if(o&&(a=-1===a?-1:a+o),r&&r!==this&&this.exists(d)){var f=(0,u.copy)(this.getItem(d),!0);return l&&(f.id=l),(!l&&r.exists(d)||r.exists(l))&&(f.id=(0,u.uid)()),i&&(f.parent=i),r.add(f,a),this.remove(d),f.id}if(this.getIndex(d)===a)return null;var _=this._order.splice(this.getIndex(d),1)[0];return-1===a&&(a=this._order.length),this._order.splice(a,0,_),this.events.fire(v.DataEvents.change,[d,"update",this.getItem(d)]),d}(0,y.dhxWarning)("the method doesn't work with lazyLoad")},c.prototype._addCore=function(d,a){var r;return this.config.init&&(d=this.config.init(d)),d.id=null!==(r=d.id)&&void 0!==r?r:(0,u.uid)(),this._pull[d.id]&&(0,y.dhxError)("Item ".concat(d.id," already exist")),this._initOrder&&!(0,y.isTreeCollection)(this)&&this._addToOrder(this._initOrder,d,a),this._addToOrder(this._order,d,a),d.id},c.prototype._removeCore=function(d){this.getIndex(d)>=0&&(this._order=this._order.filter(function(a){return a.id!==d}),delete this._pull[d]),this._initOrder&&this._initOrder.length&&(this._initOrder=this._initOrder.filter(function(a){return a.id!==d}),delete this._pull[d])},c.prototype._parse_data=function(d){var a=this._order.length;this.config.prep&&(d=this.config.prep(d));for(var r=0,i=d;r<i.length;r++)this._addCore(i[r],a++)},c.prototype._approximate=function(d,a,r){for(var i=d.length,o=a.length,l=Math.floor(i/r),f=Array(Math.ceil(i/l)),_=0,b=0;b<i;b+=l){for(var I=(0,u.copy)(d[b]),O=Math.min(i,b+l),P=0;P<o;P++){for(var R=0,N=b;N<O;N++)R+=d[N][a[P]];I[a[P]]=R/(O-b)}f[_++]=I}return f},c.prototype._onChange=function(d,a,r){for(var i=0,o=0,l=this._changes.order;o<l.length;o++){var f=l[o],_=this._changes.order.indexOf(f);if(f.id===a&&!f.saving&&(i+=1,_===this._changes.order.length-1||this._changes.order[_+1].id!==a))return f.error&&(f.error=!1),f=S(S({},f),{obj:r,status:d}),(i+=1)>10?this._changes.order.splice(_,i-10,f):this._changes.order.splice(_+1,0,f),this._loader.updateChanges(this._changes),"remove"===d&&r.$emptyRow?void 0:void this.events.fire(v.DataEvents.change,[a,d,r])}this._changes.order.push({id:a,status:d,obj:S({},r),saving:!1}),this._loader.updateChanges(this._changes),this.events.fire(v.DataEvents.change,[a,d,r])},c.prototype._addToOrder=function(d,a,r){r>=0&&d[r]?(this._pull[a.id]=a,d.splice(r,0,a)):(this._pull[a.id]=a,d.push(a))},c.prototype._applySorters=function(d){this._sort.sort(this._order,d,this._sorter),this._initOrder&&this._initOrder.length&&this._sort.sort(this._initOrder,d,this._sorter)},c.prototype._applyFilters=function(d){if(d){var a="function"!=typeof d?this._getRuleCallback(d):d,r=this._order.filter(function(i){return a(i)});this._initOrder||(this._initOrder=this._order),this._order=r}},c.prototype._reapplyFilters=function(d){void 0===d&&(d=!1);var a=this.getFilters({permanent:!0});a&&this.filter(a,{$restore:!0,add:!0},!0),d&&this._sorter&&this._applySorters()},c.prototype._getRuleCallback=function(d){if((0,u.isDefined)(d.by)&&(0,u.isDefined)(d.match))return d.compare?function(a){return d.compare(a[d.by],d.match,a,d.multi)}:function(a){return a[d.by]==d.match}},c.prototype._getPureFilters=function(d){return Object.keys(d).reduce(function(a,r){var i;return!(null===(i=d[r].config)||void 0===i)&&i.$local||(a[r]=d[r]),a},{})},c.prototype._normalizeFilters=function(d){var a=[];for(var r in d){var i=d[r].rule;if("function"!=typeof i)if((0,u.isDefined)(i.by))a.push(this._getRuleCallback(i));else for(var o in i)a.push(this._getRuleCallback(i[o]));else a.push(i)}return S({},a)},c}();E.DataCollection=h},function(ne,E,D){"use strict";var S=this&&this.__assign||function(){return S=Object.assign||function(m){for(var p,y=1,v=arguments.length;y<v;y++)for(var u in p=arguments[y])Object.prototype.hasOwnProperty.call(p,u)&&(m[u]=p[u]);return m},S.apply(this,arguments)};Object.defineProperty(E,"__esModule",{value:!0}),E.dataDriversPro=E.dataDrivers=void 0;var T=D(70),C=D(71),x=D(132);E.dataDrivers={json:T.JsonDriver,csv:C.CsvDriver},E.dataDriversPro=S(S({},E.dataDrivers),{xml:x.XMLDriver})},function(ne,E,D){"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.JsonDriver=void 0;var S=function(){function T(){}return T.prototype.toJsonArray=function(C){return this.getRows(C)},T.prototype.serialize=function(C){return C},T.prototype.getFields=function(C){return C},T.prototype.getRows=function(C){return"string"==typeof C?JSON.parse(C):C},T}();E.JsonDriver=S},function(ne,E,D){"use strict";var S=this&&this.__assign||function(){return S=Object.assign||function(C){for(var x,m=1,p=arguments.length;m<p;m++)for(var y in x=arguments[m])Object.prototype.hasOwnProperty.call(x,y)&&(C[y]=x[y]);return C},S.apply(this,arguments)};Object.defineProperty(E,"__esModule",{value:!0}),E.CsvDriver=void 0;var T=function(){function C(x){this.config=S(S({},{skipHeader:0,nameByHeader:!1,rowDelimiter:"\n",columnDelimiter:","}),x),this.config.nameByHeader&&(this.config.skipHeader=1)}return C.prototype.getFields=function(x,m){for(var p=new RegExp('(?<!")'.concat(this.config.columnDelimiter,'(?!")')),y=x.trim().split(p),v={},u=0;u<y.length;u++)v[m?m[u]:u+1]=isNaN(Number(y[u]))?y[u].replace(/"[,;"]"/gi,function(h){return h.split("").splice(1,1).slice(-1,1).join("")}):parseFloat(y[u]);return v},C.prototype.getRows=function(x){return x.trim().split(this.config.rowDelimiter)},C.prototype.toJsonArray=function(x){var m=this,p=this.getRows(x),y=this.config.names;if(this.config.skipHeader){var v=p.splice(0,this.config.skipHeader);this.config.nameByHeader&&(y=v[0].trim().split(this.config.columnDelimiter))}return p.map(function(u){return m.getFields(u,y)})},C.prototype.serialize=function(x,m){var p=x[0]?Object.keys(x[0]).filter(function(v){return!v.startsWith("$")}).join(this.config.columnDelimiter)+this.config.rowDelimiter:"",y=this._serialize(x);return m?y:p+y},C.prototype._serialize=function(x){var m=this;return x.reduce(function(p,y){var v=Object.keys(y),u=v.reduce(function(h,c,d){var a,r;return c.startsWith("$")||"items"===c?h:"".concat(h).concat((null!==(r=null===(a=y[c])||void 0===a?void 0:a.toString())&&void 0!==r?r:"").replaceAll(/[,;"]/gi,function(i){return'"'.concat(i,'"')})).concat(d===v.length-1?"":m.config.columnDelimiter)},"");return y.items?"".concat(p).concat(p?"\n":"").concat(u).concat(m._serialize(y.items)):"".concat(p).concat(p?m.config.rowDelimiter:"").concat(u)},"")},C}();E.CsvDriver=T},function(ne,E,D){"use strict";var S,T=this&&this.__extends||(S=function(U,B){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(F,W){F.__proto__=W}||function(F,W){for(var M in W)Object.prototype.hasOwnProperty.call(W,M)&&(F[M]=W[M])})(U,B)},function(U,B){if("function"!=typeof B&&null!==B)throw new TypeError("Class extends value "+String(B)+" is not a constructor or null");function F(){this.constructor=U}S(U,B),U.prototype=null===B?Object.create(B):(F.prototype=B.prototype,new F)}),C=this&&this.__assign||function(){return C=Object.assign||function(U){for(var B,F=1,W=arguments.length;F<W;F++)for(var M in B=arguments[F])Object.prototype.hasOwnProperty.call(B,M)&&(U[M]=B[M]);return U},C.apply(this,arguments)},x=this&&this.__rest||function(U,B){var F={};for(var W in U)Object.prototype.hasOwnProperty.call(U,W)&&B.indexOf(W)<0&&(F[W]=U[W]);if(null!=U&&"function"==typeof Object.getOwnPropertySymbols){var M=0;for(W=Object.getOwnPropertySymbols(U);M<W.length;M++)B.indexOf(W[M])<0&&Object.prototype.propertyIsEnumerable.call(U,W[M])&&(F[W[M]]=U[W[M]])}return F},m=this&&this.__spreadArray||function(U,B,F){if(F||2===arguments.length)for(var W,M=0,$=B.length;M<$;M++)!W&&M in B||(W||(W=Array.prototype.slice.call(B,0,M)),W[M]=B[M]);return U.concat(W||Array.prototype.slice.call(B))};Object.defineProperty(E,"__esModule",{value:!0}),E.Grid=void 0;var p=D(0),y=D(3),v=D(2),u=D(1),h=D(14),c=D(5),d=D(8),a=D(138),r=D(18),i=D(26),o=D(15),l=D(139),f=D(7),_=D(25),b=D(24),I=D(163),O=D(167),P=D(168),R=D(31),N=D(33),V=function(U){function B(F,W){var M=U.call(this,F,W)||this;M._touch={duration:350,dblDuration:300,timer:null,start:!1},M._destructed=!1,M.version="6.0.1",M.config=(0,u.extend)({rowHeight:40,headerRowHeight:40,footerRowHeight:40,keyNavigation:!0,sortable:!0,columns:[],data:[],tooltip:!0,rootParent:"string"==typeof F&&F||M._uid},M._normalizeConfig(W)),M.content=(0,I.getContent)(),M._scroll={top:0,left:0},M.config.autoWidth=M.config.autoWidth||M.config.fitToContainer,M.config.adjust=M.config.adjust||M.config.columnsAutoWidth,M.config.editable=M.config.editable||M.config.editing,M.config.leftSplit=M.config.leftSplit||M.config.splitAt,M.config.columns.forEach(function(G){G.format=G.format||G.dateFormat});var $=function(G,X,ae){var ie;if(G&&X&&(0,o.isTooltip)(M.config,X)){var re=void 0;if("combobox"===X.editorType||"select"===X.editorType){var he=(0,r.getEditorOptions)(X,G).find(function(ye){var we;return(ye instanceof Object?ye.id.toString():ye)===(null===(we=G[X.id])||void 0===we?void 0:we.toString())});re=he instanceof Object?he.value:he}else if("multiselect"===X.editorType){var fe=null===(ie=G[X.id])||void 0===ie?void 0:ie.toString().split(", ");fe?.length&&(re=(0,r.getEditorOptions)(X,G).filter(function(ye){return fe.includes(ye instanceof Object?ye.id.toString():ye)}).map(function(ye){return ye instanceof Object?ye.value:ye}).join(", "))}var ge=(0,r.toFormat)(re||G[X.id],X.type,X.format),ve=function(){return!!ge||"boolean"==typeof ge};X.tooltipTemplate?ge=X.tooltipTemplate(ge,G,X)||null:ve()&&X.template&&(ge=X.template(ge,G,X)),ve()&&(0,o.showTooltip)({value:ge,node:ae,htmlEnable:(0,o.isHtmlEnable)(M.config,X)})}},Y=function(G,X){var ae,ie;void 0===X&&(X="header");var re=G.target,he=re.getAttribute("data-dhx-text-id"),fe=M.getColumn(re.getAttribute("data-dhx-id"));if(he&&fe){var ge=null===(ae=fe[X])||void 0===ae?void 0:ae.find(function(we){return we.id===he});if((0,o.isContentTooltip)(M.config,fe,ge,X)){var ve=ge?.content&&["avg","sum","max","min","count"].includes(ge.content),ye=ve?null===(ie=M.content[ge.content])||void 0===ie?void 0:ie.toHtml(fe,C(C({},M.config),{datacollection:M.data})):ge?.text;"function"==typeof ge?.tooltipTemplate&&(ye=ge.tooltipTemplate(ye,ge,fe)),ve&&"function"==typeof fe.template&&(ye=fe.template(ye,ge,fe)),ye?.toString().length&&(0,o.showTooltip)({value:ye,node:re,htmlEnable:(0,o.isHtmlEnable)(M.config,fe,ge)})}}};if(M._htmlEvents={onclick:(0,v.eventHandler)(function(G){return(0,v.locate)(G)},{"dhx_grid-header-cell--sortable":function(G,X){var ae=G.target.getAttribute("dhx_resized"),ie=M.getColumn(X);if(ie&&(0,o.isSortable)(M.config,ie)&&!ae&&M.events.fire(f.GridEvents.beforeSort,[ie,"asc"===M._sortDir?"desc":"asc"])){var re=(0,v.locate)(G,"data-dhx-text-id"),he=ie.header.find(function(ge){return ge.id===re});M._sort(X,"asc"===M._sortDir&&M._sortBy===X?"desc":"asc",he.sortAs)}},"dhx_grid-expand-cell":function(G,X){G.target.classList.contains("dhx_grid-expand-cell-icon")&&M.events.fire(f.GridEvents.expand,[X])},"dhx_span-expand-cell":function(G,X){G.target.classList.contains("dhx_span-expand-cell-icon")&&M.events.fire(f.GridEvents.expand,[X])}}),onscroll:function(G){M.events.fire(f.GridEvents.scroll,[{y:G.target.scrollTop,x:G.target.scrollLeft}])},onmouseover:{".dhx_grid-cell.dhx_boolean-cell .dhx_checkbox.dhx_cell-editor__checkbox":function(G){var X=G.composedPath(),ae=M.data.getItem(X[2].getAttribute("data-dhx-id")),ie=M.getColumn(X[1].getAttribute("data-dhx-col-id"));$(ae,ie,G.target)},".dhx_grid-cell:not(.dhx_boolean-cell)":function(G){var X=M.data.getItem(G.composedPath()[1].getAttribute("data-dhx-id")),ae=M.getColumn(G.target.getAttribute("data-dhx-col-id"));$(X,ae,G.target)},".dhx_grid-cell:not(.dhx_tree-cell) .dhx_grid-cell__content, .dhx_tree-cell :not(.dhx_grid-cell__content)":function(G){var X=G.composedPath(),ae=M.data.getItem(X[2].getAttribute("data-dhx-id")),ie=M.getColumn(X[1].getAttribute("data-dhx-col-id"));$(ae,ie,G.target)},".dhx_grid-cell.dhx_tree-cell .dhx_grid-cell__content":function(G){var X=G.composedPath(),ae=M.data.getItem(X[3].getAttribute("data-dhx-id")),ie=M.getColumn(X[2].getAttribute("data-dhx-col-id"));$(ae,ie,X[2])},".dhx_span-cell:not(.dhx_grid-header-cell):not(.dhx_grid-footer-cell)":function(G){var X=G.target,ae=M.data.getItem(X.getAttribute("data-dhx-id")),ie=M.getColumn(X.getAttribute("data-dhx-col-id")),re=M.getSpan(ae.id,ie.id);if(ae&&re&&(0,o.isTooltip)(M.config,re)){var he=re.text||(0,r.toFormat)(ae[ie.id],ie.type,ie.format);re.tooltipTemplate?he=re.tooltipTemplate(he,re):ie.template&&(he=ie.template(he,ae,ie)),he&&(0,o.showTooltip)({value:he,node:X,htmlEnable:(0,o.isHtmlEnable)(M.config,ie)})}},".dhx_grid-header-cell":function(G){return Y(G,"header")},".dhx_grid-footer-cell":function(G){return Y(G,"footer")}}},M.config.eventHandlers)for(var ee=0,J=Object.entries(M.config.eventHandlers);ee<J.length;ee++){var Z=J[ee],j=Z[0];M._htmlEvents[j]=(0,v.eventHandler)(function(G){return{col:M.getColumn((0,v.locate)(G,"data-dhx-col-id")||(0,v.locate)(G,"data-dhx-id"))||{},row:M.data.getItem((0,v.locate)(G,"data-dhx-id"))||{}}},Z[1],M._htmlEvents[j])}return(M.config.dragMode||M.config.dragItem)&&(d.dragManager.setItem(M._uid,M),M.config.dragItem||(M.config.dragItem="row"),M.config.dragMode||(M.config.dragMode="both")),M._init(),M.config.columns&&M._parseColumns(!0),M._canDataParse()&&M.data.parse(M.config.data),M.selection=new l.Selection(M,{disabled:!M.config.selection},M.events,M._uid),M.mount(F,M._createView()),(0,p.awaitRedraw)().then(function(){M.config.keyNavigation&&(M.keyManager=new h.KeyManager(function(G,X){return!(X!==M._uid||!M.events.fire(f.GridEvents.beforeKeyDown,[G])||(M.events.fire(f.GridEvents.afterKeyDown,[G]),0))}),M._initHotKey(),R.focusManager.setFocusId(M._uid))}),W.autoEmptyRow&&0===M.data.getLength()&&(M._addEmptyRow(),M.paint()),M}return T(B,U),B.prototype.destructor=function(){this._destructed=!0,this._destroyContent(),this.keyManager&&this.keyManager.destructor(),this.events&&this.events.clear(),this._events&&this._events.clear(),this.export=this.content=this.selection=null,this._activeFilters=this._filterData=this._scroll=this._touch=this._htmlEvents=this._hiddenFilters=null,this.unmount()},B.prototype.setColumns=function(F){var W=this;this._destroyContent(),this.config.columns=F,this._parseColumns(!0),(0,o.isAutoWidth)(this.config)&&this._applyAutoWidth(),this._adjustColumns(),this._checkFilters(),this._checkMarks(),this._normalizeSpans(),this.paint(),this.config.keyNavigation&&(0,p.awaitRedraw)().then(function(){W._initHotKey(!0),W.paint()})},B.prototype.addRowCss=function(F,W){var M=this.data.getItem(F),$=M.$css||"";$.match(new RegExp(W,"g"))||(M.$css=$+" ".concat(W),this.paint())},B.prototype.removeRowCss=function(F,W){var M=this.data.getItem(F),$=M.$css?M.$css.replace(W,""):"";M.$css=$,this.paint()},B.prototype.addCellCss=function(F,W,M){var $=this.getColumn(W);if($){$.$cellCss=$.$cellCss||{};var Y=$.$cellCss[F];if(Y){var ee=Y.match(new RegExp(M,"g"))?"":" ".concat(M);$.$cellCss[F]+=ee}else this.data.getItem(F)&&($.$cellCss[F]="".concat(M," "));this.paint()}},B.prototype.removeCellCss=function(F,W,M){var $=this.getColumn(W);$&&($.$cellCss[F]?($.$cellCss[F]=$.$cellCss[F].replace(M,""),this.paint()):this.data.getItem(F)&&($.$cellCss[F]=""))},B.prototype.showColumn=function(F){var W=this.getColumn(F);if(W&&W.hidden&&this.events.fire(f.GridEvents.beforeColumnShow,[W])){W.hidden=!1,this.config.$totalWidth+=W.$width,this._parseColumns(),this.config.data=this._prepareData(this.data);var M=this._hiddenFilters&&this._hiddenFilters[W.id];M&&(this._activeFilters[W.id]=M,delete this._hiddenFilters[W.id],this._checkFilters(),this._checkSelectFilterValue()),this._normalizeSpans(),this.paint(),this.events.fire(f.GridEvents.afterColumnShow,[W])}},B.prototype.hideColumn=function(F){var W=this.getColumn(F);if(W&&!W.hidden&&this.events.fire(f.GridEvents.beforeColumnHide,[W])){W.hidden=!0,this.config.$totalWidth-=W.$width,this._parseColumns(),this.config.data=this._prepareData(this.data);var M=this._activeFilters&&this._activeFilters[W.id];M&&(this._hiddenFilters||(this._hiddenFilters={}),this._hiddenFilters[W.id]=M,delete this._activeFilters[W.id],this._checkFilters()),this._normalizeSpans(),this.paint(),this.events.fire(f.GridEvents.afterColumnHide,[W])}},B.prototype.isColumnHidden=function(F){var W=this.getColumn(F);if(W)return!!W.hidden},B.prototype.showRow=function(F){if((0,u.isDefined)(F)){var W=F.toString(),M=this.data.getItem(W);M&&M.hidden&&this.events.fire(f.GridEvents.beforeRowShow,[M])&&(this.data.update(W,{hidden:!1}),this._checkFilters(!0),this.paint(),this.events.fire(f.GridEvents.afterRowShow,[M]))}},B.prototype.hideRow=function(F){if((0,u.isDefined)(F)){var W=F.toString(),M=this.data.getItem(W);M&&this.events.fire(f.GridEvents.beforeRowHide,[M])&&(this.data.update(W,{hidden:!0}),this._checkFilters(!0),this._checkSelectFilterValue(),this.paint(),this.events.fire(f.GridEvents.afterRowHide,[M]))}},B.prototype.isRowHidden=function(F){if((0,u.isDefined)(F)){var W=this.data.getItem(F.toString());return W?!!W.hidden:void 0}},B.prototype.getScrollState=function(){return{x:this._scroll.left,y:this._scroll.top}},B.prototype.scroll=function(F,W){var M=this.getRootView().refs.grid_body.el.querySelector(".scroll-view")||this.getRootView().refs.grid_body.el;M.scrollLeft=!F&&0!==F||"number"!=typeof F?M.scrollLeft:F,M.scrollTop=!W&&0!==W||"number"!=typeof W?M.scrollTop:W,this.paint()},B.prototype.scrollTo=function(F,W){var M=this.selection.getCell(),$=this.config.columns.filter(function(De){return!De.hidden}),Y=(0,u.findIndex)($,function(De){return De.id==W}),ee=M?M.column:this.config.columns[0],J=(0,u.findIndex)($,function(De){return De.id==ee.id}),Z=this.config.leftSplit?(0,o.getTotalWidth)($.slice(0,this.config.leftSplit)):0,j=(0,o.getTotalWidth)($.slice(0,Y))-(Y-J<0?Z:0),L=this.data.getRawData(0,-1),G=(0,u.findIndex)(L,function(De){return De.id==F}),X=(0,o.getTotalHeight)(L.slice(0,G)),ae=this.getScrollState(),he=X-ae.y-L[G].$height,fe=j-ae.x-$[Y].$width,ge=X+2*L[G].$height+18-(this.config.$height+ae.y-this.config.$headerHeight),ve=j+2*$[Y].$width+18-(this.config.$width+ae.x);this.scroll((fe>0&&ve<0?0:fe<0?fe:ve)+ae.x,(he>0&&ge<0?0:he<0?he:ge)+ae.y)},B.prototype.adjustColumnWidth=function(F,W){void 0===W&&(W=!0);var M=this.config.columns.filter(function(ee){return!ee.hidden}),$=M.filter(function(ee){return ee.id===F}),Y=this._adjustColumnsWidth({rows:this.config.data,cols:$,totalCols:M,adjust:W});this.config.$totalWidth=M.reduce(function(ee,J){if(Y[J.id]){J.$fixed=!0;var Z=J.maxWidth,j=J.minWidth,L=Y[J.id];J.$width=L,Z&&L>Z&&(J.$width=Z),j&&J.$width<j&&(J.$width=j)}return ee+J.$width},0),this.paint()},B.prototype.getCellRect=function(F,W){var M=this.config.columns.filter(function(Z){return!Z.hidden}),$=this.data.getRawData(0,-1),Y=this.getSpan(F,W),ee=(0,u.findIndex)(M,function(Z){return Z.id==(Y?Y.column:W)}),J=(0,u.findIndex)($,function(Z){return Z.id==(Y?Y.row:F)});return{x:(0,o.getTotalWidth)(M.slice(0,ee)),y:(0,o.getTotalHeight)($.slice(0,J)),height:Y?.rowspan?(0,i.getHeight)($,Y.rowspan,J):$[J]?$[J].$height:0,width:Y?.colspan?(0,i.getWidth)(this.config.columns,Y.colspan,(0,u.findIndex)(this.config.columns,function(Z){return Z.id===Y.column})):M[ee]?M[ee].$width:0}},B.prototype.getColumn=function(F){for(var W,M=0,$=null===(W=this.config)||void 0===W?void 0:W.columns;M<$.length;M++){var Y=$[M];if(Y.id==F)return Y}},B.prototype.addSpan=function(F){this.config.spans=this.config.spans||[];var W=(0,u.findIndex)(this.config.spans,function(M){return"".concat(M.row)==="".concat(F.row)&&"".concat(M.column)==="".concat(F.column)});W>=0?this.config.spans[W]=F:(this.config.spans.push((0,N.normalizeSpan)(F,this.config,this.data)),this._checkMarks(),this.paint())},B.prototype.getSpan=function(F,W){var M,$=this;if(this.config.spans){var Y=this.data.getIndex(F.toString()),ee=this.config.columns.findIndex(function(Z){return Z.id===W}),J=(0,u.findIndex)(this.config.spans,function(Z){var j=$.data.getIndex(Z.row.toString()),L=$.config.columns.findIndex(function(re){return re.id===Z.column});return Y>=j&&Y<(Z.rowspan?j+Z.rowspan:j+1)&&ee>=L&&ee<(Z.colspan?L+Z.colspan:L+1)});return null===(M=this.config)||void 0===M?void 0:M.spans[J]}},B.prototype.removeSpan=function(F,W){if(this.config.spans){var M=(0,u.findIndex)(this.config.spans,function($){return"".concat($.row)=="".concat(F)&&"".concat($.column)=="".concat(W)});this.config.spans.splice(M,1),this.paint()}},B.prototype.editCell=function(F,W,M){var $,Y=this.data.getItem(F),ee=this.getColumn(W);if(Y&&ee){var J=ee.editorType,Z=this.getSpan(Y.id,ee.id);if(M||(M=this.config.autoHeight&&"number"!==ee.type?"textarea":"input","date"===ee.type&&(M="datePicker"),"boolean"===ee.type&&(M="checkbox"),J&&(M=J),(0,u.isDefined)(Z?.text)&&(M=this.config.autoHeight?"textarea":"input")),!("number"!==ee.type||(0,u.isDefined)(Z?.text)&&["input","textarea"].includes(M)||["input","select","combobox"].includes(M)))return;this.events.fire(f.GridEvents.beforeEditStart,[Y,ee,M])&&(null!==($=this.config.$editable)&&void 0!==$&&$.editor||this.config.$editable&&this.config.$editable.row===F&&this.config.$editable.col===W&&this.config.$editable.editorType===M||(this.config.$editable={row:Y.id,col:ee.id,isSpan:!!Z,editorType:M},this.selection.config.disabled||this.selection.setCell(F.toString(),W.toString()),this.paint(),this.events.fire(f.GridEvents.afterEditStart,[Y,ee,M])))}else(0,d.dhxWarning)("item not found")},B.prototype.editEnd=function(F){this.config.$editable&&this.config.$editable.editor&&this.config.$editable.editor.endEdit(F)},B.prototype.getSortingState=function(){return{dir:this._sortDir,by:this._sortBy}},B.prototype.getHeaderFilter=function(F){var W=this,M=this.getColumn(F);if(M){var $=null;return M.header.forEach(function(Y){Y.content&&($=W.content[Y.content].element[F])}),$}},B.prototype.edit=function(F,W,M){this.editCell(F,W,M)},B.prototype.paint=function(){var F=this.config.hotkeys?Object.keys(this.config.hotkeys).length:0;!this.keyManager||this.keyManager.getKeyStorageLength()-F||this._initHotKey(!0),U.prototype.paint.call(this)},B.prototype._createView=function(){var F=this;return(0,p.create)({render:function(W,M){return F._destructed?(0,p.el)("div"):(0,_.render)(W,M,F._htmlEvents,F.selection,F._uid)},hooks:this._initHooks()},this)},B.prototype._parseColumns=function(F){void 0===F&&(F=!1);var W=this.config.columns.filter(function(M){return!M.hidden});this.normalizeColumns({config:this.config,columns:W,configChanged:F}),(0,r.countColumns)(this.config,W)},B.prototype.normalizeColumns=function(F){var W,M,$,Y=this,ee=F.config,J=F.columns,Z=F.configChanged;ee.$headerHeightMap=[],ee.$footerHeightMap=[],ee.$headerHeight=ee.$footerHeight=0;for(var j=0,L=J;j<L.length;j++){(re=L[j]).htmlEnable=null!==(W=re.htmlEnable)&&void 0!==W?W:ee.htmlEnable,re.$cellCss=re.$cellCss||{},(0,r.normalizeArray)(re,"header"),(0,r.normalizeArray)(re,"footer"),re.minWidth&&re.minWidth<20&&(re.minWidth=20),re.maxWidth&&re.maxWidth<20&&(re.maxWidth=20);var G=re.minWidth||100;re.width&&(G=(G=re.maxWidth&&re.minWidth?re.width>=re.minWidth&&re.width<=re.maxWidth?re.width:re.width>=re.maxWidth?re.maxWidth:re.minWidth:re.maxWidth?re.width<=re.maxWidth?re.width:re.maxWidth>100?re.maxWidth:100:re.minWidth?re.width>=re.minWidth?re.width:re.minWidth:re.width)<20?20:G),re.$width=re.$width&&!Z?re.$width:G,re.$width>re.maxWidth&&(re.$width=re.maxWidth),re.$width<re.minWidth&&(re.$width=re.minWidth)}for(var X=function(he){if(null!==(M=he.header)&&void 0!==M&&M.length){var fe=0;he.header.forEach(function(ve,ye){(fe=ee.headerAutoHeight?Y.getNormalizeContentHeight(ve,he,ee):ee.headerRowHeight)>(ee.$headerHeightMap[ye]||0)&&(ee.$headerHeightMap[ye]=Math.max(fe,ee.headerRowHeight))})}if(null!==($=he.footer)&&void 0!==$&&$.length){var ge=0;he.footer.forEach(function(ve,ye){(ge=ee.footerAutoHeight?Y.getNormalizeContentHeight(ve,he,ee):ee.footerRowHeight)>(ee.$footerHeightMap[ye]||0)&&(ee.$footerHeightMap[ye]=Math.max(ge,ee.footerRowHeight))})}},ae=0,ie=J;ae<ie.length;ae++){var re;X(re=ie[ae])}ee.$headerHeight=ee.$headerHeightMap.reduce(function(he,fe){return he+fe},0),ee.$footerHeight=ee.$footerHeightMap.reduce(function(he,fe){return he+fe},0)},B.prototype.getNormalizeContentHeight=function(F,W,M){return this.config.footerRowHeight},B.prototype._parseData=function(){this._detectColsTypes(),this.config.data=this.data.map(function(F){return F}),this.config.data=this._prepareData(this.data),this._checkMarks(),this._applyLocalFilter(),this._checkFilters(),this._render()},B.prototype._createCollection=function(F){this.data=new d.DataCollection({prep:F},this.events)},B.prototype._getRowIndex=function(F){return this.data.getIndex(F)},B.prototype._setEventHandlers=function(){var F=this,W=function(M){var $=M.source,Y=M.target,ee=x(M,["source","target"]);$?.length&&$.map(function(J){return F.data.exists(J)&&F.data.update(J,ee)}),F.data.exists(Y)&&F.data.update(Y,ee)};this.data.events.on(d.DataEvents.load,function(){F._applyLocalFilter(!0),F._parseData(),F.config.autoEmptyRow&&F._addEmptyRow(),F.config.data instanceof d.DataCollection?(0,p.awaitRedraw)().then(function(){return F._normalizeSpans()}):F._normalizeSpans()}),this.data.events.on(d.DataEvents.change,function(M,$,Y){if("load"!==$)if("setPage"!==$){if("sort"===$)F._sortDir=Y.dir?Y.dir:F._sortBy===Y.by&&"asc"===F._sortDir?"desc":"asc",F._sortBy=Y.by;else if("add"===$||"update"===$||"remove"===$){if((0,u.isId)(M)&&"remove"===$){var ee=F.selection.getCells().find(function(Z){return Z.row.id===M});ee&&F.selection.removeCell(ee.row.id,ee.column.id)}F.config.data=F._prepareData(F.data)}else(0,d.isTreeCollection)(F.data)&&(F.config.data=F._prepareData(F.data)),F._adjustColumns();if((0,u.isId)(M)&&(F._checkFilters(),F._checkSelectFilterValue()),F._detectColsTypes(),F._removeMarks(),F._checkMarks(),F.config.autoEmptyRow&&(!F._activeFilters||(0,u.isEmptyObj)(F._activeFilters))){var J=F.data.find({by:"$emptyRow",match:!0});if(J){if(J.id===M)return;F.data.move(J.id,F.data.getLength()-1)}else F._addEmptyRow()}switch($){case"add":case"remove":case"sort":F._normalizeSpans()}F._render()}else(0,p.awaitRedraw)().then(function(){var Z=F.config.columns.find(function(j){return!0!==j.hidden});F.scrollTo(F.data.getId(Y[0]).toString(),Z.id.toString()),F._render()})}),this.data.events.on(d.DataEvents.filter,function(M){M||F.data.getRawFilters({permanent:!0})||F._applyLocalFilter(),!M||(0,d.isOnlyPermanentFilters)(M)?(F._filterData=F.data.map(function($){return $})||[],F._setUniqueData(),F._clearFilterValue()):F._checkFilters(),F._removeMarks(),F._checkMarks(),F._normalizeSpans(),F.paint()}),this.data.events.on(d.DataEvents.removeAll,function(){F._hiddenFilters={},F.config.columns.map(function(M){M.header.map(function($){!$.content||"selectFilter"!==$.content&&"comboFilter"!==$.content||(M.$uniqueData=[])})}),(0,u.isEmptyObj)(F._activeFilters)||F.data.resetFilter(),F._clearFilterValue(!0)}),this.events.on(d.DragEvents.beforeDrag,function(M,$){return F.data.getItem(M.start)?F.events.fire(f.GridEvents.beforeRowDrag,[M,$]):"column"===F.config.dragItem||"both"===F.config.dragItem?F.events.fire(f.GridEvents.beforeColumnDrag,[M,$]):void 0}),this.events.on(d.DragEvents.dragStart,function(M,$){var J=M.start;W({source:M.source,target:M.target,$dragtarget:!0}),F.data.getItem(J)?(F.events.fire(f.GridEvents.dragRowStart,[M,$]),F._autoScroll("vertical")):"column"!==F.config.dragItem&&"both"!==F.config.dragItem||(F.events.fire(f.GridEvents.dragColumnStart,[M,$]),F._autoScroll("horizontal"))}),this.events.on(d.DragEvents.dragIn,function(M,$){F.data.getItem(M.start)?F.events.fire(f.GridEvents.dragRowIn,[M,$]):"column"!==F.config.dragItem&&"both"!==F.config.dragItem||F.events.fire(f.GridEvents.dragColumnIn,[M,$])}),this.events.on(d.DragEvents.dragOut,function(M,$){F.data.getItem(M.start)?F.events.fire(f.GridEvents.dragRowOut,[M,$]):"column"!==F.config.dragItem&&"both"!==F.config.dragItem||F.events.fire(f.GridEvents.dragColumnOut,[M,$])}),this.events.on(d.DragEvents.canDrop,function(M,$){var ee=M.source,J=M.target,Z=M.dragItem;delete M.dragItem,W({source:ee,target:J,$drophere:!0}),"row"===Z?F.events.fire(f.GridEvents.canRowDrop,[M,$]):"column"!==F.config.dragItem&&"both"!==F.config.dragItem||F.events.fire(f.GridEvents.canColumnDrop,[M,$])}),this.events.on(d.DragEvents.cancelDrop,function(M,$){var J=M.start;W({source:M.source,target:M.target,$drophere:void 0,$dragtarget:void 0}),F.data.getItem(J)?F.events.fire(f.GridEvents.cancelRowDrop,[M,$]):"column"!==F.config.dragItem&&"both"!==F.config.dragItem||F.events.fire(f.GridEvents.cancelColumnDrop,[M,$])}),this.events.on(d.DragEvents.beforeDrop,function(M,$){return"row"!==F.config.dragItem||"both"!==F.config.dragMode&&"target"!==F.config.dragMode?"column"===F.config.dragItem||"both"===F.config.dragItem?F.events.fire(f.GridEvents.beforeColumnDrop,[M,$]):void 0:F.events.fire(f.GridEvents.beforeRowDrop,[M,$])}),this.events.on(d.DragEvents.afterDrop,function(M,$){var Y,ee;if(F.data.getItem(M.start)){var J=M.source;if(J.some(function(ve){return ve==M.target}))return;for(var Z=F.data.getItem(M.start),j=0,L=F.config.columns;j<L.length;j++){var G=L[j];void 0===Z[G.id]&&F.data.update(Z.id,((Y={})[G.id]=null,Y),!0)}var X=F.data.getInitialData(),ae=X?.findIndex(function(ve){return ve.id==M.start}),ie=X?.findIndex(function(ve){return ve.id==M.target});if(ae>-1&&ie>-1)if((null===(ee=M.source)||void 0===ee?void 0:ee.length)>1){for(var re=[],he=function(ve){var ye=X?.findIndex(function(De){return De.id==ve}),we=X?.splice(ye,1)[0];re.push(we)},fe=0,ge=J;fe<ge.length;fe++)he(ge[fe]);ie=X?.findIndex(function(ve){return ve.id==M.target}),ie>0&&++ie,X?.splice.apply(X,m([ie,0],re,!1))}else X?.splice(ie,0,X?.splice(ae,1)[0]);F.config.data=F._prepareData(X||F.data.map(function(ve){return ve})),F.data.parse(F.config.data),F._checkFilters(),F.paint(),F.events.fire(f.GridEvents.afterRowDrop,[M,$])}else"column"!==F.config.dragItem&&"both"!==F.config.dragItem||F.events.fire(f.GridEvents.afterColumnDrop,[M,$])}),this.events.on(d.DragEvents.afterDrag,function(M,$){var J=M.start;W({source:M.source,target:M.target,$dragtarget:void 0}),F.data.getItem(J)?F.events.fire(f.GridEvents.afterRowDrag,[M,$]):"column"!==F.config.dragItem&&"both"!==F.config.dragItem||F.events.fire(f.GridEvents.afterColumnDrag,[M,$]),F.config.data=F._prepareData(F.data instanceof Array?F.data.map(function(Z){return Z}):F.data.getInitialData()||F.data),F.data.parse(F.config.data),F._normalizeSpans()}),this.events.on(f.GridEvents.cellMouseDown,function(M,$,Y){Y.targetTouches?(F._touch.timer=setTimeout(function(){F._dragStart(Y)},F._touch.duration),F._touch.timeStamp?(F._touch.dblDuration>=F._touch.timeStamp-+Y.timeStamp.toFixed()&&((!1!==$.editable&&F.config.editable||$.editable)&&F.editCell(M.id,$.id,$.editorType),Y.preventDefault(),F.events.fire(f.GridEvents.cellDblClick,[M,$,Y])),F._touch.timeStamp=null):F._touch.timeStamp=+Y.timeStamp.toFixed(),setTimeout(function(){F._touch.timeStamp=null},F._touch.dblDuration)):F._dragStart(Y)}),this._events.on(f.GridSystemEvents.cellTouchMove,function(M,$,Y){F._touch.start&&Y.preventDefault(),F._clearTouchTimer()}),this._events.on(f.GridSystemEvents.cellTouchEnd,function(){F._touch.start=!1,F._clearTouchTimer()}),this.events.on(f.GridEvents.filterChange,function(M,$,Y,ee){var J,Z,j,ie,re;if(F.events.fire(f.GridEvents.beforeFilter,[M,$])){if(F.config.autoEmptyRow){var L=F.data.find({by:"$emptyRow",match:!0});L&&F.data.remove(L.id)}F._activeFilters||(F._activeFilters={});var G=F.getColumn($),X=G.header.filter(function(ie){return ie.content===Y&&void 0!==ie.customFilter})[0];if("comboFilter"===Y&&void 0!==M||"comboFilter"!==Y&&""!==M){var ae=(0,r.getEditorOptions)(G);"combobox"!==G.editorType&&"select"!==G.editorType&&"multiselect"!==G.editorType||!ae||(M=Array.isArray(M)?M.map(function(ie){var re;return(null===(re=ae.find(function(he){return"string"==typeof he?he===ie:he.value===ie}))||void 0===re?void 0:re.id)||ie}):null!==(Z=null===(J=ae.find(function(ie){return"string"==typeof ie?ie===M:ie.value===M}))||void 0===J?void 0:J.id)&&void 0!==Z?Z:M),F._activeFilters[$]={by:$,match:M,compare:null!==(j=X?.customFilter)&&void 0!==j?j:(ie=$,re=F.getColumn(ie),function(he,fe,ge,ve){return F.content[Y].match({val:he,match:fe,obj:ge,multi:ve,col:re})}),multi:"multiselect"===G?.editorType}}else delete F._activeFilters[$];ee||F.data.filter(F._activeFilters)}}),this.events.on(f.GridEvents.scroll,function(M){F._scroll={top:M.y,left:M.x},F.editEnd(),F.paint()}),this.events.on(f.GridEvents.cellDblClick,function(M,$,Y){(0,v.locateNodeByClassName)(Y,"dhx_boolean-cell")||M.hasOwnProperty("$groupName")||(!1!==$.editable&&F.config.editable||$.editable)&&F.editCell(M.id,$.id,$.editorType)}),this.events.on(f.GridEvents.afterEditEnd,function(M,$,Y){var ee,J;if(null===(J=F.config.$editable)||void 0===J||!J.editor||F.config.$editable.col===Y.id&&F.config.$editable.row===$.id){var Z,j;F.config.$editable?(Z=F.config.$editable.row,j=F.config.$editable.col):(Z=$.id,j=Y.id);var L=F.getSpan(Z,j);if((0,u.isDefined)(L?.text)&&void 0!==M)L.text=M.toString();else{var G=F.data.getItem(Z);delete G.$emptyRow,void 0!==M&&F.data.update(Z,C(C({},G),((ee={})[j]=M,ee)))}F.config.$editable=null,F.paint()}}),this.events.on(f.GridEvents.headerCellMouseDown,function(M,$){var Y=$.target.getAttribute("dhx_resized");Y&&F.events.fire(f.GridEvents.beforeResizeStart,[M,$])&&(0,O.startResize)(F,Y.toString(),$,function(){F.paint(),F.config.$resizing=null,F.events.fire(f.GridEvents.afterResizeEnd,[M,$])}),$.targetTouches&&(F._touch.timeStamp?(F._touch.dblDuration>=F._touch.timeStamp-+$.timeStamp.toFixed()&&($.preventDefault(),F.events.fire(f.GridEvents.headerCellDblClick,[M,$])),F._touch.timeStamp=null):F._touch.timeStamp=+$.timeStamp.toFixed(),setTimeout(function(){F._touch.timeStamp=null},F._touch.dblDuration))}),this.events.on(f.GridEvents.footerCellDblClick,function(M,$){$.targetTouches&&(F._touch.timeStamp?(F._touch.dblDuration>=F._touch.timeStamp-+$.timeStamp.toFixed()&&($.preventDefault(),F.events.fire(f.GridEvents.footerCellDblClick,[M,$])),F._touch.timeStamp=null):F._touch.timeStamp=+$.timeStamp.toFixed(),setTimeout(function(){F._touch.timeStamp=null},F._touch.dblDuration))}),this.events.on(f.GridEvents.resize,function(){return F._parseColumns()}),this.events.on(f.GridEvents.afterResizeEnd,function(M){var $;F.config.columns=null===($=F.config.columns)||void 0===$?void 0:$.map(function(Y){return Y.id==M.id&&(Y.width=M.$width),Y}),F._parseColumns()})},B.prototype._addEmptyRow=function(){var F=this.data.getId(this.data.getLength()-1),W=this.data.getItem(F),M=this.config.columns.filter(function($){return!$.hidden});(0,o.isRowEmpty)(W)||this.data.add(M.reduce(function($,Y){return $[Y.id]="",$},{$emptyRow:!0}))},B.prototype._sort=function(F,W,M){var $=this;W||(W=this._sortBy===F&&"asc"===this._sortDir?"desc":"asc"),this.data.sort({by:F,dir:W,as:M??function(Y){var ee=$.getColumn(F);return Y&&"date"===ee.type?"string"==typeof Y?(0,b.stringToDate)(Y,ee.format).getTime():Y.getTime():Y?"".concat(Y):""}}),this.events.fire(f.GridEvents.afterSort,[this.getColumn(F),W])},B.prototype._clearTouchTimer=function(){this._touch.timer&&(clearTimeout(this._touch.timer),this._touch.timer=null)},B.prototype._checkFilters=function(F){if(void 0===F&&(F=!1),(0,u.isEmptyObj)(this._activeFilters))F&&this.data.resetFilter(),this._filterData=this.data.map(function(M){return M})||[],this._setUniqueData();else{var W=this.data.getRawFilters({permanent:!0});this.data.filter(W,{$restore:!0},!0),this._filterData=this.data.map(function(M){return M})||[],this._setUniqueData(),this.data.filter(null,{$restore:!0},!0),this._filterData=this.data.map(function(M){return M})||[],this._setUniqueData(!0)}},B.prototype._setUniqueData=function(F){var W=this;void 0===F&&(F=!1),this._filterData&&this.config.columns.forEach(function(M){M.header.forEach(function($){if($.content&&("selectFilter"===$.content||"comboFilter"===$.content)){var Y=M.header.some(function(j){var L;return null===(L=j.filterConfig)||void 0===L?void 0:L.multiselection}),ee=M.header.some(function(j){var L;return null===(L=j.filterConfig)||void 0===L?void 0:L.filter});if(!F||F&&!Y&&!ee){var J=(0,r.getUnique)(W._filterData,M.id,Y),Z=(0,r.getEditorOptions)(M);"combobox"!==M.editorType&&"select"!==M.editorType&&"multiselect"!==M.editorType||!Z||(J=J.map(function(j){var L=Z.find(function(G){return"string"==typeof G?j===G:j===G.id});return L&&"string"!=typeof L?L.value:j})),J="string"!==M.type?Array.from(new Set(J.map(function(j){return(0,r.toFormat)(j,M.type,M.format)}))):J,F?M.$activeFilterData=J:(M.$uniqueData=J,M.$activeFilterData&&delete M.$activeFilterData)}}})})},B.prototype._checkSelectFilterValue=function(){var F,W=null===(F=this.content)||void 0===F?void 0:F.selectFilter;if(W)for(var M in W.value){var $=this.getColumn(M),Y=W.value[M];$.hidden||!Y||$.$uniqueData.includes(Y)||W.element[M].clear()}},B.prototype._clearFilterValue=function(F){var W=this;void 0===F&&(F=!1),["selectFilter","inputFilter"].map(function(M){var $;return null===($=W.content)||void 0===$?void 0:$[M]}).filter(function(M){return M}).forEach(function(M){for(var $ in M.value)!M.value[$]||!F&&W.getColumn($).hidden||M.element[$].clear(!0)})},B.prototype._adjustColumns=function(){var F=this;if("boolean"==typeof this.config.adjust||"data"===this.config.adjust||"header"===this.config.adjust||"footer"===this.config.adjust){if(!($=this.config.columns.filter(function(Y){return!Y.hidden})).length)return;var W=this.config.data&&this.config.data.length?this.config.data:this.data.map(function(Y){return Y}),M=this._adjustColumnsWidth({rows:W,cols:$,totalCols:$});this.config.$totalWidth=$.reduce(function(Y,ee){ee.$fixed=!0;var J=ee.maxWidth,Z=ee.minWidth,j=M[ee.id];return ee.$width=j,J&&j>J&&(ee.$width=J),Z&&ee.$width<Z&&(ee.$width=Z),Y+ee.$width},0)}else{var $;if(!($=this.config.columns.filter(function(Y){return!Y.hidden&&Y.adjust})).length)return;$.forEach(function(Y){F.adjustColumnWidth(Y.id,Y.adjust)})}},B.prototype._prepareData=function(F){var W=this;return(this.config.autoHeight||this.config.headerAutoHeight||this.config.footerAutoHeight)&&(this.config.autoHeight=this.config.headerAutoHeight=this.config.footerAutoHeight=!1),this._normalizeDataType(),this._adjustColumns(),F.map(function(M){return M.$height=M.height||W.config.rowHeight,M})},B.prototype._adjustColumnsWidth=function(F){var W,M,$,Y,ge,J=F.rows,Z=F.cols,j=F.adjust,L=void 0===j?this.config.adjust:j,G={};if("header"===L||!0===L){var X=Z.filter(function(ke){return ke.header});if(ge=(0,r.getMaxColsWidth)(this._prepareColumnData(X,"header"),X,{font:"bold 14.4px Arial"},"header"))for(var ae=0,ie=Object.entries(ge);ae<ie.length;ae++){var re=ie[ae],he=re[0],fe=re[1];G=Object.assign(G,((W={})[he]=+fe+24+(Y=this.getColumn(he),(0,o.isSortable)(this.config,Y)?16:0),W))}}if(("footer"===L||!0===L)&&(X=Z.filter(function(ke){return ke.footer}),ge=(0,r.getMaxColsWidth)(this._prepareColumnData(X,"footer"),X,{font:"bold 14.4px Arial"},"footer")))for(var ve=0,ye=Object.entries(ge);ve<ye.length;ve++){var we=ye[ve];fe=we[1],(G[he=we[0]]&&G[he]<+fe+24||!G[he])&&(G=Object.assign(G,((M={})[he]=+fe+24,M)))}if(("data"===L||!0===L)&&(ge=(0,r.getMaxColsWidth)(J,Z,{font:"normal 14.4px Arial"},"data")))for(var De=0,Te=Object.entries(ge);De<Te.length;De++){var Ee=Te[De];fe=Ee[1],(G[he=Ee[0]]&&G[he]<+fe+24||!G[he])&&(G=Object.assign(G,(($={})[he]=+fe+24,$)))}return G},B.prototype._prepareColumnData=function(F,W){for(var M,$,Y,ee,J,Z,j,L,G,X,ae,ie,re,he=[],fe=0;fe<F.length;fe++){for(var ge=[],ve=0;ve<(null===($=F[fe])||void 0===$?void 0:$[W].length);ve++){var ye={};if(null!==(ee=null===(Y=F[fe])||void 0===Y?void 0:Y[W][ve])&&void 0!==ee&&ee.text){var we=null===(Z=null===(J=F[fe])||void 0===J?void 0:J[W][ve])||void 0===Z?void 0:Z.htmlEnable;ye[F[fe].id]=(null===(L=null===(j=F[fe])||void 0===j?void 0:j[W][ve])||void 0===L?void 0:L.text)||"",we&&(ye[F[fe].id]=(0,o.removeHTMLTags)(ye[F[fe].id])),ge.push(ye)}else if(null!==(X=null===(G=F[fe])||void 0===G?void 0:G[W][ve])&&void 0!==X&&X.content){var De=null===(ae=this.content)||void 0===ae?void 0:ae[null===(re=null===(ie=F[fe])||void 0===ie?void 0:ie[W][ve])||void 0===re?void 0:re.content];ye[F[fe].id]="function"==typeof De.calculate&&De?.toHtml(this.getColumn(F[fe].id),C(C({},this.config),{datacollection:this.data}))||"",ge.push(ye)}}for(var Te=0;Te<ge.length;Te++)for(var Ee=0,ke=Object.entries(ge[Te]);Ee<ke.length;Ee++){var Ae=ke[Ee],He=Ae[0],Le=Ae[1];he[Te]=C({},he[Te])||{},he[Te]=Object.assign(he[Te],((M={})[He]=Le,M))}}return he},B.prototype._dragStart=function(F){if(this.config.dragMode&&("row"===this.config.dragItem||"both"===this.config.dragItem)&&!this.config.$editable){var W=this.getColumn(F.target.getAttribute("data-dhx-col-id"));if(!1===W?.draggable)return;var M=(0,v.locateNode)(F,"data-dhx-id"),$=M&&M.getAttribute("data-dhx-id");return F.targetTouches&&(this._touch.start=!0),d.dragManager.onMouseDown(F,[$],[this._getRowGhost([$])])}},B.prototype._getRowGhost=function(F){var W=this._container||(0,v.toNode)(this._uid),M=F.map(function(Y){return W.querySelector('.dhx_grid-row[data-dhx-id="'.concat(Y,'"]'))}),$=document.createElement("div");return M.forEach(function(Y){return Y&&$.appendChild(Y.cloneNode(!0))}),$},B.prototype._initHooks=function(){var F=this;return{didMount:function(){F._canDataParse(!0)&&(F._container||F._applyAutoWidth(),F.data.parse(F.config.data)),F.config.autoWidth&&F._parseColumns()}}},B.prototype._normalizeDataType=function(){var F=this,W=this.config.columns.reduce(function(M,$){return"number"===$.type&&M.push($),M},[]);W.length&&this.data.forEach(function(M){for(var $,Y=0,ee=W;Y<ee.length;Y++){var J=ee[Y],Z=(0,r.getValueForNumberColumn)(J,M[J.id]);if(Number.isNaN(Z))throw new Error("Incorrect data in column with type 'number', see docs: https://docs.dhtmlx.com/suite/grid/api/api_gridcolumn_properties/");M[J.id]!==Z&&F.data.update(M.id,(($={})[J.id]=Z,$),!0)}})},B.prototype._applyLocalFilter=function(F){void 0===F&&(F=!1),F?this.data.filter(function(W){return W},{$local:!0},!0):this.data.filter(function(W){return!W.hidden},{$local:!0,permanent:!0},!0)},B.prototype._normalizeSpans=function(){var F,W=this;this.config.spans=null===(F=this.config.spans)||void 0===F?void 0:F.map(function(M){return(0,N.normalizeSpan)(M,W.config,W.data)})},B.prototype._canDataParse=function(F){var W;return void 0===F&&(F=!1),!!(null!==(W=this.config.data)&&void 0!==W&&W.length&&this.config.data instanceof Array&&this.config.columns)&&(this.config.autoWidth&&this.config.autoHeight?F:!F)},B.prototype._init=function(){this.events=new y.EventSystem(this),this._events=new y.EventSystem(this),this._attachDataCollection(),this.export=new a.Exporter("grid",this.version,this),this._setEventHandlers()},B.prototype._attachDataCollection=function(){var F=this;if(this.config.data instanceof d.DataCollection)return this.data=this.config.data,this.data.config.collapsed=this.config.collapsed,void(this.config.data=this.data.serialize());this._createCollection(function(W){return W.spans&&(F.config.spans=W.spans,W=W.data),W})},B.prototype._setMarks=function(F,W){for(var M=[],$=0,Y=this.data.map(function(Z){return M.push(Z[F.id]),{id:Z.id,data:Z[F.id],row:Z}});$<Y.length;$++){var ee=Y[$],J=W(ee.data,M,ee.row,F);J&&(F.$cellCss=F.$cellCss||{},F.$cellCss[ee.id]+=" "+J)}},B.prototype._checkMarks=function(){var F=this;this.config.columns.map(function(W){var M=W.mark;M&&F._setMarks(W,"function"==typeof M?M:function($,Y){var ee=[];Y.forEach(function(j){null!=j&&""!==j&&ee.push(parseFloat(j))});var J=(0,u.getMinArrayNumber)(ee),Z=(0,u.getMaxArrayNumber)(ee);return M.max&&Z===parseFloat($)?M.max:!(!M.min||J!==parseFloat($))&&M.min})})},B.prototype._removeMarks=function(){this.config.columns.forEach(function(F){F.mark&&(F.$cellCss={})})},B.prototype._detectColsTypes=function(){this.config.columns.forEach(function(F){return F.type?F:F.format?(F.type="number",F):void(F.type||(F.type="string"))})},B.prototype._destroyContent=function(){for(var F in this.content)"comboFilter"===F&&this.content[F].destroy()},B.prototype._render=function(){this.paint()},B.prototype._initHotKey=function(F){void 0===F&&(F=!1);var W=(0,P.getKeysHandlers)(this);for(var M in W)this.keyManager.exist(M)||this.keyManager.addHotKey(M,W[M]);if(!F)for(var M in this.config.hotkeys)this.keyManager.addHotKey(M,this.config.hotkeys[M])},B.prototype._normalizeConfig=function(F){return Object.keys(F).forEach(function(W){W.startsWith("$")&&delete F[W]}),F},B.prototype._autoScroll=function(F){var W,M,$,Y=null!==(W=this.scrollView)&&void 0!==W&&W.config.enable?null===(M=this.getRootNode())||void 0===M?void 0:M.querySelector(".scroll-view"):null===($=this.getRootNode())||void 0===$?void 0:$.querySelector(".dhx_grid-body");if(Y){var ee=null,J=Y.getBoundingClientRect(),Z=J.top,j=J.bottom,L=J.left,G=J.right,ie=function(he){"up"===he||"down"===he?Y.scrollBy(0,"up"===he?-40:40):Y.scrollBy("left"===he?-40:40,0),ee=setTimeout(function(){ie(he)},100)},re=function(he){var fe=he.clientX,ge=he.clientY;switch(F){case"horizontal":fe>G-30&&fe<G&&ge>Z&&ge<j?ee||ie("right"):fe>L&&fe<L+30&&ge>Z&&ge<j?ee||ie("left"):ee&&(clearTimeout(ee),ee=null);break;case"vertical":ge>j-30&&ge<j&&fe>L&&fe<G?ee||ie("down"):ge>Z&&ge<Z+30&&fe>L&&fe<G?ee||ie("up"):ee&&(clearTimeout(ee),ee=null)}};(J.width<Y.scrollWidth||J.height<Y.scrollHeight)&&(document.addEventListener("pointermove",re),document.addEventListener("pointerup",function(){document.removeEventListener("pointermove",re),ee&&clearTimeout(ee)},{once:!0}))}},B.prototype._applyAutoWidth=function(){var F,W,M=this._container||(null===(F=this.getRootView().node.parent)||void 0===F?void 0:F.el);if(M){var $=(0,_.getElementSizes)(M),Y=null===(W=this.scrollView)||void 0===W?void 0:W.config.enable;(0,_.applyAutoWidth)(this.config,$,!0,!1,Y)}},B}(c.View);E.Grid=V},function(ne,E,D){"use strict";var S=this&&this.__createBinding||(Object.create?function(C,x,m,p){void 0===p&&(p=m);var y=Object.getOwnPropertyDescriptor(x,m);y&&!("get"in y?!x.__esModule:y.writable||y.configurable)||(y={enumerable:!0,get:function(){return x[m]}}),Object.defineProperty(C,p,y)}:function(C,x,m,p){void 0===p&&(p=m),C[p]=x[m]}),T=this&&this.__exportStar||function(C,x){for(var m in C)"default"===m||Object.prototype.hasOwnProperty.call(x,m)||S(x,C,m)};Object.defineProperty(E,"__esModule",{value:!0}),T(D(145),E),T(D(78),E)},function(ne,E,D){"use strict";var S,T=this&&this.__extends||(S=function(d,a){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(d,a)},function(d,a){if("function"!=typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function r(){this.constructor=d}S(d,a),d.prototype=null===a?Object.create(a):(r.prototype=a.prototype,new r)}),C=this&&this.__assign||function(){return C=Object.assign||function(d){for(var a,r=1,i=arguments.length;r<i;r++)for(var o in a=arguments[r])Object.prototype.hasOwnProperty.call(a,o)&&(d[o]=a[o]);return d},C.apply(this,arguments)};Object.defineProperty(E,"__esModule",{value:!0}),E.Cell=void 0;var x=D(1),m=D(0),p=D(5),y=D(50),v=D(146),u=D(3),h=D(49),c=function(d){function a(r,i){var o=d.call(this,r,i)||this;return o._disabled=[],r&&r.isVisible&&(o._parent=r),o.events=o._parent&&o._parent.events?o._parent.events:new u.EventSystem(o),o.config.full=void 0===o.config.full?!!(o.config.header||o.config.collapsable||o.config.headerHeight||o.config.headerIcon||o.config.headerImage):o.config.full,o._afterWindowResized=o._resizedWindow.bind(o),o.id=o.config.id||(0,x.uid)(),o._initHandlers(),o._progress=!!o.config.progressDefault,o._stopProgressDefault=!1,o._isXDirection()&&!i.width&&(i.$autoWidth=!0),o._isXDirection()||i.height||(i.$autoHeight=!0),o}return T(a,d),a.prototype.paint=function(){var r;if(this.isVisible()){var i=this.getRootView();i?i.redraw():null===(r=this._parent)||void 0===r||r.paint()}},a.prototype.isVisible=function(){var r;if(!this._parent)return!(!this._container||!this._container.tagName)||!!this.getRootNode();var i=null===(r=this._parent.config)||void 0===r?void 0:r.activeView;return(!i||i===this.id)&&!this.config.hidden&&(!this._parent||this._parent.isVisible())},a.prototype.hide=function(){this.events.fire(y.LayoutEvents.beforeHide,[this.id])&&(this.config.hidden=!0,this._resetCellsSize(),this._parent&&this._parent.paint&&this._parent.paint(),this.events.fire(y.LayoutEvents.afterHide,[this.id]))},a.prototype.show=function(){this.events.fire(y.LayoutEvents.beforeShow,[this.id])&&(this._parent&&this._parent.config&&void 0!==this._parent.config.activeView?this._parent.config.activeView=this.id:this.config.hidden=!1,this._parent&&!this._parent.isVisible()&&this._parent.show(),this.paint(),this.events.fire(y.LayoutEvents.afterShow,[this.id]))},a.prototype.expand=function(){this.events.fire(y.LayoutEvents.beforeExpand,[this.id])&&(this.config.collapsed=!1,this._checkNextSize()||this._checkNextSize(this._getAnyFlexCell()),this.events.fire(y.LayoutEvents.afterExpand,[this.id]),this.paint())},a.prototype.collapse=function(){this.events.fire(y.LayoutEvents.beforeCollapse,[this.id])&&(this.config.collapsed=!0,this._checkNextSize()||this._checkNextSize(this._getAnyFlexCell()),this.events.fire(y.LayoutEvents.afterCollapse,[this.id]),this.paint())},a.prototype.toggle=function(){this.config.collapsed?this.expand():this.collapse()},a.prototype._checkNextSize=function(r){var i=r??this._getNextCell();return!!i&&(this._isXDirection()&&i.config.$autoWidth&&i.config.width?(i.config.width=void 0,!0):!this._isXDirection()&&i.config.$autoHeight&&i.config.height?(i.config.height=void 0,!0):!r&&i._checkNextSize())},a.prototype.getParent=function(){return this._parent},a.prototype.destructor=function(){var r;this.events&&this.events.clear(),window.removeEventListener("resize",this._afterWindowResized),this._ui&&this._ui.config&&"function"==typeof(null===(r=this._ui)||void 0===r?void 0:r.destructor)&&this._ui.destructor(),this.config=this.events=this.id=this._parent=this._handlers=this._uid=this._disabled=this._resizerHandlers=null,this.unmount()},a.prototype.getWidget=function(){return this._ui},a.prototype.getCellView=function(){return this._parent&&this._parent.getRefs(this._uid)},a.prototype.attach=function(r,i){return this.config.html=null,"object"==typeof r?this._ui=r:"string"==typeof r?this._ui=new window.dhx[r](null,i):"function"==typeof r&&(this._ui=r.prototype instanceof p.View?new r(null,i):{getRootView:function(){return r(i)}}),this.paint(),this._ui},a.prototype.attachHTML=function(r){this.config.html=r,this.paint()},a.prototype.detach=function(){this._stopProgressDefault=!1,this._ui=this.config.html=null,this.paint()},a.prototype.progressShow=function(){this.config.progressDefault&&(this._stopProgressDefault=!1),this._progress=!0,this.paint()},a.prototype.progressHide=function(){this.config.progressDefault&&(this._stopProgressDefault=!0),this._progress=!1,this.paint()},a.prototype.isVisibleProgress=function(){return this._progress},a.prototype.toVDOM=function(r){var i,o;if(null===this.config&&(this.config={}),!this.config.hidden){var l,f=this.config.$fieldset,_=this._calculateStyle(),b=(0,x.isDefined)(this.config.padding)?isNaN(Number(this.config.padding))?{padding:this.config.padding}:{padding:"".concat(this.config.padding,"px")}:"",I=this.config.full||this.config.html?_:C(C({},_),b),O=this._checkProgress()?this._getProgressBar():null;if(!this.config.html)if(this._ui){var P=this._ui.getRootView();P.render&&(P=(0,m.inject)(P)),l=[P]}else l=r||null;var R=this.config.resizable&&!this._isLastCell()&&this._getNextCell()&&!this.config.collapsed?(0,m.el)(".dhx_layout-resizer."+(this._isXDirection()?"dhx_layout-resizer--x":"dhx_layout-resizer--y"),C(C({},this._resizerHandlers),{_ref:"resizer_"+this._uid,tabindex:0}),[(0,m.el)("span.dhx_layout-resizer__icon",{class:"dxi "+(this._isXDirection()?"dxi-dots-vertical":"dxi-dots-horizontal")})]):null,N={};if(this.config.on)for(var V in this.config.on)N["on"+V]=this.config.on[V];var U="";if(this.config.type&&(this.config.cols||this.config.rows))switch(this.config.type){case"line":U=" dhx_layout-line";break;case"wide":U=" dhx_layout-wide";break;case"space":U=" dhx_layout-space"}var F=f?(0,m.el)("fieldset.dhx_form-fieldset",{class:this.config.$disabled?" dhx_form-fieldset--disabled":"",style:b,disabled:this.config.$disabled},[(0,m.el)("legend.dhx_form-fieldset-legend",{class:"dhx_form-fieldset-legend--".concat(this.config.labelAlignment||"left")},this.config.label),(0,m.el)(".dhx_layout-cell-content",{class:this._getCss(!1)},[].concat(l))]):this.config.full?[(0,m.el)("div",{tabindex:this.config.collapsable?"0":"-1",role:this.config.collapsable?"button":null,"aria-label":this.config.collapsable?"click to ".concat(this.config.collapsed?"expand":"collapse"):null,class:"dhx_layout-cell-header"+(this._isXDirection()?" dhx_layout-cell-header--col":" dhx_layout-cell-header--row")+(this.config.collapsable?" dhx_layout-cell-header--collapseble":"")+(this.config.collapsed?" dhx_layout-cell-header--collapsed":"")+(((this.getParent()||{}).config||{}).isAccordion?" dhx_layout-cell-header--accordion":""),style:{height:this.config.headerHeight},onclick:this._handlers.toggle,onkeydown:this._handlers.enterCollapse},[this.config.headerIcon&&(0,m.el)("span.dhx_layout-cell-header__icon",{class:this.config.headerIcon}),this.config.headerImage&&(0,m.el)(".dhx_layout-cell-header__image-wrapper",[(0,m.el)("img",{src:this.config.headerImage,class:"dhx_layout-cell-header__image"})]),this.config.header&&(0,m.el)("h3.dhx_layout-cell-header__title",this.config.header),(0,m.el)("div.dhx_layout-cell-header__collapse-icon",this.config.collapsable?{class:this._getCollapseIcon()}:{class:"dxi dxi-empty"})]),this.config.collapsed?null:(0,m.el)("div",{style:C(C({},b),{height:"calc(100% - ".concat(this.config.headerHeight||37,"px)")}),class:this._getCss(!0)+" dhx_layout-cell-content"+(this.config.type?U:"")},this.config.html?[(0,m.el)("div",{".innerHTML":this.config.html,class:"dhx_layout-cell dhx_layout-cell-inner_html"})]:l)]:!this.config.html||this.config.rows&&this.config.cols&&this.config.views?l:[this.config.collapsed?null:(0,m.el)(".dhx_layout-cell-content",{style:b},[(0,m.el)(".dhx_layout-cell-inner_html",{".innerHTML":this.config.html})])],W=(0,m.el)("div",C(C(((i={_key:this._uid,_ref:this._uid})["aria-label"]=this.config.id?"tab-content-"+this.config.id:null,i["data-cell-id"]=null!==(o=this.config.id)&&void 0!==o?o:null,i),N),{class:this._getCss(!1)+(this.config.css?" "+this.config.css:"")+(this.config.collapsed?" dhx_layout-cell--collapsed":"")+(this.config.resizable?" dhx_layout-cell--resizable":"")+(this.config.type&&!this.config.full?U:""),style:f?_:I}),F||O?[].concat(F,O):null);return R?[].concat(W,R):W}},a.prototype._getProgressBar=function(){return(0,m.el)("span",{class:"dhx_progress-bar"},[(0,m.sv)("svg",{viewBox:"25 25 50 50",class:"dhx_spinner"},[(0,m.sv)("circle",{cx:"50",cy:"50",r:"20",class:"path"})])])},a.prototype._getCss=function(r){return"dhx_layout-cell"},a.prototype._initHandlers=function(){var r=this;window.addEventListener("resize",this._afterWindowResized),this._handlers={enterCollapse:function(b){13===b.keyCode&&r._handlers.toggle()},collapse:function(){r.config.collapsable&&r.collapse()},expand:function(){r.config.collapsable&&r.expand()},toggle:function(){r.config.collapsable&&r.toggle()}};var i={left:null,top:null,isActive:!1,range:null,xLayout:null,nextCell:null,size:null,resizerLength:null,margin:null,collapsedSize:null},o=function(b,I){if(void 0===I&&(I={x:0,y:0}),i.isActive){var O=i.xLayout,N=O?(b.targetTouches?b.targetTouches[0].clientX:b.clientX+I.x)-i.range.min+window.pageXOffset:(b.targetTouches?b.targetTouches[0].clientY:b.clientY+I.y)-i.range.min+window.pageYOffset,V=O?"width":"height";N<0?N=i.resizerLength/2:N>i.size&&(N=i.size-i.resizerLength);var U=function(W){var M;return parseInt(null===(M=r.config[W])||void 0===M?void 0:M.toString())},B=U(O?"maxWidth":"maxHeight"),F=U(O?"minWidth":"minHeight");(!B||N<B)&&(!F||N>F)&&(r.config[V]=N-i.resizerLength/2+"px",i.nextCell.config[V]=i.size-N-i.resizerLength/2+"px",i.nextCell._getAnyFlexCell()&&(i.nextCell._getAnyFlexCell().config[V]=void 0),r.paint(),r.events.fire(y.LayoutEvents.resize,[r.id]))}},l={},f=function(b){if(i.isActive=!1,document.body.classList.remove("dhx_no-select--resize"),b.targetTouches)for(var I in document.removeEventListener("touchend",f),document.removeEventListener("touchmove",o),l)l[I].node.contentWindow.document.removeEventListener("touchend",f),l[I].node.contentWindow.document.removeEventListener("touchmove",l[I].listener);else for(var I in document.removeEventListener("mouseup",f),document.removeEventListener("mousemove",o),l)l[I].node.contentWindow.document.removeEventListener("mouseup",f),l[I].node.contentWindow.document.removeEventListener("mousemove",l[I].listener);r.events.fire(y.LayoutEvents.afterResizeEnd,[r.id])},_=function(b){if(b.targetTouches&&b.preventDefault(),3!==b.which&&(i.isActive&&f(b),r.events.fire(y.LayoutEvents.beforeResizeStart,[r.id]))){document.body.classList.add("dhx_no-select--resize");var I=r.getCellView(),O=r._getNextCell(),P=O.getCellView(),R=r._getResizerView(),N=I.el.getBoundingClientRect(),V=R.el.getBoundingClientRect(),U=P.el.getBoundingClientRect();i.xLayout=r._isXDirection(),i.left=N.left+window.pageXOffset,i.top=N.top+window.pageYOffset,i.collapsedSize=r._getCollapsedSize(r,O),i.margin=(0,v.getMarginSize)(r.getParent().config),i.range=(0,v.getBlockRange)(N,U,i.xLayout),i.size=i.range.max-i.range.min-i.margin-i.collapsedSize,i.isActive=!0,i.nextCell=O,i.resizerLength=i.xLayout?V.width:V.height}};this._resizerHandlers={onmousedown:function(b){_(b),document.addEventListener("mouseup",f),document.addEventListener("mousemove",o);var I=document.querySelectorAll("iframe");if(I.length)for(var O in I.forEach(function(P,R){var N={x:P.getBoundingClientRect().x,y:P.getBoundingClientRect().y};l[R]={node:P,listener:function(V){return o(V,N)}}}),l)l[O].node.contentWindow.document.addEventListener("mouseup",f),l[O].node.contentWindow.document.addEventListener("mousemove",l[O].listener)},ontouchstart:function(b){_(b),document.addEventListener("touchend",f),document.addEventListener("touchmove",o);var I=document.querySelectorAll("iframe");if(I.length)for(var O in I.forEach(function(P,R){var N={x:P.getBoundingClientRect().x,y:P.getBoundingClientRect().y};l[R]={node:P,listener:function(V){return o(V,N)}}}),l)l[O].node.contentWindow.document.addEventListener("touchend",f),l[O].node.contentWindow.document.addEventListener("touchmove",l[O].listener)},ondragstart:function(b){return b.preventDefault()}}},a.prototype._getCollapsedSize=function(r,i){var o=0,l=this._parent,f=l._cells.indexOf(r),_=l._cells.indexOf(i);if(_-f==1)return o;for(var b=f+1;b<_;b++)l._cells[b].config.collapsed&&(this._isXDirection()?o+=45:o+=Number(l._cells[b].config.headerHeight)||37);return o},a.prototype._getCollapseIcon=function(){return this._isXDirection()&&this.config.collapsed?"dxi dxi-chevron-right":this._isXDirection()&&!this.config.collapsed?"dxi dxi-chevron-left":!this._isXDirection()&&this.config.collapsed?"dxi dxi-chevron-up":this._isXDirection()||this.config.collapsed?void 0:"dxi dxi-chevron-down"},a.prototype._isLastCell=function(){var r=this._parent;return r&&r._cells.indexOf(this)===r._cells.length-1},a.prototype._getNextCell=function(){var r=this._parent,i=r._cells.indexOf(this),o=!this._isLastCell()&&r._cells[i+1];return!!o&&(o.config.hidden||o.config.collapsed?o._getNextCell():o)},a.prototype._getAnyFlexCell=function(r){var i,o=this;void 0===r&&(r=!1);var l=this._parent,f=this._isXDirection()?"$autoWidth":"$autoHeight",_=null===(i=l?._cells)||void 0===i?void 0:i.filter(function(b){return!0===b.config[f]&&(!!r||b.id!==o.id)});return!!_?.length&&_[_.length-1]},a.prototype._getResizerView=function(){return this._parent.getRefs("resizer_"+this._uid)},a.prototype._isXDirection=function(){return this._parent&&this._parent._xLayout},a.prototype._checkProgress=function(){return this instanceof h.Layout?this.isVisibleProgress():(this._calculateProgressState(),(this._progress||this._checkAutoProgress())&&!this.config.collapsed&&!this.config.hidden&&!this._parent.isVisibleProgress())},a.prototype._checkAutoProgress=function(){if(this._stopProgressDefault)return!1;var r=this.config;return r.progressDefault&&!this._ui&&!r.html},a.prototype._calculateProgressState=function(){if(!this._stopProgressDefault){var r=this.config,i=r.html,o=r.progressDefault;!o||this._ui||i||(this._progress=!0),o&&(this._ui||i)&&(this._progress=!1)}},a.prototype._calculateStyle=function(){var r=this.config;if(r){var i={},o=!1,l=!1;isNaN(Number(r.width))||(r.width=r.width+"px"),isNaN(Number(r.height))||(r.height=r.height+"px"),isNaN(Number(r.minWidth))||(r.minWidth=r.minWidth+"px"),isNaN(Number(r.minHeight))||(r.minHeight=r.minHeight+"px"),isNaN(Number(r.maxWidth))||(r.maxWidth=r.maxWidth+"px"),isNaN(Number(r.maxHeight))||(r.maxHeight=r.maxHeight+"px"),"content"===r.width&&(o=!0),"content"===r.height&&(l=!0);var _=r.width,b=r.height,I=r.cols,O=r.rows,P=r.minWidth,R=r.minHeight,N=r.maxWidth,V=r.maxHeight,U=r.gravity,B=r.collapsed,F=r.$fixed,W=-1===Math.sign(U)?0:U;"boolean"==typeof U&&(W=U?1:0);var M="boolean"==typeof U?!U:-1===Math.sign(U);this._isXDirection()?(F||_||void 0===U&&(P||N))&&(M=!0):(F||b||void 0===U&&(R||V))&&(M=!0);var $=this._checkFullSizeCell(),Y=M&&!$?0:$?1:W||1,ee=this._isXDirection()?"x":"y";if(void 0===P||B||(i.minWidth=P),void 0===R||B||(i.minHeight=R),void 0!==N&&(i.maxWidth=N),void 0!==V&&(i.maxHeight=V),void 0===this._parent&&void 0!==!ee&&(ee=!0),$||void 0===_||"content"===_){if(!0===ee)i.width="100%";else if("x"===ee)if(o)i.flex="0 0 auto";else{var J=this._isXDirection()?"1px":"auto";i.flex="".concat(Y," ").concat(I||O?"0 ".concat(J):"1 auto")}}else i.width=_;return $||void 0===b||"content"===b?!0===ee?i.height="100%":"y"===ee&&(l?i.flex="0 0 auto":(J=this._isXDirection()?"auto":"1px",i.flex="".concat(Y," ").concat(I||O?"0 ".concat(J):"1 auto"))):i.height=b,!0===ee&&void 0===r.width&&void 0===r.height&&(i.flex="".concat(Y," 1 auto")),B&&(this._isXDirection()?i.width="auto":i.height="auto",i.flex="0 0 auto"),i}},a.prototype._resizedWindow=function(){var r;if(void 0===this._isLastFlexCell?this._isLastFlexCell=(null===(r=this._getAnyFlexCell(!0))||void 0===r?void 0:r.id)===this.id:this._isLastFlexCell||window.removeEventListener("resize",this._afterWindowResized),this._isLastFlexCell){var i=this._isXDirection()?"width":"height";this.config[i]=void 0,this.paint()}},a.prototype._resetCellsSize=function(){var r=this,i=this._parent._cells.filter(function(_){return _!==r&&!_.config.hidden&&!_.config.collapsed}),o=this._isXDirection(),l=o?"$autoWidth":"$autoHeight",f=o?"width":"height";i.forEach(function(_){_.config[l]&&(_.config[f]=void 0)})},a.prototype._checkFullSizeCell=function(){var r=this;if(!this._parent)return!1;var i=this._isXDirection()?"$autoWidth":"$autoHeight";if(!this.config[i])return!1;var o=this._parent._cells.filter(function(l){return l!==r&&!l.config.hidden});return!!o.length&&o.every(function(l){return l.config.collapsed})},a}(p.View);E.Cell=c},function(ne,E,D){"use strict";var S=this&&this.__createBinding||(Object.create?function(C,x,m,p){void 0===p&&(p=m);var y=Object.getOwnPropertyDescriptor(x,m);y&&!("get"in y?!x.__esModule:y.writable||y.configurable)||(y={enumerable:!0,get:function(){return x[m]}}),Object.defineProperty(C,p,y)}:function(C,x,m,p){void 0===p&&(p=m),C[p]=x[m]}),T=this&&this.__exportStar||function(C,x){for(var m in C)"default"===m||Object.prototype.hasOwnProperty.call(x,m)||S(x,C,m)};Object.defineProperty(E,"__esModule",{value:!0}),T(D(149),E),T(D(77),E)},function(ne,E,D){"use strict";var S,T;Object.defineProperty(E,"__esModule",{value:!0}),E.PopupEvents=void 0,(T=S||(E.PopupEvents=S={})).beforeHide="beforeHide",T.beforeShow="beforeShow",T.afterHide="afterHide",T.afterShow="afterShow",T.click="click"},function(ne,E,D){"use strict";var S,T;Object.defineProperty(E,"__esModule",{value:!0}),E.SliderEvents=void 0,(T=S||(E.SliderEvents=S={})).beforeChange="beforeChange",T.change="change",T.focus="focus",T.blur="blur",T.keydown="keydown",T.mousedown="mousedown",T.mouseup="mouseup"},function(ne,E,D){"use strict";var S,T;Object.defineProperty(E,"__esModule",{value:!0}),E.TimepickerEvents=void 0,(T=S||(E.TimepickerEvents=S={})).beforeChange="beforeChange",T.change="change",T.beforeApply="beforeApply",T.afterApply="afterApply",T.beforeClose="beforeClose",T.afterClose="afterClose",T.apply="apply",T.close="close",T.save="save"},function(ne,E,D){"use strict";var S,T;Object.defineProperty(E,"__esModule",{value:!0}),E.CalendarEvents=void 0,(T=S||(E.CalendarEvents=S={})).change="change",T.beforeChange="beforechange",T.modeChange="modeChange",T.monthSelected="monthSelected",T.yearSelected="yearSelected",T.cancelClick="cancelClick",T.dateMouseOver="dateMouseOver",T.dateHover="dateHover"},function(ne,E,D){"use strict";var S,T=this&&this.__extends||(S=function(I,O){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(P,R){P.__proto__=R}||function(P,R){for(var N in R)Object.prototype.hasOwnProperty.call(R,N)&&(P[N]=R[N])})(I,O)},function(I,O){if("function"!=typeof O&&null!==O)throw new TypeError("Class extends value "+String(O)+" is not a constructor or null");function P(){this.constructor=I}S(I,O),I.prototype=null===O?Object.create(O):(P.prototype=O.prototype,new P)}),C=this&&this.__spreadArray||function(I,O,P){if(P||2===arguments.length)for(var R,N=0,V=O.length;N<V;N++)!R&&N in O||(R||(R=Array.prototype.slice.call(O,0,N)),R[N]=O[N]);return I.concat(R||Array.prototype.slice.call(O))};Object.defineProperty(E,"__esModule",{value:!0}),E.Combobox=E.$template=void 0;var x=D(1),m=D(0),p=D(3),y=D(2),v=D(156),u=D(5),h=D(8),c=D(16),d=D(81),a=D(11),r=D(160),i=D(84),o=D(35),l=D(85),f=D(86);function _(I,O){return"function"==typeof O?O(I):I+" "+i.default.selectedItems}E.$template=function(I){return I.icon?(0,m.el)("div.dhx_combobox-options-wrapper",[(0,m.el)("span",{class:"".concat(I.icon," dhx_combobox-options__icon")}),(0,m.el)("span",{class:"dhx_combobox-options__value"},I.value)]):I.src?(0,m.el)("div.dhx_combobox-options-wrapper",[(0,m.el)("img",{class:"dhx_combobox-options__image",alt:I.value,src:I.src}),(0,m.el)("span",{class:"dhx_combobox-options__value"},I.value)]):(0,m.el)("span",{class:"dhx_combobox-options__value"},I.value)};var b=function(I){function O(P,R){var N=I.call(this,P,(0,x.extend)({listHeight:224,disabled:!1,readOnly:!1,newOptions:!1,htmlEnable:!0},R))||this;N.config.itemsCount=N.config.itemsCount||N.config.showItemsCount,N.config.helpMessage=N.config.helpMessage||N.config.help,N.config.cellHeight&&36===N.config.itemHeight&&(N.config.itemHeight=N.config.cellHeight),N.config.labelInline&&(N.config.labelPosition="left"),Array.isArray(N.config.data)?(N.events=new p.EventSystem(N),N.data=new h.DataCollection({}),N.data.parse(N.config.data)):N.config.data?(N.data=N.config.data,N.events=new p.EventSystem(N),N.events.context=N):(N.events=new p.EventSystem(N),N.data=new h.DataCollection({})),N.popup=new a.Popup,N.popup.events.on(a.PopupEvents.afterShow,function(){N.paint()}),N.popup.events.on(a.PopupEvents.afterHide,function(){N.config.multiselection&&(N._state.value=""),N.paint()}),N.popup.events.on(a.PopupEvents.beforeHide,function(U){U&&N._hideOptions()}),(N.config.readonly||N.config.readOnly)&&(N.config.readOnly=N.config.readOnly||N.config.readonly,N._keyListener=new r.KeyListener),N._state={value:"",ignoreNext:!1,canDelete:!1,unselectActive:!1,currentState:f.ComboState.default,creatingState:!1},N._initHandlers(),N._createLayout(),N.config.value&&N._setValue(N.config.value,!0),N._initEvents();var V=(0,m.create)({render:function(){return N._draw()},hooks:{didRedraw:function(){N.popup.isVisible()&&(N.focus(),N._configurePopup())}}});return N.mount(P,V),N}return T(O,I),O.prototype.focus=function(){if(this.config.disabled)return!1;this.getRootView().refs.input.el.focus()},O.prototype.blur=function(){if(this.config.disabled)return!1;this.getRootView().refs.input.el.blur(),this.popup.hide()},O.prototype.enable=function(){this.config.disabled=!1,this.paint()},O.prototype.disable=function(){this.config.disabled=!0,this.paint()},O.prototype.isDisabled=function(){return this.config.disabled},O.prototype.clear=function(){this.list.selection.remove(),this._state.value="",this._filter(),this.paint()},O.prototype.getValue=function(P){var R=this.list.selection.getId();return P?(0,x.wrapBox)(R):Array.isArray(R)?R.join(","):R},O.prototype.setValue=function(P,R){return this._setValue(P,R)},O.prototype.addOption=function(P,R){if(void 0===R&&(R=!0),P){var N;"string"==typeof P?N=this.data.add({value:P}):"object"==typeof P&&(N=this.data.add(P));var V=this.config.multiselection&&R?C(C([],this.list.selection.getId(),!0),[N],!1):N;this.setValue(V)}},O.prototype.destructor=function(){this.popup&&this.popup.destructor(),this.events&&this.events.clear(),this.list&&this.list.destructor(),this._helper&&this._helper.destructor(),this._layout&&this._layout.destructor(),this._keyListener&&this._keyListener.destructor(),this.config=this.events=this.list=this.popup=null,this._helper=this._keyListener=this._handlers=this._state=this._uid=this._isPopupConfiqureted=null,this.unmount()},O.prototype.setState=function(P){switch(P){case"success":this._state.currentState=f.ComboState.success;break;case"error":this._state.currentState=f.ComboState.error;break;default:this._state.currentState=f.ComboState.default}this.paint()},O.prototype._setValue=function(P,R){var N=this;if(void 0===R&&(R=!1),!this._exsistId(P))return!1;if(this._filter(),this.list.selection.remove(null,R),this.config.multiselection)"string"==typeof P&&(P=P.split(",")),"number"==typeof P&&(P=[P]),P.forEach(function(B){N.list.selection.add(B,!1,!1,R)});else{var V=(0,x.unwrapBox)(P);this.list.selection.add(V,!1,!1,R);var U=this.data.getItem(V);U&&(this._state.value=this._getItemText(U))}this.paint()},O.prototype._createLayout=function(){var P=this.list=new d.List(null,{$template:E.$template,template:this.config.template,htmlEnable:this.config.htmlEnable,virtual:this.config.virtual,keyNavigation:!0,multiselection:this.config.multiselection,itemHeight:this.config.itemHeight,height:this.config.listHeight,data:this.data}),R=this._layout=new c.Layout(this.popup.getContainer(),{css:"dhx_combobox-options dhx_combobox__options",rows:[{id:"select-unselect-all",hidden:!this.config.multiselection||!this.config.selectAllButton},{id:"list",height:"content"},{id:"not-found",hidden:!0}],on:{click:{".dhx_combobox__action-select-all":this._handlers.selectAll,".dhx_combobox-options__action-create-option":this._handlers.addOption}}});R.getCell("list").attach(P),this.config.multiselection&&this.config.selectAllButton&&R.getCell("select-unselect-all").attach(l.selectAllView)},O.prototype._initHandlers=function(){var P=this;this.config.helpMessage&&(this._helper=new a.Popup({css:"dhx_tooltip dhx_tooltip--forced dhx_tooltip--light"}),this._helper.attachHTML(this.config.helpMessage)),this._handlers={addOption:function(){return P.addOption(P._state.value)},showHelper:function(R){R.preventDefault(),R.stopPropagation(),P._helper.show(R.target,{mode:"left"===P.config.labelPosition?"bottom":"right",theme:R.target})},selectAll:function(){P._state.unselectActive?(P.list.selection.remove(),P.config.selectAllButton&&(P._layout.getCell("select-unselect-all").attach(l.selectAllView),P._state.unselectActive=!1)):(P.data.filter(),P.list.selection.add(),P.config.selectAllButton&&(P._layout.getCell("select-unselect-all").attach(l.unselectAllView),P._state.unselectActive=!0)),P._changePopupPosition(),P.paint()},onkeydown:function(R){if("Tab"===R.key&&P.popup.isVisible())P._hideOptions();else if(P.popup.isVisible()||R.which!==v.KEY_CODES.DOWN_ARROW||P._showOptions(),P.popup.isVisible()&&(R.which===v.KEY_CODES.RIGHT_ARROW&&P.config.readOnly&&!P.config.multiselection&&(P.list.moveFocus(d.MOVE_DOWN),R.preventDefault()),R.which===v.KEY_CODES.LEFT_ARROW&&P.config.readOnly&&!P.config.multiselection&&(P.list.moveFocus(d.MOVE_UP),R.preventDefault()),R.which===v.KEY_CODES.DOWN_ARROW&&(P.list.moveFocus(d.MOVE_DOWN),R.preventDefault()),R.which===v.KEY_CODES.UP_ARROW&&(P.list.moveFocus(d.MOVE_UP),R.preventDefault()),R.which===v.KEY_CODES.ESC&&P._hideOptions(),R.which===v.KEY_CODES.ENTER)){if(P.data.getLength()){var N=P.list.getFocus(),V=P.config.multiselection?C(C([],P.list.selection.getId(),!0),[N],!1):N;P.setValue(V)}else P.config.newOptions&&P.addOption(P._state.value,!0);P.config.multiselection?P._updatePopup():P.data.getLength()&&P._hideOptions()}P.events.fire(f.ComboboxEvents.keydown,[R,P.list.getFocus()])},onkeyup:function(R){if(P.config.multiselection&&!P.config.itemsCount)if(P._state.ignoreNext)P._state.ignoreNext=!1;else if(R.which===v.KEY_CODES.BACKSPACE&&!P._state.value&&P.config.multiselection&&P.list.selection.getId().length){var N=P.list.selection.getId();P.list.selection.remove(N[N.length-1]),P._changePopupPosition(),P.paint()}},oninput:function(R){if(!P.config.disabled){var N=R.target.value;P.events.fire(f.ComboboxEvents.input,[N]),P._state.value=N,P._filter(!0),N.length?P._state.canDelete=!1:(P._state.ignoreNext=!0,P._state.canDelete=!0),P.config.multiselection||(P.list.selection.remove(),P.paint()),P.popup.isVisible()||P._showOptions(),P._updatePopup()}},oninputclick:function(R){var N;if(!P.config.disabled){if(P.focus(),R.target.classList.contains("dhx_combobox__action-remove")){var V=null===(N=P.data.getItem((0,y.locate)(R)))||void 0===N?void 0:N.id;return(0,x.isId)(V)?(P.list.selection.remove(V),P._changePopupPosition(),void P.paint()):void 0}if(R.target.classList.contains("dhx_combobox__action-clear-all"))return P.list.selection.getId().forEach(function(U){return P.list.selection.remove(U)}),P.config.selectAllButton&&P._state.unselectActive&&(P._layout.getCell("select-unselect-all").attach(l.selectAllView),P._state.unselectActive=!1),void P.paint();R.preventDefault(),P.popup.isVisible()?P.focus():P._showOptions()}},toggleIcon:function(){P.focus(),P.popup.isVisible()?P._hideOptions():P._showOptions()},onfocus:function(){var R;return null===(R=P.events)||void 0===R?void 0:R.fire(f.ComboboxEvents.focus,[])},onblur:function(){var R;return null===(R=P.events)||void 0===R?void 0:R.fire(f.ComboboxEvents.blur,[])}}},O.prototype._initEvents=function(){var P=this;this.data.events.on(h.DataEvents.load,function(){P.config.value&&P._setValue(P.config.value,!0),P._filter()}),this.data.events.on(h.DataEvents.afterAdd,function(){P.config.multiselection?P._changePopupPosition():P._hideOptions()}),this.list.events.on(d.ListEvents.click,function(){P.config.multiselection||P._hideOptions(),P._changePopupPosition()}),this.list.selection.events.on(o.SelectionEvents.beforeSelect,function(R){var N=P.config.multiselection?C(C([],P.getValue(P.config.multiselection),!0),[R],!1):R;return P.events.fire(f.ComboboxEvents.beforeChange,[N])}),this.list.selection.events.on(o.SelectionEvents.afterSelect,function(){var R=P.getValue(P.config.multiselection);P.events.fire(f.ComboboxEvents.change,[R]),P._updateSelectedItem(R)}),this.list.selection.events.on(o.SelectionEvents.beforeUnSelect,function(R){var N=P.config.multiselection?P.getValue(P.config.multiselection).filter(function(V){return V!=R}):R;return P.events.fire(f.ComboboxEvents.beforeChange,[N])}),this.list.selection.events.on(o.SelectionEvents.afterUnSelect,function(){var R=P.config.multiselection,N=P.getValue(R);P.events.fire(f.ComboboxEvents.change,[N]),R&&P._updateSelectedItem(N)}),this.popup.events.on(a.PopupEvents.beforeShow,function(){if(!P.popup.isVisible()&&!P._isPopupConfiqureted)return P._configurePopup(),!1}),this.config.readOnly&&this.popup.events.on(a.PopupEvents.afterShow,function(){if(P._state.value){var R=P.list.selection.getId();P.list.setFocus(R)}else P.list.setFocus(P.data.getId(0));P._keyListener.startNewListen(function(N){return P._findBest(N)})})},O.prototype._showOptions=function(){this.events.fire(f.ComboboxEvents.beforeOpen)&&(this._state.value.length&&(this._state.canDelete=!0),this._filter(),this._configurePopup()&&(this.events.fire(f.ComboboxEvents.open),this.events.fire(f.ComboboxEvents.afterOpen)))},O.prototype._configurePopup=function(){this._isPopupConfiqureted=!0;var P=this.getRootView();return!!(P&&P.refs&&P.refs.holder)&&(this.popup.isVisible()||this._updatePopup(),!0)},O.prototype._hideOptions=function(){var P=this;this.events.fire(f.ComboboxEvents.beforeClose)&&(this.config.readOnly&&this._keyListener.endListen(),this.list.setFocus(this.data.getId(0)),this.config.multiselection||this.config.readOnly||this.list.selection.contains()||(this._state.value=""),(0,m.awaitRedraw)().then(function(){return P.popup.isVisible()&&P.popup.hide()}),this.events.fire(f.ComboboxEvents.afterClose),this.events.fire(f.ComboboxEvents.close),this.data.resetFilter(),this._filter(),this.paint())},O.prototype._filter=function(P){var R=this;if(void 0===P&&(P=!1),!this.config.readOnly){if(this.config.filter?this.data.filter(function(F){return R.config.filter(F,R._state.value)}):P&&this.data.filter(function(F){return(0,x.isExistValue)(R._getItemText(F)||"",R._state.value)}),this.config.multiselection)this.list.setFocus(this.data.getId(0));else{var N=this.data.getIndex(this.list.selection.getId());this.list.setFocus(this.data.getId(N>-1?N:0))}var V=this._layout.getCell("list"),U=this._layout.getCell("not-found");if(0===this.data.getLength()){this.config.multiselection&&this.config.selectAllButton&&this._layout.getCell("select-unselect-all").hide(),V.hide(),this._state.creatingState=!0;var B=this.config.newOptions?this._state.value:"";U.height=(0,l.emptyListHeight)(B,this.getRootView().refs.holder.el.offsetWidth),U.attach(l.emptyListView,B),U.show()}else this.config.multiselection&&this.config.selectAllButton&&this._layout.getCell("select-unselect-all").show(),this._state.value&&this.data.find(function(F){return F.value===R._state.value})||!this._state.value?(this._state.creatingState=!1,U.isVisible()&&(V.show(),U.hide())):(this._state.creatingState=this.config.newOptions,V.show(),this.config.newOptions?(U.height=(0,l.emptyListHeight)(B=this._state.value,this.getRootView().refs.holder.el.offsetWidth),U.attach(l.emptyListView,B),U.show()):U.hide())}},O.prototype._findBest=function(P){var R=this,N=this.data.find(function(V){return(0,x.isExistValue)(R._getItemText(V)||"",P)});N&&this.list.selection.getId()!==N.id&&(this.list.setFocus(N.id),this.paint())},O.prototype._exsistId=function(P){var R=this;return P instanceof Array?P.every(function(N){return R.data.exists(N)}):this.data.exists(P)},O.prototype._draw=function(){if(!this.config)return(0,m.el)("div");var P=this.config,N=P.labelPosition,V=P.hiddenLabel,U=P.required,B=P.disabled,F=P.css,W=P.helpMessage,M=P.readOnly,$=P.placeholder,Y=P.multiselection?null:this.data.getItem(this.list.selection.getId()),ee=!this.list.selection.getId()||"object"==typeof this.list.selection.getId()&&0===this.list.selection.getId().length,J=(0,y.getLabelStyle)(this.config),Z=!this.config.multiselection&&(this.config.readOnly||!this.popup.isVisible()),j=Z&&this.config.htmlEnable&&this.config.template,L=Z&&(Y?.icon||Y?.src)&&!this.config.template;return(0,m.el)("div",{"data-dhx-widget-id":this._uid,onkeydown:this._handlers.onkeydown,onkeyup:this._handlers.onkeyup,class:"dhx_widget dhx_combobox"+("left"===N?" dhx_combobox--label-inline":"")+(V?" dhx_combobox--sr_only":"")+(U?" dhx_combobox--required":"")+(B?" dhx_combobox--disabled":"")+(F?" ".concat(F):"")},[J?(0,m.el)("label.dhx_label.dhx_combobox__label",{style:J.style,class:W?"dhx_label--with-help":"",onclick:this._handlers.oninputclick},W?[(J.label||U)&&(0,m.el)("span.dhx_label__holder",J.label),(0,m.el)("span.dhx_label-help.dxi.dxi-help-circle-outline",{tabindex:"0",role:"button",onclick:this._handlers.showHelper,id:"dhx_label__help_".concat(this._uid)})]:J.label):null,(0,m.el)("div.dhx_combobox-input-box"+(B?".dhx_combobox-input-box--disabled":"")+(M?".dhx_combobox-input-box--readonly":"")+(this._state.currentState===f.ComboState.error?".dhx_combobox-input-box--state_error":"")+(this._state.currentState===f.ComboState.success?".dhx_combobox-input-box--state_success":""),{_ref:"holder"},[(0,m.el)("div.dhx_combobox-input__icon",{onclick:this._handlers.toggleIcon},[(0,m.el)("span"+(this.popup.isVisible()?".dxi.dxi-menu-up":".dxi.dxi-menu-down"))]),(0,m.el)("div.dhx_combobox-input-list-wrapper",{onclick:this._handlers.oninputclick},[(0,m.el)("ul.dhx_combobox-input-list",C(C([],this._drawSelectedItems(),!0),[(0,m.el)("li.dhx_combobox-input-list__item.dhx_combobox-input-list__item--input",[(j||L)&&Y?(0,m.el)("div.dhx_combobox-input__template",{".innerHTML":j?this.config.template(Y):null},L?[(0,E.$template)(Y)]:null):null,(0,m.el)("input.dhx_combobox-input",{oninput:this._handlers.oninput,onfocus:this._handlers.onfocus,onblur:this._handlers.onblur,_ref:"input",_key:this._uid,type:"text",placeHolder:ee&&$?$:void 0,value:M&&Y?this._getItemText(Y):this._state.value,readOnly:M||B,required:U,"aria-label":M?"Select value":"Type or select value","aria-describedby":W?"dhx_label__help_".concat(this._uid):null,"aria-expanded":!0})])],!1))])])])},O.prototype._drawSelectedItems=function(){var P=this;if(!this.config.multiselection)return[];if(this.config.itemsCount){var R=this.list.selection.getId().length;return R?[(0,m.el)("li.dhx_combobox-input-list__item.dhx_combobox-tag",[(0,m.el)("span.dhx_combobox-tag__value",_(R,this.config.itemsCount)),(0,m.el)("button.dhx_button.dhx_combobox-tag__action.dhx_combobox__action-clear-all",{"aria-label":"clear all"},[(0,m.el)("span.dhx_button__icon.dxi.dxi-close-circle")])])]:[]}return this.list.selection.getId().map(function(N){var V=P.data.getItem(N);if(!V)return null;var U=P._drawImageOrIcon(V);return(0,m.el)("li.dhx_combobox-input-list__item.dhx_combobox-tag",{"data-dhx-id":N},C(C([],U||!P.config.template?[U,(0,m.el)("span.dhx_combobox-tag__value",P._getItemText(V))]:[(0,m.el)("span.dhx_combobox-tag__template",{".innerHTML":P.config.template(V)})],!0),[(0,m.el)("button.dhx_button.dhx_button--icon.dhx_combobox-tag__action.dhx_combobox__action-remove",{type:"button","aria-label":"remove"},[(0,m.el)("span.dhx_button__icon.dxi.dxi-close-circle")])],!1))})},O.prototype._drawImageOrIcon=function(P){return P.src?(0,m.el)("img.dhx_combobox-tag__image",{src:P.src,alt:""}):P.icon?(0,m.el)("span.dhx_combobox-tag__icon",{class:P.icon}):null},O.prototype._getItemText=function(P){return P?P.value:null},O.prototype._updateSelectedItem=function(P){var R;this.config.multiselection?(this.config.selectAllButton&&!this._state.unselectActive&&this.data.getLength()===P.length?(this._layout.getCell("select-unselect-all").attach(l.unselectAllView),this._state.unselectActive=!0):this.config.selectAllButton&&this._state.unselectActive&&(this._layout.getCell("select-unselect-all").attach(l.selectAllView),this._state.unselectActive=!1),this._state.value&&(this._state.value="",this._state.canDelete=0===P.length,this.data.resetFilter(),this._filter())):this._state.value=null!==(R=this._getItemText(this.data.getItem(P)))&&void 0!==R?R:"",this.paint()},O.prototype._changePopupPosition=function(){var P=this;this.config.multiselection&&(0,m.awaitRedraw)().then(function(){P._updatePopup()})},O.prototype._updatePopup=function(){var P=this.getRootView().refs.holder.el;this.popup.getContainer().style.width=P.offsetWidth+"px",this.popup.show(P,{mode:"bottom",theme:this.getRootNode()})},O}(u.View);E.Combobox=b},function(ne,E,D){"use strict";var S=this&&this.__createBinding||(Object.create?function(C,x,m,p){void 0===p&&(p=m);var y=Object.getOwnPropertyDescriptor(x,m);y&&!("get"in y?!x.__esModule:y.writable||y.configurable)||(y={enumerable:!0,get:function(){return x[m]}}),Object.defineProperty(C,p,y)}:function(C,x,m,p){void 0===p&&(p=m),C[p]=x[m]}),T=this&&this.__exportStar||function(C,x){for(var m in C)"default"===m||Object.prototype.hasOwnProperty.call(x,m)||S(x,C,m)};Object.defineProperty(E,"__esModule",{value:!0}),T(D(82),E),T(D(159),E),T(D(83),E),T(D(52),E)},function(ne,E,D){"use strict";var S,T=this&&this.__extends||(S=function(o,l){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,_){f.__proto__=_}||function(f,_){for(var b in _)Object.prototype.hasOwnProperty.call(_,b)&&(f[b]=_[b])})(o,l)},function(o,l){if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function f(){this.constructor=o}S(o,l),o.prototype=null===l?Object.create(l):(f.prototype=l.prototype,new f)}),C=this&&this.__assign||function(){return C=Object.assign||function(o){for(var l,f=1,_=arguments.length;f<_;f++)for(var b in l=arguments[f])Object.prototype.hasOwnProperty.call(l,b)&&(o[b]=l[b]);return o},C.apply(this,arguments)},x=this&&this.__spreadArray||function(o,l,f){if(f||2===arguments.length)for(var _,b=0,I=l.length;b<I;b++)!_&&b in l||(_||(_=Array.prototype.slice.call(l,0,b)),_[b]=l[b]);return o.concat(_||Array.prototype.slice.call(l))};Object.defineProperty(E,"__esModule",{value:!0}),E.List=E.MOVE_DOWN=E.MOVE_UP=void 0;var m=D(1),p=D(8),y=D(0),v=D(14),u=D(35),h=D(5),c=D(83),d=D(2),a=D(52),r=D(157);E.MOVE_UP=1,E.MOVE_DOWN=2;var i=function(o){function l(f,_){void 0===_&&(_={});var b=this,I=_.itemHeight||(_.virtual?37:null);I&&"number"==typeof I&&(I=I.toString()+"px"),(b=o.call(this,f,(0,m.extend)({itemHeight:I,keyNavigation:!0,editable:!1,selection:!0,htmlEnable:!0},_))||this)._destructed=!1,b._touch={duration:350,dblDuration:300,timer:null,start:!1,timeStamp:null};var O=b.config.data;O instanceof p.DataCollection?(b.data=O,b.events=O.events):(b.data=new p.DataCollection({}),b.events=b.data.events,O&&b.data.parse(O)),b.selection=new c.Selection({disabled:!b.config.selection,multiselection:b.config.multiselection},b.data,b.events),b.config.keyNavigation&&(b.keyManager=new v.KeyManager(function($,Y){return Y==b._uid&&(!b._edited||b._edited&&"escape"!==$.key)}),b._initHotKey()),b.events.on(p.DataEvents.change,function($,Y,ee){"setPage"===Y&&b.scrollTo(b.data.getId(ee[0])),b.paint()}),b.events.on(p.DataEvents.filter,function(){b.paint()}),b.events.on(u.SelectionEvents.afterUnSelect,function(){return b.paint()}),b.events.on(u.SelectionEvents.afterSelect,function($){(0,m.isId)($)&&b.config.selection&&b.setFocus($),b.paint()}),b.events.on(a.ListEvents.afterEditEnd,b.editEnd.bind(b));var P=function($){return function(Y){b.data.setMeta(b.data.getItem(Y.target),"drop",$),b.paint()}};b.events.on(p.DragEvents.canDrop,P(!0)),b.events.on(p.DragEvents.cancelDrop,P(!1));var R=function($){return function(Y){Y.source.map(function(ee){return b.data.setMeta(b.data.getItem(ee),"drag",$)}),b.paint()}};b.events.on(p.DragEvents.dragStart,R(!0)),b.events.on(p.DragEvents.afterDrag,R(!1)),b._handlers={onmousedown:function($){b._dragStart($)},ontouchstart:function($){b._touch.timer=setTimeout(function(){b._dragStart($)},b._touch.duration),b._touch.timeStamp?(b._touch.dblDuration>=b._touch.timeStamp-+$.timeStamp.toFixed()&&($.preventDefault(),b._dblClick($)),b._touch.timeStamp=null):b._touch.timeStamp=+$.timeStamp.toFixed(),setTimeout(function(){b._touch.timeStamp=null},b._touch.dblDuration)},ontouchmove:function($){b._touch.start&&$.preventDefault(),b._clearTouchTimer()},ontouchend:function(){b._touch.start=!1,b._clearTouchTimer()},ondragstart:function(){return!(b.config.dragMode&&!b._edited)&&null},oncontextmenu:function($){var Y,ee=null===(Y=b.data.getItem((0,d.locate)($)))||void 0===Y?void 0:Y.id;(0,m.isId)(ee)&&b.events.fire(a.ListEvents.itemRightClick,[ee,$])},onclick:function($){var Y,ee=null===(Y=b.data.getItem((0,d.locate)($)))||void 0===Y?void 0:Y.id;(0,m.isId)(ee)&&(b.selection.add(ee,$.ctrlKey||$.metaKey,$.shiftKey),b.config.selection&&(b._focus=ee),b.events.fire(a.ListEvents.click,[ee,$]),b.paint())},ondblclick:function($){b._dblClick($)},onscroll:function($){b.config.virtual&&(b._topOffset=$.target.scrollTop,b._visibleHeight=$.target.offsetHeight,b.paint())},onmouseover:function($){var Y,ee=null===(Y=b.data.getItem((0,d.locate)($)))||void 0===Y?void 0:Y.id;(0,m.isId)(ee)&&ee!==(0,d.locate)($.relatedTarget)&&b.events.fire(a.ListEvents.itemMouseOver,[ee,$])}};var N=b.config.eventHandlers;if(N)for(var V=0,U=Object.entries(N);V<U.length;V++){var B=U[V],F=B[0];b._handlers[F]=(0,d.eventHandler)(function($){return(0,d.locate)($)},B[1],b._handlers[F])}b.config.dragMode&&p.dragManager.setItem(b._uid,b),b._topOffset=b._visibleHeight=0;var M=(0,y.create)({render:function(){return b._destructed?(0,y.el)("div"):b._renderList()},hooks:{didMount:function($){b.config.virtual&&(b._visibleHeight=$.node.el.offsetHeight)},didRedraw:function($){return b._didRedraw($)}}});return b.mount(f,M),b}return T(l,o),l.prototype._didRedraw=function(f){},l.prototype._dblClick=function(f){var _,b=(0,d.locate)(f);b&&(b=null===(_=this.data.getItem(b))||void 0===_?void 0:_.id,this.config.editable&&this.editItem(b),this.events.fire(a.ListEvents.doubleClick,[b,f]))},l.prototype._clearTouchTimer=function(){this._touch.timer&&(clearTimeout(this._touch.timer),this._touch.timer=null)},l.prototype._dragStart=function(f){var _=this;this._touch.start=!0;var b=[],I=(0,d.locateNode)(f,"data-dhx-id"),O=I&&I.getAttribute("data-dhx-id"),P=this.selection.getId();return this.config.multiselection&&P instanceof Array&&(P.map(function(R){R!==O&&_.getRootView().refs[R]&&b.push(_.getRootView().refs[R].el)}),P=x([],P,!0)),"string"==typeof P&&(P=[P]),this.config.dragMode&&!this._edited?p.dragManager.onMouseDown(f,P||[O],b):null},l.prototype.disableSelection=function(){this.selection.disable()},l.prototype.enableSelection=function(){this.selection.enable()},l.prototype.editItem=function(f){this._edited=f,this.data.getItem(this._edited)&&this.events.fire(a.ListEvents.beforeEditStart,[f])?(this.paint(),this.events.fire(a.ListEvents.afterEditStart,[f])):this._edited=null},l.prototype.editEnd=function(f,_){if(this._edited){if(null!==f){var b=this.data.getItem(_);this.data.update(_,C(C({},b),{value:f})),this._changed=!0}this._edited=null,this.paint()}},l.prototype.getFocusItem=function(){return this.data.getItem(this._focus)},l.prototype.setFocus=function(f){this._focus!=f&&this.data.exists(f)&&(this._focus=f,this.events.fire(a.ListEvents.focusChange,[this.data.getIndex(this._focus),this._focus]),this.scrollTo(f),this.paint())},l.prototype.getFocus=function(){return this._focus},l.prototype.destructor=function(){this._destructed=!0,this.events&&this.events.clear(),this.keyManager&&this.keyManager.destructor(),this.selection&&this.selection.destructor(),this.config=this.events=this.selection=this.keyManager=null,this._handlers=this._focus=this._edited=this._events=this._topOffset=this._visibleHeight=this._touch=null,this.unmount()},l.prototype.scrollTo=function(f){var _=this.getRootView();if(_&&_.node&&_.node.el&&void 0!==f){var b=this.getRootNode();this._scrollTo(f,b)}},l.prototype._scrollTo=function(f,_){if(_){var b=this.data.getIndex(f);if(-1!==b){var I=this.config.virtual,O=Math.floor(b/_.children.length)||0,P=_.children[b-_.children.length*O];if(I||P){var R=I?parseInt(this.config.itemHeight):P.clientHeight,N=I?b*R:P.offsetTop;N>=_.scrollTop+_.clientHeight-R?_.scrollTo(0,N-_.clientHeight+R):N<_.scrollTop&&_.scrollTo(0,N)}}}},l.prototype._renderItem=function(f,_){var b=function(U){U.class+=" dhx_list-item--empty"},I=this.config.itemHeight;if(f.$empty)return(0,y.el)("li",{class:"dhx_list-item",style:{height:I}});var O="";this.config.template&&(O=this.config.template(f)),f.html&&(O=f.html);var P=f.id==this._focus&&this.config.keyNavigation;if(f.id==this._edited)return(0,r.getEditor)(f,this).toHTML();var R=this.data.getMetaMap(f),N=C(C(C(C({},this._events),{class:"dhx_list-item"+(R&&R.selected?" dhx_list-item--selected":"")+(P?" dhx_list-item--focus":"")+(R&&R.drop&&!this._edited?" dhx_list-item--drophere":"")+(R&&R.drag&&!this._edited?" dhx_list-item--dragtarget":"")+(this.config.dragMode&&!this._edited?" dhx_list-item--drag":"")+(f.css?" "+f.css:""),"data-dhx-id":f.id,_ref:f.id.toString(),style:{height:I},_key:f.id}),this.getItemAriaAttrs(this,f)),{tabindex:P?0:-1});if(O)return O===f.html||this.config.htmlEnable?(N[".innerHTML"]=O,(0,y.el)("li",N)):(0,y.el)("li",N,O);if(this.config.$template)return f.value||b(N),(0,y.el)("li",N,[this.config.$template(f)]);var V=f.text||f.value;return V||b(N),this.config.htmlEnable?N[".innerHTML"]=V:N.class+=" dhx_list-item--text",this.config.htmlEnable?(0,y.el)("li",N):(0,y.el)("li",N,V)},l.prototype._renderList=function(){var f=this,_=this._getRange(),b=this.data.getRawData(_[0],_[1]).map(function(I,O){return f._renderItem(I,O)});return this.config.virtual&&(b=x(x([(0,y.el)(".div",{style:{height:_[2]+"px"}})],b,!0),[(0,y.el)(".div",{style:{height:_[3]+"px"}})],!1)),(0,y.el)("ul.dhx_widget.dhx_list",C(C({style:{"max-height":this.config.height,position:"relative"},tabindex:0,class:(this.config.css?this.config.css:"")+(this.config.multiselection&&this.selection.getItem()?" dhx_no-select--pointer":""),"data-dhx-widget-id":this._uid},this._handlers),this._getListAriaAttrs(this.config,this.data.getLength())),b)},l.prototype.moveFocus=function(f,_){var b=this.data.getLength();if(b){var I=this._focus,O=I?this.data.getIndex(I):-1;_=_||1,f===E.MOVE_DOWN?I=this.data.getId(Math.min(O+_,b-1)):f===E.MOVE_UP&&(I=this.data.getId(Math.max(O-_,0))),this.setFocus(I)}},l.prototype._getRange=function(){if(this.config.virtual){var f=this._visibleHeight||parseInt(this.config.height),_=parseInt(this.config.itemHeight),b=this.data.getRawData(0,-1).length,I=b*_,O=this._topOffset;O=Math.max(0,Math.min(O,I-f));var P=Math.floor(O/_),R=Math.min(b-P,Math.floor(f/_)+5);return this._topOffset=O,[P,R+P,P*_,I-_*(R+P)]}return[0,-1,0,0]},l.prototype._getHotkeys=function(){var f=this;return{arrowDown:function(_){f.moveFocus(E.MOVE_DOWN),f._changed&&(f._changed=!1),_.preventDefault()},arrowUp:function(_){f.moveFocus(E.MOVE_UP),f._changed&&(f._changed=!1),_.preventDefault()},escape:function(){f.editEnd(null),f._changed&&(f._changed=!1)},enter:function(_){var b;if(f._changed)f._changed=!1;else{var I=f.selection.getItem(),O=I instanceof Array?null===(b=I[0])||void 0===b?void 0:b.id:I?.id;f.config.editable&&!f._edited&&(I&&O===f._focus||!I)?f.editItem(f._focus):f.selection.add(f._focus),f.events.fire(a.ListEvents.click,[f._focus,_])}},"shift+enter":function(_){f.selection.add(f._focus,!1,!0),f.events.fire(a.ListEvents.click,[f._focus,_])},"ctrl+enter":function(_){f.selection.add(f._focus,!0,!1),f.events.fire(a.ListEvents.click,[f._focus,_])},"ctrl+a":function(_){f.config.multiselection&&(_.preventDefault(),f.selection.remove(),f.data.map(function(b){return b.id}).forEach(function(b){"ctrlClick"===f.config.multiselection?f.selection.add(b,!0):f.selection.add(b)}))}}},l.prototype._initHotKey=function(){var f=this._getHotkeys();for(var _ in f)this.keyManager.addHotKey(_,f[_]);for(var _ in this.config.hotkeys)this.keyManager.addHotKey(_,this.config.hotkeys[_])},l.prototype.getItemAriaAttrs=function(f,_){return C(C({role:"option","aria-selected":_.$selected?"true":"false"},(b=f).config.dragMode&&!b._edited?{"aria-grabbed":(!(!_.$dragtarget||b._edited)).toString()}:{}),function(b){return b.config.editable?{"aria-roledescription":"".concat(b._edited?"Press Enter to stop editing":"Double click to edit content")}:{}}(f));var b},l.prototype._getListAriaAttrs=function(f,_){return{role:"listbox","aria-label":"Listbox ".concat(f.title||"",", count of options = ").concat(_,".").concat(f.editable?" Content is editable.":""),"aria-multiselectable":f.selection&&f.multiselection?"true":"false","aria-readonly":f.editable?"false":"true"}},l}(h.View);E.List=i},function(ne,E,D){"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.Selection=void 0;var S=D(35),T=D(8),C=D(1),x=function(){function m(p,y,v){var u=this;this.config=p,this.events=v,this._data=y,this._selected=[],this._data.events.on(T.DataEvents.removeAll,function(){u._selected=[]}),"string"==typeof this.config.multiselection&&(["click","ctrlClick"].includes(this.config.multiselection)||(this.config.multiselection=!1)),this._data.events.on(T.DataEvents.beforeRemove,function(h){if(u._nextSelection=null,1===u._selected.length){var c=u._data.getIndex(h.id),d=u._data.getLength();d>1&&(u._nextSelection=u._data.getId(d==c-1?c-1:c+1))}}),this._data.events.on(T.DataEvents.afterRemove,function(h){var c=u._selected.indexOf(h.id);-1!==c&&u._selected.splice(c,1),(0,C.isId)(u._nextSelection)&&(u.add(u._nextSelection),u._nextSelection=null)})}return m.prototype.enable=function(){this.config.disabled=!1},m.prototype.disable=function(){this.remove(),this.config.disabled=!0},m.prototype.getId=function(){return this.config.multiselection?this._selected:this._selected[0]},m.prototype.getItem=function(){var p=this;return this.config.multiselection?this._selected.map(function(y){return p._data.getItem(y)}):this._selected.length?this._data.getItem(this._selected[0]):null},m.prototype.contains=function(p){return(0,C.isId)(p)?this._selected.includes(p):this._selected.length>0},m.prototype.remove=function(p,y){var v=this;(0,C.isId)(p)?this._unselectItem(p,y):(this._selected.forEach(function(u){return v._unselectItem(u,y)}),this._selected=[])},m.prototype.add=function(p,y,v,u){var h=this;if(!this.config.disabled)if(void 0!==p){var c=this.config.multiselection;v&&this._selected.length&&c?this._addMulti(p,u):this._addSingle(p,c&&("ctrlClick"!==c||y),u)}else this._data.serialize().filter(function(a){return!h._selected.includes(a.id)}).forEach(function(a){h._addMulti(a.id,u)})},m.prototype.destructor=function(){var p=this;this._selected.forEach(function(y){return p._unselectItem(y,!0)})},m.prototype._addMulti=function(p,y){var v,h=this._data.getIndex(this._selected[this._selected.length-1]),c=this._data.getIndex(p);for(h>c&&(h=(v=[c,h])[0],c=v[1]);h<=c;h++){var d=this._data.getId(h);this._selectItem(d,y)}},m.prototype._addSingle=function(p,y,v){var u=this;y||this._selected.forEach(function(h){h!=p&&u._unselectItem(h)}),y&&this._selected.includes(p)?this._unselectItem(p,v):this._selectItem(p,v)},m.prototype._selectItem=function(p,y){var v=this._data.getItem(p);v&&!this._data.getMeta(v,"selected")&&(y||this.events.fire(S.SelectionEvents.beforeSelect,[p]))&&(this._selected.push(p),this._data.setMeta(v,"selected",!0),y||this.events.fire(S.SelectionEvents.afterSelect,[p]))},m.prototype._unselectItem=function(p,y){(y||this.events.fire(S.SelectionEvents.beforeUnSelect,[p]))&&(this._selected=this._selected.filter(function(v){return v!==p}),this._data.setMeta(this._data.getItem(p),"selected",!1),y||this.events.fire(S.SelectionEvents.afterUnSelect,[p]))},m}();E.Selection=x},function(ne,E,D){"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.default={notFound:"Not Found",selectAll:"Select All",unselectAll:"Unselect All",selectedItems:"selected items",createItem:"Create"}},function(ne,E,D){"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.emptyListHeight=E.emptyListView=E.unselectAllView=E.selectAllView=void 0;var S=D(0),T=D(84);E.selectAllView=function(){return(0,S.el)(".dhx_list-item.dhx_combobox-options__item.dhx_combobox-options__item--select-all.dhx_combobox__action-select-all",T.default.selectAll)},E.unselectAllView=function(){return(0,S.el)(".dhx_list-item.dhx_combobox-options__item.dhx_combobox-options__item--select-all.dhx_combobox__action-select-all",T.default.unselectAll)},E.emptyListView=function(C){return(0,S.el)("ul.dhx_list",[(0,S.el)("li.dhx_list-item.dhx_combobox-options__item".concat(C?".dhx_combobox-options__action-create-option":""),{},C?"".concat(T.default.createItem,' "').concat(C,'"'):T.default.notFound)])},E.emptyListHeight=function(C,x){var m=document.createElement("canvas").getContext("2d",{alpha:!1});m.font="normal 14px Roboto";var p=C?"".concat(T.default.createItem,' "').concat(C,'"'):T.default.notFound;return 13+20*Math.ceil(m.measureText(p).width/(x-16))}},function(ne,E,D){"use strict";var S,T,C;Object.defineProperty(E,"__esModule",{value:!0}),E.ComboState=E.ComboboxEvents=void 0,(C=S||(E.ComboboxEvents=S={})).beforeChange="beforeChange",C.change="change",C.focus="focus",C.blur="blur",C.keydown="keydown",C.input="input",C.beforeOpen="beforeOpen",C.afterOpen="afterOpen",C.beforeClose="beforeClose",C.afterClose="afterClose",C.open="open",C.close="close",function(C){C[C.default=0]="default",C[C.error=1]="error",C[C.success=2]="success"}(T||(E.ComboState=T={}))},function(ne,E,D){"use strict";var S=this&&this.__assign||function(){return S=Object.assign||function(u){for(var h,c=1,d=arguments.length;c<d;c++)for(var a in h=arguments[c])Object.prototype.hasOwnProperty.call(h,a)&&(u[a]=h[a]);return u},S.apply(this,arguments)},T=this&&this.__spreadArray||function(u,h,c){if(c||2===arguments.length)for(var d,a=0,r=h.length;a<r;a++)!d&&a in h||(d||(d=Array.prototype.slice.call(h,0,a)),d[a]=h[a]);return u.concat(d||Array.prototype.slice.call(h))};Object.defineProperty(E,"__esModule",{value:!0}),E.getFixedCols=E.getFixedColsHeader=void 0;var C=D(0),x=D(7),m=D(33),p=D(88),y=D(15),v=D(25);E.getFixedColsHeader=function(u,h,c){if((c!==x.Split.left||"number"==typeof u.leftSplit&&u.fixedColumns.left.length)&&(c!==x.Split.right||"number"==typeof u.rightSplit&&u.fixedColumns.right.length)){var d=u.leftSplit,a=u.rightSplit,r=u.$positions,i=u.$totalWidth,o=u.$scrollBarWidth,l=c===x.Split.right,f=l?u.fixedColumns.right:u.fixedColumns.left,_=(0,y.getTotalWidth)(f),b=(0,p.getFixedRows)(S(S({},u),{currentColumns:f,$positions:S(S({},r),{xStart:0,xEnd:l?a:d}),scroll:{top:0,left:0},filteredColumns:f}),S(S({},h),{name:"header",position:"top",shifts:{x:0,y:0}}),c),I=S(S({},h),{name:"header",position:"top"});return(0,C.el)(".dhx_".concat(I.name,"-fixed-cols"),S({onwheel:y.scrollFixedColsAndRows,class:l?"dhx_grid__cols_right--fixed":"dhx_grid__cols_left--fixed",style:{position:"absolute",top:0,left:l?i<h.wrapper.width-o.y-v.BORDERS?i-_:h.wrapper.width-_-o.y-v.BORDERS:0,width:_,overflow:"hidden"}},{role:"rowgroup","aria-rowcount":b.length}),b.body)}},E.getFixedCols=function(u,h,c,d){if((c!==x.Split.left||"number"==typeof u.leftSplit&&u.fixedColumns.left.length)&&(c!==x.Split.right||"number"==typeof u.rightSplit&&u.fixedColumns.right.length)){var a,r=u.leftSplit,i=u.rightSplit,o=u.$totalWidth,l=u.$totalHeight,f=u.headerHeight,b=u.$positions,I=u.scroll,O=u.data,P=u.$scrollBarWidth,R=c===x.Split.right,N=l+f+u.footerHeight;a=N>h.gridBodyHeight?u.$footer?N-P.x:h.gridBodyHeight:N<h.gridBodyHeight-P.x?N:u.$footer?h.gridBodyHeight:h.gridBodyHeight-P.x;var V=R?u.fixedColumns.right:u.fixedColumns.left,U=(0,y.getTotalWidth)(V),B=R?"rightFixedCols":"leftFixedCols",F=(0,m.getCells)(S(S({},u),{filteredColumns:V,$renderFrom:B,$positions:S(S({},b),{xStart:0,xEnd:R?i:r})})),W=h.sticky,M=S(S({},h),{name:"footer",position:"bottom"}),$=(0,p.getRows)(S(S({},u),{currentColumns:V,$positions:S(S({},b),{xStart:0,xEnd:R?i:r})}),S(S({},h),{name:"footer",position:"bottom"})),Y=0;$.forEach(function(G){return Y+=G.attrs.style.height});var ee=(0,p.getFixedSpans)(S(S({},u),{filteredColumns:V}),S(S({},h),{name:"footer",position:"bottom"}),c),J=function(G){return{role:"rowgroup","aria-rowcount":G}},Z=W?(0,C.el)(".dhx_".concat(M.name,"-fixed-cols"),S({onwheel:y.scrollFixedColsAndRows,class:R?"dhx_grid__cols_right--fixed":"dhx_grid__cols_left--fixed",style:{position:"absolute",top:a<h.gridBodyHeight?a-Y:null,left:R?o<h.wrapper.width-P.y-v.BORDERS?o-U:h.wrapper.width-U-P.y-v.BORDERS:0,bottom:a>=h.gridBodyHeight?"".concat(W?P.x:0,"px"):null}},J($.length)),[$,(0,C.el)("span.dhx_span-spans",{class:"dhx_footer-spans",role:"presentation"},ee)]):null,j=b,L=(0,m.getSpans)(S(S({},u),{$renderFrom:B}),d||(R?x.Split.right:x.Split.left));return[(0,C.el)(".dhx_grid-fixed-cols-wrap",S({style:{left:R?o<h.wrapper.width-P.y-v.BORDERS?o-U:h.wrapper.width-U-P.y-v.BORDERS:0,height:a>=h.gridBodyHeight?(W?h.gridBodyHeight:h.gridBodyHeight+f)-P.x:a,paddingTop:f,overflow:"hidden",width:U}},{role:"presentation","aria-label":"Fixed column"}),[(0,C.el)(".dhx_grid-fixed-cols",S(S({onwheel:y.scrollFixedColsAndRows,class:R?"dhx_grid__cols_right--fixed":"dhx_grid__cols_left--fixed",style:{top:-I.top+f-1+"px",paddingTop:h.shifts.y,height:l,position:"absolute"},_flags:C.KEYED_LIST},(0,m.getHandlers)(j.yStart,j.xStart,u)),J(O.length)),T(T([],F,!0),[L&&(0,C.el)("span.dhx_span-spans",{role:"presentation"},[L])],!1)),(0,C.el)(".dhx_grid__cols-border--frozen",R?{role:"presentation",style:{left:0}}:{role:"presentation",style:{right:0}})]),u.$footer?Z:null]}}},function(ne,E,D){"use strict";var S=this&&this.__assign||function(){return S=Object.assign||function(l){for(var f,_=1,b=arguments.length;_<b;_++)for(var I in f=arguments[_])Object.prototype.hasOwnProperty.call(f,I)&&(l[I]=f[I]);return l},S.apply(this,arguments)},T=this&&this.__spreadArray||function(l,f,_){if(_||2===arguments.length)for(var b,I=0,O=f.length;I<O;I++)!b&&I in f||(b||(b=Array.prototype.slice.call(f,0,I)),b[I]=f[I]);return l.concat(b||Array.prototype.slice.call(f))};Object.defineProperty(E,"__esModule",{value:!0}),E.getFixedDataRows=E.getFixedRows=E.getFixedSpans=E.getRows=void 0;var C=D(0),x=D(26),m=D(15),p=D(7),y=D(33),v=D(87),u=D(1);function c(l,f,_,b){_&&(_.toLocaleLowerCase().includes("touch")?f._events.fire(_,[l,b]):f.events.fire(_,[l,b]))}function d(l,f,_){return{onclick:[c,l,_,p.GridEvents[f+"CellClick"]],onmouseover:[c,l,_,p.GridEvents[f+"CellMouseOver"]],onmousedown:[c,l,_,p.GridEvents[f+"CellMouseDown"]],ontouchstart:[c,l,_,p.GridEvents[f+"CellMouseDown"]],ondblclick:[c,l,_,p.GridEvents[f+"CellDblClick"]],oncontextmenu:[c,l,_,p.GridEvents[f+"CellRightClick"]],ontouchmove:[c,l,_,p.GridSystemEvents[f+"CellTouchMove"]],ontouchend:[c,l,_,p.GridSystemEvents[f+"CelltouchEnd"]]}}function a(l,f,_,b,I,O,P){void 0===I&&(I=""),void 0===P&&(P=!1);var R=f.type?"dhx_".concat(f.type,"-cell"):"dhx_string-cell",N=_.content[l.content]&&_.content[l.content].toHtml(f,_),V={};_.filteredColumns.forEach(function(B){V[B.id]=!!_.content[B[b][O].content]&&_.content[B[b][O].content].toHtml(B,_)||B[b][O].text});var U=f.template&&"string"==typeof N?f.template(N,V,f):N;return(0,C.el)(".".concat(R),{style:{class:I.trim(),padding:0}},[N&&("string"==typeof N||"number"==typeof N?(0,C.el)("div",{class:"dhx_grid-footer-cell-text",role:"presentation",".innerHTML":P?U:null},P?null:U):N)])}function r(l,f){if(!l.data||!l.filteredColumns)return[];var _,U,B,b=f.name,I="header"===b?l.headerAutoHeight:l.footerAutoHeight,O=l.$positions,P=l.currentColumns,R=(U=b,B=P.map(function(F){return F[U]||[{}]}),(0,m.transpose)(B)),N=1;return R.map(function(V,U){var B=("header"===b?l.$headerHeightMap:l.$footerHeightMap)[U];return(0,C.el)(".dhx_".concat(b,"-row"),S({style:{height:B}},{role:"row","aria-rowindex":U+1}),V.map(function(F,W){var M,$=F.css||"",Y=P[W],ee=O.xStart+W+1,J=(0,m.isHtmlEnable)(l,Y,F),Z="dxi dxi-sort-variant dhx_grid-sort-icon",j="none";if(l.sortBy&&"".concat(Y.id)===l.sortBy&&!F.content){var L=l.sortDir||"asc";Z+=" dhx_grid-sort-icon--".concat(L),$+=" dhx_grid-".concat(b,"-cell--sorted "),j="asc"===L?"ascending":"descending"}var G=(0,m.isSortable)(l,Y)&&F.text&&"footer"!==b&&!1!==F.headerSort;G&&($+=" dhx_grid-header-cell--sortable");var X=0===W?"dhx_first-column-cell":"",ae=W===P.length-1?"dhx_last-column-cell":"";F.content||($+=F.align?" dhx_grid-header-cell--align_".concat(F.align," "):" dhx_grid-header-cell--".concat("number"===Y.type||"percent"===Y.type||"date"===Y.type?"align_right":"align_left"," ")),$+="".concat(X," ").concat(ae);var ie=void 0!==Y.resizable?Y.resizable:l.resizable;if(ie){var re=l.rightSplit&&l.$scrollBarWidth.xState&&l.fixedColumns.right.includes(Y);ie=(0,C.el)("div",{class:"dhx_resizer_grip_wrap","aria-hidden":"true"},[(0,C.el)("div",{class:"dhx_resizer_grip"+(re?" dhx_resizer_grip--left":" dhx_resizer_grip--right"),dhx_resized:Y.id,style:{height:"".concat(100*R.length,"%")}},[(0,C.el)("div",{class:"dhx_resizer_grip_line"})])]);var he=Y.header&&(null===(M=Y.header[0])||void 0===M?void 0:M.colspan);he&&(_=he,N=1),_&&N!==_&&(0===U&&(ie=null),N++),"footer"===b&&(ie=null)}F.align&&($+=" dhx_align-".concat(F.align));var fe=function(ye,we,De){var Te={"aria-colindex":we};return"footer"===ye||F.content?Te.role="gridcell":(Te.role="columnheader",Te["aria-sort"]=De),Te};if(F.content)return(0,C.el)(".dhx_grid-".concat(b,"-cell.dhx_grid-custom-content-cell"),S(S({class:$.trim(),"data-dhx-id":Y.id,"data-dhx-text-id":F.id,_key:Y.id,style:{width:Y.$width,height:"footer"===b?B+1+"px":B+"px"}},d(Y,b,l)),fe(b,ee,j)),[a(F,Y,l,b,"",U,J),ie||null]);var ge,ve="dhx_grid-header-cell-text_content";return I&&(ve+=" dhx_grid-header-cell-text_content-auto-height"),(0,C.el)(".dhx_grid-".concat(b,"-cell"),S(S({class:$.trim(),"data-dhx-id":Y.id,"data-dhx-text-id":F.id,_key:Y.id,style:{width:Y.$width,height:"footer"===b?B+1+"px":B+"px"}},d(Y,b,l)),fe(b,ee,j)),[(0,C.el)("div.dhx_grid-header-cell-text",{role:"presentation"},[(0,C.el)("span",S(S({class:ve},(ge=F.text,G?{role:"button","aria-label":"Sort by ".concat(ge)}:{})),{".innerHTML":J?F.text:null}),J?null:F.text),ie||null]),G&&(0,C.el)("div",{class:Z,"aria-hidden":"true"})])}))})}function i(l,f,_){var b=l.columns,I=l.filteredColumns,O=(0,m.transpose)(I.map(function(U){return U[f.name]||[]})),P=f.name,R="header"===P?l.headerAutoHeight:l.footerAutoHeight,N="header"===P?l.$headerHeightMap:l.$footerHeightMap,V=0;return O.map(function(U,B){V=0;var F=N[B];return(0,C.el)(".dhx_span-row",{class:"dhx_header-row","aria-hidden":"true"},U.map(function(W,M){var $,Y=I[M];if(_===p.Split.right&&0===M&&!W.colspan){var ee=(0,m.transpose)(b.map(function(Ne){return Ne[f.name]||[]}));e:for(var J=0;J<ee[B].length;J++){var Z=ee[B][J];if(Z.colspan>1)for(var j=b.slice(J,J+Z.colspan),L=0;L<j.length;L++)if(j[L].id===Y.id){$={cell:Z,col:b[J],widthBefore:(0,x.getWidth)(j,L,0),isLastCol:J+Z.colspan>=b.length};break e}}}var G=$?.cell||W,X=$?.col||Y,ae=(0,m.isHtmlEnable)(l,Y,W);V+=X.hidden?0:X.$width;var ie=0===M?"dhx_first-column-cell":"",re=_?1:l.fixedColumns.right.length+1,he=W.colspan&&(0,x.getReducedColspan)(b,Y.id,W.colspan),fe=$?.isLastCol||M===I.length-re||(he||1)+(M-1)>=I.length-re?"dhx_last-column-cell":"",ge=F,ve=F*B;if(G.rowspan){for(var ye=G.rowspan-1;ye>0;)ge+=N[B+ye],ye--;ge-=1}if(G.rowspan||G.colspan)for(ve=0,J=B-1;J>=0;J--)ve+=N[J];var we=(0,m.isSortable)(l,X)&&G.rowspan&&G.text&&"footer"!==f.name&&!1!==G.headerSort,De="dxi dxi-sort-variant dhx_grid-sort-icon";l.sortBy&&"".concat(X.id)===l.sortBy&&!G.content&&(De+=" dhx_grid-sort-icon--".concat(l.sortDir||"asc"));var Te=X.align?"dhx_align-".concat(X.align):"number"!==X.type&&"percent"!==X.type&&"date"!==X.type||G.colspan?"dhx_align-left":"dhx_align-right",Ee="dhx_grid-".concat(P,"-cell ").concat(ie," ").concat(fe," ").concat(G.rowspan?"dhx_span-cell__rowspan":""," ").concat(G.align?"dhx_align-".concat(G.align):Te," ").concat(G.css?G.css:"");we&&(Ee+=" dhx_grid-header-cell--sortable"),G.content||(Ee+=G.align?" dhx_grid-header-cell--align_".concat(G.align," "):" dhx_grid-header-cell--".concat("number"===X.type||"percent"===X.type||"date"===X.type?"align_right":"align_left"," "));var ke=null;G.content&&((ke=a(G,X,l,P,Ee,B)).attrs.style=S(S({},ke.attrs.style),{width:"100%",borderRight:"0"}));var Ae="";V-X.$width>0&&(Ae="var(--dhx-border)");var He="dhx_grid-header-cell-text_content";R&&(He+=" dhx_grid-header-cell-text_content-auto-height");var Le=(0,C.el)("span",{class:He,".innerHTML":ae?G.text:null},ae?null:G.text);return G.colspan||G.rowspan?(0,C.el)(".dhx_span-cell",S({style:{width:(0,x.getWidth)(b,G.colspan,(0,u.findIndex)(b,function(Ne){return Ne.id===X.id})),height:ge,left:V-X.$width-($?.widthBefore||0),borderLeft:Ae,top:ve},class:Ee.trim(),"data-dhx-id":X.id,"data-dhx-text-id":G.id},d(X,P,l)),[ke||G.rowspan?(0,C.el)("div.dhx_grid-header-cell-text",{role:"presentation"},[Le]):Le,we&&(0,C.el)("div",{class:De}),_===p.Split.left&&he&&M+he>I.length||$?(0,C.el)(".dhx_grid__cols-border--frozen",{role:"presentation",style:{left:($?.widthBefore||(0,x.getWidth)(I,I.length-M,M))-1}}):null]):null}).filter(function(W){return W}))})}function o(l){return{role:"rowgroup","aria-rowcount":l}}E.getRows=r,E.getFixedSpans=i,E.getFixedRows=function(l,f,_){var b,I=l.leftSplit,O=l.$totalWidth,P=r(l,f),R=i(l,f,_),N=null;if("footer"===f.name&&!f.sticky){var V=l.rightSplit,U=l.fixedColumns,B=function(M){void 0===M&&(M=!1);var $=M?U.right:U.left;return!M&&I>=0||M&&V>=0?r(S(S({},l),{currentColumns:$,$positions:S(S({},l.$positions),{xStart:0,xEnd:M?V:I})}),f):[]};N=T(T([],B(),!0),B(!0),!0)}var F,W=((b={position:"sticky"})[f.position]=0,b);return f.sticky||(W.left=-l.scroll.left,F=-l.scroll.left,W.position="relative"),(0,C.el)(".dhx_".concat(f.name,"-wrapper").concat(l.rightSplit?".dhx_grid__rows_right--fixed":""),{class:f.sticky?"":"dhx_compatible-".concat(f.name),style:S(S({},W),{left:f.sticky?F:0,height:"footer"===f.name?l[f.name+"Height"]+1:l[f.name+"Height"],width:f.sticky?O:f.wrapper.width-2}),role:"presentation"},[(0,C.el)(".dhx_grid-".concat(f.name).concat(I?".dhx_grid_fixed_left":""),{style:{height:"footer"===f.name?l[f.name+"Height"]+1:l[f.name+"Height"],left:F,paddingLeft:f.shifts.x,width:O},role:"presentation"},[(0,C.el)(".dhx_".concat(f.name,"-rows"),S({},o(T([],P,!0).length)),T([],P,!0)),(0,C.el)(".dhx_".concat(f.name,"-spans"),{style:{marginLeft:-f.shifts.x},class:"dhx_".concat(f.name,"-rows"),role:"presentation"},R),N&&(0,C.el)(".dhx_".concat(f.name,"-fixed-cols"),{style:{position:"absolute",top:0,left:l.scroll.left+"px",height:"100%"}},N)]),(0,C.el)("div",{style:{width:O},role:"presentation"})])},E.getFixedDataRows=function(l,f,_){if(!(_===p.Split.top&&"number"!=typeof l.topSplit||_===p.Split.bottom&&"number"!=typeof l.bottomSplit)){var b=l.$totalWidth,I=l.topSplit,O=l.bottomSplit,P=l.$positions,R=l.data,N=l.$totalHeight,V=l.$width,U=l.headerHeight,B=l.footerHeight,F=l.$scrollBarWidth,W=_===p.Split.bottom,M=W?l.fixedRows.bottom:l.fixedRows.top,$=W?"bottomFixedRows":"topFixedRows",Y=(0,y.getCells)(S(S({},l),{data:M,$renderFrom:$,$positions:S(S({},P),{yStart:0,yEnd:W?O:I})})),ee=M.reduce(function(G,X){return G+X.$height},0),J=(0,y.getSpans)(S(S({},l),{$renderFrom:$,data:R}),W?p.Split.bottom:p.Split.top),Z=(0,m.getTotalHeight)(l.fixedRows.bottom),j=function(G){return(0,v.getFixedCols)(S(S({},l),{headerHeight:0,data:M,$renderFrom:$,scroll:S(S({},l.scroll),{top:-1}),$positions:S(S({},P),{yStart:0,yEnd:W?O:I}),$totalHeight:ee,$data:R}),S(S({},f),{shifts:S(S({},f.shifts),{y:0})}),G,_)||[]},L=T(T([],j(p.Split.left),!0),j(p.Split.right),!0);return[(0,C.el)(".dhx_grid-fixed-data-rows-wrap",{class:W?"dhx_grid__rows_bottom--fixed":"",style:{top:W?N+U+B<f.wrapper.height-F.x-2?N+U-Z+1:f.wrapper.height-Z-B-1-F.x:U,overflow:"hidden",height:ee>f.wrapper.height?f.wrapper.height:ee,width:b+F.y+2<V?b:V-F.y-2}},T(T([(0,C.el)(".dhx_grid-fixed-cols",S(S({onwheel:m.scrollFixedColsAndRows,style:{left:-l.scroll.left+"px",paddingLeft:f.shifts.x,position:"absolute",width:b},_flags:C.KEYED_LIST},(0,y.getHandlers)(0,P.xStart,l)),o(R.length)),[(0,C.el)(".dhx_grid-fixed-rows",{class:l.rightSplit?"dhx_grid__rows_right--fixed":""},T(T([],Y,!0),[J&&(0,C.el)(".dhx_span-spans",{role:"presentation"},[J])],!1))])],L,!0),[l.bottomSplit?(0,C.el)(".dhx_grid__rows-border--frozen",{role:"presentation"}):null],!1))]}}},function(ne,E,D){"use strict";var S,T=this&&this.__extends||(S=function(u,h){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,d){c.__proto__=d}||function(c,d){for(var a in d)Object.prototype.hasOwnProperty.call(d,a)&&(c[a]=d[a])})(u,h)},function(u,h){if("function"!=typeof h&&null!==h)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");function c(){this.constructor=u}S(u,h),u.prototype=null===h?Object.create(h):(c.prototype=h.prototype,new c)}),C=this&&this.__assign||function(){return C=Object.assign||function(u){for(var h,c=1,d=arguments.length;c<d;c++)for(var a in h=arguments[c])Object.prototype.hasOwnProperty.call(h,a)&&(u[a]=h[a]);return u},C.apply(this,arguments)},x=this&&this.__spreadArray||function(u,h,c){if(c||2===arguments.length)for(var d,a=0,r=h.length;a<r;a++)!d&&a in h||(d||(d=Array.prototype.slice.call(h,0,a)),d[a]=h[a]);return u.concat(d||Array.prototype.slice.call(h))};Object.defineProperty(E,"__esModule",{value:!0}),E.Card=void 0;var m=D(0),p=D(28),y=D(19),v=function(u){function h(c,d){return u.call(this,c,d)||this}return T(h,u),h.prototype.render=function(){var c=this,d=this.config,a=d.id,r=d.angle,i=d.width,o=d.height,_=d.$selected,b=d.$group||_?_?2:1:0,I=this.config.$selected?d.headerColor:"#E4E4E4",O=this.getCoords(this.config),P=[];return Array.isArray(this.config.dir)?this.config.dir.forEach(function(R,N){P.push((0,y.getCircleTpl)(c.config,N))}):P.push((0,y.getCircleTpl)(this.config)),(0,m.el)("div.dhx_diagram_item.dhx_diagram_shape.dhx_diagram_shape_card",{_key:a,"data-dhx-id":a,class:this.getCss(),style:{transform:"rotate(".concat(r||0,"deg)"),position:"absolute",top:O.y,left:O.x,zIndex:b}},x([(0,m.el)("div",{style:{height:o,width:i,border:"1px solid ".concat(I),borderRadius:"1px"}}),(0,y.getHeaderTpl)(this.config),(0,y.getTextTemplate)(this.config,this.getContent())],P,!0))},h.prototype.setDefaults=function(c,d){var a=c.width,r=c.height,i=c.text,o=c.headerColor,l=c.fixed,f=d.width?parseFloat(d.width):140,_=d.height?parseFloat(d.height):90;return c.width=a||f,c.height=r||_,c.text="string"==typeof i?i:d.text||"",c.headerColor=o||d.headerColor||"",c.fixed=l||!1,c.editable="boolean"!=typeof c.editable||c.editable,c},h.prototype.getContent=function(){var c=this.config,d=c.$editable,a=c.text;return(0,m.el)("span.dhx_diagram_item__text",{style:(0,y.getShapeCss)(C(C({},this.config),{textAlign:"center",textVerticalAlign:"center"}))},d?[this.getEditorNode()]:a)},h}(p.BaseShape);E.Card=v},function(ne,E,D){"use strict";var S,T=this&&this.__extends||(S=function(v,u){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,c){h.__proto__=c}||function(h,c){for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(h[d]=c[d])})(v,u)},function(v,u){if("function"!=typeof u&&null!==u)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function h(){this.constructor=v}S(v,u),v.prototype=null===u?Object.create(u):(h.prototype=u.prototype,new h)}),C=this&&this.__spreadArray||function(v,u,h){if(h||2===arguments.length)for(var c,d=0,a=u.length;d<a;d++)!c&&d in u||(c||(c=Array.prototype.slice.call(u,0,d)),c[d]=u[d]);return v.concat(c||Array.prototype.slice.call(u))};Object.defineProperty(E,"__esModule",{value:!0}),E.CustomShape=void 0;var x=D(0),m=D(28),p=D(19),y=function(v){function u(h,c){var d=v.call(this,h,c)||this;return d.shapes=c.shapes,d}return T(u,v),u.prototype.render=function(){var h=this,c=this.config,d=c.id,a=c.angle,r=c.width,i=c.height,l=c.$selected,f=c.$group||l?l?2:1:0,_=this.getCoords(this.config),b=[];return Array.isArray(this.config.dir)?this.config.dir.forEach(function(I,O){b.push((0,p.getCircleTpl)(h.config,O))}):b.push((0,p.getCircleTpl)(this.config)),(0,x.el)("div.dhx_diagram_item.dhx_diagram_shape.dhx_diagram_shape_template",{_key:d,class:this.getCss(),"data-dhx-id":d,style:{transform:"rotate(".concat(a||0,"deg)"),zIndex:f,position:"absolute",height:i,width:r,top:_.y,left:_.x}},C([this._getCustomContent()],b,!0))},u.prototype.setDefaults=function(h,c){Object.keys(c).forEach(function(r){h[r]=h[r]||c[r]});var d=c.width?parseFloat(c.width):140,a=c.height?parseFloat(c.height):90;return h.width=h.width||d,h.height=h.height||a,h.x=h.x||0,h.y=h.y||0,h.fixed=h.fixed||!1,h},u.prototype._getCustomContent=function(){var h=this.config,r=this.shapes[h.type];if("function"==typeof r)return(0,x.el)("div.dhx_diagram_shape__content",{style:{width:h.width,height:h.height}},this._getShapeFromFunction(r))},u.prototype._normalizeConfigText=function(h){var c=this;return Array.isArray(h)?h.forEach(function(d){return c._normalizeConfigText(d)}):"string"==typeof h&&(h.includes("&")&&(h=h.replace(/&/g,"&amp;")),h.includes("<")&&(h=h.replace(/</g,"&lt;")),h.includes(">")&&(h=h.replace(/>/g,"&gt;")),h.includes("'")&&(h=h.replace(/'/g,"&apos;")),h.includes('"')&&(h=h.replace(/"/g,"&quot;"))),h},u.prototype._getShapeFromFunction=function(h){var c=this,d={};Object.entries(this.config).forEach(function(r){var i=r[0],o=r[1];("id"!==i&&"type"!==i&&"preview"!==i&&!i.startsWith("$")&&"string"==typeof o||Array.isArray(o))&&(d[i]=c._normalizeConfigText(o))});var a=(new DOMParser).parseFromString(h(Object.assign({},this.config,d)),"text/xml");return[(0,x.jsonToVDOM)((0,x.xmlToJson)(a))]},u}(m.BaseShape);E.CustomShape=y},function(ne,E,D){"use strict";var S,T=this&&this.__extends||(S=function(u,h){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,d){c.__proto__=d}||function(c,d){for(var a in d)Object.prototype.hasOwnProperty.call(d,a)&&(c[a]=d[a])})(u,h)},function(u,h){if("function"!=typeof h&&null!==h)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");function c(){this.constructor=u}S(u,h),u.prototype=null===h?Object.create(h):(c.prototype=h.prototype,new c)}),C=this&&this.__assign||function(){return C=Object.assign||function(u){for(var h,c=1,d=arguments.length;c<d;c++)for(var a in h=arguments[c])Object.prototype.hasOwnProperty.call(h,a)&&(u[a]=h[a]);return u},C.apply(this,arguments)},x=this&&this.__spreadArray||function(u,h,c){if(c||2===arguments.length)for(var d,a=0,r=h.length;a<r;a++)!d&&a in h||(d||(d=Array.prototype.slice.call(h,0,a)),d[a]=h[a]);return u.concat(d||Array.prototype.slice.call(h))};Object.defineProperty(E,"__esModule",{value:!0}),E.ShapesCollection=void 0;var m=D(1),p=D(8),y=D(27),v=function(u){function h(c,d){var a=u.call(this,c,d)||this;return a._groupChildren={},a._children={},a._roots=[],a.events.on(y.DataEvents.change,function(r,i,o){var l,f=null===(l=o?.$item)||void 0===l?void 0:l.getBaseType();if("default"===a.config.diagramConfig.type)switch(i){case"add":"group"!==f&&"swimlane"!==f||("swimlane"===f&&a._checkSwimlaneCells(o),a._setGroupChildren(o));break;case"update":"group"!==f&&"swimlane"!==f||a._setGroupChildren(o);break;case"remove":"group"!==f&&"swimlane"!==f||a._removeGroupChildren(o)}else"add"===i&&o.parent&&a._addCore({from:o.parent,to:o.id},-1);"remove"===i&&(a._removeNested(o),a._removeCore(o.$parent)),a._mark_chains()}),a.events.on(y.DataEvents.filter,function(){return a._mark_chains()}),a}return T(h,u),h.prototype.getChildren=function(c,d){void 0===d&&(d=!0);var a=this._groupChildren[c]||this._children[c],r=[];if(a&&(r=x(x([],r,!0),a,!0),d))for(var i=0;i<a.length;i++)r=x(x([],r,!0),this.getChildren(a[i].id),!0);return r},h.prototype.eachChild=function(c,d,a){void 0===a&&(a=!0);var r=this._groupChildren[c]||this._children[c];if(r)for(var i=0;i<r.length;i++){var o=r[i];d.call(this,o),(this._groupChildren[o.id]||this._children[o.id])&&a&&this.eachChild(o.id,d)}},h.prototype.eachParent=function(c,d,a){void 0===a&&(a=!1);var r=this.getItem(c);if(r&&!this._roots.includes(c)){a&&d.call(this,r);var i=this.getItem(r.parent||r.$group);d.call(this,i),this.eachParent(r.parent||r.$group,d)}},h.prototype.getNearId=function(c){var d=this._pull[c];if(!d)return this._order.length?this._order[0].id:"";for(var a=d,r=this.config.diagramConfig.type;("org"===r||"mindmap"===r)&&a.$parent;)if(!1===(a=this._pull[this._pull[a.$parent].from]).open)return a.id;return d.id},h.prototype.mapVisible=function(c){var d=this,a=[],r=this.config.diagramConfig.type;if("mindmap"===r||"org"===r)for(var i=this.getRoots(),o=0;o<i.length;o++)this._eachBranch(this.getItem(i[o]),c,a);else this.forEach(function(l){if(!l.hidden){if("line"===l.$item.getBaseType()){var f=d.getItem(l.from)||{},_=d.getItem(l.to)||{};if(f.hidden||_.hidden)return;d._setLineLevel(l,f,_)}a.push(c(l))}});return a},h.prototype.getRoots=function(){return this._roots},h.prototype.getRoot=function(c){if(c&&this.exists(c)){var d=this.getItem(c);return d.$group||d.parent?this.getRoot(d.$group||d.parent):c}},h.prototype.serialize=function(){return this._serialize(x([],u.prototype.serialize.call(this),!0))||[]},h.prototype._serialize=function(c){var d=this;if(c.length)return c.map(function(a){if("object"===(0,m.isType)(a)){var r=C({},a);return Object.entries(r).forEach(function(i){var o=i[0],l=i[1];o.startsWith("$")?delete r[o]:Array.isArray(l)?r[o]=d._serialize(l):"object"===(0,m.isType)(l)&&(r[o]=d._serialize([l])[0])}),r}return a})},h.prototype._removeNested=function(c){var d=this,a=this.config.diagramConfig.type,r=c.$connection,i=c.$group;if("default"===a&&(i&&this._setGroupChildren(this.getItem(i)),"line"===c.$item.getBaseType()&&this.eachChild(c.id,function(l){return d._removeCore(l.id)})),r)for(var o=0;o<r.length;o++)"mindmap"!==a&&"org"!==a||(this._removeNested(this.getItem(r[o][1])),this._removeCore(r[o][1])),this._removeCore(r[o][0]),this.eachChild(r[o][0],function(l){return d._removeCore(l.id)})},h.prototype._eachBranch=function(c,d,a){if(!c.hidden&&(a.push(d(c)),!1!==c.open)){var r=c.$connection;if(r)for(var i=0;i<r.length;i++){var o=this.getItem(r[i][1]);o.hidden||(a.push(d(this.getItem(r[i][0]))),this._eachBranch(o,d,a))}}},h.prototype._parse_data=function(c){for(var d=this,a=[],r=!1,i=0;i<c.length;i++){var o=c[i];o.parent&&!r&&a.push({from:o.parent,to:o.id}),o.from&&(r=!0)}a.length&&!r&&(c=c.concat(a)),u.prototype._parse_data.call(this,c),this._mark_chains(),this.mapVisible(function(l){var f=l?.$item.getBaseType();"group"!==f&&"swimlane"!==f||("swimlane"===f&&d._checkSwimlaneCells(l),d._setGroupChildren(l))})},h.prototype._mark_chains=function(){var c=this;this._roots=[],this._children={};var d={},a={},r={},i={},o={},l=this.config.diagramConfig.type;if(this.forEach(function(_){if("line"===_.$item.getBaseType()){var b=_;a[b.to]=b.id,d[b.from]||(d[b.from]=[]),d[b.from].push([_.id,b.to]),"default"===l&&(d[b.to]||(d[b.to]=[]),d[b.to].push([_.id,b.from])),r[b.to]=b.from}"org"===l&&(_.assistant&&(i[_.parent]||(i[_.parent]=[]),i[_.parent].push(_.id)),_.partner&&(o[_.parent]||(o[_.parent]=[]),o[_.parent].push(_.id)))}),this.forEach(function(_){var b=_.$item.getBaseType(),I=_.id,O=c.config.diagramConfig,P=O.type;_.$typeConfig={type:P,lineConfig:O.lineConfig},"shape"===b&&(_.$connection=d[I]),"default"===P?(_.$group||c._roots.push(I),"lineTitle"===b&&(c._children[_.parent]||(c._children[_.parent]=[]),c._children[_.parent].push(_),_.$item.parent=c.getItem(_.parent))):"shape"===b&&(_.$parent=a[I],_.parent||(_.parent=r[I]),_.parent?(c._children[_.parent]||(c._children[_.parent]=[]),c._children[_.parent].push(_)):c._roots.push(I),i[I]?_.$assistants=i[I]:delete _.$assistants,o[I]?_.$partners={common:o[I]}:delete _.$partners)}),"default"!==l){if("mindmap"===l){var f=this.getItem(this._roots[0]);!(0,m.isEmptyObj)(f?.openDir)&&Object.values(f?.openDir).every(function(_){return!_})&&(f.open=!1)}this._setBranchLevel(this.getItem(this._roots[0]))}},h.prototype._setBranchLevel=function(c,d){if(void 0===d&&(d=0),c){var a=c?.$connection;if(a)for(var r=void 0,i=0;i<a.length;i++)(r=this.getItem(a[i][1])).hidden||(c.$level=d,this._setBranchLevel(r,d+1));c.$level=d++}},h.prototype._setLineLevel=function(c,d,a){if(d||a){var r=0;if(d?.$group&&d?.id){var i=[];this.eachParent(d.id,function(l){return l?.id&&i.push(l.id)}),i.length>r&&(r=i.length)}if(a?.$group&&a?.id){var o=[];this.eachParent(a.id,function(l){return l?.id&&o.push(l.id)}),o.length>r&&(r=o.length)}c.$level=r}else c.$level=0},h.prototype._setGroupChildren=function(c){var d;if(c){if(this._groupChildren[c.id]=[],c.groupChildren||(c.groupChildren=[]),null===(d=c?.layout)||void 0===d?void 0:d.length){var a=new Set(c.layout.flat(1/0));c.groupChildren=Array.from(a)}var r=c.groupChildren;if(Array.isArray(r)&&r.length)for(var i=0;i<r.length;i++){var o=this._pull[r[i]];o&&(o.$group=c.id,this._groupChildren[c.id].push(o),"group"!==o.$item.getBaseType()||this._groupChildren[o.id]||this._setGroupChildren(o))}this._setGroupVisible(c)}},h.prototype._removeGroupChildren=function(c){var d=c.id;if(this._groupChildren[d].length)for(var a=0;a<this._groupChildren[d].length;a++)this.remove(this._groupChildren[d][a].id);delete this._groupChildren[d]},h.prototype._setGroupVisible=function(c){var d=this,r=c.open,i=c.header;this.eachChild(c.id,i?.enable&&i?.closable&&!r?function(o){return d.update(o.id,{hidden:!r},!0)}:function(o){var l,f;null!==(l=d._pull[o.$group])&&void 0!==l&&l.open&&(null===(f=d._pull[o.$group])||void 0===f||!f.hidden)&&d.update(o.id,{hidden:!r},!0)})},h.prototype._checkSwimlaneCells=function(c){for(var d=c.layout,a={},r=0;r<d.length;r++)for(var i=d[r],o=0;o<i.length;o++){var l=i[o];a[l]||this.exists(l)||(a[l]={type:"$sgroup",id:l})}this.add(Object.values(a))},h}(p.DataCollection);E.ShapesCollection=v},function(ne,E,D){"use strict";var S,T,C,x;Object.defineProperty(E,"__esModule",{value:!0}),E.DirVectors=E.Direction=E.LineMode=void 0,(x=T||(E.LineMode=T={}))[x.Direct=1]="Direct",x[x.Edges=2]="Edges",function(x){x[x.Top=1]="Top",x[x.Bottom=2]="Bottom",x[x.Right=3]="Right",x[x.Left=4]="Left"}(C||(E.Direction=C={})),E.DirVectors=((S={})[C.Bottom]={x:0,y:1},S[C.Top]={x:0,y:-1},S[C.Right]={x:1,y:0},S[C.Left]={x:-1,y:0},S)},function(ne,E,D){"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.setHeaderColor=void 0;var S=["#FF9800","#607D8B","#00C7B5","#03A9F4","#9575CD","#F06292"];E.setHeaderColor=function(T){T.forEach(function(C){var x=C.$connection;if(x){var m=T.getItem(x[0][1]).headerColor;C.$expandColor=m||S[(C.$level+1)%S.length]}var p=S[C.$level%S.length];C.partner&&(p=S[(C.$level-1)%S.length]),C.assistant&&(p=S[(C.$level+2)%S.length]),C.stroke=C.stroke||p,C.headerColor=C.headerColor||p})}},function(ne,E,D){"use strict";var S,T=this&&this.__extends||(S=function(c,d){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,r){a.__proto__=r}||function(a,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(a[i]=r[i])})(c,d)},function(c,d){if("function"!=typeof d&&null!==d)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");function a(){this.constructor=c}S(c,d),c.prototype=null===d?Object.create(d):(a.prototype=d.prototype,new a)}),C=this&&this.__assign||function(){return C=Object.assign||function(c){for(var d,a=1,r=arguments.length;a<r;a++)for(var i in d=arguments[a])Object.prototype.hasOwnProperty.call(d,i)&&(c[i]=d[i]);return c},C.apply(this,arguments)},x=this&&this.__spreadArray||function(c,d,a){if(a||2===arguments.length)for(var r,i=0,o=d.length;i<o;i++)!r&&i in d||(r||(r=Array.prototype.slice.call(d,0,i)),r[i]=d[i]);return c.concat(r||Array.prototype.slice.call(d))};Object.defineProperty(E,"__esModule",{value:!0}),E.Swimlane=void 0;var m=D(0),p=D(1),y=D(57),v=D(58),u=D(19),h=function(c){function d(a,r){var i=c.call(this,a,r)||this;return i.subHeaderNearCells={rows:[],cols:[]},i.children={},i}return T(d,c),d.prototype.getBaseType=function(){return"swimlane"},d.prototype.isEditable=function(a){var r,i;if(a){var o=this.getSubHeaderType(a),l=this.config["col"===o?"subHeaderCols":"subHeaderRows"],f=(l?.headers).find(function(_){return a===_.id});return"boolean"==typeof f?.editable?f.editable:l?.editable}return null===(i=null===(r=this.config)||void 0===r?void 0:r.header)||void 0===i?void 0:i.editable},d.prototype.getChildHtmlNodes=function(a,r){return this.removeExtraDefaults(r),this.setExtraDefaults(a,r),c.prototype.getChildHtmlNodes.call(this,a,r)},d.prototype.render=function(a){var r,i=this.config,o=i.id,l=i.header,f=i.open,_=i.$width,b=i.$height,I=i.subHeaderCols,O=i.subHeaderRows,P=a||this.data.getChildren(this.id,!1);r=this.getChildHtmlNodes(this.config,P);var R=!l?.enable||!l?.closable||f;if(r.length||!R){this.setServiceProp(this.config);var N=l?.enable,V=R&&I?.enable,U=R&&O?.enable,B="dhx_diagram_item dhx_diagram_group ";return l?.enable&&(B+="dhx_diagram_group--position_".concat(l.position)),(0,m.el)("div.dhx_diagram_swimlane",{_key:o},[(0,m.el)("div",{"data-dhx-id":o,class:"".concat(B," ").concat(this.getCss()),style:(0,u.getSwimlaneContainerStyle)(this.config,this.getCoords(this.config))},[(0,m.el)("div.dhx_diagram_group__children",x([(0,m.sv)("svg.dhx_diagram_group__children",{xmlns:"http://www.w3.org/2000/svg",reserveAspectRatio:"none",width:_,height:b},this.getChildSvgNodes(this.config,this.data))],r,!0)),N&&this.getGroupHeader(this.config,this.getEditorNode()),V&&this.getSubHeaderNode(this.config,"cols"),U&&this.getSubHeaderNode(this.config,"rows")]),(0,m.el)("div.dhx_diagram_group--background",{style:(0,u.getSwimlaneBackGround)(this.config,this.getCoords(this.config))})])}},d.prototype.setDefaults=function(a){this.setServiceProp(a),c.prototype.setDefaults.call(this,a);var r={fontSize:14,lineHeight:14,textAlign:"center",textVerticalAlign:"center",fontStyle:"normal",fontWeight:"500",fontColor:"#4C4C4C",iconColor:"#808080",editable:!0,fill:"#EEF1F6"};return a.subHeaderRows&&(a.subHeaderRows=C(C({height:40,enable:!0,position:"left"},r),a.subHeaderRows),Array.isArray(a.subHeaderRows.headers)||(a.subHeaderRows.headers=[])),a.subHeaderCols&&(a.subHeaderCols=C(C({height:40,enable:!0,position:"top"},r),a.subHeaderCols),Array.isArray(a.subHeaderCols.headers)||(a.subHeaderCols.headers=[])),a},d.prototype.setExtraDefaults=function(a,r){var i,o,l,f,_,b,I,O,P=a.layout,R=a.height,N=a.width,V=a.header,U=a.x,B=a.y,F=a.subHeaderCols,W=a.subHeaderRows,M=a.style,$=M.stroke,Y=M.strokeWidth,ee={},J=0,Z=0,j=this.getHeaderStates(a),L=j.isHeaderBottom,G=j.isHeaderLeft,X=j.isHeaderRight,ae=j.isHeaderTop,ie=j.isSubHeaderBottom,re=j.isSubHeaderLeft,he=j.isSubHeaderRight,fe=j.isSubHeaderTop,ge=parseFloat(V?.height)||0,ve=parseFloat(W?.height)||0,ye=parseFloat(F?.height)||0;if(R){var we=0;(ae||L)&&(we+=ge),(fe||ie)&&(we+=ye),J=(R-we)/P.length}if(N){we=0,(X||G)&&(we+=ge),(he||re)&&(we+=ve);for(var De=0,Te=0;Te<P.length;Te++){var Ee=P[Te].length;Ee>De&&(De=Ee)}Z=(N-we)/De}this.subHeaderNearCells={rows:[],cols:[]},this.children={};for(var ke=0;ke<r.length;ke++)this.children[r[ke].id]=r[ke];for(ke=0;ke<P.length;ke++)for(var Ae=P[ke],He=0;He<Ae.length;He++){var Le=Ae[He],Ne=ee[Le],q=0!==He&&ee[Ae[He-1]],me=0!==ke&&ee[P[ke-1][He]];if(!Ne&&this.children[Le]){ee[Le]=this.children[Le],ee[Le].height=J,ee[Le].width=Z,ee[Le].$rowCount=1,ee[Le].$colCount=1,0===He?(we=0,G&&(we+=ge),re&&(we+=ve),ee[Le].x=U+we,this.subHeaderNearCells.rows.push(ee[Le])):ee[Le].x=q.x+q.width,0===ke?(we=0,ae&&(we+=ge),fe&&(we+=ye),ee[Le].y=B+we,this.subHeaderNearCells.cols.push(ee[Le])):ee[Le].y=me.y+me.height;var tt=this.subHeaderNearCells.rows.length-1;null!==(i=a?.subHeaderRows)&&void 0!==i&&i.enable&&(!(null===(o=a.subHeaderRows)||void 0===o)&&o.headers[tt]||(a.subHeaderRows.headers[tt]={text:y.default.shapebar.untitled,id:(0,p.uid)()}),null!==(f=null===(l=a.subHeaderRows)||void 0===l?void 0:l.headers[tt])&&void 0!==f&&f.id||(a.subHeaderRows.headers[tt].id=(0,p.uid)()));var Qe=this.subHeaderNearCells.cols.length-1;!(null===(_=a?.subHeaderCols)||void 0===_)&&_.enable&&(!(null===(b=a.subHeaderCols)||void 0===b)&&b.headers[Qe]||(a.subHeaderCols.headers[Qe]={text:y.default.shapebar.untitled,id:(0,p.uid)()}),!(null===(O=null===(I=a.subHeaderCols)||void 0===I?void 0:I.headers[Qe])||void 0===O)&&O.id||(a.subHeaderCols.headers[Qe].id=(0,p.uid)())),ee[Le].style.stroke=$,ee[Le].style.strokeWidth=Y}else Ne&&(q===Ne&&me!==Ne&&(ee[Le].width+=Z,ee[Le].$colCount++),me===Ne&&q!==Ne&&(ee[Le].height+=J,ee[Le].$rowCount++));q&&q!==Ne&&(ee[Le].$borderPosition.left=!0),me&&me!==Ne&&(ee[Le].$borderPosition.top=!0)}ee=null},d.prototype.removeExtraDefaults=function(a){for(var r=0;r<a.length;r++)a[r].$borderPosition={left:!1,top:!1}},d.prototype.getSubHeaderNode=function(a,r){var i,o,l=a.header,f=a.subHeaderCols,_=a.subHeaderRows,b=a.height,I=a.width,O=a.id,P=this.getHeaderStates(a),R=P.isHeaderBottom,N=P.isHeaderLeft,V=P.isHeaderRight,U=P.isHeaderTop,B=P.isSubHeaderBottom,F=P.isSubHeaderLeft,W=P.isSubHeaderRight,M=P.isSubHeaderTop,$=parseFloat(l?.height)||0,Y=parseFloat(_?.height)||0,ee=parseFloat(f?.height)||0,J=0,Z=0,j=0,L=0;"cols"===r&&(Z=ee,J=I,M&&U&&(L=$),B&&(L=b-ee,R&&(L=b-$-ee)),N&&(j=$,J=I-$),V&&(J=I-$)),"rows"===r&&(Z=b,J=Y,F&&N&&(j=$),W&&(j=I-Y,V&&(j=I-Y-$)),U&&(L=$,Z=b-$),R&&(Z=b-$),M&&(L+=ee,Z-=ee),B&&(Z-=ee));for(var G={height:Z,width:J,top:L,left:j},X=this.subHeaderNearCells[r].length,ae="cols"===r?f.headers:_.headers,ie=[],re=0;re<X;re++){var he=ae[re],fe="rows"===r?null===(i=this.subHeaderNearCells.rows[re])||void 0===i?void 0:i.height:"100%",ge="100%";if(he.$subMenu={enable:!0,data:[]},he.$subMenu.enable){var ve="".concat(O,"/").concat(he.id,"/");"cols"===r&&(he.$subMenu.data=[{id:ve+"add_column_left",value:y.default.menuAddColumnLeft,icon:"dxi dxi-table-column-plus-before",add:"left"},{id:ve+"add_column_right",value:y.default.menuAddColumnRight,icon:"dxi dxi-table-column-plus-after",add:"right"},{id:ve+"move_column_left",value:y.default.menuMoveColumnLeft,icon:"dxi dxi-arrow-left",disabled:0===re,move:"left"},{id:ve+"move_column_right",value:y.default.menuMoveColumnRight,icon:"dxi dxi-arrow-right",disabled:re===X-1,move:"right"},{type:"separator"},{id:ve+"remove",value:y.default.menuDeleteCol,icon:"dxi dxi-delete-outline",disabled:1===X,remove:"col"}]),"rows"===r&&(he.$subMenu.data=[{id:ve+"add_row_up",value:y.default.menuAddRowUp,icon:"dxi dxi-table-row-plus-before",add:"up"},{id:ve+"add_row_down",value:y.default.menuAddRowDown,icon:"dxi dxi-table-row-plus-after",add:"down"},{id:ve+"move_row_up",value:y.default.menuMoveRowUp,icon:"dxi dxi-arrow-up",disabled:0===re,move:"up"},{id:ve+"move_row_down",value:y.default.menuMoveRowDown,icon:"dxi dxi-arrow-down",disabled:re===X-1,move:"down"},{type:"separator"},{id:ve+"remove",value:y.default.menuDeleteRow,icon:"dxi dxi-delete-outline",disabled:1===X,remove:"row"}])}"cols"===r&&(ge=null===(o=this.subHeaderNearCells.cols[re])||void 0===o?void 0:o.width,(F&&0===re||W&&re===X-1)&&(ge+=Y)),ie.push(this.getSubHeaderCellNode(C(C({},he),{type:r,index:re,width:ge,height:fe}),this.config,this.getEditorNode()))}return(0,m.el)("div.dhx_diagram_swimlane__subheader.dhx_diagram_swimlane__subheader--position_".concat(r),{style:G},x([],ie,!0))},d.prototype.getSubHeaderCellNode=function(a,r,i){var o=this.getHeaderStates(r),l=o.isSubHeaderLeft,f=o.isSubHeaderTop,_=r.style,b=_.strokeWidth,I=_.stroke,O=a.width,P=a.height,R=a.id,N=a.text,V=a.type,U=a.index,B="cols"===V?r.subHeaderCols:r.subHeaderRows,Z=B.fill,j=B.iconColor,L={lineHeight:a.lineHeight||B.lineHeight,textAlign:a.textAlign||B.textAlign,textVerticalAlign:a.textVerticalAlign||B.textVerticalAlign,fontSize:a.fontSize||B.fontSize,fontColor:a.fontColor||B.fontColor,fontStyle:a.fontStyle||B.fontStyle,fontWeight:a.fontWeight||B.fontWeight},G={width:O,height:P};if("cols"===V){var X=0!==U?", ".concat(b,"px 0px 0px ").concat(I," inset"):"";G.boxShadow="0px ".concat(f?"-":"").concat(b,"px 0px ").concat(I," inset ").concat(X)}if("rows"===V){var ae=0!==U?", 0px ".concat(b,"px 0px ").concat(I," inset"):"";G.boxShadow="".concat(l?"-":"").concat(b,"px 0px 0px ").concat(I," inset ").concat(ae)}return(0,m.el)("div.dhx_diagram_swimlane__subheader_container",{_key:R,subheader_id:R,style:G},[(0,m.el)("div.dhx_diagram_swimlane__subheader_text",{style:C({},(0,u.getTextStyle)(C(C({},L),{container:{width:O,height:P}})))},r.$editable&&this.editableProperty.editableId===R?[i]:N),a.$subMenu.enable&&(0,u.getMenuIcon)({dir:V,color:a.iconColor||j}),(0,m.el)("div",{style:{position:"absolute",width:O,height:P,background:a.fill||Z,zIndex:-1}})])},d.prototype.getHeaderStates=function(a){var r=a.header,i=a.subHeaderRows,o=a.subHeaderCols;return{isHeaderTop:r?.enable&&"top"===r?.position,isHeaderBottom:r?.enable&&"bottom"===r?.position,isHeaderRight:r?.enable&&"right"===r?.position,isHeaderLeft:r?.enable&&"left"===r?.position,isSubHeaderTop:o?.enable&&"top"===o?.position,isSubHeaderBottom:o?.enable&&"bottom"===o?.position,isSubHeaderRight:i?.enable&&"right"===i?.position,isSubHeaderLeft:i?.enable&&"left"===i?.position}},d.prototype.getSubHeaderType=function(a){var r,i,o=this.config,l=o.subHeaderCols,f=o.subHeaderRows,_=f?.enable&&(null===(r=f?.headers)||void 0===r?void 0:r.length),b=l?.enable&&l?.headers.length;return _&&-1!==f.headers.findIndex(function(P){return a===P.id})&&(i="row"),b&&-1!==l.headers.findIndex(function(P){return a===P.id})&&(i="col"),i},d}(v.BaseGroup);E.Swimlane=h},function(ne,E,D){"use strict";var S,T=this&&this.__extends||(S=function(y,v){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,h){u.__proto__=h}||function(u,h){for(var c in h)Object.prototype.hasOwnProperty.call(h,c)&&(u[c]=h[c])})(y,v)},function(y,v){if("function"!=typeof v&&null!==v)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");function u(){this.constructor=y}S(y,v),y.prototype=null===v?Object.create(v):(u.prototype=v.prototype,new u)}),C=this&&this.__spreadArray||function(y,v,u){if(u||2===arguments.length)for(var h,c=0,d=v.length;c<d;c++)!h&&c in v||(h||(h=Array.prototype.slice.call(v,0,c)),h[c]=v[c]);return y.concat(h||Array.prototype.slice.call(v))};Object.defineProperty(E,"__esModule",{value:!0}),E.Group=void 0;var x=D(0),m=D(19),p=function(y){function v(u,h){return y.call(this,u,h)||this}return T(v,y),v.prototype.setDefaults=function(u){return u.width=u.width||300,u.height=u.height||200,this.setServiceProp(u),y.prototype.setDefaults.call(this,u),u},v.prototype.render=function(){this.setServiceProp(this.config);var u=this.config,h=u.id,c=u.header,d=u.$width,a=u.$height,r="dhx_diagram_item dhx_diagram_group ";c?.enable&&(r+="dhx_diagram_group--position_".concat(c.position));var i=this.getChildHtmlNodes(this.config,this.data),o=this.getChildSvgNodes(this.config,this.data);return(0,x.el)("div",{_key:h,"data-dhx-id":h,class:"".concat(r," ").concat(this.getCss()),style:(0,m.getGroupContainerStyle)(this.config,this.getCoords(this.config))},[(0,x.el)("div.dhx_diagram_group__children",C([(0,x.sv)("svg.dhx_diagram_group__children",{xmlns:"http://www.w3.org/2000/svg",reserveAspectRatio:"none",width:d,height:a},o)],i,!0)),c?.enable&&this.getGroupHeader(this.config,this.getEditorNode())])},v}(D(58).BaseGroup);E.Group=p},function(ne,E,D){"use strict";var S,T=this&&this.__extends||(S=function(y,v){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,h){u.__proto__=h}||function(u,h){for(var c in h)Object.prototype.hasOwnProperty.call(h,c)&&(u[c]=h[c])})(y,v)},function(y,v){if("function"!=typeof v&&null!==v)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");function u(){this.constructor=y}S(y,v),y.prototype=null===v?Object.create(v):(u.prototype=v.prototype,new u)}),C=this&&this.__assign||function(){return C=Object.assign||function(y){for(var v,u=1,h=arguments.length;u<h;u++)for(var c in v=arguments[u])Object.prototype.hasOwnProperty.call(v,c)&&(y[c]=v[c]);return y},C.apply(this,arguments)},x=this&&this.__spreadArray||function(y,v,u){if(u||2===arguments.length)for(var h,c=0,d=v.length;c<d;c++)!h&&c in v||(h||(h=Array.prototype.slice.call(v,0,c)),h[c]=v[c]);return y.concat(h||Array.prototype.slice.call(v))};Object.defineProperty(E,"__esModule",{value:!0}),E.GroupSwimlane=void 0;var m=D(0),p=function(y){function v(u,h){var c=y.call(this,u,h)||this;return c.setServiceProp(u),c}return T(v,y),v.prototype.setServiceProp=function(u){var h=u.height,c=u.width,d=u.$borderPosition;u.$captureArea=u.$captureArea||"out",u.$borderPosition=C({left:!1,top:!1},d),u.entryArea.catchArea=25,u.$width=c,u.$height=h},v.prototype.setDefaults=function(u){return y.prototype.setDefaults.call(this,u),delete u.header,u},v.prototype.render=function(){this.setServiceProp(this.config);var u=this.config,h=u.id,c=u.header,d=u.$width,a=u.$height,r="dhx_diagram_item dhx_diagram_group ";c?.enable&&(r+="dhx_diagram_group--position_".concat(c.position," "));var i=this.getChildHtmlNodes(this.config,this.data),o=this.getChildSvgNodes(this.config,this.data);return(0,m.el)("div.dhx_diagram_group_swimlane",{_key:h},[(0,m.el)("div",{"data-dhx-id":h,class:"".concat(r," ").concat(this.getCss()),style:function(l,f){var _,b=l.$width,I=l.$height,P=l.$borderPosition,R=l.style,N=R.overFill,V=R.partiallyFill,U=R.fill,B=R.strokeWidth,F=R.stroke;switch(l.$captureArea){case"over":_=N;break;case"partially":_=V;break;default:_=U}var W=P?.left?B:0,M=P?.top?B:0,$="".concat(W,"px ").concat(M,"px 0px ").concat(F," inset");return{position:"absolute",background:_,width:b,height:I,top:f.y,left:f.x,boxShadow:$}}(this.config,this.getCoords(this.config))},[(0,m.el)("div.dhx_diagram_group__children",x([(0,m.sv)("svg.dhx_diagram_group__children",{xmlns:"http://www.w3.org/2000/svg",reserveAspectRatio:"none",width:d,height:a},o)],i,!0))])])},v}(D(58).BaseGroup);E.GroupSwimlane=p},function(ne,E,D){"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.drag=void 0;var S=function(){function T(){var C=this;this._moveHandler=function(x){var m=x.clientX,p=x.clientY;if("touch"===x.pointerType&&x.preventDefault(),C._handler.onMove&&(Math.abs(m-C._start.x)>5||Math.abs(p-C._start.y)>5)){C._isMove=!0;var y={x:m-C._start.x,y:p-C._start.y};C._handler.onMove(x,y,C._context),C._start.x+=y.x*C._scale,C._start.y+=y.y*C._scale}},this._upHandler=function(x){"touch"===x.pointerType&&x.preventDefault(),document.removeEventListener("pointermove",C._moveHandler),document.removeEventListener("pointerup",C._upHandler),document.body.classList.remove("dhx_noselect"),C._isMove?C._handler.onUp(x):"function"==typeof C._handler.connectOnUp&&C._handler.connectOnUp(x),C._isMove=C._handler=C._start=null}}return T.prototype.start=function(C,x,m,p){this._handler=x,this._context=m,this._scale=p||1,this._start={x:C.clientX,y:C.clientY},document.addEventListener("pointermove",this._moveHandler),document.addEventListener("pointerup",this._upHandler),document.body.classList.add("dhx_noselect")},T}();E.drag=new S},function(ne,E,D){"use strict";var S,T=this&&this.__extends||(S=function(l,f){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,b){_.__proto__=b}||function(_,b){for(var I in b)Object.prototype.hasOwnProperty.call(b,I)&&(_[I]=b[I])})(l,f)},function(l,f){if("function"!=typeof f&&null!==f)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");function _(){this.constructor=l}S(l,f),l.prototype=null===f?Object.create(f):(_.prototype=f.prototype,new _)}),C=this&&this.__assign||function(){return C=Object.assign||function(l){for(var f,_=1,b=arguments.length;_<b;_++)for(var I in f=arguments[_])Object.prototype.hasOwnProperty.call(f,I)&&(l[I]=f[I]);return l},C.apply(this,arguments)};Object.defineProperty(E,"__esModule",{value:!0}),E.BaseDiagramEditor=void 0;var x=D(1),m=D(0),p=D(3),y=D(14),v=D(5),u=D(29),h=D(97),c=D(99),d=D(209),a=D(210),r=D(211),i=D(37),o=function(l){function f(_,b){var I=l.call(this,_,(0,x.extend)({scale:1,grid:!0,gridStep:10,shapeToolbar:!0,defaults:{},resizePoints:!0},b))||this;return I._touch={duration:350},I.version="6.0.1",I.events=new p.EventSystem(I),I._initDiagram(),I._initUI(_),I.history=new c.HistoryManager(I.diagram.data),I.model=new a.CopyManager(I),I._keyManager=new y.KeyManager(function(O,P){return P===I.diagram._uid}),I._setHandlers(),I}return T(f,l),f.prototype.paint=function(){this.view.paint()},f.prototype.parse=function(_){this.diagram.data.parse(_)},f.prototype.serialize=function(){return this.diagram.data.serialize()},f.prototype.zoomIn=function(_){void 0===_&&(_=.05),this.config.scale=this.diagram.config.scale+=_,this.events.fire(i.DiagramEditorEvents.zoomIn,[_]),this.paint()},f.prototype.zoomOut=function(_){void 0===_&&(_=.05),this.config.scale=this.diagram.config.scale=this.config.scale<=_?_:this.config.scale-_,this.events.fire(i.DiagramEditorEvents.zoomOut,[_]),this.paint()},f.prototype.import=function(_){this.diagram.data.parse(_.data.serialize())},f.prototype.destructor=function(){this._keyManager&&this._keyManager.destructor(),this.view&&this.view.destructor(),this.diagram&&this.diagram.destructor(),this.events&&this.events.clear(),this.history.reset(),this.view=this.diagram=this.events=this.history=this.model=this._resizer=this._selectionBox=null,this.unmount()},f.prototype._setHandlers=function(){var _=this;this._initHotkeys(),this.diagram.events.on(u.SelectionEvents.afterUnSelect,function(b){var O=_.diagram.data.getItem(b.id);O?.$connectMode&&(O.$connectMode=!1),_.paint()}),[u.DataEvents.change,u.DataEvents.filter,u.SelectionEvents.afterSelect].forEach(function(b){return _.diagram.events.on(b,function(){return _.paint()})}),[i.DiagramEditorEvents.zoomIn,i.DiagramEditorEvents.zoomOut].forEach(function(b){_.events.on(b,function(){var I=document.getElementById("scaleValue");I&&(I.innerText=(100*_.diagram.config.scale).toFixed(0)+"%")})}),this.diagram.events.on(u.DiagramEvents.emptyAreaMouseDown,function(b){if(_._resizer.connect.removeNearShape(),0===b.button){var I=_.diagram.getRootView().node.el,O=_.getBlockSelectedCoords(b,I);"mouse"===b.pointerType?(_._dragStart(b,I,O),_.paint()):(document.addEventListener("contextmenu",function(P){return P.preventDefault()},{once:!0}),_._touch.timer=setTimeout(function(){_._dragStart(b,I,O)},_._touch.duration),document.addEventListener("pointerup",function(P){P.timeStamp-b.timeStamp<_._touch.duration&&_._clearTouchTimer()},{once:!0}),document.addEventListener("pointermove",function(P){P.timeStamp-b.timeStamp<_._touch.duration&&_._clearTouchTimer()},{once:!0}),_.paint())}}),(0,m.awaitRedraw)().then(function(){_.view.getRootView().node.el.addEventListener("wheel",function(b){(b.ctrlKey||b.metaKey)&&((b.deltaY||b.detail||b.wheelDelta)>0?_.zoomOut():_.zoomIn(),b.preventDefault?b.preventDefault():b.returnValue=!1)})}),this.diagram.events.on(u.DiagramEvents.beforeRender,function(b){return _._diagramSize=b})},f.prototype._initHotkeys=function(){var _=this;this._keyManager.addHotKey("ctrl+a",function(b){if(!_.editbar.isFocused()){b.preventDefault();var I=[];_.diagram.data.forEach(function(N){"default"!==_.config.type&&"line"===N.$item.getBaseType()||I.push(N.id)});for(var O=0,P=I;O<P.length;O++)_.diagram.selection.add({id:P[O],join:!0,batch:I});_.paint()}}),this._keyManager.addHotKey("ctrl+shift+a",function(b){_.editbar.isFocused()||(b.preventDefault(),_.diagram.selection.remove())}),this._keyManager.addHotKey("delete",function(){_.editbar.isFocused()||_._removeSelected()}),this._keyManager.addHotKey("backspace",function(){_.editbar.isFocused()||_.diagram.editor.isEditable()||_._removeSelected()}),this._keyManager.addHotKey("ctrl+z",function(){_.editbar.isFocused()||_.history.undo()}),this._keyManager.addHotKey("ctrl+shift+z",function(){_.editbar.isFocused()||_.history.redo()}),this._keyManager.addHotKey("arrowLeft",function(){_.editbar.isFocused()||_.diagram.selection.getIds().forEach(function(b){var I=_.diagram.data.getItem(b);I.$group||_._moveItem(I,_.config.gridStep,"left")})}),this._keyManager.addHotKey("arrowRight",function(){_.editbar.isFocused()||_.diagram.selection.getIds().forEach(function(b){var I=_.diagram.data.getItem(b);I.$group||_._moveItem(I,_.config.gridStep,"right")})}),this._keyManager.addHotKey("arrowUp",function(){_.editbar.isFocused()||_.diagram.selection.getIds().forEach(function(b){var I=_.diagram.data.getItem(b);I.$group||_._moveItem(I,_.config.gridStep,"up")})}),this._keyManager.addHotKey("arrowDown",function(){_.editbar.isFocused()||_.diagram.selection.getIds().forEach(function(b){var I=_.diagram.data.getItem(b);I.$group||_._moveItem(I,_.config.gridStep,"down")})}),this._keyManager.addHotKey("alt+ctrl+c",function(b){b.preventDefault(),_.editbar.isFocused()||_.model.copyStyles()}),this._keyManager.addHotKey("alt+ctrl+v",function(){_.editbar.isFocused()||_.model.pasteStyles()}),this._keyManager.addHotKey("alt+1",function(){_.view.isVisible("shapebar")?_.view.hide("shapebar"):_.view.show("shapebar")}),this._keyManager.addHotKey("alt+2",function(){_.view.isVisible("editbar")?_.view.hide("editbar"):_.view.show("editbar")}),this._keyManager.addHotKey("alt+3",function(){_.config.grid=!_.config.grid,_.paint()})},f.prototype._getDefaults=function(){var _={};return Object.keys(u.flowShapes).forEach(function(b){return _[b]={}}),_=C(C({},_),{text:{text:"Text"}}),C(C({},_),this.config.defaults)},f.prototype._removeItem=function(_){var b=this.diagram.data.getItem(_);!b||0===b?.$level&&"default"!==this.config.type||(this.diagram.data.remove(_),this._resizer.onUp())},f.prototype._getToolbarConfig=function(_){var I=_.shapeToolbar,O=[];switch(_.type){case"mindmap":O.push.apply(O,(0,r.getMindmapShapeToolbar)(u.locale));break;case"org":O.push.apply(O,(0,r.getOrgShapeToolbar)(u.locale));break;default:O.push.apply(O,(0,r.getDefaultShapeToolbar)(u.locale,this.config))}if("boolean"==typeof I&&I)return O;if(Array.isArray(I)&&I.length){var P=[];return I.forEach(function(R){"boolean"==typeof R&&R&&P.push.apply(P,O);var N=O.find(function(V){return V.id===R});"string"==typeof R&&N&&P.push(N),(0,x.isObject)(R)&&"string"==typeof R?.id&&"string"==typeof R?.content&&P.push(R)}),P}return[]},f.prototype._moveItem=function(_,b,I){var O=this;if(!(arguments.length<3)&&_){var R=_.id,N=_.x,V=_.y,U=_.dx,B=void 0===U?0:U,F=_.dy,W=void 0===F?0:F,M=_.$item.getBaseType();"group"!==M&&"swimlane"!==M||this.diagram.data.eachChild(R,function(Y){switch(I){case"left":if("default"===O.config.type)Y.x=Y.x%b==0?Y.x-b:Math.ceil((Y.x-b)/b)*b;else{var ee=Y.dx||0,J=Y.x;Y.dx=(J+ee)%b==0?B-b:Math.ceil((J+ee-b)/b)*b-J}break;case"right":"default"===O.config.type?Y.x=Y.x%b==0?Y.x+b:Math.floor((Y.x+b)/b)*b:Y.dx=((J=Y.x)+(ee=Y.dx||0))%b==0?ee+b:Math.floor((J+ee+b)/b)*b-J;break;case"up":if("default"===O.config.type)Y.y=Y.y%b==0?Y.x-b:Math.ceil((Y.y-b)/b)*b;else{var Z=Y.dy||0,j=Y.dy||0;Y.dy=(j+Z)%b==0?Z-b:Math.ceil((j+Z-b)/b)*b-j}break;case"down":"default"===O.config.type?Y.y=Y.y%b==0?Y.x+b:Math.floor((Y.y+b)/b)*b:Y.dy=((j=Y.dy||0)+(Z=Y.dy||0))%b==0?Z+b:Math.floor((j+Z+b)/b)*b-j}});var $={};switch(I){case"left":$="default"===this.config.type?{x:N%b==0?N-b:Math.ceil((N-b)/b)*b}:{dx:(N+B)%b==0?B-b:Math.ceil((N+B-b)/b)*b-N};break;case"right":$="default"===this.config.type?{x:N%b==0?N+b:Math.floor((N+b)/b)*b}:{dx:(N+B)%b==0?B+b:Math.floor((N+B+b)/b)*b-N};break;case"up":$="default"===this.config.type?{y:V%b==0?V-b:Math.ceil((V-b)/b)*b}:{dy:(V+W)%b==0?W-b:Math.ceil((V+W-b)/b)*b-V};break;case"down":$="default"===this.config.type?{y:V%b==0?V+b:Math.floor((V+b)/b)*b}:{dy:(V+W)%b==0?W+b:Math.floor((V+W+b)/b)*b-V}}this.diagram.data.update(R,$)}},f.prototype._removeSelected=function(){var _=this,b=this.diagram.selection.getIds();if(b.length)if(1===b.length){var I=this.diagram.selection.getItem();this._removeItem(I.id)}else b.forEach(function(O){return _._removeItem(O)}),this.diagram.selection.remove()},f.prototype._dragStart=function(_,b,I){var O=this;this._selectionBox=new d.SelectionBox(I,this.diagram),h.drag.start(_,{onMove:function(P){O._selectionBox.end=O.getBlockSelectedCoords(P,b),O.paint()},onUp:function(){"touch"===_.pointerType&&O._clearTouchTimer(),O._selectionBox.isValid()&&O._selectionBox.addSelected(),O._selectionBox=null,O.paint()}},null)},f.prototype._clearTouchTimer=function(){this._touch.timer&&(clearTimeout(this._touch.timer),this._touch.timer=null),document.body.classList.remove("dhx_notouch")},f.prototype.getBlockSelectedCoords=function(_,b){var I=b.getBoundingClientRect(),O=this.diagram.config.margin,P=this._diagramSize||{left:-O.x,top:-O.y},R=this.diagram.config.scale,N=b.scrollLeft,V=b.scrollTop;return{x:(_.clientX-I.left+N)/R-O.x+(P.left+O.x),y:(_.clientY-I.top+V)/R-O.y+(P.top+O.y),$rx:_.clientX-I.left+N,$ry:_.clientY-I.top+V}},f}(v.View);E.BaseDiagramEditor=o},function(ne,E,D){"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.HistoryManager=void 0;var S=D(8),T=function(){function C(x){var m=this;this.saveDelay=500,this.disabled=!1,this._data=x,this.reset(),this._data.events.on(S.DataEvents.change,function(p,y){m._inProgress||!y||m.disabled||m.add(m._data.serialize())})}return C.prototype.enable=function(){this.reset(),this.disabled=!1},C.prototype.disable=function(){this.disabled=!0},C.prototype.add=function(x){if(!this.disabled){this._position!==this._state.length-1&&(this._state=this._state.slice(0,this._position+1));var m=this._state.length-1,p=new Date,y={time:p,state:x};p.valueOf()-this._state[m].time.valueOf()>this.saveDelay?(this._state.push(y),this._position++):this._state[m]=y}},C.prototype.reset=function(){this._inProgress||(this._state=[{time:new Date,state:this._data.serialize()}],this._position=0)},C.prototype.undo=function(x){this.isUndo()&&!this.disabled&&(x?(this._position=0,this._state=this._state.slice(0,1)):this._position--,this._apply(this._state[this._position]))},C.prototype.redo=function(){this.isRedo()&&!this.disabled&&(this._position++,this._apply(this._state[this._position]))},C.prototype.isUndo=function(){return this._position>0},C.prototype.isRedo=function(){return this._position+1<=this._state.length-1},C.prototype._apply=function(x){this._inProgress=!0,this._data.parse(JSON.parse(JSON.stringify(x.state))),this._inProgress=!1},C}();E.HistoryManager=T},function(ne,E,D){"use strict";var S=this&&this.__assign||function(){return S=Object.assign||function(u){for(var h,c=1,d=arguments.length;c<d;c++)for(var a in h=arguments[c])Object.prototype.hasOwnProperty.call(h,a)&&(u[a]=h[a]);return u},S.apply(this,arguments)};Object.defineProperty(E,"__esModule",{value:!0}),E.View=void 0;var T=D(101),C=D(16),x=D(212),m=D(214),p=D(215),y=D(216),v=function(){function u(h,c){var d,a,r,i,o,l;this._views={},this._editor=c,this._diagram=c.diagram,this._config=c.config.view,this._isDefault="default"===this._diagram.config.type;var f=this._isDefault?" dhx_editor-default":" dhx_editor-org",_=[{id:"area",css:"dhx_editor_area"},{id:"editbar",width:null!==(d=this._config.editbar.width)&&void 0!==d?d:p.base.editbar.width,css:"dhx_editor_editbar "+((null===(a=this._config.editbar)||void 0===a?void 0:a.css)||""),hidden:!this.isViewEnable("editbar")}];this._isDefault&&_.unshift({id:"shapebar",width:null!==(r=this._config.shapebar.width)&&void 0!==r?r:p.base.shapebar.width,css:"dhx_editor_shapebar "+((null===(i=this._config.shapebar)||void 0===i?void 0:i.css)||""),hidden:!this.isViewEnable("shapebar")}),this._layout=new C.Layout(h,{height:"100%",css:"dhx_editor"+f,rows:[{id:"toolbar",height:"content",css:"dhx_editor_toolbar "+((null===(o=this._config.toolbar)||void 0===o?void 0:o.css)||""),hidden:!this.isViewEnable("toolbar")},{id:"main",css:"dhx_editor__wrapper",cols:_}]}),this.events=this._layout.events,this._toolbar=new x.Toolbar(S({items:this._isDefault?T.defaultToolbarItems:T.orgToolbarItems},this._config.toolbar||{}),this._editor),this._editbar=new y.Editbar(this._layout.getCell("editbar"),this._config.editbar,this._editor),this._views.toolbar=this._toolbar,this._views.editbar=this._editbar,this._isDefault&&(this._shapebar=new m.Shapebar(S(S({},this._config.shapebar||{}),{preview:S({gap:p.base.shapebar.gap,scale:p.base.shapebar.scale},(null===(l=this._config.shapebar)||void 0===l?void 0:l.preview)||{})}),this._editor),this._layout.getCell("shapebar").attach(this._shapebar),this._views.shapebar=this._shapebar),this._layout.getCell("toolbar").attach(this._toolbar),this._layout.getCell("area").attach(this._diagram)}return u.prototype.hide=function(h){var c=this;h&&(h=h.toLocaleLowerCase(),this._views[h])?this._layout.getCell(h).hide():this._layout.forEach(function(d){return c._views[d.id]&&d.hide()})},u.prototype.show=function(h){var c=this;h&&(h=h.toLocaleLowerCase(),this._views[h])?this._layout.getCell(h).show():this._layout.forEach(function(d){return c._views[d.id]&&d.show()})},u.prototype.isVisible=function(h){var c;return null===(c=this._layout.getCell(h?.toLocaleLowerCase()))||void 0===c?void 0:c.isVisible()},u.prototype.getViews=function(){return this._views},u.prototype.paint=function(){this._layout.paint(),this._diagram.paint()},u.prototype.destructor=function(){this._layout.destructor()},u.prototype.getRootView=function(){return this._layout.getRootView()},u.prototype.isViewEnable=function(h){var c,d;return!!(null!==(d=null===(c=this._config[h])||void 0===c?void 0:c.show)&&void 0!==d?d:this._config[h])},u}();E.View=v},function(ne,E,D){"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.meta=E.orgToolbarItems=E.defaultToolbarItems=void 0;var S=D(1),T=D(0);function C(p,y){var v,u;"default"===y.config.type&&y.diagram.autoPlace({root:y.diagram.selection.getIds()[0],placeMode:p,mode:null===(v=y.config.autoplacement)||void 0===v?void 0:v.mode,graphPadding:null===(u=y.config.autoplacement)||void 0===u?void 0:u.graphPadding})}function x(p,y){return!!y&&(!y.dataset.dhxTheme&&"light"===p||y.dataset.dhxTheme===p)}function m(p){(0,T.awaitRedraw)().then(function(){var y=document.getElementById("scaleValue");y&&(y.innerText=(100*p.config.scale).toFixed(0)+"%")})}E.defaultToolbarItems=["file","edit","view","arrange","spacer","scale"],E.orgToolbarItems=["file","edit","view","spacer","scale"],E.meta=function(p,y){return{separator:{type:"separator"},spacer:{type:"spacer"},file:{id:"$file",type:"menuItem",value:p.toolbar.file,items:["importJson","export"]},importJson:{id:"$importJson",value:p.toolbar.importJson,handler:function(v){var u=document.createElement("input");u.type="file",u.setAttribute("accept","application/JSON"),u.onchange=function(h){var c,d=new FileReader;d.onload=function(){v.parse(d.result)},d.readAsText(null===(c=h.target.files)||void 0===c?void 0:c[0])},u.click()}},export:{id:"$export",value:p.toolbar.export,items:["exportJson","exportPdf","exportPng"]},exportJson:{id:"$exportJson",value:p.toolbar.exportJson,handler:function(v){var u=JSON.stringify(v.serialize());(0,S.downloadFile)(u,"data.json","text/json")}},exportPdf:{id:"$exportPdf",value:p.toolbar.exportPdf,handler:function(v){return v.diagram.export.pdf()}},exportPng:{id:"$exportPng",value:p.toolbar.exportPng,handler:function(v){return v.diagram.export.png()}},edit:{id:"$edit",type:"menuItem",value:p.toolbar.edit,items:"default"===y?["undo","redo","separator","duplicate","copy","paste","separator","copyStyle","pasteStyle","separator","selectAll","selectNone"]:["undo","redo","separator","copyStyle","pasteStyle","separator","selectAll","selectNone"]},undo:{id:"$undo",value:p.toolbar.undo,hotkey:(0,S.isMacintosh)()?p.hotkey["CMD+Z"]:p.hotkey["Ctrl+Z"],handler:function(v){return v.history.undo()}},redo:{id:"$redo",value:p.toolbar.redo,hotkey:(0,S.isMacintosh)()?p.hotkey["CMD+Shift+Z"]:p.hotkey["Ctrl+Shift+Z"],handler:function(v){return v.history.redo()}},duplicate:{id:"duplicate",value:p.toolbar.duplicate,hotkey:(0,S.isMacintosh)()?p.hotkey["CMD+D"]:p.hotkey["Ctrl+D"],handler:function(v){v.model.copy(),v.model.paste()}},copy:{id:"$copy",value:p.toolbar.copy,hotkey:(0,S.isMacintosh)()?p.hotkey["CMD+C"]:p.hotkey["Ctrl+C"],handler:function(v){return v.model.copy()}},paste:{id:"$paste",value:p.toolbar.paste,hotkey:(0,S.isMacintosh)()?p.hotkey["CMD+V"]:p.hotkey["Ctrl+V"],handler:function(v){return v.model.paste()}},copyStyle:{id:"$copyStyle",value:p.toolbar.copyStyle,hotkey:(0,S.isMacintosh)()?p.hotkey["CMD+Alt+C"]:p.hotkey["Ctrl+Alt+C"],handler:function(v){return v.model.copyStyles()}},pasteStyle:{id:"$pasteStyle",value:p.toolbar.pasteStyle,hotkey:(0,S.isMacintosh)()?p.hotkey["CMD+Alt+V"]:p.hotkey["Ctrl+Alt+V"],handler:function(v){return v.model.pasteStyles()}},selectAll:{id:"$selectAll",value:p.toolbar.selectAll,hotkey:(0,S.isMacintosh)()?p.hotkey["CMD+A"]:p.hotkey["Ctrl+A"],handler:function(v){var u=[];v.diagram.data.forEach(function(a){"default"!==v.config.type&&"line"===a.$item.getBaseType()||u.push(a.id)});for(var h=0,c=u;h<c.length;h++)v.diagram.selection.add({id:c[h],join:!0,batch:u});v.paint()}},selectNone:{id:"$selectNone",value:p.toolbar.selectNone,hotkey:(0,S.isMacintosh)()?p.hotkey["CMD+Shift+A"]:p.hotkey["Ctrl+Shift+A"],handler:function(v){v.diagram.selection.remove(),v.paint()}},view:{id:"$view",value:p.toolbar.view,type:"menuItem",items:"default"===y?["theme","separator","shapebar","editbar","grid","separator","connectionPoints","resizePoints","magnetic","separator","zoomIn","zoomOut"]:["theme","separator","editbar","separator","grid","separator","resizePoints","itemsDraggable","separator","zoomIn","zoomOut"]},theme:{id:"$theme",value:p.toolbar.theme,items:["themeLight","themeDark","themeLightContrast","themeDarkContrast"]},themeLight:{id:"$themeLight",value:p.toolbar.themeLight,checkIcon:function(v){var u;return x("light",null===(u=v.view)||void 0===u?void 0:u._layout.getRootNode())?"dxi dxi-check":"dxi dxi-empty"},handler:function(v){var u,h=null===(u=v.view)||void 0===u?void 0:u._layout.getRootNode();(0,T.setTheme)("light",h)}},themeDark:{id:"$themeDark",value:p.toolbar.themeDark,checkIcon:function(v){var u;return x("dark",null===(u=v.view)||void 0===u?void 0:u._layout.getRootNode())?"dxi dxi-check":"dxi dxi-empty"},handler:function(v){var u,h=null===(u=v.view)||void 0===u?void 0:u._layout.getRootNode();(0,T.setTheme)("dark",h)}},themeLightContrast:{id:"$themeLightContrast",value:p.toolbar.themeLightContrast,checkIcon:function(v){var u;return x("contrast-light",null===(u=v.view)||void 0===u?void 0:u._layout.getRootNode())?"dxi dxi-check":"dxi dxi-empty"},handler:function(v){var u,h=null===(u=v.view)||void 0===u?void 0:u._layout.getRootNode();(0,T.setTheme)("contrast-light",h)}},themeDarkContrast:{id:"$themeDarkContrast",value:p.toolbar.themeDarkContrast,checkIcon:function(v){var u;return x("contrast-dark",null===(u=v.view)||void 0===u?void 0:u._layout.getRootNode())?"dxi dxi-check":"dxi dxi-empty"},handler:function(v){var u,h=null===(u=v.view)||void 0===u?void 0:u._layout.getRootNode();(0,T.setTheme)("contrast-dark",h)}},shapebar:{id:"$shapebar",value:p.toolbar.shapebar,hotkey:p.hotkey["Alt+1"],checkIcon:function(v){var u;return null!==(u=v.view)&&void 0!==u&&u.isVisible("shapebar")?"dxi dxi-check":"dxi dxi-empty"},handler:function(v){v.view.isVisible("shapebar")?v.view.hide("shapebar"):v.view.show("shapebar")}},editbar:{id:"$editbar",value:p.toolbar.editbar,hotkey:p.hotkey["Alt+2"],checkIcon:function(v){var u;return null!==(u=v.view)&&void 0!==u&&u.isVisible("editbar")?"dxi dxi-check":"dxi dxi-empty"},handler:function(v){v.view.isVisible("editbar")?v.view.hide("editbar"):v.view.show("editbar")}},grid:{id:"$grid",value:p.toolbar.grid,hotkey:p.hotkey["Alt+3"],checkIcon:function(v){return v.config.grid?"dxi dxi-check":"dxi dxi-empty"},handler:function(v){v.config.grid=!v.config.grid,v.paint()}},magnetic:{id:"$magnetic",value:p.toolbar.magnetic,checkIcon:function(v){var u,h;return(null!==(h=null===(u=v.config.magnetic)||void 0===u?void 0:u.show)&&void 0!==h?h:v.config.magnetic)?"dxi dxi-check":"dxi dxi-empty"},handler:function(v){"boolean"==typeof v.config.magnetic&&(v.config.magnetic=!v.config.magnetic),"object"==typeof v.config.magnetic&&(v.config.magnetic.show=!v.config.magnetic.show),v._resizer.setConfig({magnetic:v.config.magnetic}),v.paint()}},connectionPoints:{id:"$connectionPoints",value:p.toolbar.connectionPoints,checkIcon:function(v){return v.config.connectionPoints?"dxi dxi-check":"dxi dxi-empty"},handler:function(v){v.config.connectionPoints=!v.config.connectionPoints,v.diagram.data.forEach(function(u){return u.$connectMode=!1}),v._resizer.setConfig({connectionPoints:v.config.connectionPoints}),v.paint()}},resizePoints:{id:"$resizePoints",value:p.toolbar.resizePoints,checkIcon:function(v){return v.config.resizePoints?"dxi dxi-check":"dxi dxi-empty"},handler:function(v){v.config.resizePoints=!v.config.resizePoints,v._resizer.setConfig({resizePoints:v.config.resizePoints}),v.paint()}},itemsDraggable:{id:"$itemsDraggable",value:p.toolbar.itemsDraggable,checkIcon:function(v){return v.config.itemsDraggable?"dxi dxi-check":"dxi dxi-empty"},handler:function(v){v.config.itemsDraggable=!v.config.itemsDraggable,v.paint()}},zoomIn:{id:"$zoomIn",value:p.toolbar.zoomIn,icon:"dxi dxi-plus",handler:function(v){v.zoomIn(),m(v)},hotkey:(0,S.isMacintosh)()?p.hotkey["CMD+Mousewheel"]:p.hotkey["Ctrl+Mousewheel"]},zoomOut:{id:"$zoomOut",value:p.toolbar.zoomOut,icon:"dxi dxi-minus",handler:function(v){v.zoomOut(),m(v)},hotkey:(0,S.isMacintosh)()?p.hotkey["CMD+Mousewheel"]:p.hotkey["Ctrl+Mousewheel"]},arrange:{id:"$arrange",value:p.toolbar.arrange,type:"menuItem",items:["layout","separator","align","distribute"]},layout:{id:"$layout",value:p.toolbar.layout,items:["layoutMode","separator","layoutOrthogonal","layoutRadial"]},layoutMode:{id:"$layoutMode",value:p.toolbar.layoutMode,items:["layoutModeDirect","layoutModeEdges"]},layoutModeDirect:{id:"$layoutModeDirect",value:p.toolbar.layoutModeDirect,handler:function(v){v.config.autoplacement.mode="direct"},checkIcon:function(v){var u;return"direct"===(null===(u=v.config.autoplacement)||void 0===u?void 0:u.mode)?"dxi dxi-check":"dxi dxi-empty"}},layoutModeEdges:{id:"$layoutModeEdges",value:p.toolbar.layoutModeEdges,handler:function(v){v.config.autoplacement.mode="edges"},checkIcon:function(v){var u;return"edges"===(null===(u=v.config.autoplacement)||void 0===u?void 0:u.mode)?"dxi dxi-check":"dxi dxi-empty"}},layoutOrthogonal:{id:"$layoutOrthogonal",value:p.toolbar.layoutOrthogonal,handler:function(v){return C("orthogonal",v)}},layoutRadial:{id:"$layoutRadial",value:p.toolbar.layoutRadial,handler:function(v){return C("radial",v)}},align:{id:"$align",value:p.toolbar.align,items:["alignHorizontalLeft","alignHorizontalCenter","alignHorizontalRight","separator","alignVerticalTop","alignVerticalCenter","alignVerticalBottom"]},alignHorizontalLeft:{id:"$alignHorizontalLeft",value:p.toolbar.alignHorizontalLeft,handler:function(v){var u=v.diagram.selection.getIds().map(function(h){return v.diagram.data.getItem(h)});v.alignItems(u,-1,"x")}},alignHorizontalCenter:{id:"$alignHorizontalCenter",value:p.toolbar.alignHorizontalCenter,handler:function(v){var u=v.diagram.selection.getIds().map(function(h){return v.diagram.data.getItem(h)});v.alignItems(u,0,"x")}},alignHorizontalRight:{id:"$alignHorizontalRight",value:p.toolbar.alignHorizontalRight,handler:function(v){var u=v.diagram.selection.getIds().map(function(h){return v.diagram.data.getItem(h)});v.alignItems(u,1,"x")}},alignVerticalTop:{id:"$alignVerticalTop",value:p.toolbar.alignVerticalTop,handler:function(v){var u=v.diagram.selection.getIds().map(function(h){return v.diagram.data.getItem(h)});v.alignItems(u,-1,"y")}},alignVerticalCenter:{id:"$alignVerticalCenter",value:p.toolbar.alignVerticalCenter,handler:function(v){var u=v.diagram.selection.getIds().map(function(h){return v.diagram.data.getItem(h)});v.alignItems(u,0,"y")}},alignVerticalBottom:{id:"$alignVerticalBottom",value:p.toolbar.alignVerticalBottom,handler:function(v){var u=v.diagram.selection.getIds().map(function(h){return v.diagram.data.getItem(h)});v.alignItems(u,1,"y")}},distribute:{id:"$distribute",value:p.toolbar.distribute,items:["distributeVertical","distributeHorizontal"]},distributeVertical:{id:"$distributeVertical",value:p.toolbar.distributeVertical,handler:function(v){var u=v.diagram.selection.getIds().map(function(h){return v.diagram.data.getItem(h)});v.distributeItems(u,"y")}},distributeHorizontal:{id:"$distributeHorizontal",value:p.toolbar.distributeHorizontal,handler:function(v){var u=v.diagram.selection.getIds().map(function(h){return v.diagram.data.getItem(h)});v.distributeItems(u,"x")}},scale:{id:"$scale",type:"customHTML",html:'\n\t\t\t<div class="dhx_toolbar_item-scale">\n\t\t\t\t<button class="dhx_toolbar_item-scale__button">\n\t\t\t\t\t<i class="dxi dxi-minus dhx_toolbar_item-scale__button--zoom-out"></i>\n\t\t\t\t</button>\n\t\t\t\t<span id="scaleValue" class="dhx_toolbar_item-scale__text"></span>\n\t\t\t\t<button class="dhx_toolbar_item-scale__button">\n\t\t\t\t\t<i class="dxi dxi-plus dhx_toolbar_item-scale__button--zoom-in"></i>\n\t\t\t\t</button>\n\t\t\t</div>\n\t\t',handler:function(v,u){u.target.classList.contains("dhx_toolbar_item-scale__button--zoom-in")&&v.zoomIn(),u.target.classList.contains("dhx_toolbar_item-scale__button--zoom-out")&&v.zoomOut()},checkIcon:function(v){return m(v)}}}}},function(ne,E,D){"use strict";var S=this&&this.__createBinding||(Object.create?function(C,x,m,p){void 0===p&&(p=m);var y=Object.getOwnPropertyDescriptor(x,m);y&&!("get"in y?!x.__esModule:y.writable||y.configurable)||(y={enumerable:!0,get:function(){return x[m]}}),Object.defineProperty(C,p,y)}:function(C,x,m,p){void 0===p&&(p=m),C[p]=x[m]}),T=this&&this.__exportStar||function(C,x){for(var m in C)"default"===m||Object.prototype.hasOwnProperty.call(x,m)||S(x,C,m)};Object.defineProperty(E,"__esModule",{value:!0}),T(D(103),E),T(D(213),E)},function(ne,E,D){"use strict";var S,T=this&&this.__extends||(S=function(h,c){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,a){d.__proto__=a}||function(d,a){for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(d[r]=a[r])})(h,c)},function(h,c){if("function"!=typeof c&&null!==c)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function d(){this.constructor=h}S(h,c),h.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}),C=this&&this.__assign||function(){return C=Object.assign||function(h){for(var c,d=1,a=arguments.length;d<a;d++)for(var r in c=arguments[d])Object.prototype.hasOwnProperty.call(c,r)&&(h[r]=c[r]);return h},C.apply(this,arguments)};Object.defineProperty(E,"__esModule",{value:!0}),E.Toolbar=void 0;var x=D(1),m=D(0),p=D(2),y=D(21),v=D(30),u=function(h){function c(d,a){var r=h.call(this,d,(0,x.extend)({navigationType:"click",$name:"toolbar"},a))||this;return r._currentRoot=null,r.mount(d,(0,m.create)({render:function(){return r._draw(d)}})),r}return T(c,h),c.prototype.getState=function(d){if(!(0,x.isDefined)(d)||this.data.getItem(d)){var a={};for(var r in this.data.eachChild(this.data.getRoot(),function(i){i.twoState&&!i.group?a[i.id]=i.active:"input"!==i.type&&"selectButton"!==i.type&&"datePicker"!==i.type||(a[i.id]=i.value)},!1),this._groups)this._groups[r].active&&(a[r]=this._groups[r].active);return(0,x.isId)(d)?a[d]:a}},c.prototype.setState=function(d){var a,r=function(l){if(i._groups&&i._groups[l])i._groups[l].active&&(i.data.update(i._groups[l].active,{active:!1}),i._groups[l].active=d[l],i.data.update(d[l],{active:!0}));else{var f=i.data.getItem(l);switch(f.type){case"input":i.data.update(l,{value:d[l]});break;case"selectButton":var _=null===(a=f.items)||void 0===a?void 0:a.find(function(b){return b.value===d[l]});i.data.update(l,{value:d[l],icon:_?.icon});break;case"datePicker":f.$calendar?d[l]?f.$calendar.setValue(d[l]):f.$calendar.clear():i.data.update(l,{value:d[l]});break;default:i.data.update(l,{active:d[l]})}}},i=this;for(var o in d)r(o)},c.prototype.setFocus=function(d){if(this.data.getItem(d)&&"input"===this.data.getItem(d).type){var a=this.getRootNode().querySelector('[data-dhx-id="'.concat(d,'"]'));a&&a.focus()}},c.prototype._customHandlers=function(){var d=this;return{input:function(a){var r=(0,p.locate)(a),i=d.data.getItem(r);if(i){var o=a.target.value;d.data.update(r,{value:o}),"input"===i.type&&d.events.fire(v.NavigationBarEvents.input,[r,o])}},tooltip:function(a){var r=(0,p.locateNode)(a);if(r){var i=r.getAttribute("data-dhx-id"),o=d.data.getItem(i);o?.tooltip&&(0,y.tooltip)(o.tooltip,{node:r,position:y.Position.bottom})}}}},c.prototype._getFactory=function(){return(0,v.createFactory)({widget:this,defaultType:"navItem",allowedTypes:["button","imageButton","selectButton","navItem","menuItem","separator","spacer","title","input","customHTML","datePicker","customHTMLButton"],widgetName:"toolbar"})},c.prototype._draw=function(d){var i,a=this,r=this.data.getLength()?this.data.reduce(function(i,o){switch(o.type){case"title":return i||20;case"button":return"small"===o.size&&(!i||i<=28)?28:i||32;default:return 32}},0)+24:null;return(0,m.el)("nav.dhx_widget.dhx_toolbar",{style:{height:r},class:this.config.css?this.config.css:""},[(0,m.el)("ul.dhx_navbar.dhx_navbar--horizontal",C(C({"data-dhx-widget-id":this._uid,tabindex:0},(i=d,{role:"toolbar","aria-label":i||""})),{onclick:this._handlers.onclick,onmousedown:this._handlers.onmousedown,oninput:this._handlers.input,onmouseover:this._handlers.tooltip,onkeydown:this._handlers.onkeydown,onmousemove:this._handlers.onmousemove,onmouseleave:this._handlers.onmouseleave,_hooks:{didInsert:function(i){i.el.addEventListener("keyup",function(o){if(9===o.which){var l=(0,p.locateNode)(document.activeElement);if(l){var f=l.getAttribute("data-dhx-id"),_=a.data.getItem(f);_?.tooltip&&(0,y.tooltip)(_.tooltip,{node:l,position:y.Position.bottom,force:!0})}}},!0)}}}),this.data.map(function(i){return a._factory(i)},this.data.getRoot(),!1))])},c.prototype._getMode=function(d,a){return d.id===a?"bottom":"right"},c.prototype._close=function(d){this._activePosition=null,this._currentRoot=null,h.prototype._close.call(this,d)},c.prototype._setRoot=function(d){this.data.getParent(d)===this.data.getRoot()&&(this._currentRoot=d)},c}(v.Navbar);E.Toolbar=u},function(ne,E,D){"use strict";(function(S){var T,C=this&&this.__extends||(T=function(ee,J){return(T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Z,j){Z.__proto__=j}||function(Z,j){for(var L in j)Object.prototype.hasOwnProperty.call(j,L)&&(Z[L]=j[L])})(ee,J)},function(ee,J){if("function"!=typeof J&&null!==J)throw new TypeError("Class extends value "+String(J)+" is not a constructor or null");function Z(){this.constructor=ee}T(ee,J),ee.prototype=null===J?Object.create(J):(Z.prototype=J.prototype,new Z)}),x=this&&this.__assign||function(){return x=Object.assign||function(ee){for(var J,Z=1,j=arguments.length;Z<j;Z++)for(var L in J=arguments[Z])Object.prototype.hasOwnProperty.call(J,L)&&(ee[L]=J[L]);return ee},x.apply(this,arguments)},m=this&&this.__rest||function(ee,J){var Z={};for(var j in ee)Object.prototype.hasOwnProperty.call(ee,j)&&J.indexOf(j)<0&&(Z[j]=ee[j]);if(null!=ee&&"function"==typeof Object.getOwnPropertySymbols){var L=0;for(j=Object.getOwnPropertySymbols(ee);L<j.length;L++)J.indexOf(j[L])<0&&Object.prototype.propertyIsEnumerable.call(ee,j[L])&&(Z[j[L]]=ee[j[L]])}return Z},p=this&&this.__spreadArray||function(ee,J,Z){if(Z||2===arguments.length)for(var j,L=0,G=J.length;L<G;L++)!j&&L in J||(j||(j=Array.prototype.slice.call(J,0,L)),j[L]=J[L]);return ee.concat(j||Array.prototype.slice.call(J))};Object.defineProperty(E,"__esModule",{value:!0}),E.Form=void 0;var y=D(3),v=D(5),u=D(16),h=D(1),c=D(218),d=D(219),a=D(105),r=D(220),i=D(41),o=D(221),l=D(223),f=D(224),_=D(225),b=D(226),I=D(227),O=D(6),P=D(106),R=D(235),N=D(236),V=D(241),U=D(242),B=D(243),F=D(110),W=D(244),M=D(4),$=D(0),Y=function(ee){function J(Z,j){var L=ee.call(this,null,(0,h.extend)({disabled:!1,hidden:!1,css:""},j))||this;return L._isValid=!0,L._state={},L.events=new y.EventSystem(L),L.container=Z,L._initUI(Z),L.config.hidden&&L.hide(!0),L.config.disabled&&L.disable(),L.events.on(M.FormEvents.afterShow,function(){L._formContainerShow()}),L.events.on(M.FormEvents.afterHide,function(){Object.values(L._attachments).some(function(G){return!G.config.hidden})||L._formContainerHide()}),(0,$.awaitRedraw)().then(function(){var G=L.layout.getRootNode();G&&(G.setAttribute("role","form"),L.config.title&&G.setAttribute("aria-label",L.config.title))}),L}return C(J,ee),J.prototype.paint=function(){ee.prototype.paint.call(this),this.layout.paint()},J.prototype.send=function(Z,j,L){var G=this;if(void 0===j&&(j="POST"),this.events.fire(M.FormEvents.beforeSend))return new S(function(X,ae){var ie=new XMLHttpRequest;switch(ie.onload=function(){ie.status>=200&&ie.status<300?X(ie.response||ie.responseText):ae({status:ie.status,statusText:ie.statusText})},ie.onloadend=function(){ie.readyState===XMLHttpRequest.DONE&&200===ie.status&&G.events.fire(M.FormEvents.afterSend)},ie.onerror=function(){ae({status:ie.status,statusText:ie.statusText})},"GET"===j&&(Z+="?"+encodeURIComponent(JSON.stringify(G.getValue()))),ie.open(j,Z),L||ie.setRequestHeader("Content-Type","application/json"),j){case"POST":G._send(),ie.send(L?G.getValue(!0):JSON.stringify(G.getValue()));break;case"DELETE":case"PUT":ie.send(L?G.getValue(!0):JSON.stringify(G.getValue()));break;default:ie.send()}})},J.prototype.clear=function(Z){switch(Z){case M.ClearMethod.value:this._clear();break;case M.ClearMethod.validation:this._clearValidate();break;default:this._clear(),this._clearValidate()}this.paint()},J.prototype.setValue=function(Z){for(var j in Z)for(var L in this._attachments)"function"==typeof this._attachments[L].setValue&&this._attachments[L].config.name===j&&this._attachments[L].setValue(Z[j])},J.prototype.getValue=function(Z){if(Z){var j=new FormData,L=function(ae){Array.isArray(G._state[ae])?G._state[ae].forEach(function(ie,re){return j.append(ae+"[".concat(re,"]"),ie)}):j.append(ae,G._state[ae])},G=this;for(var X in this._state)L(X);return j}return x({},this._state)},J.prototype.getItem=function(Z){for(var j in this._attachments)if(j==Z)return this._attachments[j]},J.prototype.validate=function(Z){for(var j in void 0===Z&&(Z=!1),this._isValid=!0,this._attachments)"function"==typeof this._attachments[j].validate&&(0,O.isVerify)(this._attachments[j].config)&&!this._attachments[j].validate(Z)&&(this._isValid=!1,!Z&&this.events.fire(M.FormEvents.validationFail,[j,this._attachments[j]]));return this._isValid},J.prototype.setProperties=function(Z,j){if("string"==typeof Z&&j&&!(0,h.isEmptyObj)(j))for(var L in this._attachments)"function"==typeof this._attachments[L].setProperties&&L===Z&&this._attachments[L].setProperties(j);if("object"==typeof Z&&!(0,h.isEmptyObj)(Z))for(var L in this._attachments)"function"!=typeof this._attachments[L].setProperties||(0,h.isEmptyObj)(Z[L])||this._attachments[L].setProperties(Z[L])},J.prototype.getProperties=function(Z){if(Z)for(var j in this._attachments)if("function"==typeof this._attachments[j].getProperties&&j===Z)return this._attachments[j].getProperties();var L={};for(var j in this._attachments)"function"==typeof this._attachments[j].getProperties&&(L[j]=this._attachments[j].getProperties());return L},J.prototype.show=function(){if(this.config.hidden||Object.values(this._attachments).some(function(j){return!j.config.hidden}))for(var Z in this._formContainerShow(),this._attachments)"function"==typeof this._attachments[Z].show&&this._attachments[Z].show()},J.prototype.hide=function(Z){if(!this.config.hidden||Z)for(var j in this._formContainerHide(),this._attachments)"function"==typeof this._attachments[j].hide&&this._attachments[j].hide(Z)},J.prototype.setFocus=function(Z){for(var j in this._attachments){var L=this._attachments[j];"radiogroup"!==L.config.type&&"checkboxgroup"!==L.config.type||L.focus(Z),L.config.name===Z&&L.focus()}},J.prototype.blur=function(Z){for(var j in Z||this.forEach(function(G){"function"==typeof G.blur&&G.blur()}),this._attachments){var L=this._attachments[j];"radiogroup"!==L.config.type&&"checkboxgroup"!==L.config.type||L.blur(Z),L.config.name===Z&&L.blur()}},J.prototype.isVisible=function(Z){if(!Z)return!this.config.hidden;for(var j in this._attachments)if(j===Z)return!this._attachments[j].config.hidden},J.prototype.disable=function(){for(var Z in this.config.disabled=!0,this._attachments)"function"==typeof this._attachments[Z].disable&&this._attachments[Z].disable()},J.prototype.enable=function(){for(var Z in this.config.disabled=!1,this._attachments)"function"==typeof this._attachments[Z].enable&&this._attachments[Z].enable()},J.prototype.isDisabled=function(Z){if(!Z)return this.config.disabled;for(var j in this._attachments)if(j===Z)return this._attachments[j].config.disabled},J.prototype.forEach=function(Z){for(var j=Object.values(this._attachments),L=0;L<j.length;L++)Z.call(this,j[L],L,j)},J.prototype.destructor=function(){for(var Z in this.unmount(),this._attachments)"function"==typeof this._attachments[Z].destructor&&this._attachments[Z].destructor();this.events&&this.events.clear(),this.layout&&this.layout.destructor(),this.config=this._attachments=this._state=this._uid=this.container=this.events=this._isValid=null},J.prototype.getRootView=function(){return this.layout.getRootView()},J.prototype._addLayoutItem=function(Z){var j=Z.id=Z.id||(0,h.uid)(),L=Z.name=Z.name||j.toString();Z.type=Z.type&&Z.type.toLowerCase();var G=Z.padding,X=m(Z,["padding"]),ae=Z.width,ie=Z.height;switch("spacer"!==Z.type&&!ie&&(ie="content"),X.type){case"button":case"togglegroup":ae=X.width||!X.full&&"content";break;case"simplevault":X.$vaultHeight=ie}this._initItemHandlers(Z,L);var re={id:L,width:ae,height:ie,padding:G,hidden:X.hidden,css:this.getCellCSS(X)};return"fieldset"===Z.type&&(re.$fieldset=!0,re.label=Z.label,re.labelAlignment=Z.labelAlignment,this._createLayoutConfig(Z,re)),re},J.prototype._initItemHandlers=function(Z,j){var L=this;switch(Z.type){case"avatar":var G=this._attachments[j]=new U.Avatar(null,Z);this._state[j]=G.getValue(),G.events.on(M.ItemEvent.beforeChange,function(q){return L.events.fire(M.FormEvents.beforeChange,[j,q])}),G.events.on(M.ItemEvent.change,function(q){L._state[j]=q,L.events.fire(M.FormEvents.change,[j,q])}),G.events.on(M.ItemEvent.beforeHide,function(q,me){if(!me)return L.events.fire(M.FormEvents.beforeHide,[j,q])}),G.events.on(M.ItemEvent.beforeShow,function(q){return L.events.fire(M.FormEvents.beforeShow,[j,q])}),G.events.on(M.ItemEvent.afterHide,function(q,me){L.layout.getCell(j).hide(),!me&&L.events.fire(M.FormEvents.afterHide,[j,q])}),G.events.on(M.ItemEvent.afterShow,function(q){L.layout.getCell(j).show(),L.events.fire(M.FormEvents.afterShow,[j,q])}),G.events.on(M.ItemEvent.beforeValidate,function(q){return L.events.fire(M.FormEvents.beforeValidate,[j,q])}),G.events.on(M.ItemEvent.afterValidate,function(q,me){L.events.fire(M.FormEvents.afterValidate,[j,q,me])}),G.events.on(M.ItemEvent.beforeChangeProperties,function(q){return L.events.fire(M.FormEvents.beforeChangeProperties,[j,q])}),G.events.on(M.ItemEvent.afterChangeProperties,function(q){L._changeProps(j,q,G.config),L.events.fire(M.FormEvents.afterChangeProperties,[j,q]),L.paint()}),G.events.on(M.ItemEvent.focus,function(q){L.events.fire(M.FormEvents.focus,[j,q])}),G.events.on(M.ItemEvent.blur,function(q){L.events.fire(M.FormEvents.blur,[j,q])}),G.events.on(M.ItemEvent.keydown,function(q){L.events.fire(M.FormEvents.keydown,[q,j])});break;case"toggle":var X=this._attachments[j]=new F.ToggleButton(null,Z);this._state[j]=X.getValue(),X.events.on(M.ItemEvent.beforeChange,function(q){return L.events.fire(M.FormEvents.beforeChange,[j,q])}),X.events.on(M.ItemEvent.change,function(q){L._state[j]=q,L.events.fire(M.FormEvents.change,[j,q])}),X.events.on(M.ItemEvent.beforeHide,function(q,me){if(!me)return L.events.fire(M.FormEvents.beforeHide,[j,q])}),X.events.on(M.ItemEvent.beforeShow,function(q){return L.events.fire(M.FormEvents.beforeShow,[j,q])}),X.events.on(M.ItemEvent.afterHide,function(q,me){L.layout.getCell(j).hide(),!me&&L.events.fire(M.FormEvents.afterHide,[j,q])}),X.events.on(M.ItemEvent.afterShow,function(q){L.layout.getCell(j).show(),L.events.fire(M.FormEvents.afterShow,[j,q])}),X.events.on(M.ItemEvent.beforeChangeProperties,function(q){return L.events.fire(M.FormEvents.beforeChangeProperties,[j,q])}),X.events.on(M.ItemEvent.afterChangeProperties,function(q){L._changeProps(j,q,X.config),L.events.fire(M.FormEvents.afterChangeProperties,[j,q]),L.paint()}),X.events.on(M.ItemEvent.focus,function(q){L.events.fire(M.FormEvents.focus,[j,q])}),X.events.on(M.ItemEvent.blur,function(q){L.events.fire(M.FormEvents.blur,[j,q])}),X.events.on(M.ItemEvent.keydown,function(q){L.events.fire(M.FormEvents.keydown,[q,j])});break;case"togglegroup":var ae=this._attachments[j]=new W.ToggleGroup(null,Z);this._state[j]=ae.getValue(),ae.events.on(M.ItemEvent.beforeChange,function(q){return L.events.fire(M.FormEvents.beforeChange,[j,q])}),ae.events.on(M.ItemEvent.change,function(q){L._state[j]=q,L.events.fire(M.FormEvents.change,[j,q])}),ae.events.on(M.ItemEvent.beforeHide,function(q,me,tt){if(!tt)return L.events.fire(M.FormEvents.beforeHide,[j,q,me])}),ae.events.on(M.ItemEvent.beforeShow,function(q,me){return L.events.fire(M.FormEvents.beforeShow,[j,q,me])}),ae.events.on(M.ItemEvent.afterHide,function(q,me,tt){!ae.isVisible()&&L.layout.getCell(j).hide(),!tt&&L.events.fire(M.FormEvents.afterHide,[j,q,me])}),ae.events.on(M.ItemEvent.afterShow,function(q,me){L.layout.getCell(j).show(),L.events.fire(M.FormEvents.afterShow,[j,q,me])}),ae.events.on(M.ItemEvent.beforeChangeProperties,function(q){return L.events.fire(M.FormEvents.beforeChangeProperties,[j,q])}),ae.events.on(M.ItemEvent.afterChangeProperties,function(q){L._changeProps(j,q,ae.config),L.events.fire(M.FormEvents.afterChangeProperties,[j,q]),L.paint()}),ae.events.on(M.ItemEvent.focus,function(q,me){L.events.fire(M.FormEvents.focus,[j,q,me])}),ae.events.on(M.ItemEvent.blur,function(q,me){L.events.fire(M.FormEvents.blur,[j,q,me])}),ae.events.on(M.ItemEvent.keydown,function(q,me){L.events.fire(M.FormEvents.keydown,[q,j,me])});break;case"button":var ie=this._attachments[j]=new d.Button(null,Z);ie.events.on(M.ItemEvent.beforeChangeProperties,function(q){return L.events.fire(M.FormEvents.beforeChangeProperties,[j,q])}),ie.events.on(M.ItemEvent.afterChangeProperties,function(q){L._changeProps(j,q,ie.config),L.events.fire(M.FormEvents.afterChangeProperties,[j,q]),L.paint()}),ie.events.on(M.ItemEvent.click,function(q){q.preventDefault(),L.events.fire(M.FormEvents.click,[j,q]),L.events.fire(M.FormEvents.buttonClick,[j,q]),ie.config.submit&&L.validate()&&ie.config.url&&L.send(ie.config.url)}),ie.events.on(M.ItemEvent.beforeHide,function(q,me){if(!me)return L.events.fire(M.FormEvents.beforeHide,[j,q])}),ie.events.on(M.ItemEvent.beforeShow,function(q){return L.events.fire(M.FormEvents.beforeShow,[j,q])}),ie.events.on(M.ItemEvent.afterHide,function(q,me){L.layout.getCell(j).hide(),!me&&L.events.fire(M.FormEvents.afterHide,[j,q])}),ie.events.on(M.ItemEvent.afterShow,function(q){L.layout.getCell(j).show(),L.events.fire(M.FormEvents.afterShow,[j,q])}),ie.events.on(M.ItemEvent.focus,function(q){L.events.fire(M.FormEvents.focus,[j,q])}),ie.events.on(M.ItemEvent.blur,function(q){L.events.fire(M.FormEvents.blur,[j,q])}),ie.events.on(M.ItemEvent.keydown,function(q){L.events.fire(M.FormEvents.keydown,[q,j])});break;case"datepicker":var re=this._attachments[j]=new c.DatePicker(null,Z);this._state[j]=re.getValue("Date"===Z.valueFormat),re.events.on(M.ItemEvent.beforeChangeProperties,function(q){return L.events.fire(M.FormEvents.beforeChangeProperties,[j,q])}),re.events.on(M.ItemEvent.afterChangeProperties,function(q){L._changeProps(j,q,re.config),L._state[j]=re.getValue("Date"===Z.valueFormat),L.events.fire(M.FormEvents.afterChangeProperties,[j,q]),L.paint()}),re.events.on(M.ItemEvent.beforeChange,function(q){return L.events.fire(M.FormEvents.beforeChange,[j,q])}),re.events.on(M.ItemEvent.change,function(q){L._state[j]=q,L.events.fire(M.FormEvents.change,[j,q])}),re.events.on(M.ItemEvent.beforeHide,function(q,me){if(!me)return L.events.fire(M.FormEvents.beforeHide,[j,q])}),re.events.on(M.ItemEvent.beforeShow,function(q){return L.events.fire(M.FormEvents.beforeShow,[j,q])}),re.events.on(M.ItemEvent.afterHide,function(q,me){L.layout.getCell(j).hide(),!me&&L.events.fire(M.FormEvents.afterHide,[j,q])}),re.events.on(M.ItemEvent.afterShow,function(q){L.layout.getCell(j).show(),L.events.fire(M.FormEvents.afterShow,[j,q])}),re.events.on(M.ItemEvent.beforeValidate,function(q){return L.events.fire(M.FormEvents.beforeValidate,[j,q])}),re.events.on(M.ItemEvent.afterValidate,function(q,me){L.events.fire(M.FormEvents.afterValidate,[j,q,me])}),re.events.on(M.ItemEvent.focus,function(q){L.events.fire(M.FormEvents.focus,[j,q])}),re.events.on(M.ItemEvent.blur,function(q){L.events.fire(M.FormEvents.blur,[j,q])}),re.events.on(M.ItemEvent.keydown,function(q){L.events.fire(M.FormEvents.keydown,[q,j])});break;case"checkbox":var he=this._attachments[j]=new a.Checkbox(null,Z);this._state[j]=he.getValue(),he.events.on(M.ItemEvent.beforeChangeProperties,function(q){return L.events.fire(M.FormEvents.beforeChangeProperties,[j,q])}),he.events.on(M.ItemEvent.afterChangeProperties,function(q){L._changeProps(j,q,he.config),L._state[j]=he.getValue(),L.events.fire(M.FormEvents.afterChangeProperties,[j,q]),L.paint()}),he.events.on(M.ItemEvent.beforeChange,function(q){return L.events.fire(M.FormEvents.beforeChange,[j,q])}),he.events.on(M.ItemEvent.change,function(q){L._state[j]=q,L.events.fire(M.FormEvents.change,[j,q])}),he.events.on(M.ItemEvent.beforeHide,function(q,me){if(!me)return L.events.fire(M.FormEvents.beforeHide,[j,q])}),he.events.on(M.ItemEvent.beforeShow,function(q){return L.events.fire(M.FormEvents.beforeShow,[j,q])}),he.events.on(M.ItemEvent.afterHide,function(q,me){L.layout.getCell(j).hide(),!me&&L.events.fire(M.FormEvents.afterHide,[j,q])}),he.events.on(M.ItemEvent.afterShow,function(q){L.layout.getCell(j).show(),L.events.fire(M.FormEvents.afterShow,[j,q])}),he.events.on(M.ItemEvent.beforeValidate,function(q){return L.events.fire(M.FormEvents.beforeValidate,[j,q])}),he.events.on(M.ItemEvent.afterValidate,function(q,me){L.events.fire(M.FormEvents.afterValidate,[j,q,me])}),he.events.on(M.ItemEvent.focus,function(q){L.events.fire(M.FormEvents.focus,[j,q])}),he.events.on(M.ItemEvent.blur,function(q){L.events.fire(M.FormEvents.blur,[j,q])}),he.events.on(M.ItemEvent.keydown,function(q){L.events.fire(M.FormEvents.keydown,[q,j])});break;case"checkboxgroup":var fe=this._attachments[j]=new r.CheckboxGroup(null,Z);this._state[j]=fe.getValue(),fe.events.on(M.ItemEvent.beforeChangeProperties,function(q){return L.events.fire(M.FormEvents.beforeChangeProperties,[j,q])}),fe.events.on(M.ItemEvent.afterChangeProperties,function(q){L._changeProps(j,q,fe.config),L._state[j]=fe.getValue(),L.events.fire(M.FormEvents.afterChangeProperties,[j,q]),L.paint()}),fe.events.on(M.ItemEvent.beforeChange,function(q){return L.events.fire(M.FormEvents.beforeChange,[j,q])}),fe.events.on(M.ItemEvent.change,function(q){L._state[j]=q,L.events.fire(M.FormEvents.change,[j,q])}),fe.events.on(M.ItemEvent.beforeHide,function(q,me,tt){if(!tt)return L.events.fire(M.FormEvents.beforeHide,[j,q,me])}),fe.events.on(M.ItemEvent.beforeShow,function(q,me){return L.events.fire(M.FormEvents.beforeShow,[j,q,me])}),fe.events.on(M.ItemEvent.afterHide,function(q,me,tt){!fe.isVisible()&&L.layout.getCell(j).hide(),!tt&&L.events.fire(M.FormEvents.afterHide,[j,q,me])}),fe.events.on(M.ItemEvent.afterShow,function(q,me){L.layout.getCell(j).show(),L.events.fire(M.FormEvents.afterShow,[j,q,me])}),fe.events.on(M.ItemEvent.beforeValidate,function(q){return L.events.fire(M.FormEvents.beforeValidate,[j,q])}),fe.events.on(M.ItemEvent.afterValidate,function(q,me){L.events.fire(M.FormEvents.afterValidate,[j,q,me])}),fe.events.on(M.ItemEvent.focus,function(q,me){L.events.fire(M.FormEvents.focus,[j,q,me])}),fe.events.on(M.ItemEvent.blur,function(q,me){L.events.fire(M.FormEvents.blur,[j,q,me])}),fe.events.on(M.ItemEvent.keydown,function(q,me){L.events.fire(M.FormEvents.keydown,[q,j,me])});break;case"combo":var ge=this._attachments[j]=new b.Combo(null,Z);this._state[j]=ge.getValue(),ge.events.on(M.ItemEvent.beforeChangeProperties,function(q){return L.events.fire(M.FormEvents.beforeChangeProperties,[j,q])}),ge.events.on(M.ItemEvent.afterChangeProperties,function(q){L._changeProps(j,q,ge.config),L._state[j]=ge.getValue(),L.events.fire(M.FormEvents.afterChangeProperties,[j,q]),L.paint()}),ge.events.on(M.ItemEvent.beforeChange,function(q){return L.events.fire(M.FormEvents.beforeChange,[j,q])}),ge.events.on(M.ItemEvent.change,function(q){L._state[j]=q,L.events.fire(M.FormEvents.change,[j,q])}),ge.events.on(M.ItemEvent.beforeHide,function(q,me){if(!me)return L.events.fire(M.FormEvents.beforeHide,[j,q])}),ge.events.on(M.ItemEvent.beforeShow,function(q){return L.events.fire(M.FormEvents.beforeShow,[j,q])}),ge.events.on(M.ItemEvent.afterHide,function(q,me){L.layout.getCell(j).hide(),!me&&L.events.fire(M.FormEvents.afterHide,[j,q])}),ge.events.on(M.ItemEvent.afterShow,function(q){L.layout.getCell(j).show(),L.events.fire(M.FormEvents.afterShow,[j,q])}),ge.events.on(M.ItemEvent.beforeValidate,function(q){return L.events.fire(M.FormEvents.beforeValidate,[j,q])}),ge.events.on(M.ItemEvent.afterValidate,function(q,me){L.events.fire(M.FormEvents.afterValidate,[j,q,me])}),ge.events.on(M.ItemEvent.focus,function(q){L.events.fire(M.FormEvents.focus,[j,q])}),ge.events.on(M.ItemEvent.blur,function(q){L.events.fire(M.FormEvents.blur,[j,q])}),ge.events.on(M.ItemEvent.keydown,function(q,me){L.events.fire(M.FormEvents.keydown,[q,j,me])});break;case"input":var ve=this._attachments[j]=new i.Input(null,Z);this._state[j]=ve.getValue(),ve.events.on(M.ItemEvent.beforeChangeProperties,function(q){return L.events.fire(M.FormEvents.beforeChangeProperties,[j,q])}),ve.events.on(M.ItemEvent.afterChangeProperties,function(q){L._changeProps(j,q,ve.config),L._state[j]=ve.getValue(),L.events.fire(M.FormEvents.afterChangeProperties,[j,q]),L.paint()}),ve.events.on(M.ItemEvent.beforeChange,function(q){return L.events.fire(M.FormEvents.beforeChange,[j,q])}),ve.events.on(M.ItemEvent.change,function(q){L._state[j]=q,L.events.fire(M.FormEvents.change,[j,q])}),ve.events.on(M.ItemEvent.beforeHide,function(q,me){if(!me)return L.events.fire(M.FormEvents.beforeHide,[j,q])}),ve.events.on(M.ItemEvent.beforeShow,function(q){return L.events.fire(M.FormEvents.beforeShow,[j,q])}),ve.events.on(M.ItemEvent.afterHide,function(q,me){L.layout.getCell(j).hide(),!me&&L.events.fire(M.FormEvents.afterHide,[j,q])}),ve.events.on(M.ItemEvent.afterShow,function(q){L.layout.getCell(j).show(),L.events.fire(M.FormEvents.afterShow,[j,q])}),ve.events.on(M.ItemEvent.beforeValidate,function(q){return L.events.fire(M.FormEvents.beforeValidate,[j,q])}),ve.events.on(M.ItemEvent.afterValidate,function(q,me){L.events.fire(M.FormEvents.afterValidate,[j,q,me])}),ve.events.on(M.ItemEvent.focus,function(q){L.events.fire(M.FormEvents.focus,[j,q])}),ve.events.on(M.ItemEvent.blur,function(q){L.events.fire(M.FormEvents.blur,[j,q])}),ve.events.on(M.ItemEvent.keydown,function(q){L.events.fire(M.FormEvents.keydown,[q,j])});break;case"radiogroup":var ye=this._attachments[j]=new o.RadioGroup(null,Z);this._state[j]=ye.getValue(),ye.events.on(M.ItemEvent.beforeChangeProperties,function(q){return L.events.fire(M.FormEvents.beforeChangeProperties,[j,q])}),ye.events.on(M.ItemEvent.afterChangeProperties,function(q){L._changeProps(j,q,ye.config),L._state[j]=ye.getValue(),L.events.fire(M.FormEvents.afterChangeProperties,[j,q]),L.paint()}),ye.events.on(M.ItemEvent.beforeChange,function(q){return L.events.fire(M.FormEvents.beforeChange,[j,q])}),ye.events.on(M.ItemEvent.change,function(q){L._state[j]=q,L.events.fire(M.FormEvents.change,[j,q])}),ye.events.on(M.ItemEvent.beforeHide,function(q,me,tt){if(!tt)return L.events.fire(M.FormEvents.beforeHide,[j,q,me])}),ye.events.on(M.ItemEvent.beforeShow,function(q,me){return L.events.fire(M.FormEvents.beforeShow,[j,q,me])}),ye.events.on(M.ItemEvent.afterHide,function(q,me,tt){!ye.isVisible()&&L.layout.getCell(j).hide(),!tt&&L.events.fire(M.FormEvents.afterHide,[j,q,me])}),ye.events.on(M.ItemEvent.afterShow,function(q,me){L.layout.getCell(j).show(),L.events.fire(M.FormEvents.afterShow,[j,q,me])}),ye.events.on(M.ItemEvent.beforeValidate,function(q){return L.events.fire(M.FormEvents.beforeValidate,[j,q])}),ye.events.on(M.ItemEvent.afterValidate,function(q,me){L.events.fire(M.FormEvents.afterValidate,[j,q,me])}),ye.events.on(M.ItemEvent.focus,function(q,me){L.events.fire(M.FormEvents.focus,[j,q,me])}),ye.events.on(M.ItemEvent.blur,function(q,me){L.events.fire(M.FormEvents.blur,[j,q,me])}),ye.events.on(M.ItemEvent.keydown,function(q,me){L.events.fire(M.FormEvents.keydown,[q,j,me])});break;case"select":var we=this._attachments[j]=new l.Select(null,Z);this._state[j]=we.getValue(),we.events.on(M.ItemEvent.beforeChangeProperties,function(q){return L.events.fire(M.FormEvents.beforeChangeProperties,[j,q])}),we.events.on(M.ItemEvent.afterChangeProperties,function(q){L._changeProps(j,q,we.config),L._state[j]=we.getValue(),L.events.fire(M.FormEvents.afterChangeProperties,[j,q]),L.paint()}),we.events.on(M.ItemEvent.changeOptions,function(q){L.layout.getCell(j).config.options=p([],q,!0)}),we.events.on(M.ItemEvent.beforeChange,function(q){return L.events.fire(M.FormEvents.beforeChange,[j,q])}),we.events.on(M.ItemEvent.change,function(q){L._state[j]=q,L.events.fire(M.FormEvents.change,[j,q])}),we.events.on(M.ItemEvent.beforeHide,function(q,me){if(!me)return L.events.fire(M.FormEvents.beforeHide,[j,q])}),we.events.on(M.ItemEvent.beforeShow,function(q){return L.events.fire(M.FormEvents.beforeShow,[j,q])}),we.events.on(M.ItemEvent.afterHide,function(q,me){L.layout.getCell(j).hide(),!me&&L.events.fire(M.FormEvents.afterHide,[j,q])}),we.events.on(M.ItemEvent.afterShow,function(q){L.layout.getCell(j).show(),L.events.fire(M.FormEvents.afterShow,[j,q])}),we.events.on(M.ItemEvent.beforeValidate,function(q){return L.events.fire(M.FormEvents.beforeValidate,[j,q])}),we.events.on(M.ItemEvent.afterValidate,function(q,me){L.events.fire(M.FormEvents.afterValidate,[j,q,me])}),we.events.on(M.ItemEvent.focus,function(q){L.events.fire(M.FormEvents.focus,[j,q])}),we.events.on(M.ItemEvent.blur,function(q){L.events.fire(M.FormEvents.blur,[j,q])}),we.events.on(M.ItemEvent.keydown,function(q){L.events.fire(M.FormEvents.keydown,[q,j])});break;case"simplevault":var De=this._attachments[j]=new P.SimpleVault(null,Z);this._state[j]=De.getValue(),De.events.on(M.ItemEvent.beforeChangeProperties,function(q){return L.events.fire(M.FormEvents.beforeChangeProperties,[j,q])}),De.events.on(M.ItemEvent.afterChangeProperties,function(q){L._changeProps(j,q,De.config),L._state[j]=De.getValue(),L.events.fire(M.FormEvents.afterChangeProperties,[j,q]),L.paint()}),De.events.on(M.ItemEvent.beforeChange,function(q){return L.events.fire(M.FormEvents.beforeChange,[j,q])}),De.events.on(M.ItemEvent.change,function(q){L._state[j]=q,L.events.fire(M.FormEvents.change,[j,q])}),De.events.on(M.ItemEvent.beforeHide,function(q,me){if(!me)return L.events.fire(M.FormEvents.beforeHide,[j,q])}),De.events.on(M.ItemEvent.beforeShow,function(q){return L.events.fire(M.FormEvents.beforeShow,[j,q])}),De.events.on(M.ItemEvent.afterHide,function(q,me){L.layout.getCell(j).hide(),!me&&L.events.fire(M.FormEvents.afterHide,[j,q])}),De.events.on(M.ItemEvent.afterShow,function(q){L.layout.getCell(j).show(),L.events.fire(M.FormEvents.afterShow,[j,q])}),De.events.on(M.ItemEvent.beforeValidate,function(q){return L.events.fire(M.FormEvents.beforeValidate,[j,q])}),De.events.on(M.ItemEvent.afterValidate,function(q,me){L.events.fire(M.FormEvents.afterValidate,[j,q,me])});break;case"slider":var Te=this._attachments[j]=new I.SliderForm(null,Z);this._state[j]=Te.getValue(),Te.events.on(M.ItemEvent.beforeChange,function(q){return L.events.fire(M.FormEvents.beforeChange,[j,q])}),Te.events.on(M.ItemEvent.change,function(q){L._state[j]=q,L.events.fire(M.FormEvents.change,[j,q])}),Te.events.on(M.ItemEvent.beforeHide,function(q,me){if(!me)return L.events.fire(M.FormEvents.beforeHide,[j,q])}),Te.events.on(M.ItemEvent.beforeShow,function(q){return L.events.fire(M.FormEvents.beforeShow,[j,q])}),Te.events.on(M.ItemEvent.afterHide,function(q,me){L.layout.getCell(j).hide(),!me&&L.events.fire(M.FormEvents.afterHide,[j,q])}),Te.events.on(M.ItemEvent.afterShow,function(q){L.layout.getCell(j).show(),L.events.fire(M.FormEvents.afterShow,[j,q])}),Te.events.on(M.ItemEvent.focus,function(q){L.events.fire(M.FormEvents.focus,[j,q])}),Te.events.on(M.ItemEvent.blur,function(q){L.events.fire(M.FormEvents.blur,[j,q])}),Te.events.on(M.ItemEvent.keydown,function(q){L.events.fire(M.FormEvents.keydown,[q,j])});break;case"textarea":var Ee=this._attachments[j]=new f.Textarea(null,Z);this._state[j]=Ee.getValue(),Ee.events.on(M.ItemEvent.beforeChangeProperties,function(q){return L.events.fire(M.FormEvents.beforeChangeProperties,[j,q])}),Ee.events.on(M.ItemEvent.afterChangeProperties,function(q){L._changeProps(j,q,Ee.config),L._state[j]=Ee.getValue(),L.events.fire(M.FormEvents.afterChangeProperties,[j,q]),L.paint()}),Ee.events.on(M.ItemEvent.beforeChange,function(q){return L.events.fire(M.FormEvents.beforeChange,[j,q])}),Ee.events.on(M.ItemEvent.change,function(q){L._state[j]=q,L.events.fire(M.FormEvents.change,[j,q])}),Ee.events.on(M.ItemEvent.beforeHide,function(q,me){if(!me)return L.events.fire(M.FormEvents.beforeHide,[j,q])}),Ee.events.on(M.ItemEvent.beforeShow,function(q){return L.events.fire(M.FormEvents.beforeShow,[j,q])}),Ee.events.on(M.ItemEvent.afterHide,function(q,me){L.layout.getCell(j).hide(),!me&&L.events.fire(M.FormEvents.afterHide,[j,q])}),Ee.events.on(M.ItemEvent.afterShow,function(q){L.layout.getCell(j).show(),L.events.fire(M.FormEvents.afterShow,[j,q])}),Ee.events.on(M.ItemEvent.beforeValidate,function(q){return L.events.fire(M.FormEvents.beforeValidate,[j,q])}),Ee.events.on(M.ItemEvent.afterValidate,function(q,me){L.events.fire(M.FormEvents.afterValidate,[j,q,me])}),Ee.events.on(M.ItemEvent.focus,function(q){L.events.fire(M.FormEvents.focus,[j,q])}),Ee.events.on(M.ItemEvent.blur,function(q){L.events.fire(M.FormEvents.blur,[j,q])}),Ee.events.on(M.ItemEvent.keydown,function(q){L.events.fire(M.FormEvents.keydown,[q,j])});break;case"text":var ke=this._attachments[j]=new _.Text(null,Z);this._state[j]=ke.getValue(),ke.events.on(M.ItemEvent.beforeChangeProperties,function(q){return L.events.fire(M.FormEvents.beforeChangeProperties,[j,q])}),ke.events.on(M.ItemEvent.afterChangeProperties,function(q){L._changeProps(j,q,ke.config),L._state[j]=ke.getValue(),L.events.fire(M.FormEvents.afterChangeProperties,[j,q]),L.paint()}),ke.events.on(M.ItemEvent.beforeChange,function(q){return L.events.fire(M.FormEvents.beforeChange,[j,q])}),ke.events.on(M.ItemEvent.change,function(q){L._state[j]=q,L.events.fire(M.FormEvents.change,[j,q])}),ke.events.on(M.ItemEvent.beforeHide,function(q,me){if(!me)return L.events.fire(M.FormEvents.beforeHide,[j,q])}),ke.events.on(M.ItemEvent.beforeShow,function(q){return L.events.fire(M.FormEvents.beforeShow,[j,q])}),ke.events.on(M.ItemEvent.afterHide,function(q,me){L.layout.getCell(j).hide(),!me&&L.events.fire(M.FormEvents.afterHide,[j,q])}),ke.events.on(M.ItemEvent.afterShow,function(q){L.layout.getCell(j).show(),L.events.fire(M.FormEvents.afterShow,[j,q])}),ke.events.on(M.ItemEvent.beforeValidate,function(q){return L.events.fire(M.FormEvents.beforeValidate,[j,q])}),ke.events.on(M.ItemEvent.afterValidate,function(q,me){L.events.fire(M.FormEvents.afterValidate,[j,q,me])});break;case"timepicker":var Ae=this._attachments[j]=new R.TimePicker(null,Z);this._state[j]=Z.value&&Ae.getValue("timeObject"===Z.valueFormat)||"",Ae.events.on(M.ItemEvent.beforeChangeProperties,function(q){return L.events.fire(M.FormEvents.beforeChangeProperties,[j,q])}),Ae.events.on(M.ItemEvent.afterChangeProperties,function(q){L._changeProps(j,q,Ae.config),L._state[j]=Ae.getValue("timeObject"===Z.valueFormat),L.events.fire(M.FormEvents.afterChangeProperties,[j,q]),L.paint()}),Ae.events.on(M.ItemEvent.beforeChange,function(q){return L.events.fire(M.FormEvents.beforeChange,[j,q])}),Ae.events.on(M.ItemEvent.change,function(q){L._state[j]=q,L.events.fire(M.FormEvents.change,[j,q])}),Ae.events.on(M.ItemEvent.beforeHide,function(q,me){if(!me)return L.events.fire(M.FormEvents.beforeHide,[j,q])}),Ae.events.on(M.ItemEvent.beforeShow,function(q){return L.events.fire(M.FormEvents.beforeShow,[j,q])}),Ae.events.on(M.ItemEvent.afterHide,function(q,me){L.layout.getCell(j).hide(),!me&&L.events.fire(M.FormEvents.afterHide,[j,q])}),Ae.events.on(M.ItemEvent.afterShow,function(q){L.layout.getCell(j).show(),L.events.fire(M.FormEvents.afterShow,[j,q])}),Ae.events.on(M.ItemEvent.beforeValidate,function(q){return L.events.fire(M.FormEvents.beforeValidate,[j,q])}),Ae.events.on(M.ItemEvent.afterValidate,function(q,me){L.events.fire(M.FormEvents.afterValidate,[j,q,me])}),Ae.events.on(M.ItemEvent.focus,function(q){L.events.fire(M.FormEvents.focus,[j,q])}),Ae.events.on(M.ItemEvent.blur,function(q){L.events.fire(M.FormEvents.blur,[j,q])}),Ae.events.on(M.ItemEvent.keydown,function(q){L.events.fire(M.FormEvents.keydown,[q,j])});break;case"colorpicker":var He=this._attachments[j]=new N.ColorPicker(null,Z);this._state[j]=He.getValue(),He.events.on(M.ItemEvent.beforeChangeProperties,function(q){return L.events.fire(M.FormEvents.beforeChangeProperties,[j,q])}),He.events.on(M.ItemEvent.afterChangeProperties,function(q){L._changeProps(j,q,He.config),L._state[j]=He.getValue(),L.events.fire(M.FormEvents.afterChangeProperties,[j,q]),L.paint()}),He.events.on(M.ItemEvent.beforeChange,function(q){return L.events.fire(M.FormEvents.beforeChange,[j,q])}),He.events.on(M.ItemEvent.change,function(q){L._state[j]=q,L.events.fire(M.FormEvents.change,[j,q])}),He.events.on(M.ItemEvent.beforeHide,function(q,me){if(!me)return L.events.fire(M.FormEvents.beforeHide,[j,q])}),He.events.on(M.ItemEvent.beforeShow,function(q){return L.events.fire(M.FormEvents.beforeShow,[j,q])}),He.events.on(M.ItemEvent.afterHide,function(q,me){L.layout.getCell(j).hide(),!me&&L.events.fire(M.FormEvents.afterHide,[j,q])}),He.events.on(M.ItemEvent.afterShow,function(q){L.layout.getCell(j).show(),L.events.fire(M.FormEvents.afterShow,[j,q])}),He.events.on(M.ItemEvent.beforeValidate,function(q){return L.events.fire(M.FormEvents.beforeValidate,[j,q])}),He.events.on(M.ItemEvent.afterValidate,function(q,me){L.events.fire(M.FormEvents.afterValidate,[j,q,me])}),He.events.on(M.ItemEvent.focus,function(q){L.events.fire(M.FormEvents.focus,[j,q])}),He.events.on(M.ItemEvent.blur,function(q){L.events.fire(M.FormEvents.blur,[j,q])}),He.events.on(M.ItemEvent.keydown,function(q){L.events.fire(M.FormEvents.keydown,[q,j])});break;case"fieldset":var Le=this._attachments[j]=new B.Fieldset(Z);Le.events.on(M.ItemEvent.beforeChangeProperties,function(q){return L.events.fire(M.FormEvents.beforeChangeProperties,[j,q])}),Le.events.on(M.ItemEvent.afterChangeProperties,function(q){L._changeProps(j,q,Le.config),L.events.fire(M.FormEvents.afterChangeProperties,[j,q]),L.paint()});break;default:var Ne=this._attachments[j]=new V.Spacer(null,Z);Ne.events.on(M.ItemEvent.beforeChangeProperties,function(q){return L.events.fire(M.FormEvents.beforeChangeProperties,[j,q])}),Ne.events.on(M.ItemEvent.afterChangeProperties,function(q){L._changeProps(j,q,Ne.config),L.events.fire(M.FormEvents.afterChangeProperties,[j,q]),L.paint()}),Ne.events.on(M.ItemEvent.beforeHide,function(q){if(!q)return L.events.fire(M.FormEvents.beforeHide,[j])}),Ne.events.on(M.ItemEvent.beforeShow,function(){return L.events.fire(M.FormEvents.beforeShow,[j])}),Ne.events.on(M.ItemEvent.afterHide,function(q){L.layout.getCell(j).hide(),!q&&L.events.fire(M.FormEvents.afterHide,[j])}),Ne.events.on(M.ItemEvent.afterShow,function(){L.layout.getCell(j).show(),L.events.fire(M.FormEvents.afterShow,[j])})}},J.prototype._changeProps=function(Z,j,L){var G=["width","height","css","padding","label","labelAlignment","align"];for(var X in j)G.includes(X)&&(0,h.isDefined)(j[X])&&(this.layout.getCell(Z).config[X]="css"===X?this.getCellCSS(L):j[X])},J.prototype.getCellCSS=function(Z){var j=Z.css?Z.css+" dhx_form-element":"dhx_form-element";switch(Z.type){case"button":case"togglegroup":Z.full&&!Z.width&&(j+=" dhx_button--full-gravity");break;case"text":"content"===Z.width&&(j+=" dhx_form-element--fit-content")}return j},J.prototype._addLayoutItems=function(Z){var j=this;return Z.map(function(L){if((0,O.isBlock)(L)){var G={width:"content",height:"content"};return j._createLayoutConfig(L,G),G}return j._addLayoutItem(L)})},J.prototype._checkLayoutConfig=function(Z,j){return(0,h.isDefined)(Z.css)&&(j.css=Z.css),(0,h.isDefined)(Z.title)&&(j.header=Z.title),(0,h.isDefined)(Z.padding)&&(j.padding=Z.padding),(0,h.isDefined)(Z.width)&&(j.width=Z.width),(0,h.isDefined)(Z.height)&&(j.height=Z.height),(0,h.isDefined)(Z.align)&&(j.align=Z.align),j},J.prototype._createLayoutConfig=function(Z,j){j=this._checkLayoutConfig(Z,j),(0,h.isDefined)(Z.rows)?j.rows=this._addLayoutItems(Z.rows):(0,h.isDefined)(Z.cols)&&(j.cols=this._addLayoutItems(Z.cols))},J.prototype._initUI=function(Z){this._attachments={};var j={padding:"8px"};this.config.css+=" dhx_form",this._createLayoutConfig(this.config,j),this.layout=new u.Layout(Z,j),(0,O.setAttacments)(this._attachments,this.layout)},J.prototype._clear=function(){for(var Z in this._state={},this._attachments){var j=this._attachments[Z].config.name;"function"==typeof this._attachments[Z].clear&&(this._attachments[Z].clear(),j?this._state[j]=this._attachments[Z].getValue():this._state[Z]=this._attachments[Z].getValue())}},J.prototype._clearValidate=function(){for(var Z in this._attachments)"function"==typeof this._attachments[Z].clearValidate&&this._attachments[Z].clearValidate()},J.prototype._formContainerShow=function(){this.config.hidden=!1,this.getRootView().node&&(this.getRootView().node.el.style.display="flex")},J.prototype._formContainerHide=function(){this.config.hidden=!0,this.getRootView().node&&(this.getRootView().node.el.style.display="none")},J.prototype._send=function(){for(var Z in this._attachments)"function"==typeof this._attachments[Z].send&&this._attachments[Z].send()},J}(v.View);E.Form=Y}).call(this,D(17))},function(ne,E,D){"use strict";var S,T=this&&this.__extends||(S=function(d,a){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(d,a)},function(d,a){if("function"!=typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function r(){this.constructor=d}S(d,a),d.prototype=null===a?Object.create(a):(r.prototype=a.prototype,new r)}),C=this&&this.__spreadArray||function(d,a,r){if(r||2===arguments.length)for(var i,o=0,l=a.length;o<l;o++)!i&&o in a||(i||(i=Array.prototype.slice.call(a,0,o)),i[o]=a[o]);return d.concat(i||Array.prototype.slice.call(a))};Object.defineProperty(E,"__esModule",{value:!0}),E.Checkbox=void 0;var x=D(0),m=D(3),p=D(6),y=D(11),v=D(4),u=D(9),h=D(1),c=function(d){function a(r,i){void 0===i&&(i={});var o=d.call(this,r,i)||this;return o.events=new m.EventSystem,o._propsItem=["required","label","labelWidth","labelPosition","hiddenLabel","helpMessage","preMessage","successMessage","errorMessage","text"],o._props=C(C([],p.baseProps,!0),o._propsItem,!0),o._initView(i),o._initHandlers(),o.mount(r,(0,x.create)({render:function(){return o._draw()}})),o}return T(a,d),a.prototype.setProperties=function(r,i){if(void 0===i&&(i=!1),r&&!(0,h.isEmptyObj)(r)&&(i||this.events.fire(v.ItemEvent.beforeChangeProperties,[this.getProperties()]))){for(var o in r)this._props.includes(o)&&(this.config[o]=r[o]);!i&&this.events.fire(v.ItemEvent.afterChangeProperties,[this.getProperties()]),this.paint()}},a.prototype.getProperties=function(){for(var r={},i=0,o=this._props;i<o.length;i++){var l=o[i];r[l]=this.config[l]}return r},a.prototype.show=function(){this.config.hidden&&this.events.fire(v.ItemEvent.beforeShow,[this.getValue()])&&(this.config.hidden=!1,this.events.fire(v.ItemEvent.afterShow,[this.getValue()]))},a.prototype.hide=function(r){this.config.hidden&&!r||!this.events.fire(v.ItemEvent.beforeHide,[this.getValue(),r])||(this.config.hidden=!0,this.events.fire(v.ItemEvent.afterHide,[this.getValue(),r]))},a.prototype.isVisible=function(){return!this.config.hidden},a.prototype.disable=function(){this.config.disabled=!0,this.paint()},a.prototype.enable=function(){var r;this.config.disabled=!1,!(null===(r=this.parent)||void 0===r)&&r.isDisabled()&&this.parent.enable(),this.paint()},a.prototype.isDisabled=function(){return!!this.config.disabled},a.prototype.validate=function(r){void 0===r&&(r=!1);var i=this.getValue();if(!r&&!this.events.fire(v.ItemEvent.beforeValidate,[i]))return!1;var o=!0;return(this.config.required||this.config.$required)&&(o=!!this.config.checked),r||(this.setValidationStatus(o?"success":"error"),this.events.fire(v.ItemEvent.afterValidate,[i,o]),this.paint()),o},a.prototype.clearValidate=function(){this.setValidationStatus(),this.paint()},a.prototype.setValue=function(r,i){void 0===i&&(i=!1),void 0!==r&&r!==this.config.checked&&(i||this.events.fire(v.ItemEvent.beforeChange,[this._getValue(r)]))&&(this.config.checked=!!r,i||(this.events.fire(v.ItemEvent.change,[this.getValue()]),(0,p.isVerify)(this.config)&&this.validate()))},a.prototype.getValue=function(){return this._getValue(this.config.checked)},a.prototype.clear=function(r){this.config.checked&&(r||this.events.fire(v.ItemEvent.beforeChange,[this._getValue(!1)]))&&(this.config.checked=!1,r||this.events.fire(v.ItemEvent.change,[this.getValue()]),(0,p.isVerify)(this.config)&&this.setValidationStatus(this.validate(!0)?"success":"error"))},a.prototype.destructor=function(){this.events&&this.events.clear(),this._inGroup=this._propsItem=this._props=this._uid=this.events=null,d.prototype._destructor.call(this),this.unmount()},a.prototype.focus=function(){var r=this;(0,x.awaitRedraw)().then(function(){r.getRootView().refs.input.el.focus()})},a.prototype.blur=function(){var r=this;(0,x.awaitRedraw)().then(function(){r.getRootView().refs.input.el.blur()})},a.prototype.isChecked=function(){return!!this.config.checked},a.prototype._getValue=function(r){return"string"==typeof this.config.value?r&&this.config.value||"":!!r},a.prototype._initView=function(r){var i=this;if(this._inGroup=this.config.$group,this._inGroup){for(var o in this.config={type:r.type,id:r.id,text:"",width:"content",height:"content",padding:0},r)"id"!==o&&"type"!==o&&"name"!==o&&(this.config[o]=r[o]);this._handlers={onchange:function(l){var f=l.target.checked;i.events.fire(v.ItemEvent.beforeChange,[i._getValue(f)])?(i.config.checked=f,i.events.fire(v.ItemEvent.change,[i.getValue()]),(0,p.isVerify)(i.config)&&i.validate()):i.getRootView().refs.input.el.checked=!f},onfocus:function(){return i.events.fire(v.ItemEvent.focus,[i.getValue(),i.config.id])},onblur:function(){return i.events.fire(v.ItemEvent.blur,[i.getValue(),i.config.id])},onkeydown:function(l){i.events.fire(v.ItemEvent.keydown,[l,i.config.id])}}}else{for(var o in this.config={type:r.type,id:r.id,name:r.name,checked:!1,disabled:!1,required:!1,label:"",labelWidth:"",labelPosition:"top",hiddenLabel:!1,helpMessage:"",preMessage:"",successMessage:"",errorMessage:"",width:"content",height:"content"},r)"id"!==o&&"type"!==o&&"name"!==o&&(this.config[o]=r[o]);this.config.helpMessage&&(this._helper=new y.Popup({css:"dhx_tooltip dhx_tooltip--forced dhx_tooltip--light"}),this._helper.attachHTML(this.config.helpMessage)),this._handlers={showHelper:function(l){l.preventDefault(),l.stopPropagation(),i._helper.show(l.target,{mode:"left"===i.config.labelPosition?"bottom":"right",theme:i.getRootNode()})},hideHelper:function(l){l.preventDefault(),l.stopPropagation(),i._helper.hide()},onchange:function(l){var f=l.target.checked;i.events.fire(v.ItemEvent.beforeChange,[i._getValue(f)])?(i.config.checked=f,i.events.fire(v.ItemEvent.change,[i.getValue()]),(0,p.isVerify)(i.config)&&i.validate()):i.getRootView().refs.input.el.checked=!f},onfocus:function(){return i.events.fire(v.ItemEvent.focus,[i.getValue()])},onblur:function(){var l;return null===(l=i.events)||void 0===l?void 0:l.fire(v.ItemEvent.blur,[i.getValue()])},onkeydown:function(l){i.events.fire(v.ItemEvent.keydown,[l])}}}},a.prototype._initHandlers=function(){var r=this;this.events.on(v.ItemEvent.change,function(){return r.paint()})},a.prototype._draw=function(){var r=this.config,i=r.id,o=r.value,l=r.checked,f=r.disabled,_=r.name,b=r.required,I=r.$required,O=r.text,P=r.label,R=r.labelWidth,N=r.helpMessage;return(0,x.el)("label.dhx_checkbox.dhx_form-group.dhx_form-group--checkbox",{class:(0,p.getFormItemCss)(this.config,(0,p.isVerify)(this.config)||!!I)},this._inGroup?[(0,x.el)(".dhx_checkbox__holder",[(0,x.el)("input.dhx_checkbox__input",{type:"checkbox",id:i,value:o||"",name:_||"",disabled:f,checked:l,onchange:this._handlers.onchange,onfocus:this._handlers.onfocus,onblur:this._handlers.onblur,onkeydown:this._handlers.onkeydown,required:b,_ref:"input"}),(0,x.el)("span.dhx_checkbox__visual-input"),(0,x.el)("span.dhx_text",[O])])]:[P||R||N||b?this._drawLabel():null,(0,x.el)(".dhx_checkbox__container",[(0,x.el)(".dhx_checkbox__holder",[(0,x.el)("input.dhx_checkbox__input",{type:"checkbox","data-dhx-id":_||i,id:i,_key:i||this._uid,value:o,name:_,disabled:f,checked:l,onchange:this._handlers.onchange,onfocus:this._handlers.onfocus,onblur:this._handlers.onblur,onkeydown:this._handlers.onkeydown,required:b,_ref:"input","aria-label":P||"checkbox ".concat(O||""),"aria-describedby":N?"dhx_label__help_".concat(i||this._uid):null}),(0,x.el)("span.dhx_checkbox__visual-input"),(0,x.el)("span.dhx_text",[O])]),b&&(0,p.getValidationMessage)(this.config)&&(0,x.el)("span.dhx_input__caption",(0,p.getValidationMessage)(this.config))])])},a}(u.Label);E.Checkbox=c},function(ne,E,D){"use strict";var S,T=this&&this.__extends||(S=function(f,_){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,I){b.__proto__=I}||function(b,I){for(var O in I)Object.prototype.hasOwnProperty.call(I,O)&&(b[O]=I[O])})(f,_)},function(f,_){if("function"!=typeof _&&null!==_)throw new TypeError("Class extends value "+String(_)+" is not a constructor or null");function b(){this.constructor=f}S(f,_),f.prototype=null===_?Object.create(_):(b.prototype=_.prototype,new b)}),C=this&&this.__assign||function(){return C=Object.assign||function(f){for(var _,b=1,I=arguments.length;b<I;b++)for(var O in _=arguments[b])Object.prototype.hasOwnProperty.call(_,O)&&(f[O]=_[O]);return f},C.apply(this,arguments)},x=this&&this.__spreadArray||function(f,_,b){if(b||2===arguments.length)for(var I,O=0,P=_.length;O<P;O++)!I&&O in _||(I||(I=Array.prototype.slice.call(_,0,O)),I[O]=_[O]);return f.concat(I||Array.prototype.slice.call(_))};Object.defineProperty(E,"__esModule",{value:!0}),E.SimpleVault=E.FileStatus=void 0;var m,f,p=D(0),y=D(3),v=D(2),u=D(1),h=D(8),c=D(228),d=D(11),a=D(6),r=D(234),i=D(4),o=D(9);(f=m||(E.FileStatus=m={})).queue="queue",f.uploaded="uploaded",f.failed="failed",f.inprogress="inprogress";var l=function(f){function _(b,I){var O=f.call(this,b,I)||this;return O._propsItem=["required","label","labelWidth","labelPosition","hiddenLabel","helpMessage","preMessage","successMessage","errorMessage"],O._propsSimpleVault=["params","headerParams","target","fieldName","singleRequest","updateFromResponse","autosend","accept","validation"],O._props=x(x(x([],a.baseProps,!0),O._propsItem,!0),O._propsSimpleVault,!0),O.events=new y.EventSystem(O),O.data=new h.DataCollection,O._uploader=new c.Uploader(C({target:"",accept:"",fieldName:"file",singleRequest:!1,updateFromResponse:!0,autosend:!1},I),O.data,O.data.events),O._initView(C(C({},O._uploader.config),I)),O._initHandlers(),O.mount(b,(0,p.create)({render:function(){return O._draw()}})),O}return T(_,f),_.prototype.send=function(b){this._uploader.send(b)},_.prototype.selectFile=function(){this._uploader.selectFile()},_.prototype.setValue=function(b){b.length&&(this.data.parse(b),(0,a.isVerify)(this.config)&&this.validate())},_.prototype.getValue=function(){return this.data.serialize()},_.prototype.clear=function(){0!==this.getValue().length&&this.events.fire(i.ItemEvent.beforeChange,[[]])&&(this.data.removeAll(),this.events.fire(i.ItemEvent.change,[this.getValue()]),(0,a.isVerify)(this.config)&&this.setValidationStatus(this.validate(!0)?"success":"error"),this.paint())},_.prototype.disable=function(){this.config.disabled=!0,this.paint()},_.prototype.enable=function(){var b;this.config.disabled=!1,!(null===(b=this.parent)||void 0===b)&&b.isDisabled()&&this.parent.enable(),this.paint()},_.prototype.isDisabled=function(){return this.config.disabled},_.prototype.show=function(){var b=this.config,I=b.value;b.hidden&&this.events.fire(i.ItemEvent.beforeShow,[I])&&(this.config.hidden=!1,this.events.fire(i.ItemEvent.afterShow,[I]))},_.prototype.hide=function(b){var I=this.config,O=I.value;I.hidden&&!b||!this.events.fire(i.ItemEvent.beforeHide,[O,b])||(this.config.hidden=!0,this.events.fire(i.ItemEvent.afterHide,[O,b]))},_.prototype.isVisible=function(){return!this.config.hidden},_.prototype.validate=function(b){void 0===b&&(b=!1);for(var I=[],O=1;O<arguments.length;O++)I[O-1]=arguments[O];var P=I.length?I[0]:this.getValue();if(!b&&!this.events.fire(i.ItemEvent.beforeValidate,[P]))return!1;var R=!0;return this.config.required&&(R=!!P.length),"function"==typeof this.config.validation&&(R=this.config.validation(P)),b||(this.setValidationStatus(R?"success":"error"),this.events.fire(i.ItemEvent.afterValidate,[P,R]),this.paint()),R},_.prototype.clearValidate=function(){this.setValidationStatus(),this.paint()},_.prototype.setProperties=function(b){if(b&&!(0,u.isEmptyObj)(b)&&this.events.fire(i.ItemEvent.beforeChangeProperties,[this.getProperties()])){for(var I in b)this._props.includes(I)&&(this.config[I]=b[I],this._propsSimpleVault.includes(I)&&(this._uploader.config[I]=b[I]));this.events.fire(i.ItemEvent.afterChangeProperties,[this.getProperties()]),this.paint()}},_.prototype.getProperties=function(){for(var b={},I=0,O=this._props;I<O.length;I++){var P=O[I];b[P]=this.config[P]}return b},_.prototype.focus=function(){var b,I,O;null===(O=null===(I=null===(b=this.getRootView())||void 0===b?void 0:b.refs)||void 0===I?void 0:I.input)||void 0===O||O.el.focus(),this.paint()},_.prototype.blur=function(){var b,I,O;null===(O=null===(I=null===(b=this.getRootView())||void 0===b?void 0:b.refs)||void 0===I?void 0:I.input)||void 0===O||O.el.blur(),this.paint()},_.prototype.destructor=function(){this.events&&this.events.clear(),this._helper&&this._helper.destructor(),this.config=this.events=this._uid=this._helper=this._handlers=this._uploader=this.data=null,this._propsItem=this._propsSimpleVault=this._props=this._dragover=this._dragoverTimeout=null,this.unmount()},_.prototype._initView=function(b){var I;this.config=C({type:b.type,id:b.id,name:b.name,value:[],disabled:!1,hidden:!1,css:"",label:"",labelWidth:"",labelPosition:"top",hiddenLabel:!1,helpMessage:"",preMessage:"",successMessage:"",errorMessage:"",width:"content",height:"content"},b),!(null===(I=b.value)||void 0===I)&&I.length&&this.data.parse(b.value),this.paint()},_.prototype._initHandlers=function(){var b=this;this._handlers={add:function(I){b.config.disabled||(I.preventDefault(),b._uploader.selectFile())},remove:function(I){if(!b.config.disabled){var O=(0,v.locate)(I);O&&b.data.remove(O)}},ondragover:function(I){for(var O=0,P=I.dataTransfer.types;O<P.length;O++){var R=P[O];if("Files"!==R&&"application/x-moz-file"!==R)return}b._dragoverTimeout?clearTimeout(b._dragoverTimeout):b.paint(),b._dragover=!0,b._dragoverTimeout=setTimeout(function(){b._dragover=!1,b._dragoverTimeout=null,b.paint()},150)},showHelper:function(I){I.stopPropagation(),I.preventDefault(),b._helper.show(I.target,{mode:"left"===b.config.labelPosition?"bottom":"right",theme:I.target})},hideHelper:function(I){I.preventDefault(),I.stopPropagation(),b._helper.hide()}},this._uploader.events.on("beforeUploadFile",function(I){return!(b.config.autosend&&!b.validate(!0))&&b.events.fire(i.ItemEvent.beforeUploadFile,[I,b.config.value])}),this._uploader.events.on("uploadBegin",function(I){b.events.fire(i.ItemEvent.uploadBegin,[I,b.config.value])}),this._uploader.events.on("uploadComplete",function(I){b.events.fire(i.ItemEvent.uploadComplete,[I,b.config.value])}),this._uploader.events.on("uploadFail",function(I){b.events.fire(i.ItemEvent.uploadFail,[I,b.config.value])}),this._uploader.events.on("uploadFile",function(I,O){b.events.fire(i.ItemEvent.uploadFile,[I,b.config.value,O])}),this._uploader.events.on("uploadProgress",function(I){b.events.fire(i.ItemEvent.uploadProgress,[I,b.config.value])}),this.data.events.on(h.DataEvents.beforeAdd,function(I){return b.events.fire(i.ItemEvent.beforeChange,[x(x([],b.config.value,!0),[I],!1),I])}),this.data.events.on(h.DataEvents.beforeRemove,function(I){var O=b.config.value.filter(function(P){return P.id!==I.id});return b.events.fire(i.ItemEvent.beforeChange,[O,I])}),this.data.events.on(i.ItemEvent.change,function(I,O,P){if(O){var R=b.config.value=b.getValue();b._uploader.isActive&&"update"===O||(b.events.fire(i.ItemEvent.change,[R,P]),(0,a.isVerify)(b.config)&&b.validate()),b.paint()}})},_.prototype._draw=function(){var b=this;this.config.helpMessage&&(this._helper||(this._helper=new d.Popup({css:"dhx_tooltip dhx_tooltip--forced dhx_tooltip--light"})),this._helper.attachHTML(this.config.helpMessage));var I=this.data.getLength()?(0,p.el)("ul.dhx_simplevault__files.dhx_simplevault-files",{class:this.config.$vaultHeight?"":"dhx_simplevault-files__fixed"},this.data.map(function($){return(0,p.el)("li.dhx_simplevault-files__item",[(0,p.el)("span.dhx_simplevault-files__item-name",$.file&&$.file.name||$.name),(0,p.el)(".dhx_button.dhx_simplevault-files__delete.dhx_button--icon.dhx_button--view_link.dhx_button--size_small.dhx_button--color_secondary.dhx_button--circle",{"data-dhx-id":$.id,onclick:b._handlers.remove},[(0,p.el)("span.dxi.dxi-delete-forever")])])})):null,O=this.config,P=O.id,R=O.helpMessage,N=O.disabled,V=O.required,U=O.label,B=O.hidden,F=O.accept,W=(0,v.getLabelStyle)(this.config),M=B?" dhx_form-group--hidden":"";return(0,p.el)(".dhx_form-group.dhx_form-group--simplevault",{class:(0,a.getFormItemCss)(this.config,(0,a.isVerify)(this.config))+M},[W&&(0,p.el)("legend.dhx_label",{class:R?"dhx_label--with-help":"",style:W.style,onclick:this._handlers.add,"aria-label":U||"select files"},R?[(W.label||V)&&(0,p.el)("span.dhx_label__holder",W.label),(0,p.el)("span.dhx_label-help.dxi.dxi-help-circle-outline",{tabindex:"0",role:"button",onclick:this._handlers.showHelper,onfocus:this._handlers.showHelper,onblur:this._handlers.hideHelper})]:W.label),(0,p.el)(".dhx_input__wrapper",{id:this._uid},[(0,p.el)("div",{_hooks:{didInsert:function($){b._uploader.linkDropArea($.el)}},ondragover:this._handlers.ondragover,class:"dhx_simplevault"+(this._dragover?" dhx_simplevault--on-drag":"")},[(0,p.el)("div.dhx_simplevault-loader",[(0,p.el)("span.dhx_simplevault__icon.dxi.dxi-vault")]),(0,p.el)(".dhx_simplevault__drop-area",[(0,p.el)("input.dhx_simplevault__input",{_ref:"input",type:"file",id:P,disabled:N,accept:F}),(0,p.el)("span.dhx_simplevault__icon.dxi.dxi-vault"),(0,p.el)("span.dhx_simplevault__title",[(0,p.el)("span",r.default.simpleVaultText),(0,p.el)("br"),(0,p.el)("label.dhx_simplevault__label",{onclick:this._handlers.add,for:P}," "+r.default.simpleVaultLabel)])]),I]),(0,a.getValidationMessage)(this.config)&&(0,p.el)("span.dhx_input__caption",{},(0,a.getValidationMessage)(this.config))])])},_}(o.Label);E.SimpleVault=l},function(ne,E,D){"use strict";(function(S){Object.defineProperty(E,"__esModule",{value:!0}),E.Uploader=void 0;var T=D(1),C=D(2),x=D(8),m=D(42),p=function(){function y(v,u,h){void 0===v&&(v={}),this.config=(0,T.extend)({autosend:!0,updateFromResponse:!0,fieldName:"file",accept:""},v),this.data=u||new x.DataCollection,this.events=h||this.data.events,this.isActive=!1,this._fileInput=document.createElement("input"),this._fileInput.type="file",this._fileInput.accept=this.config.accept,this._fileInput.multiple=!0,this._initEvents(),this._dropAreas=new Map}return y.prototype.selectFile=function(){this._fileInput.click()},y.prototype.linkDropArea=function(v){var u=this,h=(0,C.toNode)(v),c=function(a){return a.preventDefault()},d=function(a){a.preventDefault(),u.parseFiles(a.dataTransfer)};h.addEventListener("dragover",c),h.addEventListener("drop",d),this._dropAreas.set(h,{dragover:c,drop:d})},y.prototype.unlinkDropArea=function(v){var u=this;if(v){var h=(0,C.toNode)(v);this._unlinkDropArea(h),this._dropAreas.delete(h)}else this._dropAreas.forEach(function(c,d){u._unlinkDropArea(d)}),this._dropAreas.clear()},y.prototype.parseFiles=function(v){if(v.items&&v.items[0]&&v.items[0].webkitGetAsEntry)this._parseAsWebkitEntry(v.items);else{for(var u=v.files,h=0;h<u.length;h++)this._addFile(u[h]);this.config.autosend&&this.send()}},y.prototype.send=function(v){var u=this;if(!this._uploadInfo||!this.isActive){var h=this.data.findAll(function(r){return r.status===m.FileStatus.queue||r.status===m.FileStatus.failed}).filter(function(r){return u.events.fire(m.UploaderEvents.beforeUploadFile,[r])});if(h.length)if(this.isActive=!0,this._uploadInfo={files:h,count:h.length,size:h.reduce(function(r,i){return r+i.file.size},0)},this.events.fire(m.UploaderEvents.uploadBegin,[h]),this.events.fire(m.UploaderEvents.uploadProgress,[0,0,this._uploadInfo.size]),this.config.singleRequest)this._xhrSend(h,v);else for(var c=0,d=h;c<d.length;c++)this._xhrSend([d[c]],v)}},y.prototype.abort=function(v){if(v){var u=this.data.getItem(v);u&&u.request&&4!==u.request.readyState&&u.request.abort()}else{if(!this._uploadInfo||!this._uploadInfo.files)return;for(var h=0,c=this._uploadInfo.files;h<c.length;h++)this.abort(c[h].id)}},y.prototype._unlinkDropArea=function(v){var u=this._dropAreas.get(v);if(u){var c=u.drop;v.removeEventListener("dragover",u.dragover),v.removeEventListener("drop",c)}},y.prototype._initEvents=function(){var v=this;this._fileInput.addEventListener("change",function(){for(var u=v._fileInput.files,h=0;h<u.length;h++)v._addFile(u[h]);v.config.autosend&&v.send(),v._fileInput.value=null})},y.prototype._xhrSend=function(v,u){for(var h=this,c=this._createFormData(v,u),d=new XMLHttpRequest,a=this.config.headerParams,r=0,i=v;r<i.length;r++)this.data.update(i[r].id,{request:d,status:m.FileStatus.inprogress,progress:0});if(d.open("POST",this.config.target),a)for(var l in a)d.setRequestHeader(l,a[l]);d.upload.onprogress=function(f){for(var _=0,b=v;_<b.length;_++)h.data.update(b[_].id,{progress:f.loaded/f.total,status:m.FileStatus.inprogress});var O=h._uploadInfo.files.reduce(function(N,V){return N+V.size*V.progress},0)||0;h.events.fire(m.UploaderEvents.uploadProgress,[O/h._uploadInfo.size*100||0,O,h._uploadInfo.size])},d.onloadend=function(){h._uploadInfo.count=h.config.singleRequest?0:h._uploadInfo.count-1;for(var f=200===d.status?m.FileStatus.uploaded:m.FileStatus.failed,_=200===d.status&&d.response?JSON.parse(d.response):null,b=0,I=v;b<I.length;b++){var O=I[b];h.data.update(O.id,{status:f}),f===m.FileStatus.uploaded?(h.config.updateFromResponse&&_&&(h.config.singleRequest&&_[O.id]?h.data.update(O.id,_[O.id]):h.config.singleRequest||h.data.update(O.id,_)),h.events.fire(m.UploaderEvents.uploadFile,[O,_])):h.events.fire(m.UploaderEvents.uploadFail,[O])}0===h._uploadInfo.count&&(h.isActive=!1,h.events.fire(m.UploaderEvents.uploadComplete,[h._uploadInfo.files]))},d.send(c)},y.prototype._parseAsWebkitEntry=function(v){for(var u=this,h=[],c=0;c<v.length;c++){var d=v[c].webkitGetAsEntry();h.push(this._traverseFileTree(d))}S.all(h).then(function(){u.config.autosend&&u.send()})},y.prototype._createFormData=function(v,u){var h=this.config.fieldName,c=new FormData,d=this.config.params;if(u)for(var a in u)c.append(a,u[a]);if(d)for(var a in d)c.append(a,d[a]);for(var r=v.length>1?"[]":"",i=0,o=v;i<o.length;i++){var l=o[i];c.append(h+r,l.file,l.file.name),c.append(h+"_fullname"+r,l.path+l.file.name);var f="object"==typeof l.id?l.id:l.id.toString();c.append(h+"_id"+r,f)}return c},y.prototype._addFile=function(v,u){void 0===u&&(u="");var h={id:(0,T.uid)(),file:v,progress:0,status:m.FileStatus.queue,src:null,path:u};this.data.add(h)},y.prototype._traverseFileTree=function(v){var u=this;return new S(function(h){var c=0,d=function(a,r){var i,o;a.isFile?(c++,a.file(function(i){c--,u._addFile(i,r),0===c&&h()})):a.isDirectory&&(i=a.createReader(),o=r+a.name+"/",c++,i.readEntries(function(l){c--;for(var f=0,_=l;f<_.length;f++)d(_[f],o);0===c&&h()}))};d(v,"")})},y}();E.Uploader=p}).call(this,D(17))},function(ne,E,D){"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.palette=E.grayShades=void 0,E.grayShades=["#000000","#4C4C4C","#666666","#808080","#999999","#B3B3B3","#CCCCCC","#E6E6E6","#F2F2F2","#FFFFFF"],E.palette=[["#D4DAE4","#B0B8CD","#949DB1","#727A8C","#5E6677","#3F4757","#1D2534"],["#FFCDD2","#FE9998","#F35C4E","#E94633","#D73C2D","#CA3626","#BB2B1A"],["#F9E6AD","#F4D679","#EDB90F","#EAA100","#EA8F00","#EA7E00","#EA5D00"],["#BCE4CE","#90D2AF","#33B579","#36955F","#247346","#1D5B38","#17492D"],["#BDF0E9","#92E7DC","#02D7C5","#11B3A5","#018B80","#026B60","#024F43"],["#B3E5FC","#81D4FA","#29B6F6","#039BE5","#0288D1","#0277BD","#01579B"],["#AEC1FF","#88A3F9","#5874CD","#2349AE","#163FA2","#083596","#002381"],["#C5C0DA","#9F97C1","#7E6BAD","#584A8F","#4F4083","#473776","#3A265F"],["#D6BDCC","#C492AC","#A9537C","#963A64","#81355A","#6E3051","#4C2640"],["#D2C5C1","#B4A09A","#826358","#624339","#5D4037","#4E342E","#3E2723"]]},function(ne,E,D){"use strict";var S,T;Object.defineProperty(E,"__esModule",{value:!0}),E.ColorpickerEvents=void 0,(T=S||(E.ColorpickerEvents=S={})).beforeChange="beforeChange",T.change="change",T.apply="apply",T.cancelClick="cancelClick",T.modeChange="modeChange",T.selectClick="selectClick",T.colorChange="colorChange",T.viewChange="viewChange"},function(ne,E,D){"use strict";var S,T=this&&this.__extends||(S=function(d,a){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(d,a)},function(d,a){if("function"!=typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function r(){this.constructor=d}S(d,a),d.prototype=null===a?Object.create(a):(r.prototype=a.prototype,new r)}),C=this&&this.__assign||function(){return C=Object.assign||function(d){for(var a,r=1,i=arguments.length;r<i;r++)for(var o in a=arguments[r])Object.prototype.hasOwnProperty.call(a,o)&&(d[o]=a[o]);return d},C.apply(this,arguments)},x=this&&this.__spreadArray||function(d,a,r){if(r||2===arguments.length)for(var i,o=0,l=a.length;o<l;o++)!i&&o in a||(i||(i=Array.prototype.slice.call(a,0,o)),i[o]=a[o]);return d.concat(i||Array.prototype.slice.call(a))};Object.defineProperty(E,"__esModule",{value:!0}),E.ToggleButton=void 0;var m=D(4),p=D(5),y=D(0),v=D(3),u=D(6),h=D(1),c=function(d){function a(r,i){var o=d.call(this,r,C({full:!1,selected:!1,disabled:!1,hidden:!1,width:"content",height:"content",text:"",icon:"",offIcon:"",offText:"",css:"",padding:""},i))||this;return o.events=new v.EventSystem,o.props=x(x([],o.config.$group?[]:u.baseProps,!0),["value","offIcon","offText","icon","text","full"],!1),o.initHandlers(),o.mount(r,(0,y.create)({render:function(){return o.draw()}})),o}return T(a,d),a.prototype.setValue=function(r,i){void 0===r&&(r=!1),void 0===i&&(i=!1),"boolean"==typeof r&&r!==this.config.selected&&(i||this.events.fire(m.ItemEvent.beforeChange,[r]))&&(this.config.selected=r,!i&&this.events.fire(m.ItemEvent.change,[this.getValue()]),this.paint())},a.prototype.getValue=function(){var r=this.config,i=r.value,o=r.selected;return"string"==typeof i?o?i:"":"number"==typeof i?o?i:0:!!o},a.prototype.isSelected=function(){return!!this.config.selected},a.prototype.show=function(){this.config.hidden&&this.events.fire(m.ItemEvent.beforeShow,[this.getValue()])&&(this.config.hidden=!1,this.events.fire(m.ItemEvent.afterShow,[this.getValue()]))},a.prototype.hide=function(r){void 0===r&&(r=!1),this.config.hidden&&!r||!this.events.fire(m.ItemEvent.beforeHide,[this.getValue(),r])||(this.config.hidden=!0,this.events.fire(m.ItemEvent.afterHide,[this.getValue(),r]))},a.prototype.isVisible=function(){return!this.config.hidden},a.prototype.focus=function(){var r=this;(0,y.awaitRedraw)().then(function(){r.getRootView().refs.button.el.focus(),r.paint()})},a.prototype.blur=function(){var r=this;(0,y.awaitRedraw)().then(function(){r.getRootView().refs.button.el.blur(),r.paint()})},a.prototype.disable=function(){this.config.disabled=!0,this.paint()},a.prototype.enable=function(){var r;this.config.disabled=!1,!(null===(r=this.parent)||void 0===r)&&r.isDisabled()&&this.parent.enable(),this.paint()},a.prototype.isDisabled=function(){return!!this.config.disabled},a.prototype.setProperties=function(r){if(r&&!(0,h.isEmptyObj)(r)&&this.events.fire(m.ItemEvent.beforeChangeProperties,[this.getProperties()])){for(var i in r)this.props.includes(i)&&(this.config[i]=r[i]);this.events.fire(m.ItemEvent.afterChangeProperties,[this.getProperties()])}},a.prototype.getProperties=function(){for(var r={},i=0,o=this.props;i<o.length;i++){var l=o[i];r[l]=this.config[l]}return r},a.prototype.destructor=function(){this.events.clear(),this.unmount()},a.prototype.draw=function(){var r=this.config,o=r.name,l=r.selected,f=r.disabled,b=r.text,I=r.offText,O=r.icon,N=r.$group;return(0,y.el)("button.dhx_toggle",{"data-dhx-id":o||r.id,role:"button",type:"button","aria-pressed":l,"aria-label":b||o,disabled:f,class:(N?"":"dhx_form-group dhx_form-group--toggle ")+(l?"dhx_toggle--selected ":"")+(f?"dhx_toggle--disabled ":"")+(r.hidden?"dhx_toggle--hidden ":"")+(r.full?"dhx_toggle--full ":"")+(N&&r.$extraCss||"")+(N&&r.css||""),style:{marginLeft:r.$gap},onclick:this.handlers.onclick,onfocus:this.handlers.onfocus,onblur:this.handlers.onblur,onkeydown:this.handlers.onkeydown,_ref:"button"},[O&&(0,y.el)("i.dhx_toggle__icon",{class:l?O:r.offIcon||O}),b&&(0,y.el)("span.dhx_toggle__text",{},l?b:I||b)])},a.prototype.initHandlers=function(){var r=this;this.handlers={onclick:function(){return r.setValue(!r.config.selected)},onfocus:function(){return r.events.fire(m.ItemEvent.focus,[r.getValue()])},onblur:function(){return r.events.fire(m.ItemEvent.blur,[r.getValue()])},onkeydown:function(i){return r.events.fire(m.ItemEvent.keydown,[i])}}},a}(p.View);E.ToggleButton=c},function(ne,E,D){"use strict";var S=this&&this.__assign||function(){return S=Object.assign||function(x){for(var m,p=1,y=arguments.length;p<y;p++)for(var v in m=arguments[p])Object.prototype.hasOwnProperty.call(m,v)&&(x[v]=m[v]);return x},S.apply(this,arguments)};Object.defineProperty(E,"__esModule",{value:!0});var T=D(43),C=D(10);E.default=S(S({},C.default),{type:"toggle",$handler:function(x){var m=x.id,y=x.editor,v=x.key;y.diagram.data.update(m,(0,T.getModifiedObject)(v,x.value,Array.isArray(v)&&y.diagram.data.getItem(m)||{}))},$setValue:function(x){var p=x.value;x.control.setValue("boolean"!=typeof p?p===this.value:!!p)},$layout:function(x){return S(S({},x),{type:"toggle"})}})},function(ne,E,D){"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.setValueFromCssVariable=E.getHeaderColor=void 0;var S=D(1);E.getHeaderColor=function(T,C){void 0===C&&(C="child");var x=["#FF9800","#607D8B","#00C7B5","#03A9F4","#9575CD","#F06292"];return x[(T.$level+{child:1,partner:0,assistant:3}[C])%x.length]},E.setValueFromCssVariable=function T(C,x){for(var m in C){var p=C[m];(0,S.isObject)(p)&&T(p,x),"string"==typeof p&&p.startsWith("var(--")&&(C[m]=getComputedStyle(x).getPropertyValue(p.substring(4,p.length-1)))}}},function(ne,E,D){"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.cssManager=E.CssManager=void 0;var S=D(1),T=function(){function C(){this._classes={};var x=document.createElement("style");x.id="dhx_generated_styles",this._styleCont=document.head.appendChild(x)}return C.prototype.update=function(){this._styleCont.innerHTML!==this._generateCss()&&(document.head.appendChild(this._styleCont),this._styleCont.innerHTML=this._generateCss())},C.prototype.remove=function(x){delete this._classes[x],this.update()},C.prototype.add=function(x,m,p){void 0===p&&(p=!1);var y=this._toCssString(x),v=this._findSameClassId(y);return v&&m&&m!==v?(this._classes[m]=this._classes[v],m):v||this._addNewClass(y,m,p)},C.prototype.get=function(x){if(this._classes[x]){for(var m={},p=0,y=this._classes[x].split(";");p<y.length;p++){var v=y[p];if(v){var u=v.split(":");m[u[0]]=u[1]}}return m}return null},C.prototype.destructor=function(){this._classes=this._styleCont=null},C.prototype._findSameClassId=function(x){for(var m in this._classes)if(x===this._classes[m])return m;return null},C.prototype._addNewClass=function(x,m,p){var y=m||"dhx_generated_class_".concat((0,S.uid)());return this._classes[y]=x,p||this.update(),y},C.prototype._toCssString=function(x){var m="";for(var p in x){var y=x[p],v=p.replace(/[A-Z]{1}/g,function(u){return"-".concat(u.toLowerCase())});m+="".concat(v,":").concat(y,";")}return m},C.prototype._generateCss=function(){var x="";for(var m in this._classes){var p=this._classes[m];x+=".".concat(m,"{").concat(p,"}\n")}return x},C}();E.CssManager=T,E.cssManager=new T},function(ne,E,D){D(115),D(116),D(117),D(118),D(119),D(278),ne.exports=D(45)},function(ne,E){Object.values=Object.values?Object.values:function(D){var S=Object.prototype.toString.call(D);if(null==D)throw new TypeError("Cannot convert undefined or null to object");if(~["[object String]","[object Object]","[object Array]","[object Function]"].indexOf(S)){if(Object.keys)return Object.keys(D).map(function(x){return D[x]});var T=[];for(var C in D)D.hasOwnProperty(C)&&T.push(D[C]);return T}return[]},Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:function(D){"use strict";for(var S=[],T=1;T<arguments.length;T++)S[T-1]=arguments[T];if(null==D)throw new TypeError("Cannot convert first argument to object");for(var C=Object(D),x=0;x<S.length;x++){var m=S[x];if(null!=m)for(var p=Object.keys(Object(m)),y=0,v=p.length;y<v;y++){var u=p[y],h=Object.getOwnPropertyDescriptor(m,u);void 0!==h&&h.enumerable&&(C[u]=m[u])}}return C}})},function(ne,E){Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(D,S){if(null==this)throw new TypeError('"this" is null or not defined');var T=Object(this),C=T.length>>>0;if(0===C)return!1;for(var x,m,p=0|S,y=Math.max(p>=0?p:C-Math.abs(p),0);y<C;){if((x=T[y])===(m=D)||"number"==typeof x&&"number"==typeof m&&isNaN(x)&&isNaN(m))return!0;y++}return!1},configurable:!0,writable:!0}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(D){if(null==this)throw new TypeError('"this" is null or not defined');var S=Object(this),T=S.length>>>0;if("function"!=typeof D)throw new TypeError("predicate must be a function");for(var C=arguments[1],x=0;x<T;){var m=S[x];if(D.call(C,m,x,S))return m;x++}},configurable:!0,writable:!0}),Array.prototype.findIndex||(Array.prototype.findIndex=function(D){if(null==this)throw new TypeError("Array.prototype.findIndex called on null or undefined");if("function"!=typeof D)throw new TypeError("predicate must be a function");for(var T=Object(this),C=T.length>>>0,x=arguments[1],m=0;m<C;m++)if(D.call(x,T[m],m,T))return m;return-1})},function(ne,E){String.prototype.includes||(String.prototype.includes=function(D,S){"use strict";return"number"!=typeof S&&(S=0),!(S+D.length>this.length)&&-1!==this.indexOf(D,S)}),String.prototype.startsWith||Object.defineProperty(String.prototype,"startsWith",{enumerable:!1,configurable:!0,writable:!0,value:function(D,S){return this.indexOf(D,S=S||0)===S}}),String.prototype.padStart||(String.prototype.padStart=function(D,S){return D>>=0,S=String(S||" "),this.length>D?String(this):((D-=this.length)>S.length&&(S+=S.repeat(D/S.length)),S.slice(0,D)+String(this))}),String.prototype.padEnd||(String.prototype.padEnd=function(D,S){return D>>=0,S=String(S||" "),this.length>D?String(this):((D-=this.length)>S.length&&(S+=S.repeat(D/S.length)),String(this)+S.slice(0,D))})},function(ne,E){if(Element&&!Element.prototype.matches){var D=Element.prototype;D.matches=D.matchesSelector||D.mozMatchesSelector||D.msMatchesSelector||D.oMatchesSelector||D.webkitMatchesSelector}if("classList"in SVGElement.prototype||Object.defineProperty(SVGElement.prototype,"classList",{get:function(){var x=this;return{contains:function(m){return-1!==x.className.baseVal.split(" ").indexOf(m)},add:function(m){return x.setAttribute("class",x.getAttribute("class")+" "+m)},remove:function(m){var p=x.getAttribute("class").replace(new RegExp("(\\s|^)".concat(m,"(\\s|$)"),"g"),"$2");x.classList.contains(m)&&x.setAttribute("class",p)},toggle:function(m){this.contains(m)?this.remove(m):this.add(m)}}},configurable:!0}),!Object.entries){var S=Function.bind.call(Function.call,Array.prototype.reduce),T=Function.bind.call(Function.call,Object.prototype.propertyIsEnumerable),C=Function.bind.call(Function.call,Array.prototype.concat);Object.entries=function(x){return S(Object.keys(x),function(m,p){return C(m,"string"==typeof p&&T(x,p)?[[p,x[p]]]:[])},[])}}Event.prototype.composedPath||(Event.prototype.composedPath=function(){if(this.path)return this.path;var x=this.target;for(this.path=[];null!==x.parentNode;)this.path.push(x),x=x.parentNode;return this.path.push(document,window),this.path})},function(ne,E){Math.sign=Math.sign||function(D){return 0==(D=+D)||isNaN(D)?D:D>0?1:-1}},function(ne,E,D){(function(S){var T=void 0!==S&&S||typeof self<"u"&&self||window,C=Function.prototype.apply;function x(m,p){this._id=m,this._clearFn=p}E.setTimeout=function(){return new x(C.call(setTimeout,T,arguments),clearTimeout)},E.setInterval=function(){return new x(C.call(setInterval,T,arguments),clearInterval)},E.clearTimeout=E.clearInterval=function(m){m&&m.close()},x.prototype.unref=x.prototype.ref=function(){},x.prototype.close=function(){this._clearFn.call(T,this._id)},E.enroll=function(m,p){clearTimeout(m._idleTimeoutId),m._idleTimeout=p},E.unenroll=function(m){clearTimeout(m._idleTimeoutId),m._idleTimeout=-1},E._unrefActive=E.active=function(m){clearTimeout(m._idleTimeoutId);var p=m._idleTimeout;p>=0&&(m._idleTimeoutId=setTimeout(function(){m._onTimeout&&m._onTimeout()},p))},D(121),E.setImmediate=typeof self<"u"&&self.setImmediate||void 0!==S&&S.setImmediate||this&&this.setImmediate,E.clearImmediate=typeof self<"u"&&self.clearImmediate||void 0!==S&&S.clearImmediate||this&&this.clearImmediate}).call(this,D(44))},function(ne,E,D){(function(S,T){!function(C,x){"use strict";if(!C.setImmediate){var m,p,y,v,u,h=1,c={},d=!1,a=C.document,r=Object.getPrototypeOf&&Object.getPrototypeOf(C);r=r&&r.setTimeout?r:C,"[object process]"==={}.toString.call(C.process)?m=function(l){T.nextTick(function(){o(l)})}:function(){if(C.postMessage&&!C.importScripts){var l=!0,f=C.onmessage;return C.onmessage=function(){l=!1},C.postMessage("","*"),C.onmessage=f,l}}()?(v="setImmediate$"+Math.random()+"$",u=function(l){l.source===C&&"string"==typeof l.data&&0===l.data.indexOf(v)&&o(+l.data.slice(v.length))},C.addEventListener?C.addEventListener("message",u,!1):C.attachEvent("onmessage",u),m=function(l){C.postMessage(v+l,"*")}):C.MessageChannel?((y=new MessageChannel).port1.onmessage=function(l){o(l.data)},m=function(l){y.port2.postMessage(l)}):a&&"onreadystatechange"in a.createElement("script")?(p=a.documentElement,m=function(l){var f=a.createElement("script");f.onreadystatechange=function(){o(l),f.onreadystatechange=null,p.removeChild(f),f=null},p.appendChild(f)}):m=function(l){setTimeout(o,0,l)},r.setImmediate=function(l){"function"!=typeof l&&(l=new Function(""+l));for(var f=new Array(arguments.length-1),_=0;_<f.length;_++)f[_]=arguments[_+1];return c[h]={callback:l,args:f},m(h),h++},r.clearImmediate=i}function i(l){delete c[l]}function o(l){if(d)setTimeout(o,0,l);else{var f=c[l];if(f){d=!0;try{!function(_){var b=_.callback,I=_.args;switch(I.length){case 0:b();break;case 1:b(I[0]);break;case 2:b(I[0],I[1]);break;case 3:b(I[0],I[1],I[2]);break;default:b.apply(undefined,I)}}(f)}finally{i(l),d=!1}}}}}(typeof self>"u"?void 0===S?this:S:self)}).call(this,D(44),D(122))},function(ne,E){var D,S,T=ne.exports={};function C(){throw new Error("setTimeout has not been defined")}function x(){throw new Error("clearTimeout has not been defined")}function m(r){if(D===setTimeout)return setTimeout(r,0);if((D===C||!D)&&setTimeout)return D=setTimeout,setTimeout(r,0);try{return D(r,0)}catch{try{return D.call(null,r,0)}catch{return D.call(this,r,0)}}}!function(){try{D="function"==typeof setTimeout?setTimeout:C}catch{D=C}try{S="function"==typeof clearTimeout?clearTimeout:x}catch{S=x}}();var p,y=[],v=!1,u=-1;function h(){v&&p&&(v=!1,p.length?y=p.concat(y):u=-1,y.length&&c())}function c(){if(!v){var r=m(h);v=!0;for(var i=y.length;i;){for(p=y,y=[];++u<i;)p&&p[u].run();u=-1,i=y.length}p=null,v=!1,function(o){if(S===clearTimeout)return clearTimeout(o);if((S===x||!S)&&clearTimeout)return S=clearTimeout,clearTimeout(o);try{return S(o)}catch{try{return S.call(null,o)}catch{return S.call(this,o)}}}(r)}}function d(r,i){this.fun=r,this.array=i}function a(){}T.nextTick=function(r){var i=new Array(arguments.length-1);if(arguments.length>1)for(var o=1;o<arguments.length;o++)i[o-1]=arguments[o];y.push(new d(r,i)),1!==y.length||v||m(c)},d.prototype.run=function(){this.fun.apply(null,this.array)},T.title="browser",T.browser=!0,T.env={},T.argv=[],T.version="",T.versions={},T.on=a,T.addListener=a,T.once=a,T.off=a,T.removeListener=a,T.removeAllListeners=a,T.emit=a,T.prependListener=a,T.prependOnceListener=a,T.listeners=function(r){return[]},T.binding=function(r){throw new Error("process.binding is not supported")},T.cwd=function(){return"/"},T.chdir=function(r){throw new Error("process.chdir is not supported")},T.umask=function(){return 0}},function(ne,E,D){"use strict";D.r(E)},function(ne,E,D){"use strict";D.r(E)},function(ne,E,D){ne.exports=function(){"use strict";var S=1,T=2,C=3,x=4,m=5,p=typeof window<"u",y=(p?window:{}).requestAnimationFrame,v={};function u(){}var h=Array.isArray;function c(Q){return null!=Q}function d(Q){return null!=Q&&Q.constructor===Object}function a(Q,oe,le,ce){Q.splice.apply(Q,[le,ce].concat(oe))}function r(Q){var oe=typeof Q;return"string"===oe||"number"===oe}function i(Q){return"function"==typeof Q}function l(Q){for(var oe=arguments,le=1;le<oe.length;le++)for(var ce in oe[le])Q[ce]=oe[le][ce];return Q}function _(Q,oe){for(var le=[],ce=oe;ce<Q.length;ce++)le.push(Q[ce]);return le}function b(Q,oe){for(var le in Q)if(Q[le]!==oe[le])return!1;return!0}function I(Q,oe){var le=Q.length;if(oe.length!==le)return!1;for(var ce=0;ce<le;ce++)if(Q[ce]!==oe[ce])return!1;return!0}function O(Q){if(!y)return Q;var oe,le,ce;function ue(){oe=0,Q.apply(le,ce)}return function(){le=this,ce=arguments,oe||(oe=y(ue))}}function V(Q){return"o"===Q[0]&&"n"===Q[1]}function U(Q){return"_"===Q[0]}function B(Q){return"style"===Q}function W(Q){return null!=Q.node&&null!=Q.node.el}function M(Q,oe){switch(oe){case"value":case"checked":case"selected":return!0}return!1}function $(Q){for(Q=Q||v;null==Q.vm&&Q.parent;)Q=Q.parent;return Q.vm}function Y(){}var ee=Y.prototype={constructor:Y,type:null,vm:null,key:null,ref:null,data:null,hooks:null,ns:null,el:null,tag:null,attrs:null,body:null,flags:0,_class:null,_diff:null,_dead:!1,_lis:!1,idx:null,parent:null};function J(Q){var oe=new Y;return oe.type=T,oe.body=Q,oe}var Z={},j=/\[(\w+)(?:=(\w+))?\]/g;var G=1,X=2,ae=4,ie=8;function re(Q,oe,le,ce){var ue=new Y;ue.type=S,c(ce)&&(ue.flags=ce),ue.attrs=oe;var pe=function L(Q){var oe,le,ce,ue,pe=Z[Q];if(null==pe)for(Z[Q]=pe={tag:(oe=Q.match(/^[-\w]+/))?oe[0]:"div",id:(le=Q.match(/#([-\w]+)/))?le[1]:null,class:(ce=Q.match(/\.([-\w.]+)/))?ce[1].replace(/\./g," "):null,attrs:null};ue=j.exec(Q);)null==pe.attrs&&(pe.attrs={}),pe.attrs[ue[1]]=ue[2]||"";return pe}(Q);if(ue.tag=pe.tag,pe.id||pe.class||pe.attrs){var Me=ue.attrs||{};if(pe.id&&!c(Me.id)&&(Me.id=pe.id),pe.class&&(ue._class=pe.class,Me.class=pe.class+(c(Me.class)?" "+Me.class:"")),pe.attrs)for(var ze in pe.attrs)c(Me[ze])||(Me[ze]=pe.attrs[ze]);ue.attrs=Me}var Re=ue.attrs;return c(Re)&&(c(Re._key)&&(ue.key=Re._key),c(Re._ref)&&(ue.ref=Re._ref),c(Re._hooks)&&(ue.hooks=Re._hooks),c(Re._data)&&(ue.data=Re._data),c(Re._flags)&&(ue.flags=Re._flags),c(ue.key)||(c(ue.ref)?ue.key=ue.ref:c(Re.id)?ue.key=Re.id:c(Re.name)&&(ue.key=Re.name+("radio"===Re.type||"checkbox"===Re.type?Re.value:"")))),null!=le&&(ue.body=le),ue}function ge(Q,oe,le,ce){if(Q.type!==m&&Q.type!==x){Q.parent=oe,Q.idx=le,Q.vm=ce,null!=Q.ref&&function he(Q,oe,le){!function f(Q,oe,le){for(var ce;ce=oe.shift();)Q[ce]=0===oe.length?le:Q=Q[ce]||{}}(Q,["refs"].concat(oe.split(".")),le)}($(Q),Q.ref,Q);var ue=Q.hooks,pe=ce&&ce.hooks;(ue&&(ue.willRemove||ue.didRemove)||pe&&(pe.willUnmount||pe.didUnmount))&&function fe(Q){for(;Q=Q.parent;)Q.flags|=G}(Q),h(Q.body)&&function ve(Q){for(var oe=Q.body,le=0;le<oe.length;le++){var ce=oe[le];!1===ce||null==ce?oe.splice(le--,1):h(ce)?a(oe,ce,le--,1):(null==ce.type&&(oe[le]=ce=J(""+ce)),ce.type===T?null==ce.body||""===ce.body?oe.splice(le--,1):le>0&&oe[le-1].type===T?(oe[le-1].body+=ce.body,oe.splice(le--,1)):ge(ce,Q,le,null):ge(ce,Q,le,null))}}(Q)}}var ye={animationIterationCount:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridColumn:!0,order:!0,lineClamp:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0};function we(Q,oe){return isNaN(oe)||ye[Q]?oe:oe+"px"}function De(Q,oe){var le=(Q.attrs||v).style,ce=oe?(oe.attrs||v).style:null;if(null==le||r(le))Q.el.style.cssText=le;else{for(var ue in le){var pe=le[ue];(null==ce||null!=pe&&pe!==ce[ue])&&(Q.el.style[ue]=we(ue,pe))}if(ce)for(var Me in ce)null==le[Me]&&(Q.el.style[Me]="")}}var Te=[];function Ee(Q,oe,le,ce,ue){if(null!=Q){var pe=le.hooks[oe];if(pe){if("d"!==oe[0]||"i"!==oe[1]||"d"!==oe[2])return pe(le,ce);ue||Te.push([pe,le,ce])}}}function ke(Q){var oe;if(Te.length)for(;oe=Te.shift();)oe[0](oe[1],oe[2])}var Ae=p?document:null;function me(Q){return Q.nextSibling}function Qe(Q){var oe=Q.vm,le=null!=oe&&Ee(oe.hooks,"willUnmount",oe,oe.data),ce=Ee(Q.hooks,"willRemove",Q);if((Q.flags&G)===G&&h(Q.body))for(var ue=0;ue<Q.body.length;ue++)Qe(Q.body[ue]);return le||ce}function xt(Q,oe,le){var ce=oe._node,ue=ce.vm;if(h(ce.body))if((ce.flags&G)===G)for(var pe=0;pe<ce.body.length;pe++)xt(oe,ce.body[pe].el);else Je(ce);delete oe._node,Q.removeChild(oe),Ee(ce.hooks,"didRemove",ce,null,le),null!=ue&&(Ee(ue.hooks,"didUnmount",ue,ue.data,le),ue.node=null)}function at(Q,oe){var le=oe._node;if(!le._dead){var ce=Qe(le);null!=ce&&function o(Q){return"object"==typeof Q&&i(Q.then)}(ce)?(le._dead=!0,ce.then(function P(Q,oe,le){return function(){return Q.apply(le,oe)}}(xt,[Q,oe,!0]))):xt(Q,oe)}}function Je(Q){for(var oe=Q.body,le=0;le<oe.length;le++){var ce=oe[le];delete ce.el._node,null!=ce.vm&&(ce.vm.node=null),h(ce.body)&&Je(ce)}}function st(Q){var oe=Q.el;if(Q.flags&G){var le=oe.firstChild;do{var ce=me(le);at(oe,le)}while(le=ce)}else h(Q.body)&&Je(Q),oe.textContent=null}function ot(Q,oe,le){var ce=oe._node,ue=null!=oe.parentNode,pe=oe!==le&&ue?null:ce.vm;null!=pe&&Ee(pe.hooks,"willMount",pe,pe.data),Ee(ce.hooks,ue?"willReinsert":"willInsert",ce),Q.insertBefore(oe,le),Ee(ce.hooks,ue?"didReinsert":"didInsert",ce),null!=pe&&Ee(pe.hooks,"didMount",pe,pe.data)}function Cn(Q,oe,le){ot(Q,oe,le?me(le):null)}var At={};var qn=u;function an(Q,oe,le){Q[oe]=le}function Zi(Q,oe,le,ce,ue){var pe=Q.apply(ue,oe.concat([le,ce,ue,ue.data]));ue.onevent(le,ce,ue,ue.data,oe),qn.call(null,le,ce,ue,ue.data,oe),!1===pe&&(le.preventDefault(),le.stopPropagation())}function Co(Q){var oe,le,ce=function He(Q){for(;null==Q._node;)Q=Q.parentNode;return Q._node}(Q.target),ue=$(ce),pe=Q.currentTarget._node.attrs["on"+Q.type];if(h(pe))Zi(oe=pe[0],le=pe.slice(1),Q,ce,ue);else for(var Me in pe)if(Q.target.matches(Me)){var ze=pe[Me];h(ze)?(oe=ze[0],le=ze.slice(1)):(oe=ze,le=[]),Zi(oe,le,Q,ce,ue)}}function vn(Q,oe,le,ce){if(le!==ce){var ue=Q.el;null==le||i(le)?an(ue,oe,le):null==ce&&an(ue,oe,Co)}}function In(Q,oe,le){"."===oe[0]&&(oe=oe.substr(1),le=!0),le?Q.el[oe]="":Q.el.removeAttribute(oe)}function Nn(Q,oe,le,ce,ue){var pe=Q.el;null==le?!ue&&In(Q,oe,!1):null!=Q.ns?pe.setAttribute(oe,le):"class"===oe?pe.className=le:"id"===oe||"boolean"==typeof le||ce?pe[oe]=le:"."===oe[0]?pe[oe.substr(1)]=le:pe.setAttribute(oe,le)}function Do(Q,oe,le){var ce=Q.attrs||v,ue=oe.attrs||v;if(ce!==ue){for(var pe in ce){var Me=ce[pe],ze=M(0,pe),Re=ze?Q.el[pe]:ue[pe];Me===Re||(B(pe)?De(Q,oe):U(pe)||(V(pe)?vn(Q,pe,Me,Re):Nn(Q,pe,Me,ze,le)))}for(var pe in ue)!(pe in ce)&&!U(pe)&&In(Q,pe,M(0,pe)||V(pe))}}function Ln(Q,oe,le,ce){return Q.type===x&&(oe=Q.data,le=Q.key,ce=Q.opts,Q=Q.view),new ni(Q,oe,le,ce)}function Yn(Q){for(var oe=0;oe<Q.body.length;oe++){var le=Q.body[oe],ce=le.type;if(ce<=C)ot(Q.el,_n(le));else if(ce===x)ce=(ue=Ln(le.view,le.data,le.key,le.opts)._redraw(Q,oe,!1)).node.type,ot(Q.el,_n(ue.node));else if(ce===m){var ue;(ue=le.vm)._redraw(Q,oe),ce=ue.node.type,ot(Q.el,ue.node.el)}}}function _n(Q,oe){return null==Q.el&&(Q.type===S?(Q.el=oe||function Le(Q,oe){return null!=oe?Ae.createElementNS(oe,Q):Ae.createElement(Q)}(Q.tag,Q.ns),null!=Q.attrs&&Do(Q,v,!0),(Q.flags&ie)===ie&&Q.body.body(Q),h(Q.body)?Yn(Q):null!=Q.body&&""!==Q.body&&(Q.el.textContent=Q.body)):Q.type===T?Q.el=oe||function Ne(Q){return Ae.createTextNode(Q)}(Q.body):Q.type===C&&(Q.el=oe||function q(Q){return Ae.createComment(Q)}(Q.body))),Q.el._node=Q,Q.el}window.lisMove=Kn;var Io=1,Hn=2;function Xn(Q,oe,le,ce,ue,pe,Me,ze){return function(Re,kt,Se,rt,je,$e){var Et,Sn;if(null!=rt[ce]){if(null==(Et=rt[ce]._node))return void(rt[ce]=Q(rt[ce]));if(function Jt(Q){return Q.parent}(Et)!==Re)return Sn=Q(rt[ce]),null!=Et.vm?Et.vm.unmount(!0):at(kt,rt[ce]),void(rt[ce]=Sn)}if(rt[ue]==je)return Hn;if(null==rt[ue].el)le(kt,_n(rt[ue]),rt[ce]),rt[ue]=oe(rt[ue],Se);else if(rt[ue].el===rt[ce])rt[ue]=oe(rt[ue],Se),rt[ce]=Q(rt[ce]);else{if($e||Et!==rt[Me])return $e&&null!=rt[ce]?Kn(Q,oe,le,ce,ue,kt,Se,Et,rt):Io;rt[ce]=Q(Sn=rt[ce]),ze(kt,Sn,rt[pe]),rt[pe]=Sn}}}function Kn(Q,oe,le,ce,ue,pe,Me,ze,Re){if(ze._lis)le(pe,Re[ue].el,Re[ce]),Re[ue]=oe(Re[ue],Me);else{var kt=function N(Q,oe){var le,ce=0,ue=oe.length-1;if(ue<=2147483647)for(;ce<=ue;){if(oe[le=ce+ue>>1]===Q)return le;oe[le]<Q?ce=le+1:ue=le-1}else for(;ce<=ue;){if(oe[le=Math.floor((ce+ue)/2)]===Q)return le;oe[le]<Q?ce=le+1:ue=le-1}return ce==oe.length?null:ce}(ze.idx,Re.tombs);ze._lis=!0;var Se=Q(Re[ce]);le(pe,Re[ce],null!=kt?Me[Re.tombs[kt]].el:kt),null==kt?Re.tombs.push(ze.idx):Re.tombs.splice(kt,0,ze.idx),Re[ce]=Se}}var sn=Xn(me,function No(Q,oe){return oe[Q.idx+1]},ot,"lftSib","lftNode","rgtSib","rgtNode",Cn),ti=Xn(function tt(Q){return Q.previousSibling},function Lo(Q,oe){return oe[Q.idx-1]},Cn,"rgtSib","rgtNode","lftSib","lftNode",ot);function en(Q,oe,le,ce){for(var ue=Array.prototype.slice.call(oe.childNodes),pe=[],Me=0;Me<ue.length;Me++){var ze=ue[Me]._node;ze.parent===Q&&pe.push(ze.idx)}for(var Re=function R(Q){var oe,le,ce=Q.slice(),ue=[];ue.push(0);for(var pe=0,Me=Q.length;pe<Me;++pe){var ze=ue[ue.length-1];if(Q[ze]<Q[pe])ce[pe]=ze,ue.push(pe);else{for(oe=0,le=ue.length-1;oe<le;){var Re=(oe+le)/2|0;Q[ue[Re]]<Q[pe]?oe=Re+1:le=Re}Q[pe]<Q[ue[oe]]&&(oe>0&&(ce[pe]=ue[oe-1]),ue[oe]=pe)}}for(le=ue[(oe=ue.length)-1];oe-- >0;)ue[oe]=le,le=ce[le];return ue}(pe).map(function(Se){return pe[Se]}),kt=0;kt<Re.length;kt++)le[Re[kt]]._lis=!0;for(ce.tombs=Re;sn(Q,oe,le,ce,null,!0)!==Hn;);}function So(Q){return Q.el._node.parent!==Q.parent}function _t(Q,oe,le){return oe[le]}function ta(Q,oe,le){for(;le<oe.length;le++){var ce=oe[le];if(null!=ce.vm){if(Q.type===x&&ce.vm.view===Q.view&&ce.vm.key===Q.key||Q.type===m&&ce.vm===Q.vm)return ce}else if(!So(ce)&&Q.tag===ce.tag&&Q.type===ce.type&&Q.key===ce.key&&(Q.flags&~G)==(ce.flags&~G))return ce}return null}function Qi(Q,oe,le){return oe[oe._keys[Q.key]]}function Ji(Q,oe){Ee(oe.hooks,"willRecycle",oe,Q);var le=Q.el=oe.el,ce=oe.body,ue=Q.body;if(le._node=Q,Q.type!==T||ue===ce){null==Q.attrs&&null==oe.attrs||Do(Q,oe,!1);var pe=h(ce),Me=h(ue);pe?Me||(Q.flags&ie)===ie?function Ys(Q,oe){var le=Q.body,ce=le.length,ue=oe.body,pe=ue.length,Me=(Q.flags&ie)===ie,ze=(Q.flags&X)===X,Re=(Q.flags&ae)===ae,kt=!ze&&Q.type===S,Se=!0,rt=Re?Qi:ze||Me?_t:ta;if(Re){for(var je={},$e=0;$e<ue.length;$e++)je[ue[$e].key]=$e;ue._keys=je}if(kt&&0===ce)return st(oe),void(Me&&(Q.body=[]));var Et,Sn,tl=0,jo=!1,Mt=0;if(Me)var nl={key:null},ua=Array(ce);for($e=0;$e<ce;$e++){if(Me){var ha=!1,kn=null;Se&&(Re&&(nl.key=le.key($e)),Et=rt(nl,ue,Mt)),null!=Et?(Sn=Et.idx,!0===(kn=le.diff($e,Et))?((Ft=Et).parent=Q,Ft.idx=$e,Ft._lis=!1):ha=!0):ha=!0,ha&&(ge(Ft=le.tpl($e),Q,$e),Ft._diff=kn??le.diff($e),null!=Et&&Ji(Ft,Et)),ua[$e]=Ft}else{var Ft,ri=(Ft=le[$e]).type;if(ri<=C)(Et=Se&&rt(Ft,ue,Mt))&&(Ji(Ft,Et),Sn=Et.idx);else if(ri===x){if(Et=Se&&rt(Ft,ue,Mt)){Sn=Et.idx;var fa=Et.vm._update(Ft.data,Q,$e)}else fa=Ln(Ft.view,Ft.data,Ft.key,Ft.opts)._redraw(Q,$e,!1);ri=fa.node.type}else if(ri===m){var fu=W(Ft.vm);ri=(fa=Ft.vm._update(Ft.data,Q,$e,fu)).node.type}}if(!Re&&null!=Et&&(Sn===Mt?++Mt===pe&&ce>pe&&(Et=null,Se=!1):jo=!0,pe>100&&jo&&++tl%10==0))for(;Mt<pe&&So(ue[Mt]);)Mt++}Me&&(Q.body=ua),kt&&function Ho(Q,oe){var le=oe.body,ce=Q.el,ue=Q.body,pe={lftNode:ue[0],rgtNode:ue[ue.length-1],lftSib:(le[0]||v).el,rgtSib:(le[le.length-1]||v).el};e:for(;;){for(;;){var Me=sn(Q,ce,ue,pe,null,!1);if(Me===Io)break;if(Me===Hn)break e}for(;;){var ze=ti(Q,ce,ue,pe,pe.lftNode,!1);if(ze===Io)break;if(ze===Hn)break e}en(Q,ce,ue,pe);break}}(Q,oe)}(Q,oe):ue!==ce&&(null!=ue?le.textContent=ue:st(oe)):Me?(st(oe),Yn(Q)):ue!==ce&&(le.firstChild?le.firstChild.nodeValue=ue:le.textContent=ue),Ee(oe.hooks,"didRecycle",oe,Q)}else le.nodeValue=ue}function ni(Q,oe,le,ce){var ue=this;ue.view=Q,ue.data=oe,ue.key=le,ce&&(ue.opts=ce,ue.config(ce));var pe=d(Q)?Q:Q.call(ue,ue,oe,le,ce);i(pe)?ue.render=pe:(ue.render=pe.render,ue.config(pe)),ue._redrawAsync=O(function(Me){return ue.redraw(!0)}),ue._updateAsync=O(function(Me){return ue.update(Me,!0)}),ue.init&&ue.init.call(ue,ue,ue.data,ue.key,ce)}var Vo=ni.prototype={constructor:ni,_diff:null,init:null,view:null,key:null,data:null,state:null,api:null,opts:null,node:null,hooks:null,onevent:u,refs:null,render:null,mount:function hu(Q,oe){var le=this;return oe?(st({el:Q,flags:0}),le._redraw(null,null,!1),Q.nodeName.toLowerCase()!==le.node.tag?(_n(le.node),ot(Q.parentNode,le.node.el,Q),Q.parentNode.removeChild(Q)):ot(Q.parentNode,_n(le.node,Q),Q)):(le._redraw(null,null),Q&&ot(Q,le.node.el)),Q&&ke(),le},unmount:function na(Q){var le=this.node;at(le.el.parentNode,le.el),Q||ke()},config:function(Q){var oe=this;Q.init&&(oe.init=Q.init),Q.diff&&(oe.diff=Q.diff),Q.onevent&&(oe.onevent=Q.onevent),Q.hooks&&(oe.hooks=l(oe.hooks||{},Q.hooks)),Q.onemit&&(oe.onemit=l(oe.onemit||{},Q.onemit))},parent:function(){return $(this.node.parent)},root:function(){for(var Q=this.node;Q.parent;)Q=Q.parent;return Q.vm},redraw:function(Q){return Q?this._redraw(null,null,W(this)):this._redrawAsync(),this},update:function(Q,oe){return oe?this._update(Q,null,null,W(this)):this._updateAsync(Q),this},_update:function ra(Q,oe,le,ce){var ue=this;return null!=Q&&ue.data!==Q&&(Ee(ue.hooks,"willUpdate",ue,Q),ue.data=Q),ue._redraw(oe,le,ce)},_redraw:function ia(Q,oe,le){var ce,ue,pe=null==Q,Me=this,ze=Me.node&&Me.node.el&&Me.node.el.parentNode,Re=Me.node;if(null!=Me.diff&&(ce=Me._diff,Me._diff=ue=Me.diff(Me,Me.data),null!=Re)){var kt=h(ce)?I:b;if(ce===ue||kt(ce,ue))return oa(Me,Re,Q,oe)}ze&&Ee(Me.hooks,"willRedraw",Me,Me.data);var Se=Me.render.call(Me,Me,Me.data,ce,ue);if(Se===Re)return oa(Me,Re,Q,oe);if(Me.refs=null,null!=Me.key&&Se.key!==Me.key&&(Se.key=Me.key),Me.node=Se,Q?(ge(Se,Q,oe,Me),Q.body[oe]=Se):Re&&Re.parent?(ge(Se,Re.parent,Re.idx,Me),Re.parent.body[Re.idx]=Se):ge(Se,null,null,Me),!1!==le)if(Re)if(Re.tag!==Se.tag||Re.key!==Se.key){Re.vm=Se.vm=null;var rt=Re.el.parentNode,je=me(Re.el);at(rt,Re.el),ot(rt,_n(Se),je),Re.el=Se.el,Se.vm=Me}else Ji(Se,Re);else _n(Se);return ze&&Ee(Me.hooks,"didRedraw",Me,Me.data),pe&&ze&&ke(),Me},_redrawAsync:null,_updateAsync:null};function oa(Q,oe,le,ce){return null!=le&&(le.body[ce]=oe,oe.idx=ce,oe.parent=le,oe._lis=!1),Q}function aa(Q,oe,le,ce){var ue,pe;return null==le?d(oe)?ue=oe:pe=oe:(ue=oe,pe=le),re(Q,ue,pe,ce)}var sa="http://www.w3.org/2000/svg";function oi(Q,oe,le,ce){this.view=Q,this.data=oe,this.key=le,this.opts=ce}function er(Q){this.vm=Q}oi.prototype={constructor:oi,type:x,view:null,data:null,key:null,opts:null},er.prototype={constructor:er,type:m,vm:null};var ii={config:function vt(Q){qn=Q.onevent||qn,Q.onemit&&function Dn(Q){l(At,Q)}(Q.onemit)},ViewModel:ni,VNode:Y,createView:Ln,defineElement:aa,defineSvgElement:function Xs(Q,oe,le,ce){var ue=aa(Q,oe,le,ce);return ue.ns=sa,ue},defineText:J,defineComment:function Ks(Q){var oe=new Y;return oe.type=C,oe.body=Q,oe},defineView:function Zs(Q,oe,le,ce){return new oi(Q,oe,le,ce)},injectView:function la(Q){return new er(Q)},injectElement:function Qs(Q){var oe=new Y;return oe.type=S,oe.el=oe.key=Q,oe},lazyList:function Js(Q,oe){var le=Q.length,ce={items:Q,length:le,key:function(ue){return oe.key(Q[ue],ue)},diff:function(ue,pe){var Me=oe.diff(Q[ue],ue);if(null==pe)return Me;var ze=pe._diff;return(Me===ze||h(ze)?I(Me,ze):b(Me,ze))||Me},tpl:function(ue){return oe.tpl(Q[ue],ue)},map:function(ue){return oe.tpl=ue,ce},body:function(ue){for(var pe=Array(le),Me=0;Me<le;Me++){var ze=ce.tpl(Me);ze._diff=ce.diff(Me),pe[Me]=ze,ge(ze,ue,Me)}ue.body=pe}};return ce},FIXED_BODY:X,DEEP_REMOVE:G,KEYED_LIST:ae,LAZY_LIST:ie};function ca(Q,oe){var le=Q.body;if(h(le))for(var ce=0;ce<le.length;ce++){var ue=le[ce];null!=ue.vm?oe.push(ue.vm):ca(ue,oe)}return oe}function da(Q){var oe,le,ce=arguments,ue=ce.length;if(ue>1){var pe=1;d(ce[1])&&(le=ce[1],pe=2),oe=ue===pe+1&&(r(ce[pe])||h(ce[pe])||le&&(le._flags&ie)===ie)?ce[pe]:_(ce,pe)}return re(Q,le,oe)}return ee.patch=function tr(Q,oe){!function el(Q,oe,le){if(null!=oe.type){if(null!=Q.vm)return;ge(oe,Q.parent,Q.idx,null),Q.parent.body[Q.idx]=oe,Ji(oe,Q),ke($(oe))}else{var ce=Object.create(Q);ce.attrs=l({},Q.attrs);var ue=l(Q.attrs,oe);if(null!=Q._class){var pe=ue.class;ue.class=null!=pe&&""!==pe?Q._class+" "+pe:Q._class}Do(Q,ce)}}(this,Q)},Vo.emit=function Rn(Q){var oe=this,le=oe,ce=_(arguments,1).concat(le,le.data);do{var ue=oe.onemit,pe=ue?ue[Q]:null;if(pe){pe.apply(oe,ce);break}}while(oe=oe.parent());At[Q]&&At[Q].apply(oe,ce)},Vo.onemit=null,Vo.body=function(){return ca(this.node,[])},ii.defineElementSpread=da,ii.defineSvgElementSpread=function ft(){var Q=da.apply(null,arguments);return Q.ns=sa,Q},ii}()},function(ne,E,D){"use strict";var S,T=this&&this.__extends||(S=function(v,u){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,c){h.__proto__=c}||function(h,c){for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(h[d]=c[d])})(v,u)},function(v,u){if("function"!=typeof u&&null!==u)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function h(){this.constructor=v}S(v,u),v.prototype=null===u?Object.create(u):(h.prototype=u.prototype,new h)});Object.defineProperty(E,"__esModule",{value:!0}),E.ContextMenu=void 0;var C=D(1),x=D(2),m=D(21),p=D(30),y=function(v){function u(h,c){var d=v.call(this,h,(0,C.extend)({$name:"context-menu"},c))||this;return d._isContextMenu=!0,d}return T(u,v),u.prototype.showAt=function(h,c){if(void 0===c&&(c="bottom"),h instanceof MouseEvent)this._close(h),this._changeActivePosition({left:window.pageXOffset+h.x+1,right:window.pageXOffset+h.x+1,top:window.pageYOffset+h.y,bottom:window.pageYOffset+h.y,zIndex:(0,m.getZIndex)(h.target)},c);else if(window.TouchEvent&&h instanceof TouchEvent)this._close(h),this._changeActivePosition({left:window.pageXOffset+h.touches[0].clientX,right:window.pageXOffset+h.touches[0].clientX,top:window.pageYOffset+h.touches[0].clientY,bottom:window.pageYOffset+h.touches[0].clientY,zIndex:(0,m.getZIndex)(h.target)},c);else if(h instanceof HTMLElement||"string"==typeof h){var d=(0,x.toNode)(h);this._changeActivePosition((0,x.getRealPosition)(d),c)}},u.prototype._getFactory=function(){return(0,p.createFactory)({widget:this,defaultType:"menuItem",allowedTypes:["menuItem","spacer","separator","customHTML","customHTMLButton"],widgetName:"context-menu"})},u.prototype._close=function(h){var c=this;this.events.on(p.NavigationBarEvents.afterHide,function(){c._activeMenu=null,c._changeActivePosition(null,null)}),v.prototype._close.call(this,h)},u.prototype._getMode=function(h,c,d){return d?this._mode:"right"},u.prototype._changeActivePosition=function(h,c){this._activePosition=h,this._mode=c,this._listenOuterClick(),this.paint()},u}(p.Navbar);E.ContextMenu=y},function(ne,E,D){"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.message=void 0;var S=D(1),T=D(2),C=D(46),x=new WeakMap,m=new Map;function p(y,v){var u=document.createElement("div");return u.setAttribute("data-position",v),u.className="dhx_message-container dhx_message-container--"+v+(y===document.body?" dhx_message-container--in-body":""),u}E.message=function(y){var v;"string"==typeof y&&(y={text:y}),y.position=y.position||C.MessageContainerPosition.topRight;var u=document.createElement("div");u.className="dhx_widget dhx_message "+(y.css||""),u.setAttribute("role","alert");var h=y.text&&(0,S.uid)();h&&u.setAttribute("aria-describedby",h),y.html?u.innerHTML=y.html:(u.innerHTML='<span class="dhx_message__text" id='.concat(h,"></span>\n\t\t").concat(y.icon?'<span class="dhx_message__icon dxi '.concat(y.icon,'"></span>'):""),u.querySelector("#".concat(h)).textContent=y.text);var c=y.node?(0,T.toNode)(y.node):document.body;"static"===getComputedStyle(c).position&&(c.style.position="relative");var d=m.get(c);d?d[y.position]||(d[y.position]={stack:[],container:p(c,y.position)}):m.set(c,((v={})[y.position]={stack:[],container:p(c,y.position)},v));var a=m.get(c)[y.position],r=a.stack,i=a.container;function o(f){void 0===f&&(f=!0),u&&(function(_,b){b&&clearTimeout(x.get(_));var I=_.parentNode,O=I.getAttribute("data-position"),P=I.parentNode,R=m.get(P);if(R){var N=R[O];if(N){var V=N.stack,U=V.indexOf(_);-1!==U&&(I.removeChild(_),V.splice(U,1),0===V.length&&P.removeChild(I))}}}(u,f),u=null)}if(0===r.length&&c.appendChild(i),r.push(u),i.appendChild(u),y.expire){var l=setTimeout(function(){return o(!1)},y.expire);x.set(u,l)}return u.onclick=function(){return o()},{close:function(){return o()}}}},function(ne,E,D){"use strict";(function(S){Object.defineProperty(E,"__esModule",{value:!0}),E.alert=void 0;var T=D(65),C=D(66),x=D(1);E.alert=function(m){var p=m.buttons&&m.buttons[0]?m.buttons[0]:T.default.apply,y=(0,C.blockScreen)(m.blockerCss);return new S(function(v){var u="dhx_alert__".concat((0,x.uid)(),"_content"),h="dhx_alert__".concat((0,x.uid)(),"_header"),c=document.createElement("div");c.setAttribute("role","alert"),c.setAttribute("aria-modal","true"),m.text&&c.setAttribute("aria-describedby",u),m.header&&c.setAttribute("aria-labelledby",h),c.className="dhx_widget dhx_alert "+(m.css||"");var d=function(r){"Escape"!==r.key&&"Esc"!==r.key||(a(r),v(!1))};function a(r){r.preventDefault(),y(),document.body.removeChild(c),document.removeEventListener("keydown",d)}c.innerHTML="\n\t\t\t".concat(m.header?"<div id=".concat(h,' class="dhx_alert__header"> ').concat(!1!==m.htmlEnable?m.header:""," </div>"):"","\n\t\t\t").concat(m.text?"<div id=".concat(u,' class="dhx_alert__content">').concat(!1!==m.htmlEnable?m.text:"","</div>"):"",'\n\t\t\t<div class="dhx_alert__footer ').concat(m.buttonsAlignment?"dhx_alert__footer--"+m.buttonsAlignment:"",'">\n\t\t\t\t<button type="button" aria-label="confirm" class="dhx_alert__apply-button dhx_button dhx_button--view_flat dhx_button--color_primary dhx_button--size_medium">').concat(p,"</button>\n\t\t\t</div>"),!1===m.htmlEnable&&(m.header&&(c.querySelector("#".concat(h)).textContent=m.header),m.text&&(c.querySelector("#".concat(u)).textContent=m.text)),document.body.appendChild(c),c.querySelector(".dhx_alert__apply-button").focus(),c.querySelector("button").addEventListener("click",function(r){a(r),v(!0)}),document.addEventListener("keydown",d)})}}).call(this,D(17))},function(ne,E,D){"use strict";(function(S){Object.defineProperty(E,"__esModule",{value:!0}),E.confirm=void 0;var T=D(65),C=D(66),x=D(1);E.confirm=function(m){m.buttonsAlignment=m.buttonsAlignment||"right";var p=m.buttons&&m.buttons[1]?m.buttons[1]:T.default.apply,y=m.buttons&&m.buttons[0]?m.buttons[0]:T.default.reject,v=(0,C.blockScreen)("dhx_alert__overlay-confirm "+(m.blockerCss||""));return new S(function(u){var h=document.createElement("div");h.setAttribute("role","alertdialog"),h.setAttribute("aria-modal","true");var c,d=m.header&&(0,x.uid)(),a=m.header&&(0,x.uid)();a&&h.setAttribute("aria-describedby",a),d&&h.setAttribute("aria-labelledby",d);var r=function(l){v(),h.removeEventListener("click",i),document.removeEventListener("keydown",o),document.body.removeChild(h),u(l)},i=function(l){"BUTTON"===l.target.tagName&&r(l.target.classList.contains("dhx_alert__confirm-aply"))},o=function(l){"Escape"===l.key||"Esc"===l.key?(h.querySelector(".dhx_alert__confirm-aply").focus(),r(l.target.classList.contains("dhx_alert__confirm-reject"))):"Tab"===l.key&&("aply"===c?(c="reject",h.querySelector(".dhx_alert__confirm-reject").focus()):(c="aply",h.querySelector(".dhx_alert__confirm-aply").focus()),l.preventDefault())};h.className="dhx_widget dhx_alert dhx_alert--confirm"+(m.css?" "+m.css:""),h.innerHTML="\n\t\t".concat(m.header?'<div class="dhx_alert__header" id='.concat(d,"> ").concat(!1!==m.htmlEnable?m.header:""," </div>"):"","\n\t\t").concat(m.text?'<div class="dhx_alert__content" id='.concat(a,">").concat(!1!==m.htmlEnable?m.text:"","</div>"):"",'\n\t\t\t<div class="dhx_alert__footer ').concat(m.buttonsAlignment?"dhx_alert__footer--"+m.buttonsAlignment:"",'">\n\t\t\t\t<button type="button" aria-label="reject" class="dhx_alert__confirm-reject dhx_button dhx_button--view_link dhx_button--color_primary dhx_button--size_medium">').concat(y,'</button>\n\t\t\t\t<button type="button"  aria-label="aply"class="dhx_alert__confirm-aply dhx_button dhx_button--view_flat dhx_button--color_primary dhx_button--size_medium">').concat(p,"</button>\n\t\t\t</div>"),!1===m.htmlEnable&&(m.header&&(h.querySelector("#".concat(d)).textContent=m.header),m.text&&(h.querySelector("#".concat(a)).textContent=m.text)),document.body.appendChild(h),c="aply",h.querySelector(".dhx_alert__confirm-aply").focus(),h.addEventListener("click",i),document.addEventListener("keydown",o)})}}).call(this,D(17))},function(ne,E,D){"use strict";var S,T=this&&this.__extends||(S=function(r,i){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var f in l)Object.prototype.hasOwnProperty.call(l,f)&&(o[f]=l[f])})(r,i)},function(r,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function o(){this.constructor=r}S(r,i),r.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}),C=this&&this.__assign||function(){return C=Object.assign||function(r){for(var i,o=1,l=arguments.length;o<l;o++)for(var f in i=arguments[o])Object.prototype.hasOwnProperty.call(i,f)&&(r[f]=i[f]);return r},C.apply(this,arguments)};Object.defineProperty(E,"__esModule",{value:!0}),E.Navbar=void 0;var x=D(1),m=D(0),p=D(3),y=D(21),v=D(2),u=D(14),h=D(5),c=D(8),d=D(38),a=function(r){function i(o,l){var f=r.call(this,o,l)||this;return f._isContextMenu=!1,f._documentHaveListener=!1,f.config=(0,x.extend)({rootId:"string"==typeof o&&o||f._uid},l),f._rootItem={},Array.isArray(f.config.data)?(f.events=new p.EventSystem(f),f.data=new c.TreeCollection({rootId:f.config.rootId},f.events)):f.config.data&&f.config.data.events?(f.data=f.config.data,f.events=f.data.events,f.events.context=f):(f.events=new p.EventSystem(f),f.data=new c.TreeCollection({rootId:f.config.rootId},f.events)),f._documentClick=function(_){if(f._documentHaveListener){var b=(0,v.locateNode)(_),I=f.data.getRoot(),O=b&&b.getAttribute("data-dhx-id"),P=f.data.getParent(O),R="ontouchstart"in window||navigator.msMaxTouchPoints;document.removeEventListener("click",f._documentClick),f._documentHaveListener=!1,((!R||b)&&f._isContextMenu||I!==P&&P&&f.data.getItem(O))&&P&&f.data.getItem(O)&&(!f._isContextMenu||I===(0,v.locate)(_,"data-dhx-widget-id"))||f._close(_)}},f._currentRoot=f.data.getRoot(),f._factory=f._getFactory(),f._initHandlers(),f._keyManager=new u.KeyManager(function(_,b){return b===f._uid}),f._initEvents(),Array.isArray(f.config.data)&&f.data.parse(f.config.data),f}return T(i,r),i.prototype.paint=function(){r.prototype.paint.call(this),this._isContextMenu&&!this._vpopups&&this._init(),this._vpopups&&this._vpopups.redraw()},i.prototype.disable=function(o){var l=this;void 0!==o?this._setProp(o,"disabled",!0):this.data.forEach(function(f){return l._setProp(f.id,"disabled",!0)})},i.prototype.enable=function(o){var l=this;void 0!==o?this._setProp(o,"disabled",!1):this.data.forEach(function(f){return l._setProp(f.id,"disabled",!1)})},i.prototype.isDisabled=function(o){var l=this.data.getItem(o);if(l)return l.disabled||!1},i.prototype.show=function(o){var l=this;void 0!==o?this._setProp(o,"hidden",!1):this.data.forEach(function(f){return l._setProp(f.id,"hidden",!1)})},i.prototype.hide=function(o){var l=this;void 0!==o?this._setProp(o,"hidden",!0):this.data.forEach(function(f){return l._setProp(f.id,"hidden",!0)})},i.prototype.destructor=function(){this.events.clear(),this._keyManager&&this._keyManager.destructor(),this._vpopups&&this._vpopups.node&&this._vpopups.unmount(),this.unmount()},i.prototype.select=function(o,l){var f=this;if(void 0===l&&(l=!0),!(0,x.isId)(o))throw new Error("Function argument cannot be empty, for more info check documentation https://docs.dhtmlx.com");l&&this.unselect(),this.data.update(o,{active:!0}),this.data.eachParent(o,function(_){f.data.update(_.id,{active:!0})})},i.prototype.unselect=function(o){var l=this;(0,x.isId)(o)?(this.data.update(o,{active:!1}),this.data.eachChild(o,function(f){l.data.update(f.id,{active:!1})})):this.data.forEach(function(f){l.data.update(f.id,{active:!1})})},i.prototype.isSelected=function(o){if((0,x.isId)(o)&&this.data.getItem(o))return!!this.data.getItem(o).active},i.prototype.getSelected=function(){var o=[];return this.data.forEach(function(l){l.active&&o.push(l.id)}),o},i.prototype._customHandlers=function(){return{}},i.prototype._close=function(o){var l=this;this._popupActive&&this.events.fire(d.NavigationBarEvents.beforeHide,[this._activeMenu,o])&&(this._activeParents&&this._activeParents.forEach(function(f){return l.data.exists(f)&&l.data.update(f,{$activeParent:!1})}),"click"===this.config.navigationType&&(this._isActive=!1),clearTimeout(this._currentTimeout),this._popupActive=!1,this._activeMenu=null,this._vpopups.node&&this._vpopups.unmount(),this._vpopups=null,this.events.fire(d.NavigationBarEvents.afterHide,[o]),this.paint())},i.prototype._init=function(){var o,l=this;if(!this._isContextMenu||this._activePosition){var f=this.getRootNode()||document.documentElement,_=null===(o=f?.closest("[data-dhx-theme]"))||void 0===o?void 0:o.getAttribute("data-dhx-theme");this._vpopups=(0,m.create)({render:function(){var b;return(0,m.el)("div",{"data-dhx-widget-id":l._uid,"data-dhx-theme":_||"light",class:"dhx_".concat(null===(b=l.config)||void 0===b?void 0:b.$name,"--popup-menu ").concat(l._isContextMenu?" dhx_context-menu":""," ").concat(l.config.css?l.config.css.split(" ").map(function(I){return l._isContextMenu?I:I+"--popup-menu"}).join(" "):""),onmousemove:l._handlers.onmousemove,onmouseleave:l._handlers.onmouseleave,onclick:l._handlers.onclick,onmousedown:l._handlers.onmousedown,onkeydown:l._handlers.onkeydown},l._drawPopups())}}),this._vpopups.mount(document.body)}},i.prototype._initHandlers=function(){var o=this;this._isActive="click"!==this.config.navigationType,this._handlers=C({onkeydown:function(l){var f=(0,v.locate)(l)||void 0;(0,v.locateNode)(l,"data-dhx-widget-id").contains(document.activeElement)&&o.events.fire(d.NavigationBarEvents.keydown,[l,f])},onmousemove:function(l){if(o._isActive){var f=(0,v.locateNode)(l);if(f){var _=f.getAttribute("data-dhx-id");if(o._activeMenu!==_){if(o.data.haveItems(_)){o._vpopups||o._init(),o._setRoot(_);var b=(0,v.getRealPosition)(f);o.data.update(_,{$position:b},!1)}o._activeItemChange(_,l)}}}},onmouseleave:function(l){if("click"!==o.config.navigationType)if(o._popupActive){var f=(0,v.locateNode)(l,"data-dhx-id","relatedTarget");if(f){var _=f.getAttribute("data-dhx-id");if(o.data.getItem(_)||(o._close(l),o._activeItemChange(null,l)),o.data.haveItems(_)){o._vpopups||o._init();var b=(0,v.getRealPosition)(f);o.data.update(_,{$position:b},!1),o._activeItemChange(_,l)}}else o._close(l),o._activeItemChange(null,l)}else o._activeItemChange(null,l)},onclick:function(l){var f=(0,v.locateNode)(l);if(f){var _=f.getAttribute("data-dhx-id");if(!o.isDisabled(_)){var b=o.data.getItem(_);if(!b?.multiClick)if(o.data.haveItems(_)){if(o._vpopups||o._init(),_===o._currentRoot)return;o._isActive||(o._isActive=!0),o._setRoot(_);var I=(0,v.getRealPosition)(f);o.data.update(_,{$position:I},!1),o._activeItemChange(_,l),o.events.fire(d.NavigationBarEvents.click,[_,l])}else switch(b?.type){case"input":case"title":break;case"menuItem":case"selectButton":o._onMenuItemClick(_,l);break;case"imageButton":case"button":case"customButton":case"customHTML":case"navItem":b.twoState&&o.data.update(b.id,{active:!b.active}),o.events.fire(d.NavigationBarEvents.click,[_,l]),o._close(l);break;default:o._close(l)}}}},onmousedown:function(l){var f=(0,v.locateNode)(l);if(f){var _=f.getAttribute("data-dhx-id"),b=o.data.getItem(_);if(b?.multiClick){var I,O=365,P=function(){o.events.fire(d.NavigationBarEvents.click,[_,l]),O>50&&(O-=55),I=setTimeout(P,O)},R=function(){clearTimeout(I),document.removeEventListener("mouseup",R)};P(),document.addEventListener("mouseup",R)}}}},this._customHandlers())},i.prototype._initEvents=function(){var o=this,l=null;[d.DataEvents.change,d.DataEvents.filter].forEach(function(f){o.events.on(f,function(){return o.paint(),l&&clearTimeout(l),void(l=setTimeout(function(){var _={};o.data.eachChild(o.data.getRoot(),function(b){var I,O;b.group&&(b.twoState=!0,(I=_)[(O=b).group]?(O.active&&(I[O.group].active=O.id),I[O.group].elements.push(O.id)):I[O.group]={active:O.active?O.id:null,elements:[O.id]})},!0),o._groups=_,o._resetHotkeys(),l=null,o.paint()},100))})}),this.events.on(d.NavigationBarEvents.click,function(f){var _=o.data.getItem(f),b=o.data.getItem(_?.parent);if(b&&"selectButton"===b.type&&o.data.update(_.parent,{value:_.value,icon:_.icon}),_?.group){var I=o._groups[_.group];I.active&&o.data.update(I.active,{active:!1}),I.active=_.id,o.data.update(_.id,{active:!0})}}),this.events.on(d.NavigationBarEvents.inputChange,function(f,_){o.data.update(f,{value:_})}),this._customInitEvents()},i.prototype._getMode=function(o,l,f){return void 0===f&&(f=!1),o.parent===l?"bottom":"right"},i.prototype._drawMenuItems=function(o,l){var f=this;return void 0===l&&(l=!0),this.data.map(function(_){return f._factory(_,l)},o,!1)},i.prototype._setRoot=function(o){},i.prototype._getParents=function(o,l){var f=[],_=!1,b=this.data.getItem(o);return this.data.eachParent(o,function(O){O.id===l?(f.push(O.id),_=!0):_||f.push(O.id)},!(b&&b.disabled)),this._isContextMenu&&this._activePosition&&f.push(l),f},i.prototype._listenOuterClick=function(){this._documentHaveListener||(document.addEventListener("click",this._documentClick,!0),this._documentHaveListener=!0)},i.prototype._customInitEvents=function(){},i.prototype._drawPopups=function(){var o=this,l=this._activeMenu;if(!this._isContextMenu&&!l)return null;var f=this.getRootNode(),b=(0,y.getZIndex)(f&&f.offsetParent&&f.offsetParent.offsetParent),I=this._currentRoot,O=this._getParents(l,I);return this._activeParents=O,O.forEach(function(P){return o.data.exists(P)&&o.data.update(P,{$activeParent:!0},!1)}),O.map(function(P){if(!o.data.haveItems(P))return null;var R=o.data.getItem(P)||o._rootItem;return o._popupActive=!0,(0,m.el)("ul",C({class:"dhx_widget dhx_menu"+(o.config.menuCss?" "+o.config.menuCss:""),_key:P,_hooks:{didInsert:function(N){var V=N.el.getBoundingClientRect(),U=V.width,B=V.height,F=o._isContextMenu&&o._activePosition&&P===I?o._activePosition:R.$position,W=o._getMode(R,I,F===o._activePosition),M=(0,v.calculatePosition)(F,{mode:W,auto:!0,width:U,height:B});R.$style=C(C({},M),{zIndex:o._activePosition&&o._activePosition.zIndex||b}),N.patch({style:R.$style})},didRecycle:function(N,V){if(o._isContextMenu&&o._activePosition&&P===I){var U=V.el.getBoundingClientRect(),B=U.width,F=U.height,W=(0,v.calculatePosition)(o._activePosition,{mode:o._getMode(R,I,!0),width:B,height:F});R.$style=C(C({},W),{zIndex:o._activePosition.zIndex||b}),V.patch({style:R.$style})}}},tabindex:0,style:R.$style||{position:"absolute"}},{role:"menu","aria-labeledby":R.id,"aria-live":"polite"}),o._drawMenuItems(P))}).reverse()},i.prototype._onMenuItemClick=function(o,l){var f=this.data.getItem(o);f.disabled||(f.twoState&&this.data.update(f.id,{active:!f.active}),this.events.fire(d.NavigationBarEvents.click,[o,l]),this._close(l))},i.prototype._activeItemChange=function(o,l){var f=this;if(this._activeParents){var _=this._getParents(o,this._currentRoot);this._activeParents.forEach(function(b){f.data.exists(b)&&!_.includes(b)&&f.data.update(b,{$activeParent:!1},!1)})}(0,x.isId)(o)&&!this._documentHaveListener&&this._listenOuterClick(),(0,x.isId)(o)&&this.data.haveItems(o)?(this._activeMenu===o&&this._popupActive||this.events.fire(d.NavigationBarEvents.openMenu,[o]),clearTimeout(this._currentTimeout),this.paint()):(clearTimeout(this._currentTimeout),this._currentTimeout=setTimeout(function(){return f.paint()},400)),this._activeMenu=o},i.prototype._resetHotkeys=function(){var o=this;this._keyManager.removeHotKey(null,this),this.data.map(function(l){l.hotkey&&o._keyManager.addHotKey(l.hotkey,function(){return o._onMenuItemClick(l.id,null)})})},i.prototype._setProp=function(o,l,f){var _,b=this;Array.isArray(o)?o.forEach(function(I){var O;return b.data.update(I,((O={})[l]=f,O))}):this.data.update(o,((_={})[l]=f,_))},i}(h.View);E.Navbar=a},function(ne,E,D){"use strict";(function(S){var T=this&&this.__assign||function(){return T=Object.assign||function(v){for(var u,h=1,c=arguments.length;h<c;h++)for(var d in u=arguments[h])Object.prototype.hasOwnProperty.call(u,d)&&(v[d]=u[d]);return v},T.apply(this,arguments)};Object.defineProperty(E,"__esModule",{value:!0}),E.Loader=void 0;var C=D(1),x=D(23),m=D(22),p=D(1),y=function(){function v(u,h){this._parent=u,this._changes=h}return v.prototype.load=function(u,h){var c=this;if(!u.config||this._parent.events.fire(m.DataEvents.beforeLazyLoad,[]))return this._parent.loadData=u.load().then(function(d){return d?c.parse(d,h):[]}).catch(function(d){c._parent.events.fire(m.DataEvents.loadError,[d])})},v.prototype.parse=function(u,h){var c=this;if(void 0===h&&(h=m.DataDriver.json),"json"!==h||(0,x.hasJsonOrArrayStructure)(u)||this._parent.events.fire(m.DataEvents.loadError,["Uncaught SyntaxError: Unexpected end of input"]),!((u=(h=(0,x.toDataDriver)(h)).toJsonArray(u))instanceof Array)){var d=u.total_count-1,a=u.from;if(u=u.data,0!==this._parent.getLength())return u.forEach(function(l,f){var b=c._parent.getId(a+f);if((0,C.isId)(b)){var I=c._parent.getItem(b);if(I&&I.$empty){var O=l.id||I.id;(0,p.isDefined)(l.id)&&c._parent.changeId(b,O,!0),c._parent.update(O,T(T({},l),{$empty:void 0}),!0)}}else(0,x.dhxWarning)("item not found")}),this._parent.events.fire(m.DataEvents.afterLazyLoad,[a,u.length]),this._parent.events.fire(m.DataEvents.change),u;for(var r=[],i=0,o=0;i<=d;i++)i>=a&&i<=a+u.length-1?(r.push(u[o]),o++):r.push({$empty:!0});u=r}return this._parent.getInitialData()&&this._parent.removeAll(),this._parent.$parse(u),u},v.prototype.save=function(u){for(var h=this,c=this._getUniqueOrder(),d=function(o){if(o.saving||o.pending)(0,x.dhxWarning)("item is saving");else{var l=a._findPrevState(o.id);if(l&&l.saving){var f=new S(function(_,b){l.promise.then(function(){o.pending=!1,_(h._setPromise(o,u))}).catch(function(I){h._removeFromOrder(l),h._setPromise(o,u),(0,x.dhxWarning)(I),b(I)})});a._addToChain(f),o.pending=!0}else a._setPromise(o,u)}},a=this,r=0,i=c;r<i.length;r++)d(i[r]);c.length&&this._parent.saveData.then(function(){h._saving=!1})},v.prototype.updateChanges=function(u){this._changes=u},v.prototype._setPromise=function(u,h){var c,d=this;switch(u.status){case"remove":c="delete";break;case"add":c="insert";break;default:c=u.status}return u.promise=h.save(u.obj,c),u.promise.then(function(){d._removeFromOrder(u)}).catch(function(a){u.saving=!1,u.error=!0,(0,x.dhxError)(a)}),u.saving=!0,this._saving=!0,this._addToChain(u.promise),u.promise},v.prototype._addToChain=function(u){this._parent.saveData=this._parent.saveData&&this._saving?this._parent.saveData.then(function(){return u}):u},v.prototype._findPrevState=function(u){for(var h=0,c=this._changes.order;h<c.length;h++){var d=c[h];if(d.id===u)return d}return null},v.prototype._removeFromOrder=function(u){this._changes.order=this._changes.order.filter(function(h){return!(0,x.isEqualObj)(h,u)})},v.prototype._getUniqueOrder=function(){return this._changes.order.reduce(function(u,h){var c=u.findIndex(function(a){return a.id===h.id}),d=c>-1?u[c]:null;return d&&!1===d.saving&&"add"===d.status?"remove"===h.status?u.splice(c,1):d.obj=h.obj:d&&!1===d.saving&&"update"===d.status?u.splice(c,1,h):u.push(h),u},[])},v}();E.Loader=y}).call(this,D(17))},function(ne,E,D){"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.XMLDriver=void 0;var S=D(133);function T(x,m){m=m||{};var p=x.attributes;if(p&&p.length)for(var y=0;y<p.length;y++)m[p[y].name]=p[y].value;var v=x.childNodes;for(y=0;y<v.length;y++)if(1===v[y].nodeType){var u=v[y].tagName;m[u]?("function"!=typeof m[u].push&&(m[u]=[m[u]]),m[u].push(T(v[y],{}))):m[u]=T(v[y],{})}return m}var C=function(){function x(){}return x.prototype.toJsonArray=function(m){return this.getRows(m)},x.prototype.toJsonObject=function(m){var p;return"string"==typeof m&&(p=this._fromString(m)),T(p)},x.prototype.serialize=function(m){return(0,S.jsonToXML)(m)},x.prototype.getFields=function(m){return m},x.prototype.getRows=function(m){if("string"==typeof m&&(m=this._fromString(m)),m){var p=m.childNodes&&m.childNodes[0]&&m.childNodes[0].childNodes;return p&&p.length?this._getRows(p):null}return[]},x.prototype._getRows=function(m){for(var p=[],y=0;y<m.length;y++)"item"===m[y].tagName&&p.push(this._nodeToJS(m[y]));return p},x.prototype._fromString=function(m){try{return(new DOMParser).parseFromString(m,"text/xml")}catch{return null}},x.prototype._nodeToJS=function(m){var p={};if(this._haveAttrs(m))for(var y=m.attributes,v=0;v<y.length;v++){var u=y[v];p[u.name]=this._toType(u.value)}if(3===m.nodeType)return p.value=p.value||this._toType(m.textContent),p;var d=m.childNodes;if(d)for(v=0;v<d.length;v++){var a=d[v],r=a.tagName;r&&(p[r]="items"===r&&a.childNodes?this._getRows(a.childNodes):this._haveAttrs(a)?this._nodeToJS(a):this._toType(a.textContent))}return p},x.prototype._toType=function(m){return"false"===m||"true"===m?"true"===m:m},x.prototype._haveAttrs=function(m){return m.attributes&&m.attributes.length},x}();E.XMLDriver=C},function(ne,E,D){"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.jsonToXML=void 0;function T(x){return" ".repeat(x)}function C(x,m){void 0===m&&(m=4);var p=T(m)+"<item>\n";for(var y in x)Array.isArray(x[y])?(p+=T(m+4)+"<".concat(y,">\n"),p+=x[y].map(function(v){return C(v,m+8)}).join("\n")+"\n",p+=T(m+4)+"</".concat(y,">\n")):p+=T(m+4)+"<".concat(y,">").concat(x[y],"</").concat(y,">\n");return p+(T(m)+"</item>")}E.jsonToXML=function(x,m){void 0===m&&(m="root");for(var p='<?xml version="1.0" encoding="iso-8859-1"?>\n<'.concat(m,">"),y=0;y<x.length;y++)p+="\n"+C(x[y]);return p+"\n</".concat(m,">")}},function(ne,E,D){"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.Sort=void 0;var S=D(23),T=function(){function C(){}return C.prototype.sort=function(x,m,p){this._createSorter(m),p===m&&(m=null),(p||m)&&this._sort(x,p,m)},C.prototype._createSorter=function(x){var m=this;x&&!x.rule&&(x.rule=function(p,y){var v,u,h=null!==(v=m._checkVal(x.as,p[x.by]))&&void 0!==v?v:"",c=null!==(u=m._checkVal(x.as,y[x.by]))&&void 0!==u?u:"";return(0,S.naturalCompare)(h.toString(),c.toString())})},C.prototype._checkVal=function(x,m){return x?x.call(this,m):m},C.prototype._sort=function(x,m,p){var y=this,v={asc:1,desc:-1};return x.sort(function(u,h){var c=0;return m&&(c=m.rule.call(y,u,h)*(v[m.dir]||v.asc)),0===c&&p&&(c=p.rule.call(y,u,h)*(v[p.dir]||v.asc)),c})},C}();E.Sort=T},function(ne,E,D){"use strict";var S,T=this&&this.__extends||(S=function(c,d){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,r){a.__proto__=r}||function(a,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(a[i]=r[i])})(c,d)},function(c,d){if("function"!=typeof d&&null!==d)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");function a(){this.constructor=c}S(c,d),c.prototype=null===d?Object.create(d):(a.prototype=d.prototype,new a)}),C=this&&this.__spreadArray||function(c,d,a){if(a||2===arguments.length)for(var r,i=0,o=d.length;i<o;i++)!r&&i in d||(r||(r=Array.prototype.slice.call(d,0,i)),r[i]=d[i]);return c.concat(r||Array.prototype.slice.call(d))};Object.defineProperty(E,"__esModule",{value:!0}),E.TreeCollection=void 0;var x=D(1),m=D(68),p=D(32),y=D(23),v=D(22);function u(c,d,a,r){void 0!==r&&-1!==r&&c[a]&&c[a][r]?c[a].splice(r,0,d):(c[a]||(c[a]=[]),c[a].push(d))}var h=function(c){function d(a,r){var i,o=c.call(this,a,r)||this;o._childs={};var l=o._root=a&&a.rootId||"_ROOT_"+(0,x.uid)();return o._childs=((i={})[l]=[],i),o._initChilds=null,o}return T(d,c),d.prototype.add=function(a,r,i){var o,l=this;if(void 0===r&&(r=-1),void 0===i&&(i=this._root),this.events.fire(v.DataEvents.beforeAdd,[a]))return"object"!=typeof a&&(a={value:a}),o=Array.isArray(a)?a.map(function(f,_){return l._add(f,r,i,_)}):this._add(a,r,i),this._reapplyFilters(!1),o},d.prototype.getRoot=function(){return this._root},d.prototype.getParent=function(a,r){if(void 0===r&&(r=!1),!this._pull[a])return null;var i=this._pull[a].parent;return r?this._pull[i]:i},d.prototype.getItems=function(a){return this._childs&&this._childs[a]?this._childs[a]:[]},d.prototype.getLength=function(a){return void 0===a&&(a=this._root),this._childs[a]?this._childs[a].length:null},d.prototype.removeAll=function(a){var r;if((0,x.isId)(a)){if(this._childs[a])for(var i=0,o=C([],this._childs[a],!0);i<o.length;i++)this.remove(o[i].id)}else{c.prototype.removeAll.call(this);var f=this._root;this._initChilds=null,this._childs=((r={})[f]=[],r)}},d.prototype.getIndex=function(a){var r=this.getParent(a);return r&&this._childs[r]?this._childs[r].findIndex(function(i){return i?.id==a}):-1},d.prototype.sort=function(a){var r=this;if(a){for(var i in this._childs)this._sort.sort(this._childs[i],a);if(this._initChilds&&Object.keys(this._initChilds).length)for(var i in this._initChilds)this._sort.sort(this._initChilds[i],a)}else this._childs={},this._parse_data(Object.keys(this._pull).map(function(o){return r._pull[o]})),this._reapplyFilters(!1);this.events.fire(v.DataEvents.change,[void 0,"sort",a])},d.prototype.filter=function(a,r,i){if(r?.$restore&&(a=this._normalizeFilters(a||this._filters)),!(a&&r?.add||(this.restoreOrder(),r?.$restore)))for(var o in this._filters){var l=this._filters[o],f=l.rule,_=l.config;_?.permanent?this._applyFilter(f,_):delete this._filters[o]}var b;if(a&&!r?.$restore)b=r?.id||(0,x.uid)(),r||(r={}),r.type=r.type||v.TreeFilterType.all,this._filters[b]={rule:a,config:r},this._applyFilter(a,r);else for(var o in a)this._applyFilter(a[o],this._filters[o].config);if(!i){var I=this._getPureFilters(this._filters);this.events.fire(v.DataEvents.filter,[(0,x.isEmptyObj)(I)?null:I])}return b},d.prototype.restoreOrder=function(){this._initChilds&&(this._childs=this._initChilds,this._initChilds=null)},d.prototype.copy=function(a,r,i,o){var l=this;return void 0===i&&(i=this),void 0===o&&(o=this._root),a instanceof Array?a.map(function(f,_){return l._copy(f,r,i,o,_)}):this._copy(a,r,i,o)},d.prototype.move=function(a,r,i,o){var l=this;return void 0===i&&(i=this),void 0===o&&(o=this._root),a instanceof Array?a.map(function(f,_){return l._move(f,r,i,o,_)}):this._move(a,r,i,o)},d.prototype.forEach=function(a,r,i){if(void 0===r&&(r=this._root),void 0===i&&(i=1/0),this.haveItems(r)&&!(i<1))for(var o=this._childs[r],l=0;l<o.length;l++)a.call(this,o[l],l,o),this.haveItems(o[l].id)&&this.forEach(a,o[l].id,--i)},d.prototype.eachChild=function(a,r,i,o){if(void 0===i&&(i=!0),void 0===o&&(o=function(){return!0}),this.haveItems(a))for(var l=0;l<this._childs[a].length;l++)r.call(this,this._childs[a][l],l),i&&o(this._childs[a][l])&&this.eachChild(this._childs[a][l].id,r,i,o)},d.prototype.getNearId=function(a){return a},d.prototype.loadItems=function(a,r){var i=this;if(void 0===r&&(r=v.DataDriver.json),this.events.fire(v.DataEvents.beforeItemLoad,[a])){var o=this.config.autoload.toString(),l=o+(o.includes("?")?"&id=".concat(a):"?id=".concat(a));new p.DataProxy(l).load().then(function(f){f=(r=(0,y.toDataDriver)(r)).toJsonArray(f),i._parse_data(f,a),i.events.fire(v.DataEvents.change),i.events.fire(v.DataEvents.afterItemLoad,[a])}).catch(function(f){i.events.fire(v.DataEvents.loadError,[f])})}},d.prototype.refreshItems=function(a,r){void 0===r&&(r=v.DataDriver.json),this.removeAll(a),this.loadItems(a,r)},d.prototype.eachParent=function(a,r,i){void 0===i&&(i=!1);var o=this.getItem(a);if(o&&(i&&r.call(this,o),o.parent!==this._root)){var l=this.getItem(o.parent);r.call(this,l),this.eachParent(o.parent,r)}},d.prototype.haveItems=function(a){return a in this._childs},d.prototype.canCopy=function(a,r){if(a===r)return!1;var i=!0;return this.eachParent(r,function(o){return o.id===a?i=!1:null}),i},d.prototype.serialize=function(a,r){void 0===a&&(a=v.DataDriver.json);var i=this._serialize(this._root,r),o=(0,y.toDataDriver)(a);if(o)return o.serialize(i)},d.prototype.getId=function(a,r){if(void 0===r&&(r=this._root),this._childs[r]&&this._childs[r][a])return this._childs[r][a].id},d.prototype.map=function(a,r,i){void 0===r&&(r=this._root),void 0===i&&(i=!0);var o=[];if(!this.haveItems(r))return o;for(var l=0;l<this._childs[r].length;l++)if(o.push(a.call(this,this._childs[r][l],l,this._childs)),i){var f=this.map(a,this._childs[r][l].id,i);o=o.concat(f)}return o},d.prototype.getRawData=function(a,r,i,o,l){var f;return this._childs[l=l??this._root]?(f=l===this._root?c.prototype.getRawData.call(this,a,r,this._childs[l]):this._childs[l],2===o?this.flatten(f):f):[]},d.prototype.flatten=function(a){var r=this,i=[];return a.forEach(function(o){i.push(o);var l=r._childs[o.id];l&&o.$opened&&(i=i.concat(r.flatten(l)))}),i},d.prototype._add=function(a,r,i,o){void 0===r&&(r=-1),void 0===i&&(i=this._root),this._setParent(a,i),o>0&&-1!==r&&(r+=1);var l=c.prototype._add.call(this,a,r);if(Array.isArray(a.items))for(var f=0,_=a.items;f<_.length;f++)this.add(_[f],-1,a.id);return l},d.prototype._setParent=function(a,r){a.parent=a.parent?a.parent.toString():r;var i=this._pull[a.parent];i&&!i.items&&(i.items=[])},d.prototype._copy=function(a,r,i,o,l){if(void 0===i&&(i=this),void 0===o&&(o=this._root),!this.exists(a))return null;var f=this._childs[a];if(l&&(r=-1===r?-1:r+l),i===this&&!this.canCopy(a,o))return null;var _=(0,y.copyWithoutInner)(this.getItem(a),{items:!0});if(i.exists(a)&&(_.id=(0,x.uid)()),(0,y.isTreeCollection)(i)){if(this.exists(a)&&(_.parent=o,i!==this&&o===this._root&&(_.parent=i.getRoot()),i.add(_,r),a=_.id),f)for(var b=0,I=f;b<I.length;b++){var O=I[b].id,P=this.getIndex(O);"string"==typeof a&&this.copy(O,P,i,a)}return a}i.add(_,r)},d.prototype._move=function(a,r,i,o,l){if(void 0===i&&(i=this),void 0===o&&(o=this._root),!this.exists(a))return null;if(l&&(r=-1===r?-1:r+l),i!==this){if(!(0,y.isTreeCollection)(i))return i.add((0,y.copyWithoutInner)(this.getItem(a)),r),void this.remove(a);var f=this.copy(a,r,i,o);return this.remove(a),f}if(!this.canCopy(a,o))return null;var _=this.getParent(a),b=this.getIndex(a),I=this._childs[_].splice(b,1)[0];return I.parent=o,this._childs[_].length||delete this._childs[_],this.haveItems(o)||(this._childs[o]=[]),-1===r?r=this._childs[o].push(I):this._childs[o].splice(r,0,I),this.events.fire(v.DataEvents.change,[a,"update",this.getItem(a)]),a},d.prototype._reset=function(a){var r;if((0,x.isId)(a))for(var i=0,o=C([],this._childs[a],!0);i<o.length;i++)this.remove(o[i].id);else{c.prototype._reset.call(this);var f=this._root;this._initChilds=null,this._childs=((r={})[f]=[],r)}},d.prototype._removeCore=function(a){if(this._pull[a]){var r=this.getParent(a);this._childs[r]=this._childs[r].filter(function(i){return i.id!==a}),r===this._root||this._childs[r].length||delete this._childs[r],this._initChilds&&this._initChilds[r]&&(this._initChilds[r]=this._initChilds[r].filter(function(i){return i.id!==a}),r===this._root||this._initChilds[r].length||delete this._initChilds[r]),this._initOrder&&this._initOrder.length&&(this._initOrder=this._initOrder.filter(function(i){return i.id!==a})),this._fastDeleteChilds(this._childs,a),this._initChilds&&this._fastDeleteChilds(this._initChilds,a)}},d.prototype._addToOrder=function(a,r,i){var o=this._childs,l=this._initChilds,f=r.parent;this._pull[r.id]=r,r.parent&&this._pull[r.parent]&&this._pull[r.parent].items&&!this._pull[r.parent].items.find(function(_){return _.id===r.id})&&this._pull[r.parent].items.push(r),c.prototype._addToOrder.call(this,a,r,i),u(o,r,f,i),l&&u(l,r,f,i)},d.prototype._parse_data=function(a,r){var i;void 0===r&&(r=this._root);for(var o=this._order.length,l=0,f=a;l<f.length;l++){var _=f[l];this.config.init&&(_=this.config.init(_)),_&&"object"!=typeof _&&(_={value:_}),_.id=null!==(i=_.id)&&void 0!==i?i:(0,x.uid)(),_.parent=null==_.parent||_.parent&&_.$items?r:_.parent,this._pull[_.id]&&(0,y.dhxError)("Item ".concat(_.id," already exist")),this._pull[_.id]=_,this._order[o++]=_,this._childs[_.parent]||(this._childs[_.parent]=[]),this._childs[_.parent].push(_),_.items&&_.items instanceof Object&&this._parse_data(_.items,_.id)}},d.prototype._fastDeleteChilds=function(a,r){if(this._pull[r]&&delete this._pull[r],a[r]){for(var i=0;i<a[r].length;i++)this._fastDeleteChilds(a,a[r][i].id);delete a[r]}},d.prototype._recursiveFilter=function(a,r,i,o,l){var f=this,_=this._childs[i];if(_){var b=function(V){switch(r.type){case v.TreeFilterType.all:return!0;case v.TreeFilterType.level:return o===r.level;case v.TreeFilterType.leafs:return!f.haveItems(V.id)}};if("function"==typeof a){var I=function(V){return b(V)&&a(V)};(O=_.filter(I)).length?l[i]=O:i===this._root&&(l[i]=[])}else{var O;(O=_.filter(I=function(V){var U,B=!0;for(var F in a)if(a[F].by&&""!==a[F].match&&(B=a[F].compare?a[F].compare(V[a[F].by],a[F].match,V):-1!==(null===(U=V[a[F].by])||void 0===U?void 0:U.toString().toLocaleLowerCase().indexOf(a[F].match.toString().toLowerCase()))),!B)break;return b(V)&&B})).length?l[i]=O:i===this._root&&(l[i]=[])}for(var P=0,R=_;P<R.length;P++)this._recursiveFilter(a,r,R[P].id,o+1,l)}},d.prototype._serialize=function(a,r){var i=this;return void 0===a&&(a=this._root),this.map(function(o){var l={};for(var f in o)"parent"===f||"items"===f||f.startsWith("$")||(l[f]=o[f]);return r&&(l=r(l)),i.haveItems(o.id)&&(l.items=i._serialize(o.id,r)),l},a,!1)},d.prototype._applyFilter=function(a,r){var i=this;if(a&&("function"==typeof a||!(0,x.isEmptyObj)(a))){var o;this._initOrder||(this._initOrder=this._order),this._initChilds||(this._initChilds=this._childs);var l={};if("function"!=typeof a)if(o={},(0,x.isDefined)(a.by))o[a.by]=a;else for(var f in a)o[f]=a[f];else o=a;this._recursiveFilter(o,r,this._root,0,l),Object.keys(l).forEach(function(_){for(var b=i.getParent(_),I=i.getItem(_);b;)l[b]||(l[b]=[]),I&&!l[b].find(function(O){return O.id===I.id})&&l[b].push(I),I=i.getItem(b),b=i.getParent(b)}),this._childs=l}},d.prototype._normalizeFilters=function(a){var r={};for(var i in a)r[i]=a[i].rule;return r},d}(m.DataCollection);E.TreeCollection=h},function(ne,E,D){"use strict";var S=this&&this.__assign||function(){return S=Object.assign||function(d){for(var a,r=1,i=arguments.length;r<i;r++)for(var o in a=arguments[r])Object.prototype.hasOwnProperty.call(a,o)&&(d[o]=a[o]);return d},S.apply(this,arguments)},T=this&&this.__spreadArray||function(d,a,r){if(r||2===arguments.length)for(var i,o=0,l=a.length;o<l;o++)!i&&o in a||(i||(i=Array.prototype.slice.call(a,0,o)),i[o]=a[o]);return d.concat(i||Array.prototype.slice.call(a))};Object.defineProperty(E,"__esModule",{value:!0}),E.dragManager=void 0;var C=D(2),x=D(137),m=D(170),p=D(22),y=D(23),v=D(1);function u(d){var a=d.targetTouches?d.targetTouches[0].clientX:d.clientX,r=d.targetTouches?d.targetTouches[0].clientY:d.clientY,i=document.elementFromPoint(a,r);return i?.shadowRoot?i.shadowRoot.elementFromPoint(a,r):i}var h=function(){function d(){var a=this;this._transferData={},this._canMove=!0,this._isDrag=!1,this._onMouseMove=function(r){if(a._transferData.start){var i=r.targetTouches?r.targetTouches[0].pageX:r.pageX,o=r.targetTouches?r.targetTouches[0].pageY:r.pageY,l=a._transferData,_=l.y,b=l.start,I=l.componentId;if(!a._transferData.ghost){if(Math.abs(l.x-i)<3&&Math.abs(_-o)<3)return;var O=a._onDragStart(b,I,r);if(!O)return void a._endDrop(r);a._transferData.ghost=O,document.body.appendChild(a._transferData.ghost)}a._moveGhost(i,o),a._onDrag(r)}},this._onMouseUp=function(r){a._transferData.x&&(a._transferData.ghost?(a._removeGhost(),a._onDrop(r)):a._endDrop(r),r.targetTouches?(document.removeEventListener("touchmove",a._onMouseMove),document.removeEventListener("touchend",a._onMouseUp)):(document.removeEventListener("mousemove",a._onMouseMove),document.removeEventListener("mouseup",a._onMouseUp)))}}return d.prototype.setItem=function(a,r){m.collectionStore.setItem(a,r)},d.prototype.onMouseDown=function(a,r,i){if(1===a.which||a.targetTouches){a.targetTouches?(document.addEventListener("touchmove",this._onMouseMove,!1),document.addEventListener("touchend",this._onMouseUp,!1)):(document.addEventListener("mousemove",this._onMouseMove),document.addEventListener("mouseup",this._onMouseUp));var o=u(a),l=(0,C.locateNode)(o,"data-dhx-id"),f=l&&l.getAttribute("data-dhx-id"),_=(0,C.locate)(o,"data-dhx-widget-id");if(Array.isArray(r)&&r.includes(f)?(this._transferData.source=T([],r,!0),this._itemsForGhost=i):(this._transferData.source=[f],this._itemsForGhost=null),f&&_){var b=(0,C.getBox)(l),O=b.top,P=a.targetTouches?a.targetTouches[0].pageX:a.pageX,R=a.targetTouches?a.targetTouches[0].pageY:a.pageY;this._transferData.initXOffset=P-b.left,this._transferData.initYOffset=R-O,this._transferData.x=P,this._transferData.y=R,this._transferData.componentId=_,this._transferData.start=f,this._transferData.item=l}}},d.prototype.isDrag=function(){return this._isDrag},d.prototype.cancelCanDrop=function(a){this._canMove=!1,this._isDrag=!1;var r=this._transferData,l=r.target,_={start:r.start,source:r.source,target:l},b=m.collectionStore.getItem(r.dropComponentId);b&&l&&b.events.fire(p.DragEvents.cancelDrop,[_,a]),this._transferData.dropComponentId=null,this._transferData.target=null},d.prototype._moveGhost=function(a,r){this._transferData.ghost&&(this._transferData.ghost.style.left=a-this._transferData.initXOffset+"px",this._transferData.ghost.style.top=r-this._transferData.initYOffset+"px")},d.prototype._removeGhost=function(){document.body.removeChild(this._transferData.ghost)},d.prototype._onDrop=function(a){if(this._canMove){var r=this._transferData,i=r.start,l=r.target,_={start:i,source:r.source,target:l,dropPosition:r.dropPosition},b=m.collectionStore.getItem(r.dropComponentId);if(b&&"source"!==(b&&b.config).dragMode){if(b.events.fire(p.DragEvents.beforeDrop,[_,a])){var O={id:l,component:b},P={id:i,component:this._transferData.component,newId:null};this._move(P,O),P.newId&&P.component!==O.component&&(_.start=P.newId),O.component.events.fire(p.DragEvents.afterDrop,[_,a])}this._endDrop(a)}else this._endDrop(a)}else this._endDrop(a)},d.prototype._onDragStart=function(a,r,i){var o=m.collectionStore.getItem(r),l=o.config,f=this._transferData,_={start:f.start,source:f.source,target:f.target};if("target"===l.dragMode||o._pregroupData)return null;var b=function(I,O,P){void 0===P&&(P=!1);var R=I.getBoundingClientRect(),N=document.createElement("div"),V=I.cloneNode(!0),U=window.getComputedStyle(I.parentElement).fontSize;return V.style.width=R.width+"px",V.style.height=R.height+"px",V.style.maxHeight=R.height+"px",V.style.opacity="0.8",V.style.fontSize=U,P&&O&&O.length||N.appendChild(V),O&&O.length&&O.forEach(function(B,F){var W=B.cloneNode(!0);W.style.width=R.width+"px",W.style.height=R.height+"px",W.style.maxHeight=R.height+"px",W.style.top=12*(F+1)-R.height-R.height*F+"px",W.style.left=12*(F+1)+"px",W.style.opacity="0.6",W.style.zIndex="".concat(-F-1),P||(W.style.fontSize=U,W.style.overflow="hidden"),N.appendChild(W)}),N.className="dhx_drag-ghost",N}(this._transferData.item,this._itemsForGhost,"row"===l.dragItem||"column"===l.dragItem||"both"===l.dragItem);return o.events.fire(p.DragEvents.beforeDrag,[_,i,b])&&(0,v.isId)(a)?(o.events.fire(p.DragEvents.dragStart,[_,i]),this._isDrag=!0,this._toggleTextSelection(!0),this._transferData.component=o,this._transferData.dragConfig=l,b):null},d.prototype._onDrag=function(a){var r=u(a),i=(0,C.locate)(r,"data-dhx-widget-id"),o=m.collectionStore.getItem(i);if(o){var l=!!(0,C.locateNodeByClassName)(r,"dhx_grid-header")||!!(0,C.locateNodeByClassName)(r,"dhx_grid-footer"),f=o.config.columns?o.config:void 0;if(!l||f&&("both"===f.dragItem||"column"===f.dragItem)){var b=(0,C.locate)(r,"data-dhx-id"),I=(0,C.locate)(r,"data-dhx-root-id");if(!b&&!I)return this.cancelCanDrop(a),this._transferData.dropComponentId=i,this._transferData.target=null,void this._canDrop(a);var O=this._transferData,P=O.dropComponentId,R=O.start,N=O.source,V=O.target,U=O.componentId,B=O.dropPosition;if("complex"===o.config.dropBehaviour){var F=function(M){var $=M.targetTouches?M.targetTouches[0].clientY:M.clientY,Y=(0,C.locateNode)(u(M));if(!Y)return null;var ee=Y.childNodes[0];if(ee){var J=ee.getBoundingClientRect();return($-J.top)/J.height}}(a);this._transferData.dropPosition=F<=.25?"top":F>=.75?"bottom":"in"}else if((V===b||!b&&V===I)&&P===i)return;var W={id:R,component:this._transferData.component};"source"!==o.config.dragMode&&(W.component.events.fire(p.DragEvents.dragOut,[{start:R,source:N,target:V},a]),i!==U||!(0,y.isTreeCollection)(W.component.data)||(0,y.isTreeCollection)(W.component.data)&&W.component.data.canCopy(W.id,b)?(this.cancelCanDrop(a),this._transferData.target=b||I,this._transferData.dropComponentId=i,W.component.events.fire(p.DragEvents.dragIn,[{start:R,source:N,target:V,dropPosition:B},a])&&this._canDrop(a)):this.cancelCanDrop(a))}else this._canMove&&this.cancelCanDrop(a)}else this._canMove&&this.cancelCanDrop(a)},d.prototype._move=function(a,r){var i=a.component,o=r.component,l=a.component.data,f=r.component.data,_=0,b=r.id,I=(0,y.isTreeCollection)(f)?r.component.config.dropBehaviour:void 0,O=a.component.config.columns?a.component.config:void 0,P=O&&("both"===O.dragItem||"column"===O.dragItem)&&O.columns.map(function(J){return J.id}).filter(function(J){return J===a.id||J===r.id}).length;if(P&&a.component===r.component){if(a.id===r.id)return;var R=(N=i.config.columns.map(function(J){return S({},J)})).findIndex(function(J){return J.id===a.id});return-1===(B=N.findIndex(function(J){return J.id===r.id}))?void 0:(N.splice(B,0,N.splice(R,1)[0]),i.setColumns(N),void i.paint())}if(P&&a.component instanceof x.ProGrid&&r.component instanceof x.ProGrid){R=(N=i.config.columns.map(function(J){return S({},J)})).findIndex(function(J){return J.id===a.id});var N,V=o.config.columns.map(function(J){return S({},J)}),U=o.data.getLength(),B=V.findIndex(function(J){return J.id===r.id}),F=[],W=a.id;i.data.forEach(function(J){var Z;F.push(((Z={id:J.id})[W]=J[a.id],Z))}),U?i.data.forEach(function(J,Z){var j=o.data.getItem(J.id);j?o.data.update(j.id,S(S({},j),F[Z])):o.data.add(F[Z])}):o.data.parse(F);var M=N.splice(R,1)[0];return V.find(function(J){return J.id===W})||V.splice(B,0,M),o.setColumns(V),o.paint(),i.setColumns(N),void i.paint()}var $=r.id===o.config.rootParent;switch(I){case"child":break;case"sibling":b=f.getParent(b),_=f.getIndex(r.id)+1;break;case"complex":var Y=this._transferData.dropPosition;$?(b=r.id,_=f.getLength()):"top"===Y?(b=f.getParent(b),_=f.getIndex(r.id)):"bottom"===Y&&(b=f.getParent(b),_=f.getIndex(r.id)+1);break;default:(0,v.isId)(r.id)?a.component===r.component&&f.getIndex(a.id)<f.getIndex(r.id)?_=f.getIndex(r.id)-1:(f.getIndex(a.id)>-1&&(a.newId=(0,v.uid)()),_=f.getIndex(r.id)):_=-1}if(this._transferData.dragConfig.dragCopy)this._transferData.source instanceof Array&&this._transferData.source.length>1?this._transferData.source.map(function(J){l.copy(J,_,f,b),_>-1&&_++}):l.copy(a.id,_,f,b);else if(this._transferData.source instanceof Array&&this._transferData.source.length>1)l.move(this._transferData.source,_,f,b);else if(o instanceof x.Grid&&!o.config.columns.length){var ee=i.data.getItem(a.id);o.data.parse([S({},ee)]),o.setColumns(T([],i.config.columns,!0)),o.paint(),i.data.remove(a.id),i.paint()}else l.move(a.id,_,f,b,a.newId)},d.prototype._endDrop=function(a){if(this._toggleTextSelection(!1),this._transferData.component){var r=this._transferData;this._transferData.component.events.fire(p.DragEvents.afterDrag,[{start:r.start,source:r.source,target:r.target},a])}this.cancelCanDrop(a),this._canMove=!0,this._transferData={},this._transferData.target=null,this._transferData.dropComponentId=null},d.prototype._canDrop=function(a){this._canMove=!0;var r=this._transferData,i={start:r.start,source:r.source,target:r.target,dropPosition:r.dropPosition},o=m.collectionStore.getItem(this._transferData.dropComponentId);o&&this._transferData.target&&(o instanceof x.Grid&&(i.dragItem=this._transferData.item.classList.contains("dhx_grid-row")?"row":"column"),o.events.fire(p.DragEvents.canDrop,[i,a]))},d.prototype._toggleTextSelection=function(a){a?document.body.classList.add("dhx_no-select"):document.body.classList.remove("dhx_no-select")},d}(),c=window.dhxHelpers=window.dhxHelpers||{};c.dragManager=c.dragManager||new h,E.dragManager=c.dragManager},function(ne,E,D){"use strict";var S=this&&this.__createBinding||(Object.create?function(x,m,p,y){void 0===y&&(y=p);var v=Object.getOwnPropertyDescriptor(m,p);v&&!("get"in v?!m.__esModule:v.writable||v.configurable)||(v={enumerable:!0,get:function(){return m[p]}}),Object.defineProperty(x,y,v)}:function(x,m,p,y){void 0===y&&(y=p),x[y]=m[p]}),T=this&&this.__exportStar||function(x,m){for(var p in x)"default"===p||Object.prototype.hasOwnProperty.call(m,p)||S(m,x,p)};Object.defineProperty(E,"__esModule",{value:!0}),E.getTreeCell=void 0,T(D(72),E),T(D(169),E),T(D(7),E),T(D(26),E);var C=D(33);Object.defineProperty(E,"getTreeCell",{enumerable:!0,get:function(){return C.getTreeCell}}),T(D(18),E),T(D(15),E)},function(ne,E,D){"use strict";var S=this&&this.__assign||function(){return S=Object.assign||function(h){for(var c,d=1,a=arguments.length;d<a;d++)for(var r in c=arguments[d])Object.prototype.hasOwnProperty.call(c,r)&&(h[r]=c[r]);return h},S.apply(this,arguments)},T=this&&this.__spreadArray||function(h,c,d){if(d||2===arguments.length)for(var a,r=0,i=c.length;r<i;r++)!a&&r in c||(a||(a=Array.prototype.slice.call(c,0,r)),a[r]=c[r]);return h.concat(a||Array.prototype.slice.call(c))};Object.defineProperty(E,"__esModule",{value:!0}),E.Exporter=void 0;var C=D(15),x=D(8),m=D(1),p=D(24),y=D(2),v=D(0),u=function(){function h(c,d,a){this._name=c,this._version=d,this._view=a}return h.prototype.pdf=function(c){this._rawExport(c,"pdf",this._view)},h.prototype.png=function(c){this._rawExport(c,"png",this._view)},h.prototype.xlsx=function(c){return this._export(c)},h.prototype.csv=function(c){var d;return void 0===c&&(c={}),c=S({asFile:!0,rowDelimiter:"\n",columnDelimiter:",",skipHeader:0},c),d="getRoot"in this._view.data&&c.flat?this.getFlatCSV(c):this._getCSV(c),c.asFile&&(0,m.downloadFile)(d,"".concat(c.name||"grid_export",".csv"),"text/csv"),d},h.prototype._export=function(c){var d=this;void 0===c&&(c={});for(var a=this._view.config.columns.filter(function(M){return!M.hidden}),r={},i=(0,C.transpose)(a.map(function(M){return M.header.map(function($){return $.text||" "})})),o=[],l={default:{color:"#000000",background:"#FFFFFF",fontSize:14,bold:!1}},f=[],_={},b={},I=this._view.data.serialize().map(function(M,$){var Y=d._view.data.getItem(M.id);return Y.$css&&(b[Y.id]=Y.$css),r[M.id]=$,a.map(function(J,Z){if(_[J.id]=Z,M[J.id]instanceof Date){var j=J.format||"%M %d %Y";"string"==typeof M[J.id]?M[J.id]=(0,p.getFormattedDate)(j,(0,p.stringToDate)(M[J.id],j)):"object"==typeof M[J.id]&&(M[J.id]=(0,p.getFormattedDate)(j,M[J.id]))}return M[J.id]||Z||!M.$groupName?(0,C.removeHTMLTags)(M[J.id]):"^ ".concat(M.$groupName)})}),O=[],P=this._view.content,R=function(M){if(M.footer){var $=M.id,Y=N._view.data.serialize().reduce(function(he,fe){return void 0===fe[$]||""===fe[$]||isNaN(fe[$])||he.push(parseFloat(fe[$])),he},[]),ee=Y;if("tree"===N._view.config.type){var J=N._view.data;ee=J.serialize().reduce(function(he,fe){if(0===fe.$level)if(void 0===fe[$]||""===fe[$]||isNaN(fe[$])){var ge=0;J.eachChild(fe.id,function(ve){J.haveItems(ve.id)||(ge+=parseFloat(ve[$]))}),he.push(ge)}else he.push(parseFloat(fe[$])||0);return he},[])}if(M.footer[0].content){var Z=P[M.footer[0].content].calculate(Y,ee);O.push(Z?.toString()||" ")}else O.push(M.footer[0].css||M.footer[0].text||" ")}var j="number"===M.type||"percent"===M.type?"right":M.align;for(var L in o.push({width:M.$width,align:j}),M.$cellCss){var G="dhx_grid-cell ".concat(M.$cellCss[L].trim()),X=N._getHash(G),ae="dhx_grid-row";b[L]&&(ae+=" ".concat(b[L].trim())),!l[X]&&(ie=(0,C.getStyleByClass)(G,ae,l.default))&&(l[X]=ie),l[X]&&f.push([r[L],a.indexOf(M),X])}for(var L in b)if(!M.$cellCss[L]){var ie,re=N._getHash(b[L]);ae="dhx_grid-row ".concat(b[L].trim()),l[re]||(ie=(0,C.getStyleByClass)("dhx_grid-cell",ae,l.default))&&(l[re]=ie),l[re]&&f.push([r[L],a.indexOf(M),re])}},N=this,V=0,U=a;V<U.length;V++)R(U[V]);O.length&&I.push(O);var B={name:c.name||"data",columns:o,header:i,data:I,styles:{cells:f,css:l}};if(c.url){var F=document.createElement("form");F.setAttribute("target","_blank"),F.setAttribute("action",c.url),F.setAttribute("method","POST"),F.style.visibility="hidden";var W=document.createElement("textarea");W.setAttribute("name","data"),W.value=JSON.stringify(B),F.appendChild(W),document.body.appendChild(F),F.submit(),setTimeout(function(){F.parentNode.removeChild(F)},100)}return B},h.prototype.getFlatCSV=function(c){var d=this._view.data,a=d.getRoot(),r=this._view.config.columns[0],i=d.getMaxLevel(),o="";d.eachChild(a,function(b){var I=function(O,P){for(var R=[],N=0;N<=i;N++)if(O&&O[r.id]){R[O.$level]=O[r.id];var V=P.getParent(O.id,!0);O=V&&V.id?V:null}else R[N]="";return R}(b,d).join(c.columnDelimiter);o+=I+Object.keys(b).reduce(function(O,P,R){return"id"===P||"parent"===P||P.startsWith("$")||0===R?O:O+c.columnDelimiter+(null===b[P]?"":b[P])},""),o+=c.rowDelimiter});var l=this._export(c),f=function(b,I){for(var O=0;O<b.length;O++)b[O]="";return b}(new Array(i+1)),_=l.header.map(function(b){return b.splice.apply(b,T([0,1],f,!1)),b});return new x.CsvDriver(c).serialize(_,!0)+c.rowDelimiter+o},h.prototype._getCSV=function(c){var d=this._export(c),a=d.header,r=new x.CsvDriver(c);return r.serialize(a,!0)+"\n"+r.serialize(d.data,!0)},h.prototype._rawExport=function(c,d,a){var r;void 0===c&&(c={});var i=document.createElement("div");i.setAttribute("style","display: none;");var o=a.config,l=o.$headerHeight,f=void 0===l?0:l,_=o.$footerHeight,b=void 0===_?0:_,I=o.$totalHeight,O=void 0===I?0:I,P=o.$footer,R=o.columns,N="",V=a.config.exportStyles;if(("boolean"==typeof c.exportStyles||Array.isArray(c.exportStyles))&&(V=c.exportStyles),c.url=c.url||"https://export.dhtmlx.com/"+this._name+"/"+d+"/"+this._version,"pdf"===d){var U=c.pdf;c.pdf=S(S({},U),{printBackground:!1,format:null!==(r=U?.format)&&void 0!==r?r:"A4"})}var B=a.config.$totalWidth,F=O+f;P&&(F+=b);for(var W=[],M=0;M<R.length;M++){var $=R[M];W.push(S(S({},$),{width:$.$width}))}var Y=S(S({},a.config),{width:B,height:F,columns:W,data:a.data.getRawData(0,-1,null,2),keyNavigation:!1,selection:!1,resizable:!1}),ee=new a.constructor(i,(0,m.getCloneObject)(Y));(0,v.awaitRedraw)().then(function(){!0===V?N="".concat((0,y.getPageLinksCss)(),"<style>").concat((0,y.getPageInlineCss)(),"</style>"):Array.isArray(V)&&V.length&&(N="".concat((0,y.getPageLinksCss)(V)));var J=i.children[0];J?.setAttribute("data-dhx-theme",c.theme||"light"),"png"===d&&J?.setAttribute("style","width: ".concat(B,"px;"));var Z="\n\t\t\t\t\t".concat(N,"\n\t\t\t\t\t").concat(i.innerHTML,"\n\t\t\t\t"),j=document.createElement("form");j.setAttribute("method","POST"),j.setAttribute("action",c.url),j.innerHTML='<input type="hidden" name="raw"><input type="hidden" name="config">',j.childNodes[0].value=Z,j.childNodes[1].value=JSON.stringify(c),document.body.appendChild(j),j.submit(),setTimeout(function(){var L,G;ee.destructor(),null===(L=i.parentNode)||void 0===L||L.removeChild(i),null===(G=j.parentNode)||void 0===G||G.removeChild(j)},100)}).catch(function(){var J;ee.destructor(),null===(J=i.parentNode)||void 0===J||J.removeChild(i)})},h.prototype._getHash=function(c){return c.split("").reduce(function(d,a){var r=(d<<5)-d+a.charCodeAt(0);return Math.abs(r&r)},0).toString()},h}();E.Exporter=u},function(ne,E,D){"use strict";var S=this&&this.__spreadArray||function(a,r,i){if(i||2===arguments.length)for(var o,l=0,f=r.length;l<f;l++)!o&&l in r||(o||(o=Array.prototype.slice.call(r,0,l)),o[l]=r[l]);return a.concat(o||Array.prototype.slice.call(r))};Object.defineProperty(E,"__esModule",{value:!0}),E.Selection=void 0;var T=D(0),C=D(8),x=D(1),m=D(3),p=D(7),y=D(31),v=D(25),u=D(25),h=D(15),c=D(26),d=function(){function a(r,i,o,l){this._grid=r,this.config=i,this._gridId=l,this._selectedCells=[],this._type=["cell","row","complex"].includes(this._grid.config.selection)&&this._grid.config.selection||"complex",this._multiselection=!!r.config.multiselection,this.events=o||new m.EventSystem(this),this._init()}return a.prototype.setCell=function(r,i,o,l){var f,_,b,I,O,P,R,N,V,U,B,F,W=this;void 0===o&&(o=!1),void 0===l&&(l=!1);var M="tree"===this._grid.config.type;if(this._gridId&&y.focusManager.getFocusId()!==this._gridId&&y.focusManager.setFocusId(this._gridId),"row"===this._type&&(null===(b=this._selectedCells[0])||void 0===b?void 0:b.row.id)===(r?.id||r)||"row"!==this._type&&(null===(I=this._selectedCells[0])||void 0===I?void 0:I.row.id)===(r?.id||r)&&(null===(O=this._selectedCells[0])||void 0===O?void 0:O.column.id)===(i?.id||i))o&&(this._removeCell(null===(P=this._selectedCells[0])||void 0===P?void 0:P.row,null===(R=this._selectedCells[0])||void 0===R?void 0:R.column),(0,T.awaitRedraw)().then(function(){W._grid.paint(),W._setBrowserFocus()}));else if(!(this.config.disabled||this._grid.config.$editable||!this._multiselection&&this._selectedCells.length&&!this._removeCell(null===(N=this._selectedCell)||void 0===N?void 0:N.row,null===(V=this._selectedCell)||void 0===V?void 0:V.column))){if(this._multiselection){if(o||l||this._removeCells(),this._selectedCells.find(function(X){return"row"===W._type?X.row.id===(r?.id||r):X.row.id===(r?.id||r)&&X.column.id===(i?.id||i)}))return void this.removeCell(r?.id||r,i?.id||i);l&&this._selectedCells.length>1&&!M&&S([],this._selectedCells,!0).forEach(function(X,ae){ae>0&&W.removeCell(X.row.id,X.column.id)})}r=this._grid.data.getItem(r&&r.id||r);var $=null===(B=null===(U=this._grid.config)||void 0===U?void 0:U.columns)||void 0===B?void 0:B.filter(function(X){return!X.hidden});if(i||(i=$?.[0]),(i=this._grid.getColumn(i.id||i))&&r){if(this._multiselection&&l&&this._selectedCells.length&&!M){var Y=null===(F=this._selectedCells)||void 0===F?void 0:F[0],ee=this._grid.data.getIndex(Y.row.id),J=this._grid.data.getIndex(r.id);if(ee>J&&(ee=(f=[J,ee])[0],J=f[1]),"cell"===this._type||"complex"===this._type){var Z=$.map(function(X){return X.id}),j=Z.indexOf(Y.column.id),L=Z.indexOf(i.id);if(-1!==j&&-1!==L){j>L&&(j=(_=[L,j])[0],L=_[1]);var G=$.slice(j,L+1);this._grid.data.mapRange(ee,J,function(X){G.forEach(function(ae){-1===W._findIndex({row:X,column:ae})&&W._setCell(X,ae)})})}}else this._grid.data.mapRange(ee,J,function(X){-1===W._findIndex({row:X,column:i})&&W._setCell(X,i)})}else this._setCell(r,i);(0,T.awaitRedraw)().then(function(){W._grid.paint(),W._setBrowserFocus()})}}},a.prototype.removeCell=function(r,i){var o=this;if(r&&i&&("cell"===this._type||"complex"===this._type)){var l=this._selectedCells.find(function(f){return f.row.id==r&&f.column.id==i});l&&this._removeCell(l.row,l.column)}else r?this._selectedCells.filter(function(f){return f.row.id==r}).forEach(function(f){o._removeCell(f.row,f.column)}):this._removeCells();(0,T.awaitRedraw)().then(function(){o._grid.paint()})},a.prototype.getCell=function(){return this._selectedCell},a.prototype.getCells=function(){return this._selectedCells},a.prototype.disable=function(){this.removeCell(),this.config.disabled=!0,this._grid.paint()},a.prototype.enable=function(){this.config.disabled=!1,this._grid.paint()},a.prototype.toHTML=function(){var r=this;if(!this._isUnselected()){if(this._multiselection){var i=[],o={};return this._selectedCells.forEach(function(f,_,b){var I=(0,c.normalizeCell)(f,r._grid);i.push(r._toHTML(I.row,I.column,_===b.length-1||"cell"===r._type||"complex"===r._type,o[f.row.id])),o[f.row.id]=!0}),i}var l=(0,c.normalizeCell)(this._selectedCell,this._grid);return this._toHTML(l.row,l.column,!0)}},a.prototype._setCell=function(r,i){r&&i&&(0,x.isDefined)(r.id)&&(0,x.isDefined)(i.id)&&this.events.fire(p.GridSelectionEvents.beforeSelect,[r,i])&&(this._selectedCell={row:r,column:i},this._multiselection?this._selectedCells.push(this._selectedCell):this._selectedCells=[this._selectedCell],this.events.fire(p.GridSelectionEvents.afterSelect,[r,i]))},a.prototype._removeCell=function(r,i,o){var l,f;if(void 0===o&&(o=!1),!(r&&i&&(0,x.isDefined)(r.id)&&(0,x.isDefined)(i.id))||!o&&!this.events.fire(p.GridSelectionEvents.beforeUnSelect,[r,i]))return!1;var _=this._selectedCells.findIndex(function(b){return b.row.id===r.id&&b.column.id===i.id});return this._selectedCells.splice(_,1),this._selectedCell&&i.id===this._selectedCell.column.id&&r.id===this._selectedCell.row.id&&(this._selectedCell=null===(l=this._selectedCells)||void 0===l?void 0:l[(null===(f=this._selectedCells)||void 0===f?void 0:f.length)-1]),!o&&this.events.fire(p.GridSelectionEvents.afterUnSelect,[r,i]),!0},a.prototype._removeCells=function(r){var i=this;void 0===r&&(r=!1),S([],this._selectedCells,!0).forEach(function(o){i._removeCell(o?.row,o?.column,r)})},a.prototype._init=function(){var r=this;this._grid.events.on(p.GridEvents.cellClick,function(i,o,l){r.setCell(i,o,l.ctrlKey||l.metaKey,l.shiftKey)}),this._grid.data.events.on(C.DataEvents.beforeRemove,function(i){var o,l;if(i&&r._selectedCell&&r._selectedCell.row&&r._selectedCell.row.id===i.id){var f=void 0,_=r._grid.data.getIndex(i.id);if(r._grid.data instanceof C.TreeCollection){var b=r._grid.data.getItems(i.parent);f=(null===(o=b[_+1])||void 0===o?void 0:o.id)||(null===(l=b[_-1])||void 0===l?void 0:l.id)||i.parent}else f=r._grid.data.getId(_+1)||r._grid.data.getId(_-1);(0,x.isId)(f)&&(r.setCell(f),r._grid.paint())}}),this._grid.data.events.on(C.DataEvents.removeAll,function(){r._removeCells()}),this._grid.data.events.on(C.DataEvents.load,function(){r._removeCells(!0)})},a.prototype._toHTML=function(r,i,o,l){var f,_,b,I,O,P,R,N,V,U,B,F,W;void 0===o&&(o=!1),void 0===l&&(l=!1);var M=this._grid.data.getRawData(0,-1,null,2);if(-1===(0,x.findIndex)(M,function(vt){return vt.id==r.id}))return null;var $,Y,ee,J,Z=this._grid.config,j=Z.topSplit,L=Z.bottomSplit,G=Z.$totalWidth,X=Z.$totalHeight,ae=Z.columns,ie=ae?.filter(function(vt){return!vt.hidden}),re={left:(0,v.getCurrFixedCols)(this._grid.config,p.Split.left),right:(0,v.getCurrFixedCols)(this._grid.config,p.Split.right)},he=this._grid.data.getLength(),fe={top:j?this._grid.data.getRawData(0,j):[],bottom:L?this._grid.data.getRawData(he-L,he):[]},ge={left:null===(f=re?.left)||void 0===f?void 0:f.map(function(vt){return vt.id}),right:null===(_=re?.right)||void 0===_?void 0:_.map(function(vt){return vt.id})},ve={top:fe.top.map(function(vt){return vt.id}),bottom:fe.bottom.map(function(vt){return vt.id})},ye=null===(b=re?.left)||void 0===b?void 0:b.reduce(function(vt,an){return vt+(an.$width||0)},0),we=null===(I=re?.right)||void 0===I?void 0:I.reduce(function(vt,an){return vt+(an.$width||0)},0),De=fe.top.reduce(function(vt,an){return vt+an.$height},0),Te=fe.bottom.reduce(function(vt,an){return vt+an.$height},0),Ee=this._grid.getCellRect(r.id,i.id),ke=this._grid.getScrollState(),Ae=Ee.y,He=null===(O=ve.top)||void 0===O?void 0:O.includes(r.id),Le=null===(P=ge.left)||void 0===P?void 0:P.includes(i.id),Ne=re.left.length&&ye>Ee.x-ke.x,q=fe.top.length&&De>Ee.y-ke.y,me=Ee.width,tt=Ee.height-1,Qe=null,xt=null,at=Ne?ye+ke.x:Ee.x;if(Ne&&(me-=(Le?(0,h.getTotalWidth)(re.left.slice(0,ie.indexOf(i))):ye)-(Ee.x-ke.x)),q&&(tt-=(He?(0,h.getTotalHeight)(fe.top.slice(0,M.indexOf(r))):De)-(Ee.y-ke.y)-1,Ae+=Ee.height-tt),He)if(Ae=Ee.y+ke.y,(st=this._grid.getSpan(r.id,i.id))&&st.rowspan>1){var Je=M.indexOf(r);Qe=(0,h.getTotalHeight)(fe.top.slice(Je,Je+st.rowspan))}else tt=j===ve.top.indexOf(r.id)+1?Ee.height-1:Ee.height;if(Le&&(at=Ee.x+ke.x,(st=this._grid.getSpan(r.id,i.id))&&st.colspan>1?(Je=ie?.indexOf(i),xt=(0,h.getTotalWidth)(re.left.slice(Je,Je+st.colspan))):me=re.left.length===ge.left.indexOf(i.id)+1?Ee.width-1:Ee.width),null!==(R=re.right)&&void 0!==R&&R.length||L){var st=this._grid.getSpan(r.id,i.id),ot=this._getReverseScrollState(ke);if(null!==(N=re.right)&&void 0!==N&&N.length&&($=(null===(V=ge.right)||void 0===V?void 0:V.includes(i.id))||st&&ie.indexOf(i)+(st.colspan||1)>ie.length-re.right.length,(Y=G-we<ot.x+Ee.x+Ee.width)&&!$&&(me-=ot.x+Ee.x+Ee.width-G+we),$))if(!st||null!==(U=ge.right)&&void 0!==U&&U.includes(st.column)){var At=null!==(B=ge.right)&&void 0!==B&&B.indexOf(i.id)?0:1;at=Ee.x-ot.x+At,me=Ee.width-At}else{Je=ie.length-ie.indexOf(i)-(st.colspan||1);var Cn=G-we;at=Ee.x+ot.x<Cn+1?Ee.x:Cn-ot.x+1,xt=(0,h.getTotalWidth)(Je?re.right.slice(0,-Je):re.right)-1,me=Ee.width-ot.x}if(L&&(ee=ve.bottom.includes(r.id)||st&&M.indexOf(r)+(st.rowspan||1)>M.length-L,(J=X-Te<ot.y+Ee.y+Ee.height)&&!ee&&(tt-=ot.y+Ee.y+Ee.height-X+Te),ee))if(st&&!ve.bottom.includes(st.row)){var Dn=X-Te;At=(Je=M.length-M.indexOf(r)-(st.rowspan||1))?0:1,Ae=Ee.y+ot.y<Dn?Ee.y:Dn-ot.y,Qe=(0,h.getTotalHeight)(Je?fe.bottom.slice(0,-Je):fe.bottom)-At,tt=Ee.height-ot.y-At}else Ae=Ee.y-ot.y,tt=Ee.height-(L===ve.bottom.indexOf(r.id)+1?1:0)}var Rn=null;"row"!==this._type&&"complex"!==this._type||l||(Rn=(0,T.el)(".dhx_grid-selected-row",{style:{width:null!==(F=re.left)&&void 0!==F&&F.length?G-ke.x:G,height:tt,minHeight:Qe,minWidth:xt,display:tt<0&&!Qe?"none":"flex",top:Ae,left:null!==(W=re.left)&&void 0!==W&&W.length?ke.x:0,position:"absolute"}}));var qn=null;return"cell"!==this._type&&"complex"!==this._type||!o||(qn=(0,T.el)(".dhx_grid-selected-cell",{style:{width:me,height:tt,top:Ae,minHeight:Qe,minWidth:xt,left:at,position:"absolute",display:me<0&&!xt||tt<0&&!Qe?"none":"flex",borderLeft:Ne&&!Le?"none":null,borderRight:Y&&!$?"none":null,borderTop:q&&!He?"none":null,borderBottom:J&&!ee?"none":null}})),(0,T.el)(".dhx_grid-selection",{style:{zIndex:20}},[Rn,qn])},a.prototype._isUnselected=function(){return!this._selectedCell||!this._selectedCell.row||!this._selectedCell.column||0===this._selectedCells.length},a.prototype._findIndex=function(r){var i=this;void 0===r&&(r=this._selectedCell);var o=-1;return this._selectedCells.some(function(l,f){if("cell"===i._type||"complex"===i._type){if((0,x.compare)(l.row,r.row)&&(0,x.compare)(l.column,r.column))return o=f,!0}else if("row"===i._type&&(0,x.compare)(l.row,r.row))return o=f,!0}),o},a.prototype._setBrowserFocus=function(){var r=this._grid.getRootView().data.getRootNode();if(r){var i=r.querySelector(".dhx_grid_data");if(i&&this._selectedCell&&this._selectedCell.row&&this._selectedCell.column){var o=i.querySelector('[data-dhx-id="'.concat(this._selectedCell.row.id,'"]')),l=this._grid.getSpan(this._selectedCell.row.id,this._selectedCell.column.id);if(o){var f=l?r.querySelector(".dhx_span-spans"):null,_=f?f.querySelector('[data-dhx-col-id="'.concat(l.column,'"][data-dhx-id="').concat(l.row,'"]')):o.querySelector('[data-dhx-col-id="'.concat(this._selectedCell.column.id,'"]'));_&&(_.tabIndex=0,_.focus({preventScroll:!0}))}}}},a.prototype._getReverseScrollState=function(r){var i,o=(0,u.calcScrollBarWidth)(this._grid.config,!(null===(i=this._grid.scrollView)||void 0===i||!i.config.enable)),l=this._grid.config.$totalWidth-this._grid.config.$width+v.BORDERS+o.y,f=this._grid.config.$totalHeight-this._grid.config.$height+this._grid.config.$headerHeight+this._grid.config.$footerHeight+v.BORDERS+o.x;return{x:l>0?l-r.x:0,y:f>0?f-r.y:0}},a}();E.Selection=d},function(ne,E,D){"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.getEditor=void 0;var S,T=D(7),C=D(141),x=D(142),m=D(143),p=D(154),y=D(155),v=D(162),u={cell:{row:null,col:null},editor:null,gridId:null};E.getEditor=function(h,c,d){var a="boolean"===c.type?"checkbox":d.$editable.editorType;if(void 0===a&&(a=d.autoHeight?"textarea":"input"),u.cell.row===h.id&&u.cell.col===c.id&&u.gridId===d.gridId&&d.$editable.editor)return u.editor;switch("checkbox"!==a&&(u={cell:{row:h.id,col:c.id},editor:u.editor,gridId:d.gridId}),S||d.events.on(T.GridEvents.afterEditEnd,S=function(){u={cell:{row:null,col:null},editor:null,gridId:null}}),a){case"input":default:return u.editor=new C.InputEditor(h,c,d);case"textarea":return u.editor=new v.TextAreaEditor(h,c,d);case"select":return u.editor=new x.SelectEditor(h,c,d);case"datePicker":return u.editor=new m.DateEditor(h,c,d);case"checkbox":return new p.CheckboxEditor(h,c,d);case"multiselect":case"combobox":return u.editor=new y.ComboboxEditor(h,c,d)}}},function(ne,E,D){"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.InputEditor=void 0;var S=D(0),T=D(7),C=D(1),x=function(){function m(p,y,v){this.prevValue="",this._config=v,this._cell={row:p,col:y},this.type=y.type,this._initHandlers()}return m.prototype.endEdit=function(p){if(this._config.$editable){var y;if(!p&&(y=this._input.value,"number"===this.type))if(y=parseFloat(y),Number.isNaN(y))y="";else{var v=this._cell.col.editorConfig,u=parseFloat(v?.min),h=parseFloat(v?.max);(0,C.isDefined)(v?.min)&&y<u&&(y=u),(0,C.isDefined)(v?.max)&&y>h&&(y=h)}this._config.events.fire(T.GridEvents.beforeEditEnd,[y,this._cell.row,this._cell.col])?(this._cell.row=this._config.datacollection.getItem(this._cell.row.id),this._config.$editable=null,this._config.events.fire(T.GridEvents.afterEditEnd,[y,this._cell.row,this._cell.col])):this._input.focus()}},m.prototype.toHTML=function(p){return(0,C.isDefined)(p)&&(this.type="string"),p=p??this._cell.row[this._cell.col.id],this._input&&(p=this._input.value),this._config.$editable.editor=this,(0,S.el)("input.dhx_cell-editor.dhx_cell-editor__input",{_hooks:{didInsert:this._handlers.didInsert},_key:"cell_editor","data-dhx-id":"cell_editor",onblur:this._handlers.onBlur,oninput:this._handlers.onInput,value:p})},m.prototype._initHandlers=function(){var p=this;this._handlers={onBlur:function(){p.endEdit()},onInput:function(){if("number"===p.type){var y=p._input.value;p.isValidWord(y)?p.prevValue=y:p._input.value=p.prevValue,!p.prevValue.length||"-"===p.prevValue||p.isCorrectRange(parseFloat(p.prevValue))?p._input.classList.remove("dhx_cell-editor__input--not-valid"):p._input.classList.add("dhx_cell-editor__input--not-valid")}},didInsert:function(y){p._input=y.el,p._input.focus()}}},m.prototype.isValidWord=function(p){var y,v=null===(y=p[p.length-1])||void 0===y?void 0:y.toLocaleLowerCase(),u=function(h,c){return h.toLocaleLowerCase().split(c.toLocaleLowerCase()).length-1};return!p.length||"-"===p||!isNaN(Number(p))&&p.trim().length===p.length||p.replace("-","").length>1&&"e"===v&&!u(this.prevValue,"e")||p.replace("-","").length>1&&"e"===v&&1===u(p,"e")},m.prototype.isCorrectRange=function(p){var y=!0,v=this._cell.col.editorConfig,u=parseFloat(v?.min),h=parseFloat(v?.max);return(0,C.isDefined)(v?.min)&&(0,C.isDefined)(v?.max)?y=p>=u&&p<=h:(0,C.isDefined)(v?.min)?y=p>u:(0,C.isDefined)(v?.max)&&(y=p<h),y},m}();E.InputEditor=x},function(ne,E,D){"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.SelectEditor=void 0;var S=D(0),T=D(7),C=D(18),x=function(){function m(p,y,v){this._config=v,this._cell={row:p,col:y},this._initHandlers()}return m.prototype.endEdit=function(p){var y;this._config.$editable&&(p||(y=this._input.value),this._config.events.fire(T.GridEvents.beforeEditEnd,[y,this._cell.row,this._cell.col])?(this._input.removeEventListener("blur",this._handlers.onBlur),this._input.removeEventListener("keydown",this._handlers.onkeydown),this._cell.row=this._config.datacollection.getItem(this._cell.row.id),this._config.$editable=null,this._config.events.fire(T.GridEvents.afterEditEnd,[y,this._cell.row,this._cell.col])):this._input.focus())},m.prototype.toHTML=function(){var p=(0,C.getEditorOptions)(this._cell.col,this._cell.row).map(function(u){return"string"==typeof u?{id:"".concat(u),value:u}:u})||[],y=this._cell.row[this._cell.col.id];this._input&&(y=this._input.options[this._input.selectedIndex].value);var v=p.map(function(u){return(0,S.el)("option",{selected:u.id.toString()===y?.toString(),value:u.id},u.value)});return this._config.$editable.editor=this,(0,S.el)("select.dhx_cell-editor.dhx_cell-editor__select",{_hooks:{didInsert:this._handlers.didInsert},_key:"cell_editor","data-dhx-id":"cell_editor"},v)},m.prototype._initHandlers=function(){var p=this;this._handlers={onBlur:function(){p.endEdit()},onkeydown:function(y){"Escape"===y.key&&p.endEdit()},didInsert:function(y){var v=y.el;p._input=v,v.focus(),v.addEventListener("blur",p._handlers.onBlur),v.addEventListener("keydown",p._handlers.onkeydown)}}},m}();E.SelectEditor=x},function(ne,E,D){"use strict";var S=this&&this.__rest||function(v,u){var h={};for(var c in v)Object.prototype.hasOwnProperty.call(v,c)&&u.indexOf(c)<0&&(h[c]=v[c]);if(null!=v&&"function"==typeof Object.getOwnPropertySymbols){var d=0;for(c=Object.getOwnPropertySymbols(v);d<c.length;d++)u.indexOf(c[d])<0&&Object.prototype.propertyIsEnumerable.call(v,c[d])&&(h[c[d]]=v[c[d]])}return h};Object.defineProperty(E,"__esModule",{value:!0}),E.DateEditor=void 0;var T=D(0),C=D(7),x=D(48),m=D(24),p=D(11),y=function(){function v(u,h,c){var d=this;this._config=c,this._cell={row:u,col:h},this._calendar=new x.Calendar(null,this._cleanConfig(h));var a=this._cell.row[this._cell.col.id];((0,m.stringToDate)(a,this._calendar.config.dateFormat,!0)||a instanceof Date)&&(this._calendar.setValue(a),this._value=this._calendar.getValue(),this._cell.row[this._cell.col.id]=this._value),this._popup=new p.Popup,this._popup.attach(this._calendar),this._calendar.events.on(x.CalendarEvents.change,function(){d.endEdit(!1,!0)}),this._popup.events.on(p.PopupEvents.afterHide,function(){d.endEdit()}),this._initHandlers()}return v.prototype.endEdit=function(u,h){var c=this;if(this._handlers&&this._config.$editable){var d=this._calendar.config.dateFormat,a=this._cell.row[this._cell.col.id],r=this._input.value;if(!u){if(a instanceof Date||h)return this._value=this._calendar.getValue(),this._input.value=this._value,void this._popup.hide();!(0,m.stringToDate)(r,d,!0)&&r||(!a||r.length!==a.length)&&a&&r||(this._value=r)}this._config.events.fire(C.GridEvents.beforeEditEnd,[this._value,this._cell.row,this._cell.col])?(this._input.removeEventListener("focus",this._handlers.onFocus),this._input.removeEventListener("change",this._handlers.onChange),document.removeEventListener("mousedown",this._handlers.onOuterClick),(0,T.awaitRedraw)().then(function(){c._popup.destructor(),c._calendar.destructor()}),this._cell.row=this._config.datacollection.getItem(this._cell.row.id),this._config.$editable=null,this._config.events.fire(C.GridEvents.afterEditEnd,[this._value,this._cell.row,this._cell.col])):this._input.focus()}},v.prototype.toHTML=function(){var u=this._cell.row[this._cell.col.id];return this._config.$editable.editor=this,document.addEventListener("mousedown",this._handlers.onOuterClick),(0,T.el)("input.dhx_cell-editor.dhx_cell-editor__input.dhx_cell-editor__datepicker",{_hooks:{didInsert:this._handlers.didInsert},_key:"cell_editor","data-dhx-id":"cell_editor",value:u})},v.prototype._cleanConfig=function(u){var c=S(u.editorConfig||{},["value","range","dateFormat"]);return c.dateFormat=u.format,c},v.prototype._initHandlers=function(){var u=this;this._handlers={onFocus:function(){(0,T.awaitRedraw)().then(function(){u._popup.show(u._input,{centering:!0,mode:"bottom",theme:u._input})})},onChange:function(){u.endEdit()},onOuterClick:function(h){if(h.target instanceof Node){var c=u._input&&u._input.contains(h.target),d=u._popup&&u._popup.getRootNode()&&u._popup.getRootNode().contains(h.target);c||d||u._popup.hide()}},didInsert:function(h){var c=h.el;u._input=c,u._input.addEventListener("focus",u._handlers.onFocus),u._input.addEventListener("change",u._handlers.onChange),c.focus(),c.setSelectionRange(c.value.length,c.value.length)}}},v}();E.DateEditor=y},function(ne,E,D){"use strict";var S,T=this&&this.__extends||(S=function(i,o){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var _ in f)Object.prototype.hasOwnProperty.call(f,_)&&(l[_]=f[_])})(i,o)},function(i,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function l(){this.constructor=i}S(i,o),i.prototype=null===o?Object.create(o):(l.prototype=o.prototype,new l)}),C=this&&this.__assign||function(){return C=Object.assign||function(i){for(var o,l=1,f=arguments.length;l<f;l++)for(var _ in o=arguments[l])Object.prototype.hasOwnProperty.call(o,_)&&(i[_]=o[_]);return i},C.apply(this,arguments)},x=this&&this.__spreadArray||function(i,o,l){if(l||2===arguments.length)for(var f,_=0,b=o.length;_<b;_++)!f&&_ in o||(f||(f=Array.prototype.slice.call(o,0,_)),f[_]=o[_]);return i.concat(f||Array.prototype.slice.call(o))};Object.defineProperty(E,"__esModule",{value:!0}),E.Calendar=void 0;var m=D(1),p=D(0),y=D(3),v=D(5),u=D(73),h=D(153),c=D(24),d=D(79),a=D(2),r=function(i){function o(l,f){void 0===f&&(f={});var _=i.call(this,l,(0,m.extend)({weekStart:"sunday",thisMonthOnly:!1,dateFormat:window&&window.dhx&&window.dhx.dateFormat,width:"250px"},f))||this;switch(_._selected=[],_.events=new y.EventSystem,_.config.disabledDates=_.config.disabledDates||_.config.block,_.config.mode=_.config.mode||_.config.view,_.config.dateFormat||(_.config.dateFormat=_.config.timePicker?12===_.config.timeFormat?"%d/%m/%y %h:%i %A":"%d/%m/%y %H:%i":"%d/%m/%y"),_.config.value&&_._setSelected(_.config.value),_._currentDate=_.config.date?c.DateHelper.toDateObject(_.config.date,_.config.dateFormat):_._getSelected()?c.DateHelper.copy(_._getSelected()):new Date,_.config.mode){case"month":_._currentViewMode="month";break;case"year":_._currentViewMode="year";break;case"timepicker":_._currentViewMode=_.config.timePicker?"timepicker":"calendar";break;default:_._currentViewMode="calendar"}if(_._initHandlers(),_.config.timePicker){_._timepicker=new u.Timepicker(null,{timeFormat:_.config.timeFormat,controls:!0});var b=_._getSelected()||new Date;_._timepicker.setValue(b),_._time=_._timepicker.getValue(),_._timepicker.events.on(u.TimepickerEvents.afterClose,function(){_._timepicker.setValue(_._time),_.showDate(null,"calendar")}),_._timepicker.events.on(u.TimepickerEvents.afterApply,function(){var I=_._timepicker.getValue(!0),O=I.hour,P=I.minute,R=I.AM,N=_._getSelected(),V=c.DateHelper.withHoursAndMinutes(_._getSelected()||new Date,O,P,R);_.events.fire(d.CalendarEvents.beforeChange,[V,N,!0])&&(_._selected[_._selected.length-1]=V,_.events.fire(d.CalendarEvents.change,[V,N,!0])),_._time=_._timepicker.getValue(),_.showDate(null,"calendar")})}return _.mount(l,(0,p.create)({render:function(){return _._draw()}})),_}return T(o,i),o.prototype.setValue=function(l){if(!l||l instanceof Array&&0===l.length)return!1;var _=c.DateHelper.toDateObject(l instanceof Array?l[0]:l,this.config.dateFormat),b=c.DateHelper.copy(this._getSelected());return!!this.events.fire(d.CalendarEvents.beforeChange,[_,b,!1])&&(this._selected=[],this._setSelected(l),this._timepicker&&(this._timepicker.setValue(_),this._time=this._timepicker.getValue()),this.showDate(this._getSelected()),this.events.fire(d.CalendarEvents.change,[_,b,!1]),this.paint(),!0)},o.prototype.getValue=function(l){var f=this;return void 0===l&&(l=!1),this._selected[0]?this.config.range?this._selected.map(l?function(_){return c.DateHelper.copy(_)}:function(_){return(0,c.getFormattedDate)(f.config.dateFormat,_)}):l?c.DateHelper.copy(this._selected[0]):(0,c.getFormattedDate)(this.config.dateFormat,this._selected[0]):""},o.prototype.getCurrentMode=function(){return this._currentViewMode},o.prototype.showDate=function(l,f){l&&(this._currentDate=c.DateHelper.copy(l)),f&&(this._currentViewMode=f),this.paint()},o.prototype.destructor=function(){this._linkedCalendar&&this._unlink(),this._timepicker&&this._timepicker.destructor(),this.events&&this.events.clear(),this.config=this.events=null,this._uid=this._selected=this._currentDate=this._currentViewMode=this._handlers=this._timepicker=this._time=null,this.unmount()},o.prototype.clear=function(){var l=this.getValue(!0);this.events.fire(d.CalendarEvents.beforeChange,["",l,!1])&&(this.config.timePicker&&(this._timepicker.clear(),this._time=this._timepicker.getValue()),this._selected=[],this.showDate(null,this.config.mode),this.events.fire(d.CalendarEvents.change,[this.getValue(!0),l,!1,"clear"]))},o.prototype.link=function(l){var f=this;this._linkedCalendar&&this._unlink(),this._linkedCalendar=l;var _=this.getValue(!0),b=l.getValue(!0),I=_&&c.DateHelper.dayStart(_),O=b&&c.DateHelper.dayStart(b);this.config.$rangeMark&&this._linkedCalendar.config.$rangeMark||(this.config.$rangeMark=this._linkedCalendar.config.$rangeMark=function(P){if(I&&O)return P>=I&&P<=O&&function(R){if(c.DateHelper.isSameDay(O,I))return null;var N="dhx_calendar-day--in-range";return c.DateHelper.isSameDay(R,I)&&(N+=" dhx_calendar-day--first-date"),c.DateHelper.isSameDay(R,O)&&(N+=" dhx_calendar-day--last-date"),N}(P)}),this.config.disabledDates&&this._linkedCalendar.config.disabledDates||(this.config.disabledDates=function(P){if(O)return P>O},this._linkedCalendar.config.disabledDates=function(P){if(I)return P<I}),this.config.thisMonthOnly=!0,l.config.thisMonthOnly=!0,this.events.on(d.CalendarEvents.change,function(P){I=P?c.DateHelper.dayStart(P):null,f._linkedCalendar.paint()},"link"),this._linkedCalendar.events.on(d.CalendarEvents.change,function(P){O=P?c.DateHelper.dayStart(P):null,f.paint()},"link"),this._linkedCalendar.paint(),this.paint()},o.prototype._unlink=function(){this._linkedCalendar&&(this.config.$rangeMark=this._linkedCalendar.config.$rangeMark=null,this.config.disabledDates=this._linkedCalendar.config.disabledDates=null,this.events.detach(d.CalendarEvents.change,"link"),this._linkedCalendar.events.detach(d.CalendarEvents.change,"link"),this._linkedCalendar.paint(),this._linkedCalendar=null)},o.prototype._setSelected=function(l){var f=this,b=c.DateHelper.toDateObject(l instanceof Array?l[0]:l,this.config.dateFormat);if(l instanceof Array&&this.config.range){var I=[];l.forEach(function(O,P){P<2&&I.push(c.DateHelper.toDateObject(O,f.config.dateFormat))}),2===I.length&&I[0]<I[1]?I.forEach(function(O){return f._selected.push(O)}):this._selected[0]=I[0]}else this._selected[0]=b},o.prototype._getSelected=function(){return this._selected[this._selected.length-1]},o.prototype._draw=function(){switch(this._currentViewMode){case"calendar":return this.events.fire(d.CalendarEvents.modeChange,["calendar"]),this._drawCalendar();case"month":return this.events.fire(d.CalendarEvents.modeChange,["month"]),this._drawMonthSelector();case"year":return this.events.fire(d.CalendarEvents.modeChange,["year"]),this._drawYearSelector();case"timepicker":return this.events.fire(d.CalendarEvents.modeChange,["timepicker"]),this._drawTimepicker()}},o.prototype._initHandlers=function(){var l=this,f={Up:"ArrowUp",Down:"ArrowDown",Right:"ArrowRight",Left:"ArrowLeft",Esc:"Escape",Spacebar:"Space"},_=function(b){void 0===b&&(b=!1);var I=0;switch(l._currentViewMode){case"calendar":I=b?-7:7;break;case"month":case"year":I=b?-4:4}return I};this._handlers={onkeydown:{".dhx_calendar-year, .dhx_calendar-month, .dhx_calendar-day":function(b,I){switch(function(O){var P;if(O.which>=48&&O.which<=57||O.which>=65&&O.which<=90)P=String.fromCharCode(O.which);else{var R=32===O.which?O.code:O.key;P=(0,a.isIE)()&&f[R]||R}return P}(b)){case"Enter":l._selectDate(b,I);break;case"ArrowLeft":l._moveBrowseFocus(b,I,-1);break;case"ArrowRight":l._moveBrowseFocus(b,I,1);break;case"ArrowUp":l._moveBrowseFocus(b,I,_(!0));break;case"ArrowDown":l._moveBrowseFocus(b,I,_())}}},onclick:{".dhx_calendar-year, .dhx_calendar-month, .dhx_calendar-day":function(b,I){l._selectDate(b,I)},".dhx_calendar-action__cancel":function(){l.showDate(l._getSelected(),"calendar"),l.events.fire(d.CalendarEvents.cancelClick,[])},".dhx_calendar-action__show-month":function(){return l.showDate(null,"month")},".dhx_calendar-action__show-year":function(){return l.showDate(null,"year")},".dhx_calendar-action__next":function(){var b;switch(l._currentViewMode){case"calendar":b=c.DateHelper.addMonth(l._currentDate,1);break;case"month":b=c.DateHelper.addYear(l._currentDate,1);break;case"year":b=c.DateHelper.addYear(l._currentDate,12)}l.showDate(b)},".dhx_calendar-action__prev":function(){var b;switch(l._currentViewMode){case"calendar":b=c.DateHelper.addMonth(l._currentDate,-1);break;case"month":b=c.DateHelper.addYear(l._currentDate,-1);break;case"year":b=c.DateHelper.addYear(l._currentDate,-12)}l.showDate(b)},".dhx_calendar-action__show-timepicker":function(){l._currentViewMode="timepicker",l.paint()}},onmouseover:{".dhx_calendar-day":function(b,I){l.events.fire(d.CalendarEvents.dateMouseOver,[new Date(I.attrs._date),b]),l.events.fire(d.CalendarEvents.dateHover,[new Date(I.attrs._date),b])}}}},o.prototype._getData=function(l){var f,_=this;switch(this._isSelectedInCurrentRange=!1,this.config.weekStart){case"saturday":f=-1;break;case"monday":f=1;break;default:f=0}for(var b=[],I=6,O=c.DateHelper.weekStart(c.DateHelper.monthStart(l),f);I--;){for(var P=c.DateHelper.getWeekNumber(O),R=0,N=7,V=[],U=function(){var F=c.DateHelper.isWeekEnd(O),W=l.getMonth()===O.getMonth(),M=B.config.disabledDates&&B.config.disabledDates(O),$=[];if(B.config.range&&B._selected[0]&&B._selected[1]){var Y=function(){if(_._selected[0]&&_._selected[1]){var J=c.DateHelper.dayStart(_._selected[0]),Z=c.DateHelper.dayStart(_._selected[1]);return O>=J&&O<=Z&&(c.DateHelper.isSameDay(_._selected[0],_._selected[1])?null:"dhx_calendar-day--in-range")}};B.config.$rangeMark=Y}if(F&&$.push("dhx_calendar-day--weekend"),W||(B.config.thisMonthOnly?(R++,$.push("dhx_calendar-day--hidden")):$.push("dhx_calendar-day--muffled")),B.config.mark){var ee=B.config.mark(O);ee&&$.push(ee)}B.config.$rangeMark&&(Y=B.config.$rangeMark(O))&&$.push(Y),M&&$.push(F?"dhx_calendar-day--weekend-disabled":"dhx_calendar-day--disabled"),B._selected.forEach(function(J,Z){if(J&&c.DateHelper.isSameDay(J,O)){_._isSelectedInCurrentRange=!0;var j="dhx_calendar-day--selected";_.config.range&&(j+=" dhx_calendar-day--selected-".concat(0===Z?"first ":"last")),$.push(j)}}),V.push({date:O,day:O.getDate(),css:$.join(" ")}),O=c.DateHelper.addDay(O)},B=this;N--;)U();b.push({weekNumber:P,days:V,disabledWeekNumber:7===R})}return b},o.prototype._drawCalendar=function(){var l,f=this,_=this._currentDate,b=this.config,O=b.thisMonthOnly,P=b.css,R=b.timePicker,N=b.width;switch(b.weekStart){case"saturday":l=x([c.locale.daysShort[6]],c.locale.daysShort.slice(0,-1),!0);break;case"monday":l=x(x([],c.locale.daysShort.slice(1),!0),[c.locale.daysShort[0]],!1);break;default:l=c.locale.daysShort}for(var V,U=l.map(function(G){return(0,p.el)(".dhx_calendar-weekday",G)}),B=this._getData(_),F=!0,W=this._getSelected(),M=function(G){var ae,X={role:"button",tabindex:-1,"aria-pressed":"false"};return G&&(f._isSelectedInCurrentRange?(ae=G.date)&&W&&ae.getTime()===W.getTime()&&(X.tabindex=0,X["aria-pressed"]="true"):F&&(X.tabindex=0),F=!1),X},$=[],Y=[],ee=0,J=B;ee<J.length;ee++){var Z=J[ee],j=Z.days.map(function(G){return(0,p.el)("div.dhx_calendar-day",C({class:G.css,_date:G.date},M(G)),G.day)});!this.config.weekNumbers||Z.disabledWeekNumber&&O||Y.push((0,p.el)("div",{class:"dhx_calendar-week-number"},Z.weekNumber)),$=$.concat(j)}return this.config.weekNumbers&&(V=(0,p.el)(".dhx_calendar__week-numbers",Y)),(0,p.el)("div",C({class:"dhx_calendar dhx_widget"+(P?" "+P:"")+(R?" dhx_calendar--with_timepicker":"")+(this.config.weekNumbers?" dhx_calendar--with_week-numbers":""),style:{width:this.config.weekNumbers?parseInt(N.toString())+48+"px":N}},this._handlers),[(0,p.el)(".dhx_calendar__wrapper",[this._drawHeader((0,p.el)("button.dhx_calendar-action__show-month.dhx_button.dhx_button--view_link.dhx_button--size_small.dhx_button--color_secondary.dhx_button--circle",{"aria-live":"polite",type:"button"},c.locale.months[_.getMonth()]+" "+_.getFullYear())),this.config.weekNumbers&&(0,p.el)(".dhx_calendar__dates-wrapper",[(0,p.el)(".dhx_calendar__weekdays",U),(0,p.el)(".dhx_calendar__days",$),V]),!this.config.weekNumbers&&(0,p.el)(".dhx_calendar__weekdays",U),!this.config.weekNumbers&&(0,p.el)(".dhx_calendar__days",$),R?(0,p.el)(".dhx_timepicker__actions",[(0,p.el)("button.dhx_calendar__timepicker-button.dhx_button.dhx_button--view_link.dhx_button--size_small.dhx_button--color_secondary.dhx_button--width_full.dhx_button--circle.dhx_calendar-action__show-timepicker",{type:"button"},[(0,p.el)("span.dhx_button__icon.dxi.dxi-clock-outline"),(0,p.el)("span.dhx_button__text",this._time)])]):null])])},o.prototype._drawMonthSelector=function(){var l=this._currentDate,f=l.getMonth(),_=this._getSelected()?this._getSelected().getFullYear():null,b=this.config,I=b.css,P=b.weekNumbers,R=b.width,N=b.mode,V="dhx_calendar dhx_widget"+(I?" "+I:"")+(b.timePicker?" dhx_calendar--with_timepicker":"")+(P?" dhx_calendar--with_week-numbers":""),U=!0,B=_===l.getFullYear(),F=function(W){return B&&f===W};return(0,p.el)("div",C({class:V,style:{width:P?parseInt(R.toString())+48+"px":R}},this._handlers),[(0,p.el)(".dhx_calendar__wrapper",[this._drawHeader((0,p.el)("button.dhx_calendar-action__show-year.dhx_button.dhx_button--view_link.dhx_button--size_small.dhx_button--color_secondary.dhx_button--circle",{"aria-live":"polite",type:"button"},l.getFullYear())),(0,p.el)(".dhx_calendar__months",c.locale.monthsShort.map(function(W,M){return(0,p.el)("div",C(C({class:"dhx_calendar-month"+(F(M)?" dhx_calendar-month--selected":"")},(ee={role:"button",tabindex:-1,"aria-pressed":"false"},W&&(B?F(M)&&(ee.tabindex=0,ee["aria-pressed"]="true"):U&&(ee.tabindex=0),U=!1),ee)),{_date:M}),W);var ee})),"month"!==N?(0,p.el)(".dhx_calendar__actions",[(0,p.el)("button.dhx_button.dhx_button--color_primary.dhx_button--view_link.dhx_button--size_small.dhx_button--width_full.dhx_button--circle.dhx_calendar-action__cancel",{type:"button"},c.locale.cancel)]):null])])},o.prototype._drawYearSelector=function(){var l=this,_=c.DateHelper.getTwelweYears(this._currentDate),b=this.config,I=b.css,P=b.weekNumbers,R=b.width,N=b.mode,V="dhx_calendar dhx_widget"+(I?" "+I:"")+(b.timePicker?" dhx_calendar--with_timepicker":"")+(P?" dhx_calendar--with_week-numbers":""),U=!0,B=this._getSelected()&&_.includes(this._getSelected().getFullYear()),F=function(W){return l._getSelected()&&W===l._getSelected().getFullYear()};return(0,p.el)("div",C({class:V,style:{width:P?parseInt(R.toString())+48+"px":R}},this._handlers),[(0,p.el)(".dhx_calendar__wrapper",[this._drawHeader((0,p.el)("button.dhx_button.dhx_button--view_link.dhx_button--size_small.dhx_button--color_secondary.dhx_button--circle",{"aria-live":"polite",type:"button"},_[0]+"-"+_[_.length-1])),(0,p.el)(".dhx_calendar__years",_.map(function(W){return(0,p.el)("div",C({class:"dhx_calendar-year"+(F(W)?" dhx_calendar-year--selected":""),_date:W},($={role:"button",tabindex:-1,"aria-pressed":"false"},(M=W)&&(B?F(M)&&($.tabindex=0,$["aria-pressed"]="true"):U&&($.tabindex=0),U=!1),$)),W);var M,$})),"year"!==N&&"month"!==N?(0,p.el)(".dhx_calendar__actions",[(0,p.el)("button.dhx_button.dhx_button--color_primary.dhx_button--view_link.dhx_button--size_small.dhx_button--width_full.dhx_button--circle.dhx_calendar-action__cancel",{type:"button"},c.locale.cancel)]):null])])},o.prototype._drawHeader=function(l){return(0,p.el)(".dhx_calendar__navigation",[(0,p.el)("button.dhx_calendar-navigation__button.dhx_calendar-action__prev"+h.linkButtonClasses+".dhx_button--icon.dhx_button--circle",{"aria-label":"prev",type:"button"},[(0,p.el)(".dhx_button__icon.dxi.dxi-chevron-left")]),l,(0,p.el)("button.dhx_calendar-navigation__button.dhx_calendar-action__next"+h.linkButtonClasses+".dhx_button--icon.dhx_button--circle",{"aria-label":"next",type:"button"},[(0,p.el)(".dhx_button__icon.dxi.dxi-chevron-right")])])},o.prototype._drawTimepicker=function(){var l=this.config,f=l.css,b=l.width;return(0,p.el)(".dhx_widget.dhx-calendar",{class:f?" "+f:"",style:{width:l.weekNumbers?parseInt(b.toString())+48+"px":b}},[(0,p.inject)(this._timepicker.getRootView())])},o.prototype._selectDate=function(l,f){var _=f.attrs._date,b=c.DateHelper.copy(this._getSelected());switch(this._currentViewMode){case"calendar":var I=this.config.timePicker?c.DateHelper.mergeHoursAndMinutes(_,this._getSelected()||this._currentDate):_;if(!this.events.fire(d.CalendarEvents.beforeChange,[I,b,!0]))return;this.config.range&&1===this._selected.length&&this._selected[0]<I?this._selected.push(I):(this._selected=[],this._selected[0]=I),f.el.blur(),this.showDate(this._getSelected()),this.events.fire(d.CalendarEvents.change,[_,b,!0]);break;case"month":if("month"!==this.config.mode)c.DateHelper.setMonth(this._currentDate,_),this.showDate(null,"calendar"),this.events.fire(d.CalendarEvents.monthSelected,[_]);else{var O=c.DateHelper.fromYearAndMonth(this._currentDate.getFullYear()||this._getSelected().getFullYear(),_);if(!this.events.fire(d.CalendarEvents.beforeChange,[O,b,!0]))return;this._currentDate=O,this._selected[0]=O,this.events.fire(d.CalendarEvents.change,[this._getSelected(),b,!0]),this.events.fire(d.CalendarEvents.monthSelected,[_]),this.paint()}break;case"year":if("year"!==this.config.mode)c.DateHelper.setYear(this._currentDate,_),this.showDate(null,"month"),this.events.fire(d.CalendarEvents.yearSelected,[_]);else{if(O=c.DateHelper.fromYear(_),!this.events.fire(d.CalendarEvents.beforeChange,[O,b,!0]))return;this._currentDate=O,this._selected[0]=O,this.events.fire(d.CalendarEvents.change,[this._getSelected(),b,!0]),this.events.fire(d.CalendarEvents.yearSelected,[_]),this.paint()}}},o.prototype._moveBrowseFocus=function(l,f,_){if(f){var b=f.parent.body[f.idx+_];if(b){var I=b.el;I&&(l.target.tabIndex=-1,I.tabIndex=0,I.focus({preventScroll:!0}))}}},o}(v.View);E.Calendar=r},function(ne,E,D){"use strict";var S,T=this&&this.__extends||(S=function(o,l){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,_){f.__proto__=_}||function(f,_){for(var b in _)Object.prototype.hasOwnProperty.call(_,b)&&(f[b]=_[b])})(o,l)},function(o,l){if("function"!=typeof l&&null!==l)throw new TypeError("Class extends value "+String(l)+" is not a constructor or null");function f(){this.constructor=o}S(o,l),o.prototype=null===l?Object.create(l):(f.prototype=l.prototype,new f)}),C=this&&this.__assign||function(){return C=Object.assign||function(o){for(var l,f=1,_=arguments.length;f<_;f++)for(var b in l=arguments[f])Object.prototype.hasOwnProperty.call(l,b)&&(o[b]=l[b]);return o},C.apply(this,arguments)};Object.defineProperty(E,"__esModule",{value:!0}),E.Timepicker=void 0;var x=D(1),m=D(0),p=D(3),y=D(5),v=D(16),u=D(75),h=D(151),c=D(152),d=D(78),a=D(2);function r(o,l){return isNaN(o)?0:Math.min(l,Math.max(0,o))}var i=function(o){function l(f,_){void 0===_&&(_={});var b=o.call(this,f,(0,x.extend)({timeFormat:24,controls:!1,valueFormat:"string",actions:!1},_))||this;return b.events=new p.EventSystem(b),b._time={hour:0,minute:0,AM:!0},12===b.config.timeFormat&&(b._time.hour=12),b.config.controls=b.config.controls||b.config.actions,b.config.value&&b._setValue(b.config.value),b._initUI(f),b._initHandlers(),b._initEvents(),b}return T(l,o),l.prototype.getValue=function(f){return 12===this.config.timeFormat&&(this._time.hour=this._time.hour%12||12),this._getValue(this._time,f)},l.prototype.setValue=function(f){this._setValue(f),this._hoursSlider.setValue(this._time.hour),this._minutesSlider.setValue(this._time.minute),this._inputsView.paint()},l.prototype.clear=function(){this.setValue(24===this.config.timeFormat?"00:00":"12:00AM")},l.prototype.destructor=function(){this._minutesSlider&&this._minutesSlider.destructor(),this._hoursSlider&&this._hoursSlider.destructor(),this.events&&this.events.clear(),this.layout&&this.layout.destructor(),this.config=this.events=null,this._handlers=this._time=this._inputsView=this._minutesSlider=this._hoursSlider=null,this.unmount()},l.prototype.getRootView=function(){return this.layout.getRootView()},l.prototype._getValue=function(f,_){var b=f.hour,I=f.minute,O=f.AM;if(_){var P={hour:b,minute:I};return 12===this.config.timeFormat&&(P.AM=O),P}return(b<10?"0"+b:b)+":"+(I<10?"0"+I:I)+(12===this.config.timeFormat?O?"AM":"PM":"")},l.prototype._setValue=function(f){var _,b=0,I=0;if("number"==typeof f&&(f=new Date(f)),f instanceof Date)b=f.getMinutes(),I=f.getHours();else if(Array.isArray(f))I=r(f[0],23),b=r(f[1],59),f[2]&&"pm"===f[2].toLowerCase()&&(_=!0);else if("string"==typeof f){var O=f.match(/\d+/g);I=r(+O[0],23),b=r(+O[1],59),f.toLowerCase().includes("pm")&&(_=!0)}else"object"==typeof f&&f.hasOwnProperty("hour")&&f.hasOwnProperty("minute")&&(I=f.hour,b=f.minute,_=!f.AM);return _&&I<12&&(I+=12),12===this.config.timeFormat&&!(0,c.isTimeCheck)(f)&&I>=12&&(_=!0),this._time={hour:I,minute:b,AM:!_}},l.prototype._initUI=function(f){var _=this,b={gravity:!1,css:"dhx_widget dhx_timepicker "+(this.config.css?this.config.css:"")+(this.config.controls?" dhx_timepicker--with-controls":""),rows:[{id:"timepicker",css:"dhx_timepicker__inputs"},{id:"hour-slider",css:"dhx_timepicker__hour"},{id:"minute-slider",css:"dhx_timepicker__minute"}]};this.config.controls&&(b.rows.unshift({id:"close-action",css:"dhx_timepicker__close"}),b.rows.push({id:"save-action",css:"dhx_timepicker__save"}));var I=this.layout=new v.Layout(f,b),O=(0,m.create)({render:function(){return _._draw()}}),P=this._inputsView=(0,y.toViewLike)(O),R=this._minutesSlider=new u.Slider(null,{min:0,max:59,step:1,tooltip:!1,labelPosition:"top",label:h.default.minutes,value:this.config.value?this._time.minute:0}),N=this._hoursSlider=new u.Slider(null,{min:0,max:23,step:1,tooltip:!1,labelPosition:"top",label:h.default.hours,value:this.config.value?12===this._time.hour&&this._time.AM?0:this._time.hour:0});I.getCell("timepicker").attach(P),I.getCell("hour-slider").attach(N),I.getCell("minute-slider").attach(R),this.config.controls&&(I.getCell("save-action").attach(function(){return(0,m.el)("button.dhx_timepicker__button-save.dhx_button.dhx_button--view_flat.dhx_button--color_primary.dhx_button--size_small.dhx_button--circle.dhx_button--width_full",{onclick:_._outerHandlers.save,type:"button"},h.default.save)}),I.getCell("close-action").attach(function(){return(0,m.el)("button.dhx_timepicker__button-close.dhx_button.dhx_button--view_link.dhx_button--size_medium.dhx_button--view_link.dhx_button--color_secondary.dhx_button--icon.dhx_button--circle",{_ref:"close",onclick:_._outerHandlers.close,type:"button","aria-label":"close timepicker"},[(0,m.el)("span.dhx_button__icon.dxi.dxi-close")])}))},l.prototype._initHandlers=function(){var f=this,_=function(I){var O=r(parseInt(I.value,10),59);I.value=O.toString(),f._minutesSlider.setValue(O)},b=function(I){var O=r(parseInt(I.value,10),23);I.value=O.toString(),f._hoursSlider.setValue(O)};this._handlers={onchange:{".dhx_timepicker-input--hour":function(I){return b(I.target)},".dhx_timepicker-input--minutes":function(I){return _(I.target)}},oninput:{".dhx_timepicker-input--hour":function(I){((0,a.isSafari)()||(0,a.isFirefox)())&&b(I.target)},".dhx_timepicker-input--minutes":function(I){((0,a.isSafari)()||(0,a.isFirefox)())&&_(I.target)}}},this._outerHandlers={close:function(){f.events.fire(d.TimepickerEvents.beforeClose,[f.getValue(f._isTimeObj())])&&(f.events.fire(d.TimepickerEvents.afterClose,[f.getValue(f._isTimeObj())]),f.events.fire(d.TimepickerEvents.close,[]))},save:function(){f.events.fire(d.TimepickerEvents.beforeApply,[f.getValue(f._isTimeObj())])&&(f.events.fire(d.TimepickerEvents.afterApply,[f.getValue(f._isTimeObj())]),f.events.fire(d.TimepickerEvents.apply,[f.getValue()]),f.events.fire(d.TimepickerEvents.save,[f._time]))}}},l.prototype._initEvents=function(){var f=this;this._hoursSlider.events.on(u.SliderEvents.beforeChange,function(_){if(!(_<f._hoursSlider.config.min||_>f._hoursSlider.config.max)){var b=C({},f._time);12===f.config.timeFormat?(b.AM=_<12,b.hour=_%12||12):b.hour=_;var I=f._isTimeObj();return f.events.fire(d.TimepickerEvents.beforeChange,[f._getValue(b,I)])}}),this._hoursSlider.events.on(u.SliderEvents.change,function(_){if(!(_<f._hoursSlider.config.min||_>f._hoursSlider.config.max)){12===f.config.timeFormat?(f._time.AM=_<12,f._time.hour=_%12||12):f._time.hour=_;var b=f._isTimeObj();f.events.fire(d.TimepickerEvents.change,[f.getValue(b)]),f._inputsView.paint()}}),this._minutesSlider.events.on(u.SliderEvents.beforeChange,function(_){if(!(_<f._minutesSlider.config.min||_>f._minutesSlider.config.max)){var b=C(C({},f._time),{minute:_}),I=f._isTimeObj();return f.events.fire(d.TimepickerEvents.beforeChange,[f._getValue(b,I)])}}),this._minutesSlider.events.on(u.SliderEvents.change,function(_){if(!(_<f._minutesSlider.config.min||_>f._minutesSlider.config.max)){f._time.minute=_;var b=f._isTimeObj();f.events.fire(d.TimepickerEvents.change,[f.getValue(b)]),f._inputsView.paint()}})},l.prototype._draw=function(){return this._minutesSlider.config.label=h.default.minutes,this._hoursSlider.config.label=h.default.hours,(0,m.el)(".dhx_timepicker-inputs",C({},this._handlers),[(0,m.el)("input.dhx_timepicker-input.dhx_timepicker-input--hour",{_key:"hour",_ref:"hour",value:this.getValue(!0).hour.toString().length>1?this.getValue(!0).hour:"0"+this.getValue(!0).hour,"aria-label":"hours"}),(0,m.el)("span.dhx_timepicker-delimer",":"),(0,m.el)("input.dhx_timepicker-input.dhx_timepicker-input--minutes",{_key:"minute",value:this.getValue(!0).minute.toString().length>1?this.getValue(!0).minute:"0"+this.getValue(!0).minute,"aria-label":"minutes"}),12===this.config.timeFormat?(0,m.el)(".dhx_timepicker-ampm",this._time.AM?"AM":"PM"):null])},l.prototype._isTimeObj=function(){var f;return"timeobject"===(null===(f=this.config.valueFormat)||void 0===f?void 0:f.toLowerCase())},l}(y.View);E.Timepicker=i},function(ne,E,D){"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.getMarginSize=E.getBlockRange=void 0,E.getBlockRange=function(S,T,C){return void 0===C&&(C=!0),C?{min:S.left+window.pageXOffset,max:T.right+window.pageXOffset}:{min:S.top+window.pageYOffset,max:T.bottom+window.pageYOffset}},E.getMarginSize=function(S){return!S||"space"!==S.type&&"wide"!==S.type?0:12}},function(ne,E,D){"use strict";var S,T=this&&this.__extends||(S=function(p,y){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,u){v.__proto__=u}||function(v,u){for(var h in u)Object.prototype.hasOwnProperty.call(u,h)&&(v[h]=u[h])})(p,y)},function(p,y){if("function"!=typeof y&&null!==y)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");function v(){this.constructor=p}S(p,y),p.prototype=null===y?Object.create(y):(v.prototype=y.prototype,new v)});Object.defineProperty(E,"__esModule",{value:!0}),E.ProLayout=void 0;var C=D(49),x=D(148),m=function(p){function y(v,u){return p.call(this,v,u)||this}return T(y,p),y.prototype._createCell=function(v){var u;return v.rows||v.cols||v.views?(v.parent=this._root,u=new y(this,v)):u=new x.ProCell(this,v),this._root._all[u.id]=u,v.init&&v.init(u,v),u},y}(C.Layout);E.ProLayout=m},function(ne,E,D){"use strict";var S,T=this&&this.__extends||(S=function(v,u){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,c){h.__proto__=c}||function(h,c){for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(h[d]=c[d])})(v,u)},function(v,u){if("function"!=typeof u&&null!==u)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function h(){this.constructor=v}S(v,u),v.prototype=null===u?Object.create(u):(h.prototype=u.prototype,new h)}),C=this&&this.__assign||function(){return C=Object.assign||function(v){for(var u,h=1,c=arguments.length;h<c;h++)for(var d in u=arguments[h])Object.prototype.hasOwnProperty.call(u,d)&&(v[d]=u[d]);return v},C.apply(this,arguments)};Object.defineProperty(E,"__esModule",{value:!0}),E.ProCell=void 0;var x=D(1),m=D(0),p=D(34),y=function(v){function u(h,c){var d=v.call(this,h,c)||this;return d.scrollView=new p.ScrollView(function(){return d._getFirstRootView()}),d}return T(u,v),u.prototype._getFirstRootView=function(h){return void 0===h&&(h=this),h.getParent()&&h.getParent().getRootView()?h.getParent().getRootView():this._getFirstRootView(h.getParent())},u.prototype.toVDOM=function(h){var c,d;if(null===this.config&&(this.config={}),!this.config.hidden){var a,r=this.config.$fieldset,i=this._calculateStyle(),o=(0,x.isDefined)(this.config.padding)?isNaN(Number(this.config.padding))?{padding:this.config.padding}:{padding:"".concat(this.config.padding,"px")}:"",l=this.config.full||this.config.html?i:C(C({},i),o),f=this._checkProgress()?this._getProgressBar():null;if(!this.config.html)if(this._ui){var _=this._ui.getRootView();_.render&&(_=(0,m.inject)(_)),a=_?[this.scrollView.render(_)]:_||null}else a=h?this.scrollView.render([h]):h||null;var b=this.config.resizable&&!this._isLastCell()&&this._getNextCell()&&!this.config.collapsed?(0,m.el)(".dhx_layout-resizer."+(this._isXDirection()?"dhx_layout-resizer--x":"dhx_layout-resizer--y"),C(C({},this._resizerHandlers),{_ref:"resizer_"+this._uid}),[(0,m.el)("span.dhx_layout-resizer__icon",{class:"dxi "+(this._isXDirection()?"dxi-dots-vertical":"dxi-dots-horizontal")})]):null,I={};if(this.config.on)for(var O in this.config.on)I["on"+O]=this.config.on[O];var P="";if(this.config.type&&(this.config.cols||this.config.rows))switch(this.config.type){case"line":P=" dhx_layout-line";break;case"wide":P=" dhx_layout-wide";break;case"space":P=" dhx_layout-space"}var N=(0,m.el)(".dhx_layout-cell-content",{_key:"".concat(this._uid,"_html"),style:o},[(0,m.el)(".dhx_layout-cell-inner_html",{".innerHTML":this.config.html})]),V=r?(0,m.el)("fieldset.dhx_form-fieldset",{class:this.config.$disabled?" dhx_form-fieldset--disabled":"",style:o,disabled:this.config.$disabled},[(0,m.el)("legend.dhx_form-fieldset-legend",{class:"dhx_form-fieldset-legend--".concat(this.config.labelAlignment||"left")},this.config.label),(0,m.el)(".dhx_layout-cell-content",{class:this._getCss(!1)},[].concat(a))]):this.config.full?[(0,m.el)("div",{tabindex:this.config.collapsable?"0":"-1",class:"dhx_layout-cell-header"+(this._isXDirection()?" dhx_layout-cell-header--col":" dhx_layout-cell-header--row")+(this.config.collapsable?" dhx_layout-cell-header--collapseble":"")+(this.config.collapsed?" dhx_layout-cell-header--collapsed":"")+(((this.getParent()||{}).config||{}).isAccordion?" dhx_layout-cell-header--accordion":""),style:{height:this.config.headerHeight},onclick:this._handlers.toggle,onkeydown:this._handlers.enterCollapse},[this.config.headerIcon&&(0,m.el)("span.dhx_layout-cell-header__icon",{class:this.config.headerIcon}),this.config.headerImage&&(0,m.el)(".dhx_layout-cell-header__image-wrapper",[(0,m.el)("img",{src:this.config.headerImage,class:"dhx_layout-cell-header__image"})]),this.config.header&&(0,m.el)("h3.dhx_layout-cell-header__title",this.config.header),(0,m.el)("div.dhx_layout-cell-header__collapse-icon",this.config.collapsable?{class:this._getCollapseIcon()}:{class:"dxi dxi-empty"})]),this.config.collapsed?null:(0,m.el)("div",{style:C(C({},o),{height:"calc(100% - ".concat(this.config.headerHeight||37,"px)")}),class:this._getCss(!0)+" dhx_layout-cell-content"+(this.config.type?P:"")},this.config.html?[(0,m.el)("div",{".innerHTML":this.config.html,class:"dhx_layout-cell dhx_layout-cell-inner_html"})]:a)]:!this.config.html||this.config.rows&&this.config.cols&&this.config.views?a:[this.config.collapsed?null:this.scrollView&&this.scrollView.config.enable?this.scrollView.render([N],this._uid):N],U=(0,m.el)("div",C(C(((c={_key:this._uid,_ref:this._uid})["aria-label"]=this.config.id?"tab-content-"+this.config.id:null,c["data-cell-id"]=null!==(d=this.config.id)&&void 0!==d?d:null,c),I),{class:this._getCss(!1)+(this.config.css?" "+this.config.css:"")+(this.config.collapsed?" dhx_layout-cell--collapsed":"")+(this.config.resizable?" dhx_layout-cell--resizable":"")+(this.config.type&&!this.config.full?P:""),style:r?i:l}),V||f?[].concat(V,f):null);return b?[].concat(U,b):U}},u}(D(74).Cell);E.ProCell=y},function(ne,E,D){"use strict";var S,T=this&&this.__extends||(S=function(r,i){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var f in l)Object.prototype.hasOwnProperty.call(l,f)&&(o[f]=l[f])})(r,i)},function(r,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function o(){this.constructor=r}S(r,i),r.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}),C=this&&this.__assign||function(){return C=Object.assign||function(r){for(var i,o=1,l=arguments.length;o<l;o++)for(var f in i=arguments[o])Object.prototype.hasOwnProperty.call(i,f)&&(r[f]=i[f]);return r},C.apply(this,arguments)};Object.defineProperty(E,"__esModule",{value:!0}),E.Slider=void 0;var x=D(1),m=D(0),p=D(3),y=D(14),v=D(5),u=D(11),h=D(77),c=D(2);function d(r,i,o){return r<i?i:r>o?o:r}var a=function(r){function i(o,l){var f=r.call(this,o,(0,x.extend)({mode:"horizontal",min:0,max:100,step:1,tooltip:!0},l))||this;f._disabled=!1,f.config.helpMessage=f.config.helpMessage||f.config.help,void 0!==f.config.thumbLabel&&(f.config.tooltip=f.config.thumbLabel),f.config.labelInline&&(f.config.labelPosition="left"),f.events=new p.EventSystem(f),f._axis="horizontal"===f.config.mode?"clientX":"clientY",f._initStartPosition(),f._keyManager=new y.KeyManager(function(){var b,I;return document.activeElement===(null===(I=null===(b=f.getRootView().refs)||void 0===b?void 0:b[f._isExtraActive?"extraRunner":"runner"])||void 0===I?void 0:I.el)}),f._initHotkeys();var _=(0,m.create)({render:function(){return f._draw()},hooks:{didMount:function(){return f._calcSliderPosition()},didRedraw:function(){return f._calcSliderPosition()}}});return f._initHandlers(),f.mount(o,_),f}return T(i,r),i.prototype.disable=function(){this._disabled=!0,this.paint()},i.prototype.enable=function(){this._disabled=!1,this.paint()},i.prototype.isDisabled=function(){return this._disabled},i.prototype.focus=function(o){this.getRootView().refs[o?"extraRunner":"runner"].el.focus()},i.prototype.blur=function(){this.getRootView().refs[this._isExtraActive?"extraRunner":"runner"].el.blur()},i.prototype.getValue=function(){var o;if(this.config.range){var l=this._getValue(this._currentPosition),f=this._getValue(this._extraCurrentPosition);o=l<f?[l,f]:[f,l]}else o=[this._getValue(this._currentPosition)];return o},i.prototype.setValue=function(o){var l=this._getValue(this._currentPosition);if(Array.isArray(o)&&o.length>1){var f=this._getValue(this._extraCurrentPosition);this.events.fire(h.SliderEvents.beforeChange,[o[0],l,!1])&&(this._setValue(o[0],!1),this.events.fire(h.SliderEvents.change,[o[0],l,!1])),this.events.fire(h.SliderEvents.beforeChange,[o[1],f,!0])&&(this._setValue(o[1],!0),this.events.fire(h.SliderEvents.change,[o[1],f,!0]))}else{if(o=parseFloat(o),isNaN(o))throw new Error("Wrong value type, for more info check documentation https://docs.dhtmlx.com/suite/slider__api__slider_setvalue_method.html");this.events.fire(h.SliderEvents.beforeChange,[o,l,!1])&&(this._setValue(o),this.events.fire(h.SliderEvents.change,[o,l,!1]))}this.paint()},i.prototype.destructor=function(){this._keyManager&&this._keyManager.destructor(),document.body.contains(this._tooltip)&&document.body.removeChild(this._tooltip),this._tooltip=null,this.unmount()},i.prototype._calcSliderPosition=function(){var o=this.getRootView();if(o){var l=o.refs.track.el.getBoundingClientRect();this._offsets={left:l.left+window.pageXOffset,top:l.top+window.pageYOffset},this._length="horizontal"===this.config.mode?l.width:l.height}},i.prototype._initHotkeys=function(){var o=this,l={arrowLeft:function(_){_.preventDefault(),o._move(-o.config.step,_.target.classList.contains("dhx_slider__thumb--extra"))},arrowRight:function(_){_.preventDefault(),o._move(o.config.step,_.target.classList.contains("dhx_slider__thumb--extra"))},arrowUp:function(_){_.preventDefault(),o._move(o.config.step,_.target.classList.contains("dhx_slider__thumb--extra"))},arrowDown:function(_){_.preventDefault(),o._move(-o.config.step,_.target.classList.contains("dhx_slider__thumb--extra"))}};for(var f in l)this._keyManager.addHotKey(f,l[f])},i.prototype._move=function(o,l){void 0===l&&(l=!1),this.config.inverse&&(o=-o);var f=this.config,_=f.max,b=f.min,I=this._getValue(l?this._extraCurrentPosition:this._currentPosition),O=I+o;(O>_||O<b)&&(O=I),this.events.fire(h.SliderEvents.beforeChange,[O,I,l])&&(this._setValue(I+o,l),this.events.fire(h.SliderEvents.change,[O,I,l]),this.paint())},i.prototype._initStartPosition=function(){var P,R,N,V,o=this.config,l=o.max,f=o.min,_=o.range,b=(R=this.config.min,N=this.config.max,(V=void 0===(P=this.config.value)?[]:Array.isArray(P)?P:"string"==typeof P?P.split(",").map(function(U){return parseInt(U,10)}):[P])[0]=void 0===V[0]?R:d(V[0],R,N),V[1]=void 0===V[1]?N:d(V[1],R,N),V),I=b[0],O=b[1];this._currentPosition=(I-f)/(l-f)*100,_&&(this._extraCurrentPosition=(l-O)/(l-f)*100),this._currentPosition=(I-f)/(l-f)*100,_&&(this._extraCurrentPosition=(O-f)/(l-f)*100),this._isInverse()&&(this._currentPosition=100-this._currentPosition,_&&(this._extraCurrentPosition=100-this._extraCurrentPosition))},i.prototype._getValue=function(o){this._isInverse()&&(o=100-o);var l=this.config,f=l.min,_=l.max,b=l.step;if(100===o)return _;if(0===o)return f;var I=o*(_-f)/100,O=I%b,P=O>=b/2?b:0;return+(Number(f)+Number(I)-O+P).toFixed(5)},i.prototype._setValue=function(o,l){void 0===l&&(l=!1);var f=this.config,_=f.max,b=f.min;if(o>_||o<b)return!1;var I=(o-b)/(_-b)*100,O=this._isInverse()?100-I:I;l?this._extraCurrentPosition=O:this._currentPosition=O},i.prototype._initHandlers=function(){var o=this,l=function(b){b.cancelable&&b.preventDefault();var I=((b.targetTouches?b.targetTouches[0][o._axis]:b[o._axis])-o._getBegining())/o._length*100;if(o._findNewDirection){if(Math.abs(o._currentPosition-I)<1)return;o._possibleRange=I>o._currentPosition?[o._currentPosition,100]:[0,o._currentPosition],o._findNewDirection=null}o._inSide(I)&&o._updatePosition(I,o._isExtraActive),o.paint()},f=function(b){o.events.fire(h.SliderEvents.mouseup,[b]),setTimeout(function(){o._isMouseMoving=!1,o.paint()},4),b.targetTouches?(document.removeEventListener("touchend",f),document.removeEventListener("touchmove",l)):(document.removeEventListener("mouseup",f),document.removeEventListener("mousemove",l))},_=function(b){var I;if(!o._disabled&&3!==b.which)if(o.events.fire(h.SliderEvents.mousedown,[b]),o._isMouseMoving=!0,b.target.classList.contains("dhx_slider__thumb--extra")?(o._isExtraActive=!0,I=o._extraCurrentPosition):(o._isExtraActive=!1,I=o._currentPosition),o._findNewDirection=null,o.config.range){var O=o._currentPosition>o._extraCurrentPosition?[o._currentPosition,o._extraCurrentPosition]:[o._extraCurrentPosition,o._currentPosition],P=O[0],R=O[1];o._currentPosition===o._extraCurrentPosition?(o._findNewDirection=I,o._possibleRange=[0,100]):o._possibleRange=I<P?[0,P]:[R,100]}else o._possibleRange=[0,100]};this.config.helpMessage&&(this._helper=new u.Popup({css:"dhx_tooltip dhx_tooltip--forced dhx_tooltip--light"}),this._helper.attachHTML(this.config.helpMessage)),this._handlers={showHelper:function(b){b.preventDefault(),b.stopPropagation(),o._helper.show(b.target,{theme:b.target})},onmousedown:function(b){_(b),document.addEventListener("mousemove",l),document.addEventListener("mouseup",f)},ontouchstart:function(b){o._setTooltip(b),o._mouseIn=!1,_(b),document.addEventListener("touchmove",l,{passive:!1}),document.addEventListener("touchend",f),o.paint()},ontouchend:function(b){o._setTooltip(b),o._mouseIn=!1,o.paint()},onlabelClick:function(){o.getRootView().refs.runner.el.focus()},onclick:function(b){if(!o._disabled&&!o._isMouseMoving&&3!==b.which){var I=(b[o._axis]-o._getBegining())/o._length*100,O=o.getRootView().refs;o.config.range?Math.abs(o._currentPosition-I)<Math.abs(o._extraCurrentPosition-I)?(o._updatePosition(I,!1),O.runner.el.focus()):(o._updatePosition(I,!0),O.extraRunner.el.focus()):(o._updatePosition(I,!1),O.runner.el.focus()),o.paint()}},onmouseover:function(b){o._setTooltip(b),o._mouseIn=!0,o.paint()},onmouseout:function(b){o._setTooltip(b),o._mouseIn=!1,o.paint()},onfocus:function(b){o._setTooltip(b),o._focusIn=!0,o.events.fire(h.SliderEvents.focus,[]),o.paint()},onblur:function(b){o._setTooltip(b),o._focusIn=!1,o.events.fire(h.SliderEvents.blur,[]),o.paint()},onkeydown:function(b){o.events.fire(h.SliderEvents.keydown,[b])}}},i.prototype._getBegining=function(){return"horizontal"===this.config.mode?this._offsets.left-window.pageXOffset:this._offsets.top-window.pageYOffset},i.prototype._inSide=function(o){var l=this._possibleRange;return o<l[0]?(this._updatePosition(l[0],this._isExtraActive),!1):!(o>l[1]&&(this._updatePosition(l[1],this._isExtraActive),1))},i.prototype._updatePosition=function(o,l){void 0===l&&(l=!1),o>100&&(o=100),o<0&&(o=0);var f=this.config,_=f.max,b=f.min,O=this._getValue(l?this._extraCurrentPosition:this._currentPosition),P=this._getValue(o);if(O!==P&&this.events.fire(h.SliderEvents.beforeChange,[P,O,l])){var R=(P-b)/(_-b)*100,N=this._isInverse()?100-R:R;l?this._extraCurrentPosition=N:this._currentPosition=N,this.events.fire(h.SliderEvents.change,[P,O,l])}},i.prototype._getRunnerStyle=function(o){var l;return void 0===o&&(o=!1),(l={})["horizontal"===this.config.mode?"left":"top"]=(o?this._extraCurrentPosition:this._currentPosition)+"%",l},i.prototype._isInverse=function(){return this.config.inverse&&"horizontal"===this.config.mode||!this.config.inverse&&"vertical"===this.config.mode},i.prototype._getRunnerCss=function(o){return void 0===o&&(o=!1),"dhx_slider__thumb"+(o?" dhx_slider__thumb--extra":"")+(this._isMouseMoving&&(o&&this._isExtraActive||!o&&!this._isExtraActive)?" dhx_slider__thumb--active":"")+(this._disabled?" dhx_slider__thumb--disabled":"")+(this._isNullable(o?this._extraCurrentPosition:this._currentPosition)&&!this.config.range?" dhx_slider__thumb--nullable":"")},i.prototype._draw=function(){var o=this.config,l=o.labelPosition,f=o.mode,_=o.hiddenLabel,b=o.tick,I=o.majorTick,O=o.css,P=o.helpMessage,R=(0,c.getLabelStyle)(C(C({},this.config),{required:!1}));return!this._tooltip||this._mouseIn&&this._focusIn&&this._isMouseMoving||document.body.contains(this._tooltip)&&document.body.removeChild(this._tooltip),(0,m.el)("div",{class:"dhx_slider dhx_slider--mode_"+f+("left"===l?" dhx_slider--label-inline":"")+(_?" dhx_slider--label_sr":"")+(b?" dhx_slider--ticks":"")+(I?" dhx_slider--major-ticks":"")+(O?" "+O:"")+(this._disabled?" dhx_slider--disabled":""),style:{paddingBottom:this.config.tick?"16px":null}},[R?(0,m.el)("label.dhx_label.dhx_slider__label",{style:R.style,class:P?"dhx_label--with-help":"",onclick:this._handlers.onlabelClick},P?[R.label&&(0,m.el)("span.dhx_label__holder",R.label),(0,m.el)("span.dhx_label-help.dxi.dxi-help-circle-outline",{tabindex:"0",role:"button",onclick:this._handlers.showHelper})]:R.label):null,this._drawSlider()])},i.prototype._drawSlider=function(){return(0,m.el)(".dhx_widget.dhx_slider__track-holder",{"data-dhx-widget-id":this._uid},[(0,m.el)(".dhx_slider__track",{_ref:"track",onmouseover:this._handlers.onmouseover,onmouseout:this._handlers.onmouseout,onclick:this._handlers.onclick},[this._getDetector(),(0,m.el)("div",{_ref:"runner",class:this._getRunnerCss(),ontouchstart:this._handlers.ontouchstart,ontouchend:this._handlers.ontouchend,onmousedown:this._handlers.onmousedown,onfocus:this._handlers.onfocus,onblur:this._handlers.onblur,onkeydown:this._handlers.onkeydown,style:this._getRunnerStyle(),tabindex:0}),this.config.tooltip&&(this._mouseIn||this._focusIn||this._isMouseMoving)?this._drawTooltip():null,this.config.tooltip&&this.config.range&&(this._mouseIn||this._focusIn||this._isMouseMoving)?this._drawTooltip(!0):null,this.config.range?(0,m.el)("div",{_ref:"extraRunner",class:this._getRunnerCss(!0),ontouchstart:this._handlers.ontouchstart,ontouchend:this._handlers.ontouchend,onmousedown:this._handlers.onmousedown,onfocus:this._handlers.onfocus,onblur:this._handlers.onblur,onkeydown:this._handlers.onkeydown,style:this._getRunnerStyle(!0),tabindex:0}):null]),this.config.tick?this._drawTicks():null])},i.prototype._getDetector=function(){var o,l,f;if(this._disabled)return(0,m.el)(".dhx_slider__range");var _="horizontal"===this.config.mode?"left":"top",b="horizontal"===this.config.mode?"width":"height";if(this.config.range){var I=this._currentPosition>this._extraCurrentPosition?[this._currentPosition,this._extraCurrentPosition]:[this._extraCurrentPosition,this._currentPosition],O=I[0],P=I[1];return(0,m.el)(".dhx_slider__range",{style:(o={},o[_]=P+"%",o[b]=O-P+"%",o)})}return this._isInverse()?(0,m.el)(".dhx_slider__range",{style:(l={},l[_]=this._currentPosition+"%",l[b]=100-this._currentPosition+"%",l)}):(0,m.el)(".dhx_slider__range",{style:(f={},f[_]=0,f[b]=this._currentPosition+"%",f)})},i.prototype._drawTooltip=function(o){if(void 0===o&&(o=!1),"none"!==this._activeTooltip&&this.getRootView()){var l="extraTooltip"===this._activeTooltip?this._extraCurrentPosition:this._currentPosition,f="horizontal"===this.config.mode?"left":"top",_="";(o&&this._isExtraActive||!o&&!this._isExtraActive)&&(_+=" dhx_slider__thumb-label--active"),this._tooltip||(this._tooltip=document.createElement("div"));var b="tooltip"===this._activeTooltip?this.getRootView().refs.runner.el.getBoundingClientRect():this.getRootView().refs.extraRunner.el.getBoundingClientRect();this._tooltip.className="dhx_slider__thumb-label"+_,this._tooltip.style.left=b.x+("left"===f?6:-30)+window.pageXOffset+"px",this._tooltip.style.top=b.y+("left"===f?-30:6)+window.pageYOffset+"px",this._tooltip.innerText=this._getValue(l).toString(),document.body.appendChild(this._tooltip)}},i.prototype._getTicks=function(){for(var o=this.config,l=o.max,f=o.min,I=o.majorTick,O=l-f,P=o.step*o.tick/O,R=[],N=0,V=0;N<1;){var U=+(Number(f)+N*O).toFixed(5),B=V%I==0;R.push({position:(this._isInverse()?100*(1-N):100*N)+"%",isMultiple:B,label:B&&"function"==typeof this.config.tickTemplate?this.config.tickTemplate(U):null}),N+=P,V++}return R.push({position:(this._isInverse()?0:100)+"%",isMultiple:!0,label:"function"==typeof this.config.tickTemplate?this.config.tickTemplate(l):null}),R},i.prototype._drawTicks=function(){var o="horizontal"===this.config.mode?"left":"top";return(0,m.el)(".dhx_slider__ticks-holder",this._getTicks().map(function(l){var f;return(0,m.el)("div",{class:"dhx_slider__tick"+(l.isMultiple?" dhx_slider__tick--major":""),style:(f={},f[o]=l.position,f)},void 0!==l.label?[(0,m.el)(".dhx_slider__tick-label",l.label)]:null)}))},i.prototype._isNullable=function(o){return this._isInverse()?100===o:0===o},i.prototype._setTooltip=function(o){this._activeTooltip=o.target.classList.contains("dhx_slider__thumb--extra")?"extraTooltip":o.target.classList.contains("dhx_slider__thumb")?"tooltip":"none"},i}(v.View);E.Slider=a},function(ne,E,D){"use strict";var S,T=this&&this.__extends||(S=function(c,d){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,r){a.__proto__=r}||function(a,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(a[i]=r[i])})(c,d)},function(c,d){if("function"!=typeof d&&null!==d)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");function a(){this.constructor=c}S(c,d),c.prototype=null===d?Object.create(d):(a.prototype=d.prototype,new a)}),C=this&&this.__assign||function(){return C=Object.assign||function(c){for(var d,a=1,r=arguments.length;a<r;a++)for(var i in d=arguments[a])Object.prototype.hasOwnProperty.call(d,i)&&(c[i]=d[i]);return c},C.apply(this,arguments)};Object.defineProperty(E,"__esModule",{value:!0}),E.Popup=void 0;var x=D(1),m=D(0),p=D(3),y=D(2),v=D(5),u=D(76),h=function(c){function d(a){void 0===a&&(a={});var r=c.call(this,null,(0,x.extend)({},a))||this,i=r._popup=document.createElement("div");return i.className="dhx_widget dhx_popup"+(r.config.css?" "+r.config.css:""),i.style.position="absolute",i.setAttribute("role","dialog"),i.setAttribute("aria-modal","true"),i.setAttribute("aria-live","polite"),r.config.theme&&r._setTheme(r.config.theme),r.mount(i,(0,m.create)({render:function(){return r.toVDOM()}})),r._clickEvent=function(o){return r.events.fire(u.PopupEvents.click,[o])},r.events=a.events||new p.EventSystem(r),r._isActive=!1,r}return T(d,c),d.prototype.show=function(a,r,i){var o=this;void 0===r&&(r={}),this.events.fire(u.PopupEvents.beforeShow,[a])&&(a=(0,y.toNode)(a),this._isActive?this._setPopupSize(a,r):(i&&this.attach(i),r.theme&&this._setTheme(r.theme),this._popup.style.left="0",this._popup.style.top="0",(0,m.awaitRedraw)().then(function(){o._setPopupSize(a,r),o._popup.style.position="fixed",document.body.appendChild(o._popup),o._isActive=!0}).then(function(){o._popup.style.position="absolute",o.events.fire(u.PopupEvents.afterShow,[a]),o._outerClickDestructor=o._detectOuterClick(a)})))},d.prototype.hide=function(){this._hide(!1,null)},d.prototype.isVisible=function(){return this._isActive},d.prototype.attach=function(a,r){return this._html=null,"object"==typeof a?this._ui=a:"string"==typeof a?this._ui=new window.dhx[a](null,r):"function"==typeof a&&(this._ui=a.prototype instanceof v.View?new a(null,r):{getRootView:function(){return a(r)}}),this.paint(),this._ui},d.prototype.attachHTML=function(a){this._html=a,this.paint()},d.prototype.getWidget=function(){return this._ui},d.prototype.getContainer=function(){return this.getRootView().refs.content.el},d.prototype.toVDOM=function(){var a;return this._html?a=(0,m.el)(".dhx_popup__inner-html-content",{".innerHTML":this._html}):(a=this._ui?this._ui.getRootView():null)&&a.render&&(a=(0,m.inject)(a)),(0,m.el)("div",{class:"dhx_popup-content",tabindex:0,onclick:this._clickEvent,_key:this._uid,_ref:"content"},[a])},d.prototype.destructor=function(){this.hide(),this._outerClickDestructor&&this._outerClickDestructor(),this._popup=null},d.prototype._setTheme=function(a){var r;if("string"==typeof a)this._popup.setAttribute("data-dhx-theme",a);else{var i=null===(r=a?.closest("[data-dhx-theme]"))||void 0===r?void 0:r.getAttribute("data-dhx-theme");i&&this._popup.setAttribute("data-dhx-theme",i)}},d.prototype._setPopupSize=function(a,r,i){var o=this;void 0===i&&(i=3);var l=this._popup.getBoundingClientRect(),f=l.width,_=l.height;if(this._timeout&&(clearTimeout(this._timeout),this._timeout=null),!i||0!==f&&0!==_){var b=(0,y.fitPosition)(a,C(C({centering:!0,mode:"bottom"},r),{width:f,height:_})),O=b.top;if(this._popup.style.left=b.left,this._popup.style.top=O,r.indent&&0!==r.indent)switch(r.mode){case"top":this._popup.style.top=parseInt(this._popup.style.top.slice(0,-2),null)-parseInt(r.indent.toString(),null)+"px";break;case"bottom":default:this._popup.style.top=parseInt(this._popup.style.top.slice(0,-2),null)+parseInt(r.indent.toString(),null)+"px";break;case"left":this._popup.style.left=parseInt(this._popup.style.left.slice(0,-2),null)-parseInt(r.indent.toString(),null)+"px";break;case"right":this._popup.style.left=parseInt(this._popup.style.left.slice(0,-2),null)+parseInt(r.indent.toString(),null)+"px"}}else this._timeout=setTimeout(function(){o._isActive&&(o._setPopupSize(a,r,i-1),o._timeout=null)})},d.prototype._detectOuterClick=function(a){var r=this,i=!1,o=new WeakMap,l=function(f){var _=f.target,b=document.querySelectorAll(".dhx_popup");for(i?b.forEach(function(I){return o.has(I)||o.set(I,r._popup)}):(i=!!b.length)&&b.forEach(function(I){return o.set(I,!0)});_;){if(_===a||_===r._popup||o.get(_)===r._popup)return;_=_.parentNode}r._hide(!0,f)&&document.removeEventListener("mousedown",l)};return document.addEventListener("mousedown",l),function(){return document.removeEventListener("mousedown",l)}},d.prototype._hide=function(a,r){if(this._isActive)return!!this.events.fire(u.PopupEvents.beforeHide,[a,r])&&(document.body.removeChild(this._popup),this._isActive=!1,this._outerClickDestructor&&(this._outerClickDestructor(),this._outerClickDestructor=null),this.events.fire(u.PopupEvents.afterHide,[r]),!0)},d}(v.View);E.Popup=h},function(ne,E,D){"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.default={hours:"Hours",minutes:"Minutes",save:"Save"}},function(ne,E,D){"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.isTimeCheck=void 0,E.isTimeCheck=function(S){return/(^12:[0-5][0-9]?AM$)/i.test(S)}},function(ne,E,D){"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.linkButtonClasses=void 0,E.linkButtonClasses=".dhx_button.dhx_button--view_link.dhx_button--icon.dhx_button--size_medium.dhx_button--color_secondary"},function(ne,E,D){"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.CheckboxEditor=void 0;var S=D(1),T=D(0),C=D(7),x=function(){function m(p,y,v){this._config=v,this._cell={row:p,col:y},this._initHandlers()}return m.prototype.endEdit=function(){var p=this._checked;this._config.events.fire(C.GridEvents.beforeEditEnd,[p,this._cell.row,this._cell.col])?(this._cell.row=this._config.datacollection.getItem(this._cell.row.id),this._config.events.fire(C.GridEvents.afterEditEnd,[p,this._cell.row,this._cell.col])):this._input.checked=!p},m.prototype.toHTML=function(){void 0===this._checked&&(this._checked=this._cell.row[this._cell.col.id]);var p=(0,S.uid)();return(0,T.el)("div.dhx_checkbox.dhx_cell-editor__checkbox",[(0,T.el)("label",{style:{display:"none"},for:p},this._checked||"false"),(0,T.el)("input.dhx_checkbox__input",{type:"checkbox",_hooks:{didInsert:this._handlers.didInsert},_key:"cell_editor","data-dhx-id":"cell_editor","data-dhx-checked":(!!this._checked).toString(),checked:this._checked,id:p,style:{userSelect:"none"}}),(0,T.el)("span.dhx_checkbox__visual-input")])},m.prototype._initHandlers=function(){var p=this;this._handlers={onClick:function(){var y=!p._input.checked;p._config.events.fire(C.GridEvents.beforeEditStart,[p._cell.row,p._cell.col,"checkbox"])?(p._checked=y,p._config.events.fire(C.GridEvents.afterEditStart,[p._cell.row,p._cell.col,"checkbox"]),p.endEdit()):p._input.checked=!y},didInsert:function(y){p._checkbox=y.el.parentNode.lastChild,p._input=y.el.parentNode.querySelector("input"),y.el.parentNode.addEventListener("click",p._handlers.onClick)}}},m}();E.CheckboxEditor=x},function(ne,E,D){"use strict";var S=this&&this.__assign||function(){return S=Object.assign||function(v){for(var u,h=1,c=arguments.length;h<c;h++)for(var d in u=arguments[h])Object.prototype.hasOwnProperty.call(u,d)&&(v[d]=u[d]);return v},S.apply(this,arguments)};Object.defineProperty(E,"__esModule",{value:!0}),E.ComboboxEditor=void 0;var T=D(0),C=D(7),x=D(51),m=D(31),p=D(18),y=function(){function v(u,h,c){this._config=c,this._cell={row:u,col:h},this._initHandlers()}return v.prototype.endEdit=function(u){var h=this;if(this._config.$editable){var c;if(!u){var d=this._input.getValue();c="multiselect"===this._cell.col.editorType?d.split(",").join(", "):d}if(this._config.events.fire(C.GridEvents.beforeEditEnd,[c,this._cell.row,this._cell.col])){var a=(0,p.getEditorOptions)(this._cell.col,this._cell.row);this._input.popup.hide(),document.removeEventListener("mousedown",this._handlers.onOuterClick),this._cell.row=this._config.datacollection.getItem(this._cell.row.id),m.focusManager.setFocusId(this._config.gridId),c?.toString().split(", ").forEach(function(r){var i=a.find(function(o){return"string"==typeof o?o===r:o.id.toString()===r});r&&!i&&(h._cell.col.$customOptions||(h._cell.col.$customOptions=[]),h._cell.col.$customOptions.push(h._input.data.getItem(r)))}),this._config.$editable=null,this._config.events.fire(C.GridEvents.afterEditEnd,[c,this._cell.row,this._cell.col])}else this._input.focus()}},v.prototype.toHTML=function(){var u=this,h=(0,p.getEditorOptions)(this._cell.col,this._cell.row).map(function(a){return"string"==typeof a?{id:"".concat(a),value:a}:a})||[];if(!this._input){this._input=new x.Combobox(null,S({itemHeight:37,css:"dhx_cell-editor__combobox",multiselection:"multiselect"===this._cell.col.editorType,htmlEnable:this._cell.col.htmlEnable},this._cell.col.editorConfig)),this._input.data.parse(h);var c=this._cell.row[this._cell.col.id],d="multiselect"===this._cell.col.editorType?(c?.toString()||"").split(", "):c;this._input.setValue(d),this._input.events.on("keydown",this._handlers.onkeydown),this._input.data.events.on("beforeAdd",function(a){if(a.id!==a.value)return u._input.addOption({id:a.value,value:a.value},!0),!1})}return document.addEventListener("mousedown",this._handlers.onOuterClick),this._config.$editable.editor=this,(0,T.awaitRedraw)().then(function(){var a=u._input.getRootView().refs.holder.el;u._input.popup.getContainer().style.width=a.offsetWidth+"px",u._input.popup.show(a)}),m.focusManager.setFocusId(this._input._uid),(0,T.inject)(this._input.getRootView())},v.prototype._initHandlers=function(){var u=this;this._handlers={onOuterClick:function(h){if(h.target instanceof Node){var c=u._input&&u._input.getRootNode()&&u._input.getRootNode().contains(h.target),d=u._input.popup&&u._input.popup.getRootNode()&&u._input.popup.getRootNode().contains(h.target);c||d||u.endEdit()}},onkeydown:function(h){"Escape"!==h.key&&"Tab"!==h.key||u.endEdit()}}},v}();E.ComboboxEditor=y},function(ne,E,D){"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.KEY_CODES=void 0,E.KEY_CODES={BACKSPACE:8,ENTER:13,ESC:27,DOWN_ARROW:40,UP_ARROW:38,LEFT_ARROW:37,RIGHT_ARROW:39}},function(ne,E,D){"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.getEditor=void 0;var S=D(158);E.getEditor=function(T,C){return new S.InputEditor(T,C)}},function(ne,E,D){"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.InputEditor=void 0;var S=D(0),T=D(52),C=function(){function x(m,p){var y=this;this._list=p,this._config=p.config,this._item=m,this._list.events.on(T.ListEvents.focusChange,function(v,u){y._mode&&u!==y._item.id&&y.endEdit()}),this._initHandlers()}return x.prototype.endEdit=function(){if(this._input){var m=this._input.value;this._list.events.fire(T.ListEvents.beforeEditEnd,[m,this._item.id])?(this._input.removeEventListener("blur",this._handlers.onBlur),this._input.removeEventListener("change",this._handlers.onChange),this._input.removeEventListener("keydown",this._handlers.onKeyDown),this._handlers={},this._mode=!1,this._list.events.fire(T.ListEvents.afterEditEnd,[m,this._item.id])):this._input.focus()}},x.prototype.toHTML=function(){return this._mode=!0,(0,S.el)(".dhx_input__wrapper",{role:"presentation"},[(0,S.el)("div.dhx_input__container",{role:"presentation"},[(0,S.el)("input.dhx_input",{class:this._item.css?" "+this._item.css:"",style:{height:this._config.itemHeight,width:"100%",padding:"8px 12px"},_hooks:{didInsert:this._handlers.didInsert},_key:this._item.id,"data-dhx-id":this._item.id})])])},x.prototype._initHandlers=function(){var m=this;this._handlers={onBlur:function(){m.endEdit()},onChange:function(){m.endEdit()},onKeyDown:function(p){"Enter"===p.key&&m._item.value===m._input.value&&m.endEdit(),"Escape"===p.key&&(m._input.value=m._item.value,m.endEdit())},didInsert:function(p){var y=p.el;m._input=y,y.focus(),y.value=m._item.value,y.setSelectionRange(0,y.value.length),y.addEventListener("change",m._handlers.onChange),y.addEventListener("blur",m._handlers.onBlur),y.addEventListener("keydown",m._handlers.onKeyDown)}}},x}();E.InputEditor=C},function(ne,E,D){"use strict";var S,T=this&&this.__extends||(S=function(v,u){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,c){h.__proto__=c}||function(h,c){for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(h[d]=c[d])})(v,u)},function(v,u){if("function"!=typeof u&&null!==u)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function h(){this.constructor=v}S(v,u),v.prototype=null===u?Object.create(u):(h.prototype=u.prototype,new h)}),C=this&&this.__assign||function(){return C=Object.assign||function(v){for(var u,h=1,c=arguments.length;h<c;h++)for(var d in u=arguments[h])Object.prototype.hasOwnProperty.call(u,d)&&(v[d]=u[d]);return v},C.apply(this,arguments)},x=this&&this.__spreadArray||function(v,u,h){if(h||2===arguments.length)for(var c,d=0,a=u.length;d<a;d++)!c&&d in u||(c||(c=Array.prototype.slice.call(u,0,d)),c[d]=u[d]);return v.concat(c||Array.prototype.slice.call(u))};Object.defineProperty(E,"__esModule",{value:!0}),E.ProList=void 0;var m=D(0),p=D(34),y=function(v){function u(h,c){var d=v.call(this,h,c)||this;return d.scrollView=new p.ScrollView(function(){return d.getRootView()}),d.paint(),d}return T(u,v),u.prototype.destructor=function(){v.prototype.destructor.call(this),this.scrollView=null},u.prototype.scrollTo=function(h){var c,d,a=this.getRootView();if(a&&a.node&&a.node.el&&void 0!==h){var r=null!==(c=this.scrollView)&&void 0!==c&&c.config.enable?null===(d=this.getRootNode())||void 0===d?void 0:d.querySelector(".scroll-view"):this.getRootNode();this._scrollTo(h,r)}},u.prototype._renderList=function(){var h=this,c=this._getRange(),d=this.data.getRawData(c[0],c[1]).map(function(i,o){return h._renderItem(i,o)});this.config.virtual&&(d=x(x([(0,m.el)(".div",{style:{height:c[2]+"px"}})],d,!0),[(0,m.el)(".div",{style:{height:c[3]+"px"}})],!1));var a=this.scrollView&&this.scrollView.config.enable,r=(this.config.css?this.config.css:"")+(this.config.multiselection&&this.selection.getItem()?" dhx_no-select--pointer":"")+(a?" dhx_list--scroll-view":"");return(0,m.el)("ul.dhx_widget.dhx_list",C(C({style:{"max-height":this.config.height,position:"relative"},class:r,"data-dhx-widget-id":this._uid},this._handlers),this._getListAriaAttrs(this.config,this.data.getLength())),a?[].concat(this.scrollView.render(d)):d)},u}(D(82).List);E.ProList=y},function(ne,E,D){"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.KeyListener=void 0;var S=function(){function T(){var C=this;this._handler=function(x){if(C._isActive){var m=x.key;"Backspace"===m&&C._sequence.length>0&&(C._sequence=C._sequence.slice(0,C._sequence.length-1),C._change()),m.length<2&&(C._sequence+=m,C._change())}},this._sequence="",document.addEventListener("keydown",this._handler)}return T.prototype.startNewListen=function(C){this._isActive=!0,this._sequence="",this._currentAction=C},T.prototype.endListen=function(){this._currentAction=null,this.reset(),this._isActive=!1},T.prototype.reset=function(){this._sequence=""},T.prototype.destructor=function(){document.removeEventListener("keydown",this._handler)},T.prototype._change=function(){this._currentAction(this._sequence),this._addClearTimeout()},T.prototype._addClearTimeout=function(){var C=this;this._clearTimeout&&clearTimeout(this._clearTimeout),this._clearTimeout=setTimeout(function(){C.reset(),C._clearTimeout=null},2e3)},T}();E.KeyListener=S},function(ne,E,D){"use strict";var S,T=this&&this.__extends||(S=function(v,u){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,c){h.__proto__=c}||function(h,c){for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(h[d]=c[d])})(v,u)},function(v,u){if("function"!=typeof u&&null!==u)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function h(){this.constructor=v}S(v,u),v.prototype=null===u?Object.create(u):(h.prototype=u.prototype,new h)});Object.defineProperty(E,"__esModule",{value:!0}),E.ProCombobox=void 0;var C=D(80),x=D(81),m=D(16),p=D(85),y=function(v){function u(h,c){return v.call(this,h,c)||this}return T(u,v),u.prototype._createLayout=function(){var h=this.list=new x.ProList(null,{$template:C.$template,template:this.config.template,htmlEnable:this.config.htmlEnable,virtual:this.config.virtual,keyNavigation:!0,multiselection:this.config.multiselection,itemHeight:this.config.itemHeight,height:this.config.listHeight,data:this.data}),c=this._layout=new m.ProLayout(this.popup.getContainer(),{css:"dhx_combobox-options dhx_combobox__options",rows:[{id:"select-unselect-all",hidden:!this.config.multiselection||!this.config.selectAllButton},{id:"list",height:"content"},{id:"not-found",hidden:!0}],on:{click:{".dhx_combobox__action-select-all":this._handlers.selectAll,".dhx_combobox-options__action-create-option":this._handlers.addOption}}});c.getCell("list").attach(h),this.config.multiselection&&this.config.selectAllButton&&c.getCell("select-unselect-all").attach(p.selectAllView)},u}(C.Combobox);E.ProCombobox=y},function(ne,E,D){"use strict";var S=this&&this.__assign||function(){return S=Object.assign||function(y){for(var v,u=1,h=arguments.length;u<h;u++)for(var c in v=arguments[u])Object.prototype.hasOwnProperty.call(v,c)&&(y[c]=v[c]);return y},S.apply(this,arguments)};Object.defineProperty(E,"__esModule",{value:!0}),E.TextAreaEditor=void 0;var T=D(0),C=D(7),x=D(1),m=D(18),p=function(){function y(v,u,h){this._config=h,this._cell={row:v,col:u},this.type=this._cell.col.type,this._width=this._cell.col.$width;var c=0;this._config.firstColId===this._cell.col.id&&this._cell.row.hasOwnProperty("$level")&&(c=(0,m.getTreeCellWidthOffset)(this._cell.row)),this._width-=c-4,this._initHandlers()}return y.prototype.endEdit=function(v){var u;this._config.$editable&&(v||(u=this._editor.value,"number"===this.type&&(u=parseFloat(u),Number.isNaN(u)&&(u=""))),this._config.events.fire(C.GridEvents.beforeEditEnd,[u,this._cell.row,this._cell.col])?(this._cell.row=this._config.datacollection.getItem(this._cell.row.id),this._config.$editable=null,this._config.events.fire(C.GridEvents.afterEditEnd,[u,this._cell.row,this._cell.col])):this._editor.focus())},y.prototype.toHTML=function(v){return(0,x.isDefined)(v)&&(this.type="string"),v=v??this._cell.row[this._cell.col.id],this._editor&&(v=this._editor.value),this._config.$editable.editor=this,(0,T.el)("textarea",{_hooks:{didInsert:this._handlers.didInsert},_ref:"textarea",_key:"cell_editor","data-dhx-id":"cell_editor",value:v,onblur:this._handlers.onBlur,oninput:this._handlers.onInput,class:void 0!==this._cell.row.height||this._cell.col.htmlEnable?"dhx_cell-editor dhx_cell-editor__textarea_constant-height":"dhx_cell-editor dhx_cell-editor__textarea",style:{width:this._width}})},y.prototype._initHandlers=function(){var v=this;this._handlers={onBlur:function(){v.endEdit()},onInput:function(u){var h;if(void 0===v._cell.row.height&&!v._cell.col.htmlEnable){var c=v._getCurrentHeight(v._editor.value,{width:v._cell.col.$width-2,maxHeight:v._config.rowHeight});v._cell.row[v._cell.col.id]=v._editor.value;var d=(0,m.getCalculatedRowHeight)((0,m.getMaxRowHeight)(v._cell.row,v._config.columns)),a=(0,m.getCalculatedRowHeight)((0,m.getMaxRowHeight)(((h={})[v._cell.col.id]=v._cell.row[v._cell.col.id],h),v._config.columns));if(v._minHeight=d===a?v._config.rowHeight:d,c>=v._minHeight&&c!==v._prevHeight){if(!v._config.events.fire(C.GridEvents.beforeRowResize,[v._cell.row,u,c]))return;v._config.events.fire(C.GridEvents.afterRowResize,[v._cell.row,u,c])}v._prevHeight=c}},didInsert:function(u){v._editor=u.el,v._editor.focus()}}},y.prototype._getCurrentHeight=function(v,u){u=S({width:100,maxHeight:40,lineHeight:20},u);var h=document.createElement("textarea");h.className="dhx_cell-editor dhx_cell-editor__textarea",h.value=v,h.style.width="".concat(u.width,"px"),h.style.lineHeight="".concat(u.lineHeight,"px"),h.style.maxHeight="".concat(u.maxHeight,"px"),h.style.boxSizing="border-box",document.body.appendChild(h);var c=this._getElementHeight(h),d=h.value.split("\n").length,a=Math.round(c/u.lineHeight),r=c<u.maxHeight?u.maxHeight:c;return document.body.removeChild(h),1===d&&d===a?u.maxHeight:r},y.prototype._getElementHeight=function(v){return v.scrollHeight},y}();E.TextAreaEditor=p},function(ne,E,D){"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.getContent=void 0;var S=D(0),T=D(18),C=D(1),x=D(164),m=D(165),p=D(166);function y(u,h){var c=h[u.id];if("combobox"===u.editorType)parseFloat((0,T.getEditorValue)(c,(0,T.getEditorOptions)(u,h)));else if("multiselect"===u.editorType)return NaN;return parseFloat(c)}function v(u,h,c,d){if(u&&h&&c){var a=d?d(u.id,h.data):h.data.reduce(function(i,o){var l=y(u,o);return isNaN(l)||i.push(l),i},[]),r=a;return"tree"===h.type&&(r=h.data.reduce(function(i,o){if(0===o.$level){var l=y(u,o);if(isNaN(l)){var f=0;h.datacollection.eachChild(o.id,function(_){if(!h.datacollection.haveItems(_.id)){var b=y(u,_);isNaN(b)||(f+=b)}}),i.push(f)}else i.push(l)}return i},[])),c(a,r)}}E.getContent=function(){return{inputFilter:{element:{},toHtml:function(u,h){var c=this,d=(0,C.uid)(),a=u.id.toString(),r=this.element[a];return r?r.value=this.value[a]:((r=new p.InputFilter(u,h,d,this.value[a])).events.on("change",function(i){c.value[a]=i}),this.element[a]=r),r.toHTML()},match:function(u){var h=u.val,c=u.match,d=u.col;if(!(0,C.isDefined)(h))return!1;var a=[];a.push((0,T.toFormat)(h,d.type,d.format)),d.format&&(i=d.format.lastIndexOf("#"))>0&&a.push((0,T.toFormat)(h,d.type,d.format.slice(i)));for(var r="",i=0;i<c.length;i++){var o=c.charCodeAt(i);r+=o>32&&o<48||63===o||o>90&&o<95||124===o?"\\"+c[i]:c[i]}return a.some(function(l){return new RegExp("".concat(r),"i").test(l)})},value:{}},selectFilter:{element:{},toHtml:function(u,h){var c=this,d=u.id.toString(),a=this.element[d];return a?(a.value=this.value[d],a.data=u.$activeFilterData||u.$uniqueData):((a=new m.SelectFilter(u,h,u.$uniqueData,this.value[d])).events.on("change",function(r){c.value[d]=r}),this.element[d]=a),a.toHTML()},match:function(u){var c=u.match,d=u.col,a=(0,T.toFormat)(u.val,d.type,d.format);return!c||(a||"boolean"==typeof a)&&a.toString()==c},value:{}},comboFilter:{element:{},toHtml:function(u,h){var c=this,d=u.id.toString(),a=this.element[d];if(a)a.data=u.$uniqueData;else{var r=u.header.filter(function(i){return void 0!==i.filterConfig})[0];(a=new x.ComboFilter(u,h,u.$uniqueData,this.value[d],r)).events.on("change",function(i){c.value[d]=i}),this.element[d]=a}return(0,S.inject)(a.getFilter().getRootView())},match:function(u){var c=u.match,d=void 0===c?"":c,a=u.multi,r=void 0!==a&&a,i=u.col,o=(0,T.toFormat)(u.val,i.type,i.format);if(Array.isArray(d)){for(var l=void 0,f=function(b){if(l=r&&"string"==typeof o?o.split(", ").some(function(I){return I===d[b]}):d[b]===o)return"break"},_=0;_<d.length&&"break"!==f(_);_++);return!d||!d.length||l}return void 0===d||o===d},destroy:function(){this.value={};var u=this.element;for(var h in u)u[h].destructor(),delete u[h]},value:{}},sum:{calculate:function(u,h){return u.length?h.reduce(function(c,d){var a=c+parseFloat(d)||0;return parseFloat(a.toFixed(12))},0):null},toHtml:function(u,h){var c=v(u,h,this.calculate);return u.format||"percent"===u.type?(0,T.toFormat)(c,u.type,u.format):(0,C.isDefined)(c)?c:null}},avg:{calculate:function(u,h){return u.length?h.reduce(function(c,d){return c+d},0)/u.length:null},toHtml:function(u,h){var c=v(u,h,this.calculate);return u.format||"percent"===u.type?(0,T.toFormat)(c,u.type,u.format):(0,C.isDefined)(c)?c.toFixed(3):null}},min:{calculate:function(u){return u.length?Math.min.apply(Math,u):null},toHtml:function(u,h){var c=v(u,h,this.calculate);return u.format||"percent"===u.type||"number"===u.type?(0,T.toFormat)(c,u.type,u.format):(0,C.isDefined)(c)?c.toFixed(3):null}},max:{calculate:function(u){return u.length?Math.max.apply(Math,u):null},toHtml:function(u,h){var c=v(u,h,this.calculate);return u.format||"percent"===u.type||"number"===u.type?(0,T.toFormat)(c,u.type,u.format):(0,C.isDefined)(c)?c.toFixed(3):null}},count:{calculate:function(u,h){return h.length},validate:function(u,h){return h.reduce(function(c,d){return(0,C.isDefined)(d[u])&&""!==d[u]&&(isNaN(d)?c.push(1):c.push(d)),c},[])},toHtml:function(u,h){return v(u,h,this.calculate,this.validate)}}}}},function(ne,E,D){"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.ComboFilter=void 0;var S=D(51),T=D(3),C=D(8),x=D(1),m=D(7),p=function(){function y(v,u,h,c,d){var a;this.events=new T.EventSystem,this._silentMode=!1,this.column=v,this.config=u,this.data=h,this.value=c,this.filterConfig=d?.filterConfig||{},(this.column.htmlEnable||!(null===(a=this.config)||void 0===a)&&a.htmlEnable&&!1!==this.column.htmlEnable)&&(this.filterConfig.readonly=!0,this.filterConfig.template||(this.filterConfig.template=function(r){return r.value})),this.filterConfig.filter||(this.filterConfig.filter=function(r,i){return(0,x.isExistValue)(r.value,i)}),this.initFilter(),this.config&&this.initHandlers()}return y.prototype.initFilter=function(){this._filter=new S.Combobox(null,Object.assign({},this.filterConfig)),this.data&&this._filter.data&&this._setData()},y.prototype.initHandlers=function(){var v,u,h,c=this,d=this.column.id.toString();this.config.events.on(C.DataEvents.load,function(){return c._setData()},this),this._filter.events.on("change",function(a){var r,i;a&&(Array.isArray(a)?a.find(function(o){return c._filter.data.getItem(o)}):c._filter.data.getItem(a))&&(i=c._filter.config.multiselection?c._filter.list.selection.getItem().map(function(o){if(o&&c._filter.data.getItem(o.id))return o.value}):c._filter.list.selection.getItem().value),c.value=i,null===(r=c.config.events)||void 0===r||r.fire(m.GridEvents.filterChange,[c.value,d,"comboFilter",c._silentMode]),c._silentMode&&void 0===c.value&&(c._silentMode=!1)}),this.config.events.on(m.GridEvents.filterChange,function(a){return c.events.fire(m.HeaderFilterEvent.change,[a])},this),this._filter.popup.events.on("afterHide",function(){c.filterConfig.multiselection||c._filter.list.selection.getItem()||c.clear()}),this._filter.popup.events.on("afterShow",function(){!c.filterConfig.multiselection&&(""===c.value||c.filterConfig.readonly&&void 0!==c.value)&&c.clear()}),null===(v=this.config.events)||void 0===v||v.on(m.GridEvents.scroll,function(){var a;c._isFocused&&null!==(a=c._filter.getRootView().refs)&&void 0!==a&&a.input&&c._filter.focus()},this),null===(u=this.config.events)||void 0===u||u.on(m.GridEvents.headerCellMouseDown,function(a){a.id!==c.column.id&&c.blur()},this),null===(h=this.config.events)||void 0===h||h.on(m.GridEvents.cellMouseDown,function(){return c.blur()},this),this.config.events.on(C.DataEvents.change,function(a,r){c.column.hidden||"add"!==r&&"update"!==r&&"remove"!==r||("add"!==r&&c._checkValue(),c._setData(!0))},this),this.config.events.on(C.DataEvents.removeAll,function(){c.clear(!0),c._setData()},this),this.config.events.on(m.GridEvents.afterRowShow,function(){return c._setData(!0)},this),this.config.events.on(m.GridEvents.afterRowHide,function(){c.column.hidden||(c._checkValue(),c._setData(!0))},this),this.config.events.on(C.DataEvents.filter,function(a){c.column.hidden||(!a||(0,C.isOnlyPermanentFilters)(a)?c.clear(!0):c._checkValue(),c.filterConfig.multiselection&&c._filter.popup.isVisible()||c._setData(!0))},this),this.config.events.on(m.GridEvents.afterColumnShow,function(){c.filterConfig.multiselection||(c._checkValue(),c._setData())},this),this.config.events.on(m.GridEvents.afterColumnHide,function(){c.filterConfig.multiselection||c._setData()},this)},y.prototype.getFilter=function(){return this._filter},y.prototype.setValue=function(v,u){var h,c,d=this;if(this.filterConfig.multiselection||!Array.isArray(v))if((0,x.isDefined)(v)){if(v?.length||""===v){var a=this.filterConfig.multiselection&&Array.isArray(v)?v.map(function(r){var i;return null===(i=d._filter.data.find(function(o){return o.value===r}))||void 0===i?void 0:i.id}):null===(c=this._filter.data.find(function(r){return r.value===v}))||void 0===c?void 0:c.id;this._filter.setValue(a,u)}}else u&&(this._silentMode=!0),this._filter.clear(),this.filterConfig.multiselection||void 0===this.value||(this.value=void 0,null===(h=this.config.events)||void 0===h||h.fire(m.GridEvents.filterChange,[this.value,this.column.id,"comboFilter"]))},y.prototype.clear=function(v){void 0!==this.value&&this.setValue(null,v)},y.prototype.focus=function(){var v;this._isFocused=!0,null!==(v=this._filter.getRootView().refs)&&void 0!==v&&v.input&&this._filter.focus()},y.prototype.blur=function(){var v;this._isFocused=!1,null!==(v=this._filter.getRootView().refs)&&void 0!==v&&v.input&&this._filter.blur()},y.prototype.destructor=function(){var v=this.config.events;if(v)for(var u in v.events)this.config.events.detach(u,this);this.events.clear(),this._filter&&this._filter.destructor(),this.config=this.filterConfig=this.data=this.column=this.value=this.events=null},y.prototype._setData=function(v){var u=this;void 0===v&&(v=!1);var h=function(){var c=u.column.$activeFilterData||u.column.$uniqueData;if(u.column.header.some(function(r){var i;return null===(i=r.filterConfig)||void 0===i?void 0:i.filter})){var d=u._filter.data.reduce(function(r,i){return r[i.value]=i.id,r},{}),a=c.map(function(r){return d[r]?{id:d[r],value:r}:{value:r}});u._filter.data.parse(a)}else u._filter.data.parse(c.map(function(r){return{value:r}}))};void 0===this.value?h():v&&this.filterConfig.multiselection&&(h(),this.setValue(this.value,!0))},y.prototype._checkValue=function(){if(void 0!==this.value)for(var v=Array.isArray(this.value)?this.value:[this.value],u=function(a){if(h.column.$uniqueData.includes(a))return"continue";if(v.length>1){var r=h._filter.data.find(function(i){return i.value===a});h._filter.list.selection.remove(r.id)}else h.clear();return"break"},h=this,c=0,d=v;c<d.length&&"break"!==u(d[c]);c++);},y}();E.ComboFilter=p},function(ne,E,D){"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.SelectFilter=void 0;var S=D(0),T=D(3),C=D(7),x=function(){function m(p,y,v,u){this.events=new T.EventSystem,this.column=p,this.config=y,this.data=v,this.value=u||"",this.initHandlers(),this.toHTML()}return m.prototype.toHTML=function(){var p,y=this;return(0,S.el)("label.dhx_grid-filter__label.dxi.dxi-menu-down",{_ref:"".concat(this.column.id,"_filter")},[(0,S.el)("select.dxi.dxi-menu-down",{type:"text",class:"dhx_input dhx_grid-filter dhx_grid-filter--select",onchange:this._handlers.onchange,onfocus:this._handlers.onfocus,onblur:this._handlers.onblur,_key:this.column.id},[(0,S.el)("option",{value:"",_key:0},""),null===(p=this.value?[this.value]:this.data)||void 0===p?void 0:p.map(function(v){return""!==(v=v??"")&&(0,S.el)("option",{_key:v,value:v,selected:y.value===v.toString()},v)})])])},m.prototype.getFilter=function(){return this.toHTML()},m.prototype.setValue=function(p,y){var v;this.value=p||"",this.events.fire(C.HeaderFilterEvent.change,[p]),null===(v=this.config.events)||void 0===v||v.fire(C.GridEvents.filterChange,[this.value,this.column.id,"selectFilter",y])},m.prototype.clear=function(p){this.setValue("",p)},m.prototype.focus=function(){var p,y,v,u;this._isFocused=!0;var h=null===(u=null===(v=null===(y=null===(p=this.config.events)||void 0===p?void 0:p.context)||void 0===y?void 0:y.getRootView())||void 0===v?void 0:v.refs["".concat(this.column.id,"_filter")])||void 0===u?void 0:u.el;h&&h.focus()},m.prototype.blur=function(){var p,y,v,u;this._isFocused=!1;var h=null===(u=null===(v=null===(y=null===(p=this.config.events)||void 0===p?void 0:p.context)||void 0===y?void 0:y.getRootView())||void 0===v?void 0:v.refs["".concat(this.column.id,"_filter")])||void 0===u?void 0:u.el;h&&h.blur()},m.prototype.initHandlers=function(){var p,y,v,u=this;this._handlers={onchange:function(h){var c,d,a,r,i=(null===(c=h.target)||void 0===c?void 0:c.value)||(null===(a=null===(d=h.composedPath())||void 0===d?void 0:d[0])||void 0===a?void 0:a.value)||(null===(r=h.explicitOriginalTarget)||void 0===r?void 0:r.value);u.setValue(i)},onfocus:function(){u._isFocused=!0},onblur:function(){u._isFocused=!1}},null===(p=this.config.events)||void 0===p||p.on(C.GridEvents.scroll,function(){var h,c,d,a,r=null===(a=null===(d=null===(c=null===(h=u.config.events)||void 0===h?void 0:h.context)||void 0===c?void 0:c.getRootView())||void 0===d?void 0:d.refs["".concat(u.column.id,"_filter")])||void 0===a?void 0:a.el;u._isFocused&&r&&(0,S.awaitRedraw)().then(function(){r.focus()})}),null===(y=this.config.events)||void 0===y||y.on(C.GridEvents.headerCellMouseDown,function(h){h.id!==u.column.id&&u.blur()}),null===(v=this.config.events)||void 0===v||v.on(C.GridEvents.cellMouseDown,function(){return u.blur()})},m}();E.SelectFilter=x},function(ne,E,D){"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.InputFilter=void 0;var S=D(0),T=D(3),C=D(7),x=function(){function m(p,y,v,u){this.events=new T.EventSystem,this.column=p,this.config=y,this.id=v,this.value=u||"",this.initHandlers(),this.toHTML()}return m.prototype.toHTML=function(){return(0,S.el)("div.dhx_grid-filter__label.dxi.dxi-magnify",{"aria-label":"Type to search",_ref:"".concat(this.column.id,"_filter")},[(0,S.el)("label",{style:{display:"none"},"aria-label":"Type to search",for:this.id},"Type to search"),(0,S.el)("input",{type:"text",class:"dhx_input dhx_grid-filter",oninput:this._handlers.onchange,onfocus:this._handlers.onfocus,onblur:this._handlers.onblur,_key:this.column.id,id:this.id,value:this.value})])},m.prototype.getFilter=function(){return this.toHTML()},m.prototype.setValue=function(p,y){var v;this.value=p||"",this.events.fire(C.HeaderFilterEvent.change,[this.value]),null===(v=this.config.events)||void 0===v||v.fire(C.GridEvents.filterChange,[this.value,this.column.id,"inputFilter",y])},m.prototype.clear=function(p){this.setValue("",p)},m.prototype.focus=function(){var p,y,v,u,h;this._isFocused=!0;var c=null===(u=null===(v=null===(y=null===(p=this.config.events)||void 0===p?void 0:p.context)||void 0===y?void 0:y.getRootView())||void 0===v?void 0:v.refs["".concat(this.column.id,"_filter")])||void 0===u?void 0:u.el;c&&(null===(h=c.querySelector("input"))||void 0===h||h.focus())},m.prototype.blur=function(){var p,y,v,u,h;this._isFocused=!1;var c=null===(u=null===(v=null===(y=null===(p=this.config.events)||void 0===p?void 0:p.context)||void 0===y?void 0:y.getRootView())||void 0===v?void 0:v.refs["".concat(this.column.id,"_filter")])||void 0===u?void 0:u.el;c&&(null===(h=c.querySelector("input"))||void 0===h||h.blur())},m.prototype.initHandlers=function(){var p,y,v,u=this;this._handlers={onchange:function(h){var c,d,a,r,i=(null===(c=h.target)||void 0===c?void 0:c.value)||(null===(a=null===(d=h.composedPath())||void 0===d?void 0:d[0])||void 0===a?void 0:a.value)||(null===(r=h.explicitOriginalTarget)||void 0===r?void 0:r.value);u._inputDelay&&clearTimeout(u._inputDelay),u._inputDelay=setTimeout(function(){return u.setValue(i)},500)},onfocus:function(){u._isFocused=!0},onblur:function(){u._isFocused=!1}},null===(p=this.config.events)||void 0===p||p.on(C.GridEvents.scroll,function(){var h,c,d,a,r=null===(a=null===(d=null===(c=null===(h=u.config.events)||void 0===h?void 0:h.context)||void 0===c?void 0:c.getRootView())||void 0===d?void 0:d.refs["".concat(u.column.id,"_filter")])||void 0===a?void 0:a.el;u._isFocused&&r&&(0,S.awaitRedraw)().then(function(){var i;null===(i=r.querySelector("input"))||void 0===i||i.focus()})}),null===(y=this.config.events)||void 0===y||y.on(C.GridEvents.headerCellMouseDown,function(h){h.id!==u.column.id&&u.blur()}),null===(v=this.config.events)||void 0===v||v.on(C.GridEvents.cellMouseDown,function(){return u.blur()})},m}();E.InputFilter=x},function(ne,E,D){"use strict";var S=this&&this.__spreadArray||function(m,p,y){if(y||2===arguments.length)for(var v,u=0,h=p.length;u<h;u++)!v&&u in p||(v||(v=Array.prototype.slice.call(p,0,u)),v[u]=p[u]);return m.concat(v||Array.prototype.slice.call(p))};Object.defineProperty(E,"__esModule",{value:!0}),E.startResize=void 0;var T=D(1),C=D(7),x=D(25);E.startResize=function(m,p,y,v){var u,h=m.config.rightSplit;y.targetTouches&&y.preventDefault();var c=y.targetTouches?y.targetTouches[0].clientX:y.clientX,d=m.config.columns.filter(function(_){return!_.hidden}),a=h?d.slice(-h).map(function(_){return _.id}):[],r=!(null===(u=m.scrollView)||void 0===u||!u.config.enable),i=h?(0,x.calcScrollBarWidth)(m.config,r).xState:null,o=0;m.config.$resizing=p;var l=function(_){var b=(0,T.findIndex)(d,function(W){return W.id===p}),I=_.targetTouches?_.targetTouches[0].clientX:_.clientX,O=I-m.getRootNode().getBoundingClientRect().left,P=(0,x.calcScrollBarWidth)(m.config,r);if(!(m.config.leftSplit===b+1&&O>=m.config.$width-P.y-2||h&&a.includes(p)&&P.xState!==i)){o=o||d[b].$width;var R,N=d[b].minWidth||40,V=d[b].maxWidth,U=I-c,B=S([],d,!0),F=o+(i&&a.includes(p)?-U:U);V&&F>=V||F<=N?(F<=N&&(R=N),F>=V&&(R=V)):R=F,B[b].$width=R,B[b].$fixed=!0,m.events.fire(C.GridEvents.resize,[d[b],_]),m.paint()}},f=function(){y.targetTouches?(document.removeEventListener("touchmove",l),document.removeEventListener("touchend",f)):(document.removeEventListener("mousemove",l),document.removeEventListener("mouseup",f)),v()};y.targetTouches?(document.addEventListener("touchmove",l),document.addEventListener("touchend",f)):(document.addEventListener("mousemove",l),document.addEventListener("mouseup",f)),m.paint()}},function(ne,E,D){"use strict";var S=this&&this.__assign||function(){return S=Object.assign||function(y){for(var v,u=1,h=arguments.length;u<h;u++)for(var c in v=arguments[u])Object.prototype.hasOwnProperty.call(v,c)&&(y[c]=v[c]);return y},S.apply(this,arguments)};Object.defineProperty(E,"__esModule",{value:!0}),E.getKeysHandlers=E.selectionMove=void 0;var T=D(7),C=D(2),x=D(26);function m(y,v,u,h,c,d,a){if(void 0===c&&(c=!1),void 0===d&&(d=!1),void 0===a&&(a=!1),!v.config.$editable&&v.config.selection&&!(0,C.locateNodeByClassName)(y,"dhx_grid-header-cell")){y&&y.preventDefault();var r=v.selection.getCell(),i=v.config.columns.filter(function(f){return!f.hidden});if(r)if("vertical"===u)if(c){var o=v.data.getItem(v.data.getId(1===h?v.data.getLength()-1:0));v.selection.setCell(o.id,r.column.id,d,a),v.scrollTo(o.id.toString(),r.column.id.toString())}else(l=v.data.getIndex(r.row.id.toString()))+h>=0&&l+h<v.data.getLength()&&(o=v.data.getItem(v.data.getId(l+h)),v.selection.setCell(o.id,r.column.id,d,a),v.scrollTo(o.id.toString(),r.column.id.toString()));else if(c)v.selection.setCell(r.row.id,(o=1===h?i[i.length-1]:i[0]).id,d,a),v.scrollTo(r.row.id.toString(),o.id.toString());else{var l;(l=i.indexOf(r.column))+h>=0&&l+h<i.length&&(v.selection.setCell(r.row.id,i[l+h].id,d,a),v.scrollTo(r.row.id.toString(),i[l+h].id.toString()))}}}function p(y,v){var u,h,c=y.selection.getCell(),d=c&&y.getSpan(c.row.id,c.column.id);if(d){if("up"===v||"down"===v){var a=null===(u=y.config.data)||void 0===u?void 0:u.findIndex(function(o){return o.id===d.row}),r=null===(h=y.config.data)||void 0===h?void 0:h.findIndex(function(o){return o.id===c.row.id});return"up"===v?a-r-1:a+(d.rowspan||1)-r}var i=y.config.columns.filter(function(o){return!o.hidden});return a=i.findIndex(function(o){return o.id===d.column}),r=i.findIndex(function(o){return o.id===c.column.id}),"left"===v?a-r-1:a+(d.colspan||1)-r}return"down"===v||"right"===v?1:-1}E.selectionMove=m,E.getKeysHandlers=function(y){var v,u,h,c="cell"===y.config.selection||"complex"===y.config.selection||!0===y.config.selection,d={};if(y.getRootView()){var a=null===(h=null===(u=null===(v=y.getRootView())||void 0===v?void 0:v.refs)||void 0===u?void 0:u.grid_body)||void 0===h?void 0:h.el;if(!a)return;d={pageUp:function(r){r.preventDefault(),a.scrollTop-=a.clientHeight},pageDown:function(r){r.preventDefault(),a.scrollTop+=a.clientHeight},home:function(r){r.preventDefault(),a.scrollTop=0},end:function(r){r.preventDefault(),a.scrollTop+=a.scrollHeight}}}return S({enter:function(){if(c){var r=(0,x.normalizeCell)(y.selection.getCell(),y);if(r&&(!1!==r.column.editable&&y.config.editable||r.column.editable))if(y.config.$editable)y.editEnd();else if("boolean"===r.column.type){if(!y.events.fire(T.GridEvents.beforeEditStart,[r.row,r.column,"checkbox"])||(y.events.fire(T.GridEvents.afterEditStart,[r.row,r.column,"checkbox"]),!y.events.fire(T.GridEvents.beforeEditEnd,[!r.row[r.column.id],r.row,r.column])))return;y.events.fire(T.GridEvents.afterEditEnd,[!r.row[r.column.id],r.row,r.column])}else y.editCell(r.row.id,r.column.id,r.column.editorType)}else y.config.$editable&&y.editEnd()},space:function(r){var i,o=(0,x.normalizeCell)(y.selection.getCell(),y);if(c&&(null!==(i=o?.column.editable)&&void 0!==i?i:y.config.editable)&&!y.config.$editable&&o&&"boolean"===o.column.type){if(r.preventDefault(),!y.events.fire(T.GridEvents.beforeEditStart,[o.row,o.column,"checkbox"])||(y.events.fire(T.GridEvents.afterEditStart,[o.row,o.column,"checkbox"]),!y.events.fire(T.GridEvents.beforeEditEnd,[!o.row[o.column.id],o.row,o.column])))return;y.events.fire(T.GridEvents.afterEditEnd,[!o.row[o.column.id],o.row,o.column])}},escape:function(){y.config.$editable&&y.editEnd(!0)},tab:function(r){if(y.config.selection&&!(0,C.locateNodeByClassName)(r,"dhx_grid-header-cell")){y.config.$editable&&y.editEnd();var i=y.selection.getCell(),o=y.config.columns.filter(function(_){return!_.hidden});if(i){var l=o.indexOf(i.column)+p(y,"right");if(l>=0&&l<o.length)r&&r.preventDefault(),y.selection.setCell(i.row.id,o[l].id),y.scrollTo(i.row.id.toString(),o[l].id.toString());else if(l>=0){var f=y.data.getIndex(i.row.id.toString())+1;f<y.data.getLength()&&(r&&r.preventDefault(),y.selection.setCell(y.data.getId(f),o[0].id),y.scrollTo(y.data.getId(f).toString(),o[0].id.toString()))}}}},"shift+tab":function(r){if(y.config.selection&&!(0,C.locateNodeByClassName)(r,"dhx_grid-header-cell")){y.config.$editable&&y.editEnd();var i=y.selection.getCell(),o=y.config.columns.filter(function(_){return!_.hidden});if(i){var l=o.indexOf(i.column)+p(y,"left");if(l>=0&&l<o.length)r&&r.preventDefault(),y.selection.setCell(i.row.id,o[l].id),y.scrollTo(i.row.id.toString(),o[l].id.toString());else if(l<y.data.getLength()){var f=y.data.getIndex(i.row.id.toString())-1;f>=0&&(r&&r.preventDefault(),y.selection.setCell(y.data.getId(f),o[o.length-1].id),y.scrollTo(y.data.getId(f).toString(),o[o.length-1].id.toString()))}}}},arrowUp:function(r){m(r,y,"vertical",p(y,"up"))},"ctrl+arrowUp":function(r){m(r,y,"vertical",-1,!0)},"shift+arrowUp":function(r){y.config.multiselection&&m(r,y,"vertical",-1,!1,!1,!0)},"ctrl+shift+arrowUp":function(r){y.config.multiselection&&m(r,y,"vertical",-1,!0,!1,!0)},arrowDown:function(r){m(r,y,"vertical",p(y,"down"))},"ctrl+arrowDown":function(r){m(r,y,"vertical",1,!0)},"shift+arrowDown":function(r){y.config.multiselection&&m(r,y,"vertical",1,!1,!1,!0)},"ctrl+shift+arrowDown":function(r){y.config.multiselection&&m(r,y,"vertical",1,!0,!1,!0)},arrowRight:function(r){m(r,y,"horizontal",p(y,"right"))},"ctrl+arrowRight":function(r){m(r,y,"horizontal",1,!0)},"shift+arrowRight":function(r){y.config.multiselection&&m(r,y,"horizontal",1,!1,!1,!0)},"ctrl+shift+arrowRight":function(r){y.config.multiselection&&m(r,y,"horizontal",1,!0,!1,!0)},arrowLeft:function(r){m(r,y,"horizontal",p(y,"left"))},"ctrl+arrowLeft":function(r){m(r,y,"horizontal",-1,!0)},"shift+arrowLeft":function(r){y.config.multiselection&&m(r,y,"horizontal",-1,!1,!1,!0)},"ctrl+shift+arrowLeft":function(r){y.config.multiselection&&m(r,y,"horizontal",-1,!0,!1,!0)}},d)}},function(ne,E,D){"use strict";var S,T=this&&this.__extends||(S=function(i,o){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var _ in f)Object.prototype.hasOwnProperty.call(f,_)&&(l[_]=f[_])})(i,o)},function(i,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function l(){this.constructor=i}S(i,o),i.prototype=null===o?Object.create(o):(l.prototype=o.prototype,new l)}),C=this&&this.__assign||function(){return C=Object.assign||function(i){for(var o,l=1,f=arguments.length;l<f;l++)for(var _ in o=arguments[l])Object.prototype.hasOwnProperty.call(o,_)&&(i[_]=o[_]);return i},C.apply(this,arguments)},x=this&&this.__spreadArray||function(i,o,l){if(l||2===arguments.length)for(var f,_=0,b=o.length;_<b;_++)!f&&_ in o||(f||(f=Array.prototype.slice.call(o,0,_)),f[_]=o[_]);return i.concat(f||Array.prototype.slice.call(o))};Object.defineProperty(E,"__esModule",{value:!0}),E.ProGrid=void 0;var m=D(72),p=D(7),y=D(8),v=D(2),u=D(18),h=D(25),c=D(0),d=D(34),a=D(15),r=function(i){function o(l,f){var _,b,I=this;return(I=i.call(this,l,C({autoHeight:!1,headerAutoHeight:null!==(_=f?.headerAutoHeight)&&void 0!==_?_:f?.autoHeight,footerAutoHeight:null!==(b=f?.footerAutoHeight)&&void 0!==b?b:f?.autoHeight},f))||this).scrollView=new d.ScrollView(function(){return I.getRootView()},{scrollHandler:function(O){return I.events.fire(p.GridEvents.scroll,[{y:O.target.scrollTop,x:O.target.scrollLeft}])}}),I}return T(o,i),o.prototype._createView=function(){var l=this;return(0,c.create)({render:function(f,_){return l._destructed?(0,c.el)("div"):(0,h.proRender)(f,_,l._htmlEvents,l.selection,l._uid)},hooks:this._initHooks()},this)},o.prototype._setEventHandlers=function(){var l=this;i.prototype._setEventHandlers.call(this),this.events.on(p.GridEvents.headerCellMouseDown,function(f,_){var b,I=(0,v.locateNodeByClassName)(_,"dhx_header-row"),O=I&&I.getAttribute("aria-rowindex");null!==(b=f.header[Number(O)-1])&&void 0!==b&&b.content||(_.targetTouches?l._touch.timer=setTimeout(function(){l._dragStartColumn(_,f)},l._touch.duration):l._dragStartColumn(_,f))}),this._events.on(p.GridSystemEvents.headerCellTouchMove,function(f,_){l._touch.start&&_.preventDefault(),l._clearTouchTimer()}),this._events.on(p.GridSystemEvents.headerCellTouchEnd,function(){l._touch.start=!1,l._clearTouchTimer()}),this.events.on(p.GridEvents.afterResizeEnd,function(){l.config.autoHeight&&(l.config.data=l.data.map(function(f){var _=(0,u.getMaxRowHeight)(f,l.config.columns);return f.$height=(0,u.getCalculatedRowHeight)(_,{rowHeight:l.config.rowHeight}),f}))}),this.events.on(p.GridEvents.afterRowResize,function(f,_,b){var I=l.data.getItem(f.id),O=I.id,P=I.height;P&&P!==I.$height&&l.data.update(O,{height:b}),l.data.update(O,{$height:b},!0),l.config.data=l.data.map(function(N){return N}),l.paint()}),this.events.on(p.GridEvents.scroll,function(){l._lazyLoad()}),this.events.on(y.DataEvents.dataRequest,function(f,_){var b=l.data.dataProxy;b&&b.config&&l._prepareDataFromTo(l.data,f,_)})},o.prototype.getNormalizeContentHeight=function(l,f,_){var b,I,O=0,P=this.content[l.content],R=l.content&&"function"==typeof P.calculate&&P.toHtml(f,_).toString(),N=l.text||R||"";if(l.colspan){var V=null===(b=_.columns)||void 0===b?void 0:b.findIndex(function(F){return F.id===f.id}),B=null===(I=_.columns)||void 0===I?void 0:I.slice(V,V+l.colspan);B?.forEach(function(F){O+=F.$width})}else O+=f.$width;return(0,u.measureTextHeight)({text:N,width:O-24,htmlEnable:(0,a.isHtmlEnable)(_,f,l),font:"bold 14px Arial"})+16},o.prototype._prepareData=function(l){var f=this;return this._normalizeDataType(),this._adjustColumns(),l.map(function(_){if(f.config.autoHeight&&void 0===_.height){var b=f.config.columns.filter(function(O){return!O.hidden}),I=(0,u.getMaxRowHeight)(_,b);_.$height=(0,u.getCalculatedRowHeight)(I,{rowHeight:f.config.rowHeight})||f.config.rowHeight}else _.$height=_.height||f.config.rowHeight;return _})},o.prototype._prepareDataFromTo=function(l,f,_){var b=this;return l.mapRange(f,_,function(I){var O=(0,u.getMaxRowHeight)(I,b.config.columns);return I.$height=(0,u.getCalculatedRowHeight)(O,{rowHeight:b.config.rowHeight})||b.config.rowHeight,I})},o.prototype._dragStart=function(l){if(this.config.dragMode&&("row"===this.config.dragItem||"both"===this.config.dragItem)&&!this.config.$editable){var f=this.getColumn(l.target.getAttribute("data-dhx-col-id"));if(!1===f?.draggable)return;var _=(0,v.locateNode)(l,"data-dhx-id"),b=_&&_.getAttribute("data-dhx-id");l.targetTouches&&(this._touch.start=!0);var I=[b];if(this.config.multiselection&&(I=x(x([],I,!0),this.selection.getCells().map(function(V){return V.row.id}),!0)).length>1){for(var O=this.data.getInitialData(),P={},R=function(V){var U=I[V],B=O?.findIndex(function(F){return F.id==U});P[B]=U},N=0;N<I.length;N++)R(N);I=x([],Object.values(P),!0)}return y.dragManager.onMouseDown(l,I,[this._getRowGhost(I)])}},o.prototype._lazyLoad=function(){var l,f,_=this,b=this.data.dataProxy;if(b&&b.config){var I=this.data.getRawData(0,-1,null,2);if(!I.length)return;var O,P=(0,h.getRenderConfig)(this,I,{width:this.config.$width,height:this.config.$height}),R=b.config.limit,N=R,V=P.currentRows,U=V[0],B=V[V.length-1],F=this.data.getIndex(B.id),W=function(ee){for(var J=1;J<V.length;J++)if("firstFilledRow"===ee&&!V[J].$empty&&V[J-1].$empty||"firstEmptyRow"===ee&&V[J].$empty&&!V[J-1].$empty)return _.data.getIndex(V[J].id)};if(U.$empty)if(B.$empty)O=this.data.getIndex(U.id);else{var M=W("firstFilledRow"),$=M-N;$<0&&($=0);for(var Y=$;Y<M;Y++)if(this.data.getItem(this.data.getId(Y)).$empty){O=Y,N=M-Y;break}}else B.$empty?O=W("firstEmptyRow"):(O=null!==(l=W("firstEmptyRow"))&&void 0!==l?l:this.data.getIndex(U.id),N=(null!==(f=W("firstFilledRow"))&&void 0!==f?f:F)-O);!this.data.isDataLoaded(O,F)&&this.data.events.fire(y.DataEvents.beforeLazyLoad,[])&&(b.updateUrl(null,{from:O,limit:N}),b.config.limit=R,this.data.load(b).then(function(){_.config.autoHeight&&_._prepareDataFromTo(_.data,O,F)}))}},o.prototype._getColumnGhost=function(l){var f=this._container||(0,v.toNode)(this._uid),_=f.querySelector(".dhx_header-row"),b=_.querySelector('.dhx_grid-header-cell[data-dhx-id="'.concat(l.id,'"]')),I=Array.from(_.childNodes).indexOf(b)+1,O=f.querySelectorAll('.dhx_grid-header-cell[data-dhx-id="'.concat(l.id,'"]:not(.dhx_span-cell)')),P=f.querySelectorAll(".dhx_grid_data .dhx_grid-cell:nth-child(".concat(I,")")),R=document.createElement("div");return O.forEach(function(N){return R.appendChild(N.cloneNode(!0))}),P.forEach(function(N){return R.appendChild(N.cloneNode(!0))}),R},o.prototype._dragStartColumn=function(l,f){var _=l.target,b=function(I){return I.classList.contains("dhx_grid-custom-content-cell")};b(_.parentElement)||b(_.parentElement.parentElement)||!(f.draggable||"column"===this.config.dragItem&&!1!==f.draggable||"both"===this.config.dragItem&&!1!==f.draggable)||(0,v.locateNodeByClassName)(l,"dhx_resizer_grip_wrap")||(l.targetTouches&&(this._touch.start=!0),y.dragManager.onMouseDown(l,[f.id],[this._getColumnGhost(f)]))},o}(m.Grid);E.ProGrid=r},function(ne,E,D){"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.collectionStore=void 0;var S=D(1),T=function(){function x(){this._store={}}return x.prototype.setItem=function(m,p){this._store[m]=p},x.prototype.getItem=function(m){return(0,S.isId)(m)&&this._store[m]?this._store[m]:null},x}(),C=window.dhxHelpers=window.dhxHelpers||{};C.collectionStore=C.collectionStore||new T,E.collectionStore=C.collectionStore},function(ne,E,D){"use strict";(function(S){var T,C=this&&this.__extends||(T=function(v,u){return(T=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,c){h.__proto__=c}||function(h,c){for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(h[d]=c[d])})(v,u)},function(v,u){if("function"!=typeof u&&null!==u)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function h(){this.constructor=v}T(v,u),v.prototype=null===u?Object.create(u):(h.prototype=u.prototype,new h)});Object.defineProperty(E,"__esModule",{value:!0}),E.LazyDataProxy=void 0;var x=D(32),m=D(1),p=D(47),y=function(v){function u(h,c){var d=v.call(this,h)||this;return d.config=(0,m.extend)({from:0,limit:50,delay:50,prepare:0},c),d.updateUrl(h,{from:d.config.from,limit:d.config.limit}),d}return C(u,v),u.prototype.load=function(){var h=this;return new S(function(c,d){h._timeout?(clearTimeout(h._timeout),h._timeout=setTimeout(function(){p.ajax.get(h.url,{responseType:"text"}).then(c).catch(d),h._cooling=!0},h.config.delay),h._cooling&&(c(null),h._cooling=!1)):(p.ajax.get(h.url,{responseType:"text"}).then(c).catch(d),h._cooling=!0,h._timeout=setTimeout(function(){}))})},u}(x.DataProxy);E.LazyDataProxy=y}).call(this,D(17))},function(ne,E,D){"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.Selection=void 0;var S=D(3),T=D(35),C=D(22),x=D(1),m=function(){function p(y,v,u){var h=this;this.events=u||new S.EventSystem(this),this._data=v,this.config=y,this._data.events.on(C.DataEvents.removeAll,function(){h._selected=null}),this._data.events.on(C.DataEvents.change,function(){if((0,x.isId)(h._selected)){var c=h._data.getNearId(h._selected);c!==h._selected&&(h._selected=null,c&&h.add(c))}})}return p.prototype.getId=function(){return this._selected},p.prototype.getItem=function(){return(0,x.isId)(this._selected)?this._data.getItem(this._selected):null},p.prototype.remove=function(y){return!(0,x.isDefined)(y=y??this._selected)||!!this.events.fire(T.SelectionEvents.beforeUnSelect,[y])&&(this._data.update(y,{$selected:!1},!0),this._selected=null,this.events.fire(T.SelectionEvents.afterUnSelect,[y]),!0)},p.prototype.add=function(y){this._selected!==y&&!this.config.disabled&&this._data.exists(y)&&(this.remove(),this._addSingle(y))},p.prototype.enable=function(){this.config.disabled=!1},p.prototype.disable=function(){this.remove(),this.config.disabled=!0},p.prototype._addSingle=function(y){this.events.fire(T.SelectionEvents.beforeSelect,[y])&&(this._selected=y,this._data.update(y,{$selected:!0},!0),this.events.fire(T.SelectionEvents.afterSelect,[y]))},p}();E.Selection=m},function(ne,E,D){"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.createFactory=void 0;var S=D(174),T=D(175),C=D(176),x=D(177),m=D(178),p=D(179),y=D(180),v=D(181),u=D(182),h=D(183),c=D(36);E.createFactory=function(d){for(var a=d.defaultType,r=d.allowedTypes,i=d.widgetName,o=d.widget,l=new Set,f=0,_=r;f<_.length;f++)l.add(_[f]);var I=o.config,O=o.events,P=o.data;return function(R,N){if(R.hidden||!(R.type&&"button"!==R.type&&"navItem"!==R.type&&"menuItem"!==R.type||R.value||R.icon||R.html))return null;R.type=R.type||a,l&&!l.has(R.type)&&(R.type=a),"imageButton"===R.type&&"ribbon"!==i&&(R.active=!1),N&&"spacer"!==R.type&&"separator"!==R.type&&"customHTML"!==R.type&&(R.type="menuItem"),P.haveItems(R.id)&&function(U,B,F){switch(U){case"sidebar":case"context-menu":B.$openIcon="right";break;case"toolbar":B.$openIcon=B.parent===F.getRoot()?"right":"bottom";break;case"menu":B.parent!==this.data.getRoot()&&(B.$openIcon="right");break;case"ribbon":var W=F.getItem(B.parent);W&&"block"!==B.type&&(B.$openIcon="block"===W.type?"bottom":"right")}}(i,R,P),"toolbar"===i&&R.items&&R.items.forEach(function(U){U.type||(U.type="menuItem")});var V="customHTML"!==R.type&&function(U,B,F,W){switch(U.type){case"navItem":case"selectButton":return(0,T.navItem)(U,F,W.collapsed);case"button":return(0,S.button)(U,F);case"title":return(0,u.title)(U,F);case"separator":return(0,y.separator)(U,F);case"spacer":return(0,v.spacer)(U,F);case"input":return(0,m.input)(U,B,F);case"imageButton":return(0,x.imageButton)(U,F);case"menuItem":return(0,p.menuItem)(U,F,W.asMenuItem);case"customHTMLButton":return(0,C.customHTMLButton)(U,F,W.asMenuItem);case"datePicker":return(0,h.datePicker)(U,B,F);default:throw new Error("unknown item type "+U.type)}}(R,O,i,{asMenuItem:N,collapsed:"sidebar"!==i||I.collapsed});return(0,c.navbarComponentMixin)(i,R,N,V)}}},function(ne,E,D){"use strict";var S=this&&this.__assign||function(){return S=Object.assign||function(x){for(var m,p=1,y=arguments.length;p<y;p++)for(var v in m=arguments[p])Object.prototype.hasOwnProperty.call(m,v)&&(x[v]=m[v]);return x},S.apply(this,arguments)};Object.defineProperty(E,"__esModule",{value:!0}),E.button=void 0;var T=D(0),C=D(36);E.button=function(x,m){var v,u,h,p=x.icon&&!x.value,y=p?" dhx_navbar-count--absolute":" dhx_navbar-count--button-inline";return(0,T.el)("button.dhx_button",S({class:(0,C.getNavbarButtonCSS)(x,m),"data-dhx-id":x.id,disabled:x.disabled,type:"button"},(u=(v=x).active||v.$activeParent,h={"aria-disabled":v.disabled?"true":"false","aria-label":v.value||v.tooltip||v.id||""+" ".concat(v.count||"")},v.items&&(h.id=v.id,h["aria-haspopup"]="menu",u&&(h["aria-expanded"]="true")),h)),[x.icon?(0,C.getIcon)(x.icon,"button"):null,x.html?(0,T.el)("div.dhx_button__text",{".innerHTML":x.html}):x.value&&(0,T.el)("span.dhx_button__text",x.value),x.count>0&&(0,C.getCount)(x,y,p),x.value&&x.$openIcon?(0,T.el)("span.dhx_button__icon.dhx_button__icon--menu.dxi.dxi-menu-right",{"aria-hidden":"true"}):null,x.loading&&(0,T.el)("span.dhx_button__loading",{"aria-hidden":"true"},[(0,T.el)("span.dhx_button__loading-icon.dxi.dxi-loading")])])}},function(ne,E,D){"use strict";var S=this&&this.__assign||function(){return S=Object.assign||function(x){for(var m,p=1,y=arguments.length;p<y;p++)for(var v in m=arguments[p])Object.prototype.hasOwnProperty.call(m,v)&&(x[v]=m[v]);return x},S.apply(this,arguments)};Object.defineProperty(E,"__esModule",{value:!0}),E.navItem=void 0;var T=D(0),C=D(36);E.navItem=function(x,m,p){var v,u,h,y=" dhx_"+m+"-button";return(0,T.el)("button",S({class:"dhx_button"+y+(x.active||x.$activeParent?y+"--active":"")+(x.disabled?y+"--disabled":"")+(x.$openIcon?y+"--select":"")+(x.circle?y+"--circle":"")+(x.size?" "+y+"--"+x.size:"")+(!x.value&&x.icon?y+"--icon":"")+(x.css?" "+x.css:""),"data-dhx-id":x.id,disabled:x.disabled,type:"button"},(u={"aria-disabled":(v=x).disabled?"true":"false","aria-label":v.value||" "},h=v.active||v.$activeParent,"selectButton"===v.type||v.items?(u.id=v.id,u["aria-haspopup"]="menu",h&&(u["aria-expanded"]="true")):((v.twoState||h)&&(u["aria-pressed"]=h?"true":"false"),!v.value&&v.icon&&v.tooltip&&(u["aria-label"]="".concat(v.tooltip," ").concat(v.count||""))),u)),[x.icon&&(0,T.el)("span",{class:x.icon+y+"__icon","aria-hidden":"true"}),x.html&&(0,T.el)("div",{class:y.trim()+"__html",".innerHTML":x.html}),!x.html&&x.value&&(0,T.el)("span",{class:y.trim()+"__text"},x.value),x.count>0&&(0,C.getCount)(x,y+"__count",p),x.$openIcon&&(0,T.el)("span.dxi.dxi-menu-right",{class:y+"__caret","aria-hidden":"true"})])}},function(ne,E,D){"use strict";var S=this&&this.__assign||function(){return S=Object.assign||function(C){for(var x,m=1,p=arguments.length;m<p;m++)for(var y in x=arguments[m])Object.prototype.hasOwnProperty.call(x,y)&&(C[y]=x[y]);return C},S.apply(this,arguments)};Object.defineProperty(E,"__esModule",{value:!0}),E.customHTMLButton=void 0;var T=D(0);E.customHTMLButton=function(C,x,m){var y,v,p=m?" dhx_button dhx_menu-button":" dhx_button dhx_nav-menu-button";return(0,T.el)("button",S({class:"dhx_custom-button"+p+(C.$activeParent?p+"--active":""),"data-dhx-id":C.id,type:"button",".innerHTML":C.html},(v={"aria-disabled":(y=C).disabled?"true":"false"},(y.twoState||y.active||y.$activeParent)&&(v["aria-pressed"]=y.active||y.$activeParent?"true":"false"),v)),C.html?"":C.value)}},function(ne,E,D){"use strict";var S=this&&this.__assign||function(){return S=Object.assign||function(x){for(var m,p=1,y=arguments.length;p<y;p++)for(var v in m=arguments[p])Object.prototype.hasOwnProperty.call(m,v)&&(x[v]=m[v]);return x},S.apply(this,arguments)};Object.defineProperty(E,"__esModule",{value:!0}),E.imageButton=void 0;var T=D(0),C=D(36);E.imageButton=function(x,m){var v,u,p="dhx_"+m+"-button-image",y="ribbon"===m;return(0,T.el)("button.dhx_button",S({class:p+(x.size?" "+p+"--"+x.size:"")+(!x.value&&x.src?" "+p+"--icon":"")+(y&&x.$openIcon?" "+p+"--select":"")+(x.active?" "+p+"--active":""),"data-dhx-id":x.id,type:"button"},(u={"aria-disabled":(v=x).disabled?"true":"false"},(v.twoState||v.active)&&(u["aria-pressed"]=v.active?"true":"false"),!v.value&&v.src&&v.tooltip&&(u["aria-label"]="".concat(v.tooltip," ").concat(v.count||"")),u)),[y&&x.value&&x.$openIcon&&(0,T.el)("span.dxi.dxi-menu-right",{class:p+"__caret","aria-hidden":"true"}),x.html?(0,T.el)("div",{class:p+"__text",".innerHTML":x.html}):x.value&&(0,T.el)("span",{class:p+"__text"},x.value),x.src&&(0,T.el)("span",{class:p+"__image",style:{backgroundImage:"url(".concat(x.src,")")},role:"presentation"}),x.count>0&&(0,C.getCount)(x,p+"__count",!0)])}},function(ne,E,D){"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.input=void 0;var S=D(0),T=D(38);function C(p,y){p.fire(T.NavigationBarEvents.inputBlur,[y])}function x(p,y){p.fire(T.NavigationBarEvents.inputFocus,[y])}function m(p,y,v){p.fire(T.NavigationBarEvents.inputChange,[y,v.target.value])}E.input=function(p,y,v){return(0,S.el)(".dhx_form-group.dhx_form-group--no-message-holder"+(p.hiddenLabel?".dhx_form-group--label_sr":".dhx_form-group--inline")+".dhx_".concat(v,"__input"),{style:{width:p.width?p.width:"200px"},role:"presentation"},[p.label&&(0,S.el)("label.dhx_label",{for:p.id,style:{maxWidth:p.hiddenLabel?null:"100%"}},p.label),(0,S.el)(".dhx_input__wrapper",{role:"presentation"},[(0,S.el)("input.dhx_input",{id:p.id,placeholder:p.placeholder,class:p.icon?"dhx_input--icon-padding":"",autocomplete:p.autocomplete?"on":"off",value:p.value,disabled:p.disabled,onblur:[C,y,p.id],onfocus:[x,y,p.id],onchange:[m,y,p.id],"data-dhx-id":p.id,_hooks:{didInsert:function(u){y&&y.fire(T.NavigationBarEvents.inputCreated,[p.id,u.el])}},_key:p.id,"aria-label":p.label||p.helpMessage||"type ".concat(p.placeholder?"text like "+p.placeholder:"text")}),p.icon?(0,S.el)(".dhx_input__icon",{class:p.icon,"aria-hidden":"true"}):null])])}},function(ne,E,D){"use strict";var S=this&&this.__assign||function(){return S=Object.assign||function(m){for(var p,y=1,v=arguments.length;y<v;y++)for(var u in p=arguments[y])Object.prototype.hasOwnProperty.call(p,u)&&(m[u]=p[u]);return m},S.apply(this,arguments)};Object.defineProperty(E,"__esModule",{value:!0}),E.menuItem=void 0;var T=D(0),C=D(36),x=D(1);E.menuItem=function(m,p,y){var h,c,v=y?" dhx_menu-button":" dhx_nav-menu-button",u=(0,x.isDefined)(m.count);return(0,T.el)("button",S({class:"dhx_button"+v+(m.disabled?v+"--disabled":"")+(m.active||m.$activeParent?v+"--active":""),disabled:m.disabled,"data-dhx-id":m.id,type:"button"},(c={role:"menuitem","aria-disabled":(h=m).disabled?"true":"false"},h.items&&(c["aria-haspopup"]="true"),c)),y?[m.icon||m.value||m.html?(0,T.el)("span.dhx_menu-button__block.dhx_menu-button__block--left",[m.icon&&(0,T.el)("span.dhx_menu-button__icon",{class:m.icon}),m.html?(0,T.el)("div.dhx_menu-button__text",{".innerHTML":m.html}):m.value&&(0,T.el)("span.dhx_menu-button__text",m.value)]):null,u||m.hotkey||m.items?(0,T.el)("span.dhx_menu-button__block.dhx_menu-button__block--right",[u&&(0,C.getCount)(m," dhx_menu-button__count",!1),m.hotkey&&(0,T.el)("span.dhx_menu-button__hotkey",m.hotkey),m.items&&(0,T.el)("span.dhx_menu-button__caret.dxi.dxi-menu-right")]):null]:[m.icon&&(0,T.el)("span.dhx_menu-button__icon",{class:m.icon}),m.html?(0,T.el)("div.dhx_menu-button__text",{".innerHTML":m.html}):m.value&&(0,T.el)("span.dhx_nav-menu-button__text",m.value),u&&(0,C.getCount)(m," dhx_menu-button__count",!1)])}},function(ne,E,D){"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.separator=void 0,E.separator=function(S,T){return null}},function(ne,E,D){"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.spacer=void 0,E.spacer=function(S,T){return null}},function(ne,E,D){"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.title=void 0;var S=D(0);E.title=function(T,C){return(0,S.el)("span",{class:"dhx_navbar-title dhx_navbar-title--"+C,"data-dhx-id":T.id,".innerHTML":T.html,"aria-label":T.value||""},T.html?null:T.value)}},function(ne,E,D){"use strict";var S=this&&this.__assign||function(){return S=Object.assign||function(c){for(var d,a=1,r=arguments.length;a<r;a++)for(var i in d=arguments[a])Object.prototype.hasOwnProperty.call(d,i)&&(c[i]=d[i]);return c},S.apply(this,arguments)};Object.defineProperty(E,"__esModule",{value:!0}),E.datePicker=void 0;var T=D(0),C=D(48),x=D(11),m=D(38),p=D(24),y=D(2);function v(c,d,a){var r=a.target;r&&(r.value=d.$calendar.getValue()),c.fire(m.NavigationBarEvents.inputBlur,[d?.id])}function u(c,d,a){(0,T.awaitRedraw)().then(function(){return d.$popup.show(a.target,{theme:a.target})}),c.fire(m.NavigationBarEvents.inputFocus,[d?.id])}function h(c,d,a){var r=a.target.value,i=c.$calendar.config.dateFormat;return r.length?(0,p.stringToDate)(r,i,!0)&&c.$calendar.setValue((0,p.stringToDate)(r,i)):c.$calendar.clear(),d.fire(m.NavigationBarEvents.input,[(0,y.locate)(a),r]),!1}E.datePicker=function(c,d,a){c.$popup||(c.$popup=new x.Popup),c.$calendar||(c.$calendar=new C.Calendar(null,S(S({},c),{css:"dhx_widget--bordered"})),c.$popup.attach(c.$calendar),c.$calendar.events.on("change",function(i,o,l){var f;l&&c.$popup.isVisible()&&c.$popup.hide();var _="date"===(null===(f=c.valueFormat)||void 0===f?void 0:f.toLowerCase());d.fire(m.NavigationBarEvents.inputChange,[c.id,c.$calendar.getValue(_)])}));var r=c.$calendar.getValue();return c.mode&&"calendar"!==c.mode&&c.$calendar.showDate(void 0,c.mode),(0,T.el)(".dhx_form-group.dhx_form-group--no-message-holder"+(c.hiddenLabel?".dhx_form-group--label_sr":".dhx_form-group--inline")+".dhx_".concat(a,"__input"),{style:{width:c.width?c.width:"200px"},role:"presentation"},[c.label&&(0,T.el)("label.dhx_label",{for:c.id,style:{maxWidth:c.hiddenLabel?null:"100%"}},c.label),(0,T.el)(".dhx_input__wrapper",{role:"presentation"},[(0,T.el)("input.dhx_input",{id:c.id,placeholder:c.placeholder,class:c.icon?"dhx_input--icon-padding":"",value:r,disabled:c.disabled,onblur:[v,d,c],onfocus:[u,d,c],oninput:[h,c,d],"data-dhx-id":c.id,readOnly:!0!==c.editable,_hooks:{didInsert:function(i){d&&d.fire(m.NavigationBarEvents.inputCreated,[c.id,i.el])}},_key:c.id,"aria-label":c.label||c.helpMessage||"type ".concat(c.placeholder?"text like "+c.placeholder:"text")}),c.icon?(0,T.el)(".dhx_input__icon",{class:c.icon,"aria-hidden":"true"}):null])])}},function(ne,E,D){"use strict";var S,T=this&&this.__extends||(S=function(y,v){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,h){u.__proto__=h}||function(u,h){for(var c in h)Object.prototype.hasOwnProperty.call(h,c)&&(u[c]=h[c])})(y,v)},function(y,v){if("function"!=typeof v&&null!==v)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");function u(){this.constructor=y}S(y,v),y.prototype=null===v?Object.create(v):(u.prototype=v.prototype,new u)});Object.defineProperty(E,"__esModule",{value:!0}),E.Menu=void 0;var C=D(1),x=D(0),m=D(30),p=function(y){function v(u,h){var c=y.call(this,u,(0,C.extend)({$name:"menu"},h))||this;return c.mount(u,(0,x.create)({render:function(){return c._draw()}})),c}return T(v,y),v.prototype._getFactory=function(){return(0,m.createFactory)({widget:this,defaultType:"menuItem",allowedTypes:["menuItem","spacer","separator","customHTML","customHTMLButton"],widgetName:"menu-nav"})},v.prototype._draw=function(){return(0,x.el)("ul.dhx_widget",{"data-dhx-widget-id":this._uid,onmousemove:this._handlers.onmousemove,onmouseleave:this._handlers.onmouseleave,onclick:this._handlers.onclick,onmousedown:this._handlers.onmousedown,onkeydown:this._handlers.onkeydown,class:"dhx_menu-nav "+(this.config.css?this.config.css:"")},this._drawMenuItems(this.data.getRoot(),!1))},v}(m.Navbar);E.Menu=p},function(ne,E,D){"use strict";var S=this&&this.__assign||function(){return S=Object.assign||function(x){for(var m,p=1,y=arguments.length;p<y;p++)for(var v in m=arguments[p])Object.prototype.hasOwnProperty.call(m,v)&&(x[v]=m[v]);return x},S.apply(this,arguments)};Object.defineProperty(E,"__esModule",{value:!0}),E.Exporter=void 0;var T=D(2),C=function(){function x(m,p,y){this._name=m,this._version=p,this._view=y}return x.prototype.pdf=function(m){this._rawExport(m,"pdf",this._view)},x.prototype.png=function(m){this._rawExport(m,"png",this._view)},x.prototype._rawExport=function(m,p,y){var v=this;void 0===m&&(m={}),m.url=m.url||"https://export.dhtmlx.com/"+this._name+"/"+p+"/"+this._version,"pdf"===p&&(m.pdf=S(S({},m.pdf||{}),{printBackground:!1}));var h="",c=y.config.exportStyles;("boolean"==typeof m.exportStyles||Array.isArray(m.exportStyles))&&(c=m.exportStyles),!0===c?h="".concat((0,T.getPageLinksCss)(),"<style>").concat((0,T.getPageInlineCss)(),"</style>"):c.length&&(h="".concat((0,T.getPageLinksCss)(c)));var d="\n\t\t\t\t".concat(h,"\n\t\t\t\t").concat(y.getRootView().node.el.parentNode.innerHTML,"\n\t\t\t").replace(/(src|href)=("(.+?\.(jpeg|jpg|png|apng|gif|svg|bmp|ico))")/gm,function(r){if(r.includes("://"))return r;var i=r.replace(/(src|href)="/,"").replace('"',"");return/(src|href)="/.exec(r)[0]+v._normalizeLink(i)+'"'}),a=document.createElement("form");a.setAttribute("method","POST"),a.setAttribute("action",m.url),a.innerHTML='<input type="hidden" name="raw"><input type="hidden" name="config">',a.childNodes[0].value=d,a.childNodes[1].value=JSON.stringify(m),document.body.appendChild(a),a.submit(),setTimeout(function(){a.parentNode.removeChild(a)},100)},x.prototype._normalizeLink=function(m){var p=window.location.pathname.split("/");return""===p[0]&&(p.shift(),p.pop()),window.location.origin+"/"+p.join("/")+("/"!==m[0]?"/"+m:m)},x}();E.Exporter=C},function(ne,E,D){"use strict";var S=this&&this.__assign||function(){return S=Object.assign||function(m){for(var p,y=1,v=arguments.length;y<v;y++)for(var u in p=arguments[y])Object.prototype.hasOwnProperty.call(p,u)&&(m[u]=p[u]);return m},S.apply(this,arguments)},T=this&&this.__spreadArray||function(m,p,y){if(y||2===arguments.length)for(var v,u=0,h=p.length;u<h;u++)!v&&u in p||(v||(v=Array.prototype.slice.call(p,0,u)),v[u]=p[u]);return m.concat(v||Array.prototype.slice.call(p))};Object.defineProperty(E,"__esModule",{value:!0}),E.Selection=void 0;var C=D(27),x=function(){function m(p,y){var v=this;this._selected=[],this._selectedLines=[],this.events=y,this._data=p,this._data.events.on(C.DataEvents.removeAll,function(){return v.clear()}),this._data.events.on(C.DataEvents.afterRemove,function(u){return v.remove({id:u.id})})}return m.prototype.add=function(p){var y,v=p.id,u=p.join,h=void 0!==u&&u,c=p.batch,d=void 0===c?[]:c,a=this._data.getItem(v);if("$sgroup"===a?.type&&(v=a.$group),!a||this.includes({id:v})||!h&&!this.remove()||!this.events.fire(C.SelectionEvents.beforeSelect,[{id:v,join:h,batch:d}]))return!1;var r=a.$item.getBaseType();return this.includes({id:v})||(this._data.update(v,{$selected:"line"!==r||"line"===r&&h&&this._selected.length},!0),"line"===r&&this._selectedLines.push(v),this._selected.length&&this._selectedLines.length&&!(null!==(y=this._data.getItem(this._selectedLines[0]))&&void 0!==y&&y.$selected)&&this._data.update(this._selectedLines[0],{$selected:!0},!0),this._selected.push(v)),this.events.fire(C.SelectionEvents.afterSelect,[{id:v,join:h,batch:d}]),!0},m.prototype.remove=function(p){var y=this;if(!p){var v=T([],this._selected,!0);return v.map(function(u){return y.unselect({id:u,batch:v})}).every(function(u){return u})}return!!this.includes(S({},p))&&this.unselect(p)},m.prototype.includes=function(p){return this._selected.includes(p.id)},m.prototype.getItem=function(p){var y=this._selected[this._selected.length-1];return p&&this.includes({id:p.id})&&(y=p.id),this._data.getItem(y)},m.prototype.getIds=function(){return this._selected},m.prototype.clear=function(){this._data&&this._data.forEach(function(p){p.$selected&&delete p.$selected}),this._selected=[],this._selectedLines=[]},m.prototype.unselect=function(p){var y=p.id,v=p.batch,u=void 0===v?[]:v;return!!this.events.fire(C.SelectionEvents.beforeUnSelect,[{id:y,batch:u}])&&(this._selected=this._selected.filter(function(h){return h!==y}),this._data.update(y,{$selected:void 0},!0),this._selectedLines.some(function(h){return h==y})&&(this._selectedLines=this._selectedLines.filter(function(h){return h!==y})),1===this._selected.length&&1===this._selectedLines.length&&this._data.update(this._selectedLines[0],{$selected:void 0},!0),this.events.fire(C.SelectionEvents.afterUnSelect,[{id:y,batch:u}]),!0)},m}();E.Selection=x},function(ne,E,D){"use strict";var S,T=this&&this.__extends||(S=function(m,p){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,v){y.__proto__=v}||function(y,v){for(var u in v)Object.prototype.hasOwnProperty.call(v,u)&&(y[u]=v[u])})(m,p)},function(m,p){if("function"!=typeof p&&null!==p)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");function y(){this.constructor=m}S(m,p),m.prototype=null===p?Object.create(p):(y.prototype=p.prototype,new y)});Object.defineProperty(E,"__esModule",{value:!0}),E.ImgCard=void 0;var C=D(0),x=function(m){function p(){return null!==m&&m.apply(this,arguments)||this}return T(p,m),p.prototype.setDefaults=function(y,v){var u=y.width,h=y.height,c=y.text,d=y.title,a=y.headerColor,r=y.fixed,i=v.width?parseFloat(v.width):210,o=v.height?parseFloat(v.height):90;return y.width=u||i,y.height=h||o,y.title="string"==typeof d?d:v.title||"",y.text="string"==typeof c?c:v.text||"",y.headerColor=a||v.headerColor||"",y.fixed=r||!1,y.editable="boolean"!=typeof y.editable||y.editable,y},p.prototype.getCss=function(){return"dhx_diagram_shape_card-img "+m.prototype.getCss.call(this)},p.prototype.getContent=function(){var y=this.config,v=y.img,u=y.headerColor,h=y.title,c=y.text,d=y.$editable,a=y.width,r=v?"".concat(v):null;return[(0,C.el)("img.dhx_diagram_item__image",{style:{backgroundColor:v?null:u},src:r}),(0,C.el)("div.dhx_diagram_item__title",d&&"title"===this.editableProperty.key?[this.getEditorNode()]:h),(0,C.el)("div.dhx_diagram_item__text",{style:{maxWidth:a-80,marginLeft:80,marginTop:h?null:"12px"}},d&&"text"===this.editableProperty.key?[this.getEditorNode()]:c)]},p}(D(89).Card);E.ImgCard=x},function(ne,E,D){"use strict";var S,T=this&&this.__extends||(S=function(u,h){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,d){c.__proto__=d}||function(c,d){for(var a in d)Object.prototype.hasOwnProperty.call(d,a)&&(c[a]=d[a])})(u,h)},function(u,h){if("function"!=typeof h&&null!==h)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");function c(){this.constructor=u}S(u,h),u.prototype=null===h?Object.create(h):(c.prototype=h.prototype,new c)}),C=this&&this.__assign||function(){return C=Object.assign||function(u){for(var h,c=1,d=arguments.length;c<d;c++)for(var a in h=arguments[c])Object.prototype.hasOwnProperty.call(h,a)&&(u[a]=h[a]);return u},C.apply(this,arguments)};Object.defineProperty(E,"__esModule",{value:!0}),E.TextShape=void 0;var x=D(0),m=D(2),p=D(28),y=D(19),v=function(u){function h(c,d){var a=u.call(this,c,d)||this;return a.data=d.data,a}return T(h,u),h.prototype.render=function(){var c=this.getCoords(this.config),d=this.config,a=d.id,r=d.angle,i=d.text,l=d.lineHeight,f=d.fontWeight,_=d.fontStyle,b=d.width,I=d.height,O={fontSize:"".concat(d.fontSize,"px"),fontFamily:"Roboto, Arial, Tahoma, Verdana, sans-serif",lineHeight:"".concat(l,"px"),fontWeight:f,fontStyle:_};if(this._prevValue&&this.config.text!==this._prevValue){var P=(0,m.getStrSize)(i,O);this.data.update(this.id,{height:P.height+2,width:P.width+4})}this._prevValue=this.config.text;var R=this.config.$group||this.config.$selected?this.config.$selected?2:1:0;return(0,x.el)("div.dhx_diagram_item.dhx_diagram_shape.dhx_diagram_shape_text",{_key:a,class:this.getCss(),"data-dhx-id":a,style:{zIndex:R,width:b,height:I,position:"absolute",top:c.y,left:c.x,transform:"rotate(".concat(r||0,"deg)")}},[].concat((0,y.getTextTemplate)(this.config,this.getContent())))},h.prototype.setDefaults=function(c,d){var a=c.width,r=c.height,i=c.fontColor,o=c.fontSize,l=c.fontStyle,f=c.textAlign,_=c.lineHeight,b=c.textVerticalAlign,I=c.text,O=c.fontWeight,P=c.x,R=c.y,N=c.fixed,V=c.editable,U=d.lineHeight?parseFloat(d.lineHeight):14,B=d.fontSize?parseFloat(d.fontSize):14,F={fontSize:"".concat(o||B,"px"),fontFamily:"Roboto, Arial, Tahoma, Verdana, sans-serif",lineHeight:"".concat(_||U,"px"),fontWeight:O,fontStyle:l},W=(0,m.getStrSize)(I,F),M=d.width?parseFloat(d.width):W.width+4,$=d.height?parseFloat(d.height):W.height+2;return c.width=a||M,c.height=r||$,c.lineHeight=_||U,c.fontSize=o||B,c.text=I||d.text||"",c.fontColor=i||d.fontColor||"#4C4C4C",c.textAlign=f||d.textAlign||"center",c.fontStyle=l||d.fontStyle||"normal",c.textVerticalAlign=b||d.textVerticalAlign||"center",c.x=P||0,c.y=R||0,c.fixed=N||!1,c.editable="boolean"!=typeof V||V,c},h.prototype.getContent=function(){var c=this.config,d=c.$editable,a=c.text;return(0,x.el)("span.dhx_diagram_item__text",{style:C({},(0,y.getShapeCss)(this.config))},d?[this.getEditorNode()]:a)},h}(p.BaseShape);E.TextShape=v},function(ne,E,D){"use strict";var S,T=this&&this.__extends||(S=function(h,c){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,a){d.__proto__=a}||function(d,a){for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(d[r]=a[r])})(h,c)},function(h,c){if("function"!=typeof c&&null!==c)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function d(){this.constructor=h}S(h,c),h.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}),C=this&&this.__assign||function(){return C=Object.assign||function(h){for(var c,d=1,a=arguments.length;d<a;d++)for(var r in c=arguments[d])Object.prototype.hasOwnProperty.call(c,r)&&(h[r]=c[r]);return h},C.apply(this,arguments)},x=this&&this.__spreadArray||function(h,c,d){if(d||2===arguments.length)for(var a,r=0,i=c.length;r<i;r++)!a&&r in c||(a||(a=Array.prototype.slice.call(c,0,r)),a[r]=c[r]);return h.concat(a||Array.prototype.slice.call(c))};Object.defineProperty(E,"__esModule",{value:!0}),E.TopicShape=void 0;var m=D(0),p=D(2),y=D(28),v=D(19),u=function(h){function c(d,a){var r=h.call(this,d,a)||this;return r.data=a.data,r}return T(c,h),c.prototype.render=function(){var d=this,a=this.getCoords(this.config),r=this.config,i=r.id,o=r.angle,l=r.width,f=r.height,b=r.lineHeight,I=r.fontWeight,O=r.fontStyle,P=r.text,R=r.strokeWidth,V=r.$selected,U=r.$group||V?V?2:1:0,B={fontSize:"".concat(r.fontSize,"px"),fontFamily:"Roboto, Arial, Tahoma, Verdana, sans-serif",lineHeight:"".concat(b,"px"),fontWeight:I,fontStyle:O,strokeWidth:R};if(this._oldText&&this.config.text!==this._oldText){var F=(0,p.getStrSize)(P,B),W=F.width+16,M=F.height+8;this.data.update(this.id,{height:M>30?M:30,width:W>60?W:60})}this._oldText=this.config.text;var $=[];return Array.isArray(this.config.dir)?this.config.dir.forEach(function(Y,ee){$.push((0,v.getCircleTpl)(d.config,ee))}):$.push((0,v.getCircleTpl)(this.config)),(0,m.el)("div.dhx_diagram_item.dhx_diagram_shape.dhx_diagram_shape_topic",{_key:i,"data-dhx-id":i,class:this.getCss(),style:{position:"absolute",width:l,height:f,left:a.x,top:a.y,transform:"rotate(".concat(o||0,"deg)"),zIndex:U}},[].concat.apply([],x([(0,v.getTextTemplate)(this.config,this.getContent())],$,!1)))},c.prototype.getContent=function(){var d=this.config,a=d.height,o=d.strokeType,l=d.fill,f=d.stroke,_=d.text,b=d.$editable,I="none";return"line"!==o&&o||(I="solid"),"dash"===o&&(I="dashed"),[(0,m.el)("div.dhx_diagram_item__text",{style:C({height:a,width:d.width,border:"".concat(d.strokeWidth,"px ").concat(I," ").concat(f||"#03A9F4"),background:l,borderRadius:"".concat(a/2)},(0,v.getShapeCss)(this.config))},b?[this.getEditorNode()]:_)]},c.prototype.setDefaults=function(d,a){var r=d.width,i=d.height,o=d.fontColor,l=d.fontSize,f=d.fontStyle,_=d.textAlign,b=d.lineHeight,I=d.textVerticalAlign,O=d.text,P=d.fontWeight,R=d.x,N=d.y,V=d.fill,U=d.strokeWidth,B=d.stroke,F=d.strokeType,W=d.fixed,M=d.editable,$=a.lineHeight?parseFloat(a.lineHeight):14,Y=a.fontSize?parseFloat(a.fontSize):14,ee=a.strokeWidth?parseFloat(a.strokeWidth):1;d.lineHeight=b||$,d.fontSize=l||Y,d.text=O||a.text||"",d.fill=V||a.fill||"#fff",d.fontColor=o||a.fontColor||"#4C4C4C",d.textAlign=_||a.textAlign||"center",d.fontStyle=f||a.fontStyle||"normal",d.textVerticalAlign=I||a.textVerticalAlign||"center",d.strokeWidth=U||ee,d.stroke=B||a.stroke,d.strokeType=F||a.strokeType||"line";var J={fontSize:"".concat(l||Y,"px"),fontFamily:"Roboto, Arial, Tahoma, Verdana, sans-serif",lineHeight:"".concat(b||$,"px"),fontWeight:P,fontStyle:f,strokeWidth:d.strokeWidth},Z=(0,p.getStrSize)(O,J),j=a.width?parseFloat(a.width):Z.width+24,L=a.height?parseFloat(a.height):Z.height+12;return d.height=L>30||i>30?i||L:30,d.width=j>60||r>60?r||j:60,d.x=R||0,d.y=N||0,d.fixed=W||!1,d.editable="boolean"!=typeof M||M,d},c}(y.BaseShape);E.TopicShape=u},function(ne,E,D){"use strict";var S,T=this&&this.__extends||(S=function(u,h){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,d){c.__proto__=d}||function(c,d){for(var a in d)Object.prototype.hasOwnProperty.call(d,a)&&(c[a]=d[a])})(u,h)},function(u,h){if("function"!=typeof h&&null!==h)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");function c(){this.constructor=u}S(u,h),u.prototype=null===h?Object.create(h):(c.prototype=h.prototype,new c)});Object.defineProperty(E,"__esModule",{value:!0}),E.Toolbar=void 0;var C=D(0),x=D(2),m=D(27),p=D(5),y=D(21),v=function(u){function h(c,d){var a=u.call(this,null,{height:50,iconWidth:30,gap:16,icons:d})||this;return a.events=c,a._handlers={onclick:(0,x.eventHandler)(function(r){return(0,x.locate)(r)},{dhx_diagram_toolbar__icon:function(r,i){a.events.fire(m.DiagramEvents.shapeIconClick,[i,r])}}),tooltip:(0,x.eventHandler)(function(r){return(0,x.locate)(r)},{dhx_diagram_toolbar__icon:function(r,i){var o=(0,x.locateNode)(r);if(o){var l=d.find(function(f){return f.id===i});l?.tooltip&&(0,y.tooltip)(l.tooltip,{node:o,position:y.Position.top})}}})},a}return T(h,u),h.prototype.render=function(c,d,a){if(c){var r=this.config,i=this._getIcons(c,r.icons),o=r.iconWidth*i.length+r.gap,l=this._getCoords(c,{width:o/d.scale,height:r.height/d.scale,x:a?.x,y:a?.y});return(0,C.el)("div",{class:"dhx_diagram_toolbar",style:{display:this._hidden||!i.length?"none":"block",maxHeight:this.config.height,width:o,top:(l.y-d.top)*d.scale,left:(l.x-d.left)*d.scale},onclick:this._handlers.onclick,onmouseover:this._handlers.tooltip},[(0,C.el)("div.dhx_diagram_toolbar__wrapper",i)])}},h.prototype.hide=function(){this._hidden=!0,this.paint()},h.prototype.show=function(){this._hidden=!1,this.paint()},h.prototype._getIcons=function(c,d){for(var a=[],r=0;r<d.length;r++){var i=d[r];if(!i.check||i.check(c)){var o=i.css?i.css(c):"",l={_key:i.id,class:"dhx_diagram_toolbar__icon "+o,"data-dhx-id":i.id},f="function"==typeof i.content?i.content(c):i.content;"string"==typeof f?(l[".innerHTML"]=f,a.push((0,C.el)("div",l))):a.push((0,C.el)("div",l,[f]))}}return a},h.prototype._getCoords=function(c,d){var a,r,i=d.width,o=d.height,l=d.x,f=d.y;if(Array.isArray(c)){var _=c.map(function(b){return b.$item.getBox()});r={},_.forEach(function(b){for(var I in b)(isNaN(r[I])||("top"===I||"left"===I)&&b[I]<r[I]||("bottom"===I||"right"===I)&&b[I]>r[I])&&(r[I]=b[I])})}else{if("line"===(null===(a=c.$item)||void 0===a?void 0:a.getBaseType())&&!c.$subSelected)return{x:l+25,y:f-o/2};r=c.$item.getBox()}return{x:r.right/2+r.left/2-i/2,y:r.top-o-8}},h}(p.View);E.Toolbar=v},function(ne,E,D){"use strict";var S=this&&this.__spreadArray||function(_,b,I){if(I||2===arguments.length)for(var O,P=0,R=b.length;P<R;P++)!O&&P in b||(O||(O=Array.prototype.slice.call(b,0,P)),O[P]=b[P]);return _.concat(O||Array.prototype.slice.call(b))};Object.defineProperty(E,"__esModule",{value:!0});var T=D(192),C=D(193),x=D(194),m=function(){function _(){}return _.prototype.layout=function(b,I){if(b.routes=new C.default,!I.full){var O=p(b,I);return I.preserveLocation||v(O.n,O.size),h(O.mx,O.n,O.n,O.size),b.setGlobalBox(),b}var P=(0,x.split)(b);if(1==P.length&&null!==P[0].root)return(new T.default).layout(P[0].g,I);(b=P[0].g).routes=new C.default;var R,N,V,U,B,F=p(b,I);return I.preserveLocation||v(F.n,F.size,function(W,M){if(!M)return W[0].g.getNodes()[0].id;var $=M;if(W[0].g.getNodes().find(function(ee){return ee.id===M}))return $;for(var Y=1;Y<W.length;Y++)if(W[Y].g.getNodes().find(function(ee){return ee.id===M})){$=W[Y].root;break}return $}(P,I.root)),h(F.mx,F.n,F.n,F.size),I.full&&(function(W,M,$,Y){$.forEach(function(j){return j.iss=""});var ee=[].concat($).filter(function(j){return j.links.length>=3}).sort(function(j,L){return j.links.length>L.links.length?-1:j.links.length==L.links.length?0:1});if(ee.map(function(j){var L=[];return j.links.forEach(function(G){var X=Math.atan2(G.x-j.x,G.y-j.y)+Math.PI,ae=2*Math.ceil(X/(2*c))*c,ie=2*Math.floor(X/(2*c))*c;L.push([G,ae,Math.abs(X-ae)]),L.push([G,ie,Math.abs(X-ie)])}),L.sort(function(G,X){return G[2]>X[2]?1:-1}),[j,L]}).forEach(function(j){var L=j[0],G=j[1],X=L.x,ae=L.y;L.x=Math.round(L.x/Y)*Y,L.y=Math.round(L.y/Y)*Y;for(var ie=0;ie<G.length;ie++){var re=G[ie],he=re[0];if(!W.getRoute(L.id,he.id)){var fe=a(L,he,re[1],Y,X,ae),ge=fe[0],ve=fe[1],ye=fe[2],we=fe[3];W.hasRoute(L.id,ye,we)||W.isAligned(he.id)||(he.x+=ge,he.y+=ve,W.addRoute(L.id,he.id,ye,we))}}}),h(M,$,$.filter(function(j){return!W.isAligned(j.id)}),Y),ee.forEach(function(j){W.isAligned(j.id)||(j.x=Math.round(j.x/Y)*Y,j.y=Math.round(j.y/Y)*Y),j.links.forEach(function(L){2==L.links.length&&d(j,L,W,Y)})}),0===ee.length){var J=$[0],Z=$[0].links[0];Z.x=Math.round(Z.x/Y)*Y,Z.y=Math.round(Z.y/Y)*Y,d(J,Z,W,Y)}}(b.routes,F.mx,F.n,F.size),R=b,N=F.mx,V=P.slice(1).sort(f),U=F.size,B=R.getNodes().length,V.forEach(function(W){var M=W.g,$=W.root;(new T.default).layout(M,{root:M.getNodes()[0].id});var J,j,L,G,X,ae,Y=(J=N,j=R,L=M,G=$,X=U,ae=B,i.map(function(ie){if(!ie[2]&&!ie[3]&&j.routes.hasRoute(G,ie[0],ie[1]))return null;var re=L.copy(),he=j.copy(),fe=re.getRoot(),ge=he.hash[G];re.rotate({x:-ie[0],y:ie[1]});var Te,Ee,ke,Ae,He,Le,ve=re.getBox(),ye=ve[0][1]-ve[0][0],we=ve[1][1]-ve[1][0];(function(Te,Ee,ke,Ae,He,Le,Ne,q){var me,tt,at,Je,st,ot,Qe=Ee.x+(q[2]||q[0])*Ne,xt=Ee.y+(q[3]||q[1])*Ne;if(l(Te,Qe-Ne/2,Qe+Ne/2,xt-Ne/2,xt+Ne/2))o(Te,Qe-Ne/2*q[0],xt-Ne/2*q[1],ke,Ae,q,Ne);else if(!((q[0]?ke:Ae)/Ne-1<=0)){var At=.45*Ne;q[0]?(Je=(at=Qe+Ne/2*q[0])+ke*q[0],ot=(st=xt-Ae/2-At-Le)+Ae+2*At):(Je=(at=Qe-ke/2-At-He)+ke+2*At,ot=(st=xt+Ne/2*q[1])+Ae*q[1]),st>ot&&(st=(me=[ot,st])[0],ot=me[1]),at>Je&&(at=(tt=[Je,at])[0],Je=tt[1]),l(Te,at,Je,st,ot)&&o(Te,Qe,xt,ke,Ae,q,Ne)}})(he,ge,ye,we,fe.x-ve[0][0]-ye/2,fe.y-ve[1][0]-we/2,X,ie),Te=he,(Ee=re).translate({x:(ke=ge).x+(He=X)*((Le=ie)[0]||Le[2])-(Ae=fe).x,y:ke.y+He*(Le[1]||Le[3])-Ae.y}),Te.importNodes(Ee.getNodes());var De=function(Te,Ee){for(var ke,He=Ee.length,Le=0,Ne=0;Ne<He;Ne++){ke=0,0;for(var q=Ee[Ne],me=Te[q.isn],tt=0;tt<He;tt++)if(q.isn!=tt){var Qe=Ee[tt],xt=me[Qe.isn],at=.5/(xt*xt),Je=q.x-Qe.x,st=q.y-Qe.y,ot=Math.sqrt(Math.pow(Je,2)+Math.pow(st,2));ot&&(ke+=at*(Je-xt*Je/ot),ke+=at*(st-xt*st/ot))}Le+=Math.sqrt(Math.pow(ke,2)+Math.pow(0,2))}return Le}(J,he.getNodes().slice(0,ae));return{g:he,s:De,dir:ie}}).reduce(function(ie,re){return!ie||re&&re.s<ie.s?re:ie}));if(Y){R=Y.g;var ee=M.getRoot().id;return Y.dir[2]||Y.dir[3]||R.routes.addRoute($,M.getRoot().id,Y.dir[0],Y.dir[1]),R.hash[$].links.push(R.hash[ee]),void R.hash[ee].links.push(R.hash[$])}console.log("Can't position sub tree")}),b=R),b.setGlobalBox(),b},_}();function p(_,b){var I=_.getNodes(),O=0;return I.forEach(function(R,N){R.isn=N,O+=R.w+R.h}),O=Math.round(O/(2*I.length)),b.itemPadding?O+=b.itemPadding:O*=2,{n:I,mx:function(R){for(var N=[],V=R.getNodes(),U=0;U<V.length;U++){var B=N[U]=[];B[V[U].isn]=0,y(V[U],B,U,1)}return N}(_),size:O}}function y(_,b,I,O){for(var P=[_],R=[];P.length;){for(var N=0;N<P.length;N++)for(var V=P[N],U=0;U<V.links.length;U++){var B=V.links[U],F=B.isn;F==I||b[F]||(b[F]=O,R.push(B))}O++,P=R,R=[]}}function v(_,b,I){var O=_.findIndex(function(V){return V.id===I});O>0&&_.unshift.apply(_,_.splice(O,1));var P=2*Math.PI/_.length,R=0,N=5*b;_.forEach(function(V,U){V.x=Math.round(Math.cos(R)*N),V.y=Math.round(Math.sin(R)*N),R+=P}),O>0&&_.splice.apply(_,S([O,0],_.splice(0,1),!1))}function u(_,b,I,O){for(var P,R,N=0,V=0,U=0,B=0,F=b.length,W=I.length,M=0;M<W;M++){P=0,R=0;for(var $=I[M],Y=_[$.isn],ee=0;ee<F;ee++)if($.isn!=ee){var J=.5/((ge=Y[(fe=b[ee]).isn])*ge),Z=$.x-fe.x,j=$.y-fe.y;(ve=Math.sqrt(Math.pow(Z,2)+Math.pow(j,2)))&&(P+=J*(Z-O*ge*Z/ve),R+=J*(j-O*ge*j/ve))}var L=Math.sqrt(Math.pow(P,2)+Math.pow(R,2));L>V&&(N=$.isn,V=L,U=P,B=R)}var G,X=0,ae=0,ie=0,re=b[N],he=_[N];for(ee=0;ee<F;ee++)if(N!=ee){J=.5/((ge=he[(fe=b[ee]).isn])*ge);var fe,ge,ve,ye=(Z=re.x-fe.x)*Z,we=(j=re.y-fe.y)*j;(ve=Math.sqrt(Math.pow(ye+we,3)))&&(X+=J*(1-O*ge*we/ve),ae+=J*O*ge*j*Z/ve,ie+=J*(1-O*ge*ye/ve))}return[N,V,G=(-U/X+ae*B/(ie*X))/(1+ae*ae/(ie*X)),(-B-ae*G)/ie]}function h(_,b,I,O){for(var P=0;P++<100;){var R=u(_,b,I,O),N=R[0],U=R[2],B=R[3];if(R[1]<10)break;b[N].x+=U,b[N].y+=B}}E.default=m;var c=Math.PI/4;function d(_,b,I,O){for(;;){var P=b.links[0];if(P==_&&(P=b.links[1]),_=b,(b=P).links.length>2)break;for(var R=Math.atan2(b.x-_.x,b.y-_.y)+Math.PI,N=2*Math.ceil(R/(2*c))*c,V=2*Math.floor(R/(2*c))*c,U=Math.abs(R-N)<Math.abs(R-V)?[N,V]:[V,N],B=0;B<U.length;B++){var F=a(_,b,U[B],O,_.x,_.y),W=F[0],M=F[1],$=F[2],Y=F[3];if(!I.hasRoute(_.id,$,Y)){if(I.isAligned(b.id))return;b.x+=W,b.y+=M,I.addRoute(_.id,b.id,$,Y);break}}}}function a(_,b,I,O,P,R){return I<=c||I>7*c?[_.x-b.x,r(_.y,b.y,R,O),0,-1]:I<=3*c&&I>c?[r(_.x,b.x,P,O),_.y-b.y,-1,0]:I<=5*c&&I>3*c?[_.x-b.x,r(_.y,b.y,R,O),0,1]:[r(_.x,b.x,P,O),_.y-b.y,1,0]}function r(_,b,I,O){var P=Math.sign(I-b);return _-b-(Math.round((I-b)/O)||P)*O}var i=[[0,1,0,0],[1,0,0,0],[-1,0,0,0],[0,-1,0,0]].concat([[0,1,-1,1],[-1,0,-1,1],[0,1,1,1],[1,0,1,1],[1,0,1,-1],[0,-1,1,-1],[-1,0,-1,-1],[0,-1,-1,-1]]);function o(_,b,I,O,P,R,N){_.getNodes().forEach(function(V){R[1]?Math.sign(V.y-I)==R[1]&&(V.y+=(P+N/2)*R[1]):R[0]&&Math.sign(V.x-b)==R[0]&&(V.x+=(O+N/2)*R[0])})}function l(_,b,I,O,P){for(var R=_.getNodes(),N=0;N<R.length;N++){var V=R[N];if(V.x>=b&&V.x<=I&&V.y>=O&&V.y<=P)return!0}return!1}function f(_,b){var I=_.g.getNodes().length,O=b.g.getNodes().length;return I>O?-1:I===O?0:1}},function(ne,E,D){"use strict";Object.defineProperty(E,"__esModule",{value:!0});var S=D(92),T=D(56),C=function(){function x(){this._step=0}return x.prototype.layout=function(m,p){m.root(m.toTree(m.hash[p.root]));var y=m.getNodes();p.levelPadding=p.levelPadding||this._getStep(y),p.itemPadding=p.itemPadding||this._getStep(y),p.dir=p.dir||S.Direction.Bottom,p.rotate=p.dir===S.Direction.Right||p.dir===S.Direction.Left;var v=S.DirVectors[p.dir];this._layout(m,p),m.setBox(),p.dir!==S.Direction.Bottom&&m.rotate(v);var u=m.getBox();return m.translate({x:-1*u[0][0],y:-1*u[1][0]}),m.setBox(),m},x.prototype._layout=function(m,p){var y=this,v=m.getRoot();if(v.x=v.y=0,1==m.getLevels().length)return m._symmetry=!0,"0";var u=v.kids.map(function(l){return new T.default(m,l,p)}),h={};u.forEach(function(l){var f=y._layout(l,p);h[f]?h[f].push(l):h[f]=[l]});for(var c=Object.keys(h).sort(function(l,f){var _=h[l][0],b=h[f][0],I=_._width,O=b._width;if(I>O)return-1;if(I<O)return 1;var P=_.getLevels().length,R=b.getLevels().length;return P>R?-1:P<R||l<f?1:-1}),d=0,a=0,r=0;r<c.length;r++)h[c[r]].length%2==1&&(d++,a=r);var i=!1,o=!1;return 1==d?(h[c[a]][0]._symmetry&&(o=!0),i=!0,0!==a&&(c.unshift(c[a]),c.splice(a+1,1))):0===d&&(o=!0),m._symmetry=o,this._layout_place(m,h,c,i,p),m.getIString()},x.prototype._layout_place=function(m,p,y,v,u){for(var h={x:0,y:u.levelPadding},c=!0,d=0;d<y.length;d++)p[y[d]].forEach(function(a){if(v){v=!1,a.translate(h);for(var r=0,i=0,o=a.getLevelBounds(),l=0;l<o.length;l++){var f=o[l],_=f[0],b=f[1];m._bounds[l+1]=[_,b],_<r&&(r=_),b>i&&(i=b)}m._tbounds=[r,i]}else{var I=c?1:0,O=c?0:1;c&&a.mirror();var P=void 0,R=void 0;R=P=999999*(c?-1:1);for(var N=u.itemPadding,V=0;V<a._bounds.length;V++){var U=m.getBounds(V+1,N,u.wide)[I]-a.getBounds(V,N,u.wide)[O];(c&&U>R||!c&&U<R)&&(R=U)}a.translate({x:R,y:h.y});for(var B=0;B<m._bounds.length;B++){var F;F=0==B||B>a._bounds.length?m._bounds[B][I]:m._bounds[B][I]=a._bounds[B-1][I],(c&&F>P||!c&&F<P)&&(P=F)}m._tbounds[I]=P,c=!c}})},x.prototype._getStep=function(m){if(0===this._step){var p=m.length,y=0;m.forEach(function(v){return y+=v.w+v.h}),this._step=y/p}return this._step},x}();E.default=C},function(ne,E,D){"use strict";Object.defineProperty(E,"__esModule",{value:!0});var S=[1,2,4,8,0,16,32,64,128],T=function(){function C(){this._map={}}return C.prototype.getRoute=function(x,m){var p=this._map[x];return p&&p.map[m]||null},C.prototype.addRoute=function(x,m,p,y){this.addPath(x,m,p,y),this.addPath(m,x,-p,-y)},C.prototype.hasRoute=function(x,m,p){var y=this._map[x];return!!y&&(y.dir&this._code(m,p))>0},C.prototype.isAligned=function(x){return!!this._map[x]},C.prototype.isAxisAligned=function(x,m,p){var y=this._map[x];if(!y)return null;for(var v in y.map){var u=y.map[v];if(m&&u.dy||p&&u.dx)return!1}return!0},C.prototype.addPath=function(x,m,p,y,v){var u=this._map[x];u||(u=this._map[x]={map:{},dir:0}),u.map[m]={dx:p,dy:y,points:v},u.dir=u.dir|this._code(p,y)},C.prototype._code=function(x,m){return S[Math.sign(x)+1+3*(Math.sign(m)+1)]},C}();E.default=T},function(ne,E,D){"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.split=void 0;var S=D(56);function T(C,x){var m=new S.default;return m.importNodes(C),{g:m,root:x}}E.split=function(C){var x=C.getNodes();if(x.length<3)return[{g:C}];for(var m=x[0],p=[],y=x.length+1;y!=x.length;)y=x.length,x=x.filter(function(c){if(1==c.links.length){var d=C.hash[c.links[0].id];return d&&(d.links=d.links.filter(function(a){return a.id!=c.id})),p.push(c),!1}return!0});if(x.length<2)return p.filter(function(c){return c.links.length>0}).forEach(function(c){c.links[0].links.push(c)}),C.root(C.toTree(m)),[{g:C}];var v={};p.forEach(function(c){return v[c.id]=c});var u=p.filter(function(c){return!v[c.links[0].id]}).map(function(c){return[c]});p.forEach(function(c){var d=v[c.links[0].id];d&&d.links.push(c)});var h=u.map(function(c){for(var d,a=0;d=c[a++];){var r=d.links.length;if(r>1)for(var i=1;i<r;i++)c.push(d.links[i])}var l=c[0].links.splice(0,1)[0].id;return T(c,l)});return[T(x,null)].concat(h)}},function(ne,E,D){"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.compose=void 0,E.compose=function(S,T){if(S.length<2)return S[0]||null;var C=S[0].getBox(),x=T.padding,m=S.reduce(function(p,y){var v=y.getBox();return y.translate({x:C[0][1]-v[0][0]+x,y:C[1][0]-v[1][0]}),p.importNodes(y.getNodes()),x+=T.padding+v[0][1]-v[0][0],p});return S.length&&m.setGlobalBox(),m}},function(ne,E,D){"use strict";function S(T,C){C[T.id]=1,T.links.forEach(function(x){C[x.id]||S(x,C)})}Object.defineProperty(E,"__esModule",{value:!0}),E.decompose=void 0,E.decompose=function(T){for(var C=[],x=function(){var p={},y=T.getNodes();if(!y.length)return{value:C};S(y[0],p);var v=T.split(function(u){return!p[u.id]});if(C.push(T),!v)return{value:C};T=v};;){var m=x();if("object"==typeof m)return m.value}}},function(ne,E,D){"use strict";var S=this&&this.__assign||function(){return S=Object.assign||function(d){for(var a,r=1,i=arguments.length;r<i;r++)for(var o in a=arguments[r])Object.prototype.hasOwnProperty.call(a,o)&&(d[o]=a[o]);return d},S.apply(this,arguments)};Object.defineProperty(E,"__esModule",{value:!0}),E.placeMindmap=void 0;var T=D(1),C=D(39),x=D(93);function m(d){var a=[];return d.forEach(function(r){r.forEach(function(i){!a.includes(i)&&i&&a.push(i)})}),a}function p(d,a){var r=[];return function i(o){return o.forEach(function(l){var f=d.getItem(l[1]);if(f.$connection)i(f.$connection);else{var _=f.parent&&f.parent.toString()||d.getItem(d.getId(0)).id,b=[];for(b.push(f.id.toString());_;)b.push(_.toString()),_=d.getItem(_).parent;b.reverse(),r.push(b)}}),r}(a),r}function y(d,a,r,i,o,l){var f=m(d),_=0,b=a.margin,I=b.itemX,O=b.itemY,P=d.map(function(N){var V=[],U=[],B=i;N.forEach(function(M){if(o)($=S({},r.getItem(M))).parent&&(B-=+I+ +$.width),V.push(B),U.push(_);else{var $=S({},r.getItem(M));V.push(B),U.push(_),B+=+I+ +$.width}});var F=N.map(function(M,$){var Y=S({},r.getItem(M));return Y._x=V[$],Y._y=U[$],Y}),W=function(M,$){for(var Y,ee=0,J=0;J<M.length;J++){var Z=null===(Y=$.getItem(M[1]))||void 0===Y?void 0:Y.height;Z&&Z>ee&&(ee=Z)}return ee}(N,r);return _+=O+W,F}),R=f.map(function(N){var V=[];P.forEach(function(F){var W=F.find(function(M){return M.id===N},!0);W&&V.push({x:W._x,y:W._y})});var U=V[0].x,B=V.reduce(function(F,W){return F+W.y},0)/V.length;return{id:N,x:U,y:B}});l.push(R[0]),f.forEach(function(N,V){if(N){var U=r.getItem(N);U.x=R[V].x,U.y=R[V].y,delete U._x,delete U._y}})}function v(d,a,r){m(d).forEach(function(i){i&&0!==r.getIndex(i)&&(r.getItem(i).y+=a)})}var u=function(d,a,r){return r.indexOf(d)===a};function h(d,a){var r=[];return a.map(function(o){var l=!1;return o.map(function(f){if(!l)return!1===d.getItem(f).open&&(r.push(f),l=!0),f}).filter(function(f){return f})}).map(function(o){return JSON.stringify(o)}).filter(u).map(function(o){return JSON.parse(o)})}function c(d,a,r,i,o,l){if(l){var f=h(d,p(d,r));return I=d,O=a,P=[],f.forEach(function(R){var N,V,U,B;P.push((V=I,U=O,B=[],(N=R).length>1&&N.forEach(function(F,W){var M=V.getItem(F);0!==W&&!M.hidden&&V.getItem(M.parent).open&&B.push(M.width+U.margin.itemX)}),B.length||B.push(0),B.reduce(function(F,W){return F+W})))}),y(f,a,d,i=Math.max.apply(Math,P),!0,o),{allLeftBranches:f,leftBranchWidth:i}}var I,O,P,_=h(d,p(d,r));return y(_,a,d,i,!1,o),{allRightBranches:_}}E.placeMindmap=function(d,a){var R,V,U,B,r=d.getRoots();if(1===r.length){var i=d.getItem(r[0]);if(i?.$connection){var o,l,f=function(R,N,V){var U,B,F=V.typeConfig,W=R.$connection,M=[],$=[],Y=(null===(U=F?.side)||void 0===U?void 0:U.hasOwnProperty("left"))&&F.side.left.length,ee=(null===(B=F?.side)||void 0===B?void 0:B.hasOwnProperty("right"))&&F.side.right.length;if(!F||"left"!==F?.direction&&"right"!==F?.direction)if(F&&(Y||ee))W.forEach(function(Z,j){Y&&F.side.left.includes(Z[1])?M.push(Z):ee&&F.side.right.includes(Z[1])?$.push(Z):j%2?M.push(Z):$.push(Z)});else{var J=Math.floor(W.length/2);W.forEach(function(Z,j){var L=N.getItem(Z[1]);"verticalLeft"===L.dir?M.push(Z):"verticalRight"===L.dir||j<J?$.push(Z):M.push(Z)})}else W.forEach(function(Z){"left"===F.direction?M.push(Z):$.push(Z)});return{leftTree:M,rightTree:$}}(i,d,a),_=f.leftTree,b=f.rightTree,I=[],O=0;[_,b].forEach(function(R,N){if(R.length)if(0===N){var V=c(d,a,R,O,I,!0);l=V.allLeftBranches,O=V.leftBranchWidth}else V=c(d,a,R,O,I),o=V.allRightBranches}),_.length&&b.length&&(V=l,U=d,B=i,(R=I)[1]&&R[0].y>R[1].y?(v(o,R[0].y-R[1].y,U),B.y=R[0].y):R[1]&&R[0].y<R[1].y&&(v(V,R[1].y-R[0].y,U),B.y=R[1].y));var P=[];[_,b].forEach(function(R,N){if(R.length){var V=0===N?"verticalLeft":"verticalRight",U="verticalLeft"===V?l:o;!P.includes(V)&&P.push(V),i.dir=P,R.forEach(function(B){d.getItem(B[1]).dir=V}),function(B,F,W,M,$){B.forEach(function(Y){var ee=W.getItem(Y),J=ee.$connection;ee.id!==$.id&&(ee.dir=F),J&&(ee.$count=J.length,J.forEach(function(Z){if(B.includes(Z[1])){var j=W.getItem(Z[1]),L=W.getItem(Z[0]);L.connectType="curved",(0,C.directLinkPath)(L,ee,j,M)}}))})}(m(U),V,d,a,i)}}),Array.isArray(i.dir)&&((0,T.isEmptyObj)(i.openDir)&&(i.openDir={}),i.dir.includes("verticalLeft")&&!Object.keys(i.openDir).includes("left")&&(i.openDir.left=void 0===i.open||i.open),i.dir.includes("verticalRight")&&!Object.keys(i.openDir).includes("right")&&(i.openDir.right=void 0===i.open||i.open),!1===i.open&&(i.openDir={right:!1,left:!1})),i.$connection.forEach(function(R){for(var N=d.getItem(R[1]).dir.toLowerCase(),V=0,U=Object.entries(i.openDir);V<U.length;V++){var B=U[V],W=B[1];N.includes(B[0])&&!W&&d.update(R[1],{hidden:!0},!0)}})}else i.x=0,i.y=0;(0,x.setHeaderColor)(d)}}},function(ne,E,D){"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.placeOrgonogram=void 0;var S=D(39),T=D(93);function C(m,p,y,v,u){var h,c=p.$connection,d=p.$assistants,a=null===(h=p.$partners)||void 0===h?void 0:h.common;("vertical"===p.dir&&a?.length||0===p.$level&&(p.openDir||Array.isArray(p.dir))||"verticalLeft"===p.dir||"verticalRight"===p.dir)&&(delete p.dir,delete p.openDir);var r="vertical"===p.dir,i=r?y.margin.itemX/2:0,o=0,l=0,f=0;if(c&&!1!==p.open&&!p.assistant&&!p.partner){for(var _=0,b=0;b<c.length;b++)if(!(B=m.getItem(c[b][1])).hidden&&!B.assistant&&!B.partner){var I=C(m,B,y,v+i,i);r?o=Math.max(o,I):o+=I,_++}_&&!r&&(o+=(_-1)*y.margin.itemX),p.$count=_}if(a?.length){for(var O=0,P=0,R=0,N=0;N<a.length;N++){var V=(B=m.getItem(a[N])).height+y.margin.itemY,U=B.width+y.margin.itemX;B.$even=!!(N%2),B.hidden||(B.$even?P+=V:O+=V,R=Math.max(R,U),++p.$count)}f=Math.max(O,P),o=Math.max(o,P?2*R+p.width:2*Math.max(R-y.margin.itemX/2,p.width+y.margin.itemX/2)),p.$partners.leftHeight=O,p.$partners.rightHeight=P}if(d?.length){for(R=0,O=0,P=0,N=0;N<d.length;N++){var B;V=(B=m.getItem(d[N])).height+y.margin.itemY,U=B.width+y.margin.itemX/2,B.$even=!!(N%2),B.hidden||(B.$even?P+=V:O+=V,R=Math.max(R,U),++p.$count)}r?(o=Math.max(o,R),l=O+P):(o=Math.max(o,2*R),l=Math.max(P,O))}if(o=Math.max(p.width,o),r)p.x=v;else{var F=y.gridStep||1;U=(o-p.width)/2+v,p.x=Math.ceil(U/F)*F}return p.y=0,p.$width=o,p.$baseHeight=f||p.height+y.margin.itemY,p.$height=l+p.$baseHeight,o+u}function x(m,p,y,v,u,h){var c,d=p.$connection,a=p.$assistants,r=null===(c=p.$partners)||void 0===c?void 0:c.common,i="vertical"===p.dir,o=0;if(p.x+=y,p.y+=v,u.gridStep&&(p.y=Math.ceil(p.y/u.gridStep)*u.gridStep),a?.length)for(var l=u.margin.itemX/2,f=p.x+p.width/2,_=p.y+p.$baseHeight,b=p.y+p.$baseHeight,I=0;I<a.length;I++){var O=(V=m.getItem(a[I])).height+u.margin.itemY;V.hidden||(i?(V.x=p.x+l,V.y=b,b+=O):V.$even?(V.y=b,V.x=f+l,b+=O):(V.y=_,V.x=f-(l+V.width),_+=O))}if(r?.length){var P=p.y+(p.$baseHeight/2-(p.height+u.margin.itemY)/2),R=P-p.y,N=P-R+(p.$baseHeight-p.$partners.leftHeight)/2;if(b=P-R+(p.$baseHeight-p.$partners.rightHeight)/2,r.length>1)for(I=0;I<r.length;I++)O=(V=m.getItem(r[I])).height+u.margin.itemY,V.hidden||(V.$even?(V.x=p.x+p.width+u.margin.itemX,V.y=b,b+=O):(V.x=p.x-V.width-u.margin.itemX,V.y=N,N+=O));else p.x=p.x+p.width/2+u.margin.itemX/2,(V=m.getItem(r[0])).x=p.x-V.width-u.margin.itemX,V.y=N;p.y=P}if(v+=p.$height,!1!==p.open&&d)for(var V=void 0,U=0;U<d.length;U++)if(!(V=m.getItem(d[U][1])).hidden){if(!V.assistant&&!V.partner){var B=x(m,V,y,v,u,h+1);i?(v+=B,o+=B):(o=Math.max(o,B),y+=V.$width+u.margin.itemX)}(0,S.directLinkPath)(m.getItem(d[U][0]),p,V,u)}return p.$height+o}E.placeOrgonogram=function(m,p){var y=m.getRoots();if(1===y.length){var v=m.getItem(y[0]);C(m,v,p,0,0),x(m,v,0,0,p,0),(0,T.setHeaderColor)(m)}}},function(ne,E,D){"use strict";var S=this&&this.__assign||function(){return S=Object.assign||function(v){for(var u,h=1,c=arguments.length;h<c;h++)for(var d in u=arguments[h])Object.prototype.hasOwnProperty.call(u,d)&&(v[d]=u[d]);return v},S.apply(this,arguments)},T=this&&this.__spreadArray||function(v,u,h){if(h||2===arguments.length)for(var c,d=0,a=u.length;d<a;d++)!c&&d in u||(c||(c=Array.prototype.slice.call(u,0,d)),c[d]=u[d]);return v.concat(c||Array.prototype.slice.call(u))};Object.defineProperty(E,"__esModule",{value:!0}),E.Editor=E.EditorEvents=void 0;var C,v,x=D(0),m=D(2),p=D(14);(v=C||(E.EditorEvents=C={})).beforeEditorOpen="beforeEditorOpen",v.afterEditorOpen="afterEditorOpen",v.beforeEditorClose="beforeEditorClose",v.afterEditorClose="afterEditorClose",v.beforeEditorEditing="beforeEditorEditing",v.afterEditorEditing="afterEditorEditing";var y=function(){function v(u){var h=this;this._currentValue=" ",this.data=u.data,this.events=u.events,this._keyManager=new p.KeyManager,this._dblDuration=300,this._documentClick=function(c){(0,m.locate)(c,"dhx_editor_id")||h.closeEditor()},this._handlers={edit:function(c){h.edit(c.target.innerText)},didInsert:function(c){var d=c?.el;if(d?.childNodes[0]){var a=document.createRange(),r=window.getSelection();a.setStart(d.childNodes[0],d.innerText.length),a.collapse(!0),r&&(r.removeAllRanges(),r.addRange(a)),d.focus()}}}}return v.prototype.openEditor=function(u,h,c){var d,a;void 0===h&&(h="text");var r=this.data.getItem(u);if(!r||this._editable||!this.events.fire(C.beforeEditorOpen,[u,h,c]))return!1;this._addHotkeys(),this._initOuterClick(),this.data.update(u,{$editable:!0},!0),this._editableItem=r,this._editable=!0,this._key=h,this._subId=c;var i=this._editableItem.$item.getBaseType();if("group"===i||"swimlane"===i)if(c){var o=this._editableItem,l=o.subHeaderRows,f=o.subHeaderCols,_=[];l?.enable&&null!==(d=l?.headers)&&void 0!==d&&d.length&&(_=l.headers);var b=[];f?.enable&&null!==(a=f?.headers)&&void 0!==a&&a.length&&(b=f.headers);var I=T(T([],_,!0),b,!0).find(function(O){return O?.id===c});this._currentValue=I?.[h]}else this._currentValue=this._editableItem.header[h];else this._currentValue=this._editableItem[h];return this.events.fire(C.afterEditorOpen,[u,this._key,this._subId]),!0},v.prototype.closeEditor=function(){var u=this._editableItem.id;return!!this.events.fire(C.beforeEditorClose,[u,this._key,this._subId])&&(this._removeHotkeys(),this._removeClickListener(),this.data.update(u,{$editable:!1},!0),this._editable=!1,this.events.fire(C.afterEditorClose,[u,this._key,this._subId]),this._editableItem=null,this._subId=null,this._currentValue=" ",!0)},v.prototype.isEditable=function(){return this._editable},v.prototype.destructor=function(){this._keyManager&&this._keyManager.destructor(),this.data=this.events=this._editable=this._editableItem=this._currentValue=this._keyManager=null},v.prototype.render=function(){return(0,x.el)("div.dhx_diagram_inline_editor",{dhx_editor_id:this._editableItem.id+"_editor",contentEditable:!0,oninput:this._handlers.edit,_hooks:{didInsert:this._handlers.didInsert}},this._currentValue||" ")},v.prototype.edit=function(u){var h,c,d,a,r=this;if(this._editableItem&&this.events.fire(C.beforeEditorEditing,[u,this._currentValue,this._editableItem.id,this._key,this._subId])){var i=this._editableItem,o=i.id,l=i.header,f=i.$item,_=i.subHeaderCols,b=i.subHeaderRows;this._currentValue=u;var I=f.getBaseType();if("group"===I||"swimlane"===I)if(this._subId){var O,P=null===(d=b?.headers)||void 0===d?void 0:d.findIndex(function(N){return N?.id===r._subId}),R=null===(a=_?.headers)||void 0===a?void 0:a.findIndex(function(N){return N?.id===r._subId});R>-1&&((O=T([],_.headers,!0))[R][this._key]=this._currentValue,this.data.update(o,{subHeaderCols:S(S({},_),{headers:O})})),P>-1&&((O=T([],b.headers,!0))[P][this._key]=this._currentValue,this.data.update(o,{subHeaderRows:S(S({},b),{headers:O})}))}else this.data.update(o,{header:S(S({},l),(h={},h[this._key]=this._currentValue,h))});else this.data.update(o,((c={})[this._key]=this._currentValue,c));this.events.fire(C.afterEditorEditing,[this._currentValue,o,this._key,this._subId])}},v.prototype._addHotkeys=function(){var u=this;this._keyManager.addHotKey("escape",function(){u.closeEditor()})},v.prototype._removeHotkeys=function(){this._keyManager.removeHotKey()},v.prototype._initOuterClick=function(){var u=this;setTimeout(function(){document.addEventListener("pointerdown",u._documentClick)},this._dblDuration)},v.prototype._removeClickListener=function(){document.removeEventListener("pointerdown",this._documentClick)},v}();E.Editor=y},function(ne,E,D){"use strict";var S=this&&this.__spreadArray||function(p,y,v){if(v||2===arguments.length)for(var u,h=0,c=y.length;h<c;h++)!u&&h in y||(u||(u=Array.prototype.slice.call(y,0,h)),u[h]=y[h]);return p.concat(u||Array.prototype.slice.call(y))};Object.defineProperty(E,"__esModule",{value:!0}),E.CellManager=E.CellManagerEvents=void 0;var T,p,C=D(1),x=D(0);(p=T||(E.CellManagerEvents=T={})).beforeCellsAdd="beforeCellsAdd",p.afterCellsAdd="afterCellsAdd",p.beforeCellsMove="beforeCellsMove",p.afterCellsMove="afterCellsMove",p.beforeCellsRemove="beforeCellsRemove",p.afterCellsRemove="afterCellsRemove",p.beforeCellsValidation="beforeCellsValidation",p.afterCellsValidation="afterCellsValidation";var m=function(){function p(y,v){this.events=v,this.data=y,this.swimlane=null}return p.prototype.setSwimlane=function(y){var v,u=this.data.getItem(y);return"swimlane"===(null===(v=u?.$item)||void 0===v?void 0:v.getBaseType())&&(this.swimlane=u,!0)},p.prototype.resetSwimlane=function(){var y=this;(0,x.awaitRedraw)().then(function(){y.swimlane=null})},p.prototype.add=function(y,v,u){var h=this;(0,x.awaitRedraw)().then(function(){var c,d,a=h.getDirectionType(v),r=h.getUniqueLayout(),i="col"===a?(null===(c=r[0])||void 0===c?void 0:c.length)-1:r?.length-1;if(y>=0&&y<=i&&h.events.fire(T.beforeCellsAdd,[h.swimlane.id])&&(u||h.validation(y,v,"add"))){var o,l,f=h.swimlane.layout,_=y,I=h.data.getItem("col"===a?f[0][_]:f[_][0]),O="col"===a?I?.$colCount:I?.$rowCount,P=h.swimlane["col"===a?"subHeaderCols":"subHeaderRows"],R=P?.enable&&(null===(d=P?.headers)||void 0===d?void 0:d.length);R&&(o=h.swimlane["col"===a?"subHeaderCols":"subHeaderRows"].headers,l=h.getSubHeaderIndex(h.getCellId(y,a),a));var N=1/0,V=_;"right"!==v&&"down"!==v||(V+=O,R&&l++),V<0&&(V=0);for(var U={},B={},F={},W=0;W<f.length;W++)for(var M=f[W],$=0;$<M.length;$++){var Y;if("col"===a&&((Y=h.data.getItem(M[$]))&&N>Y.width&&(N=Y.width),$===_&&(B[Y.id]?f[W].splice(V,0,B[Y.id]):(U[ee=(0,C.uid)()]={id:ee,type:"$sgroup"},f[W].splice(V,0,ee),B[Y.id]=ee))),"row"===a&&((Y=h.data.getItem(M[$]))&&N>Y.height&&(N=Y.height),W===_)){var ee=(0,C.uid)();0===$&&f.splice(V,0,[]),B[Y.id]?f[V][$]=B[Y.id]:(U[ee]={id:ee,type:"$sgroup"},f[V][$]=ee,B[Y.id]=ee)}}for(W=0;W<f.length;W++)for(M=f[W],$=0;$<M.length;$++){if("col"===a){var J=M[$];$>V&&!F[J]&&(h.data.eachChild(J,function(j){j.x+=N}),F[J]=!0)}"row"===a&&(J=M[$],W>V&&!F[J]&&(h.data.eachChild(J,function(j){j.y+=N}),F[J]=!0))}R&&o.splice(l,0,{text:"Untitled",id:(0,C.uid)()});var Z={layout:f};"col"===a?Z.width=h.swimlane.width+N:Z.height=h.swimlane.height+N,h.data.add(Object.values(U)),h.data.update(h.swimlane.id,Z),h.events.fire(T.afterCellsAdd,[h.swimlane.id])}})},p.prototype.move=function(y,v,u){var h=this;(0,x.awaitRedraw)().then(function(){var c,d,a,r=h.getDirectionType(v),i=h.getUniqueLayout(),o="col"===r?(null===(d=i[0])||void 0===d?void 0:d.length)-1:i?.length-1;if(y>=0&&y<=o&&h.events.fire(T.beforeCellsMove,[h.swimlane.id])&&(u||h.validation(y,v,"move"))){var l,f,_=h.swimlane.layout,b=h.swimlane["col"===r?"subHeaderCols":"subHeaderRows"],I=b?.enable&&(null===(a=b?.headers)||void 0===a?void 0:a.length);I&&(l=h.swimlane["col"===r?"subHeaderCols":"subHeaderRows"].headers,f=h.getSubHeaderIndex(h.getCellId(y,r),r));for(var O=y,R=h.data.getItem("col"===r?_[0][O]:_[O][0]),N="right"===v||"down"===v?f+1:f-1,U=h.data.getItem(h.getSubHeaderCellId(h.swimlane["col"===r?"subHeaderCols":"subHeaderRows"].headers[N].id)),B="col"===r?R?.$colCount:R?.$rowCount,F="col"===r?U?.$colCount:U?.$rowCount,W="left"===v||"up"===v?O-F:O+B,M={},$=[],Y=0;Y<_.length;Y++)for(var ee=_[Y],J=function(j){var L,G;if("col"===r&&j===O){var X=_[Y][O],ae=_[Y][W],ie=h.data.getItem(X),re=h.data.getItem(ae);M[X]||(h.data.eachChild(X,function(ge){"left"===v?ge.x-=re.width:ge.x+=re.width}),M[X]=!0),M[ae]||(h.data.eachChild(ae,function(ge){"left"===v?ge.x+=ie.width:ge.x-=ie.width}),M[ae]=!0),0===Y&&I&&(l[f]=(L=[l[N],l[f]])[0],l[N]=L[1]),$[Y]=_[Y].splice(j,B)}if("row"===r&&Y===O){ae=_[W][j];var he=h.data.getItem(X=_[O][j]),fe=h.data.getItem(ae);M[X]||(h.data.eachChild(X,function(ge){"up"===v?ge.y-=fe.height:ge.y+=fe.height}),M[X]=!0),M[ae]||(h.data.eachChild(ae,function(ge){"up"===v?ge.y+=he.height:ge.y-=he.height}),M[ae]=!0),j===ee.length-1&&(I&&(l[f]=(G=[l[N],l[f]])[0],l[N]=G[1]),$.push(_.splice(Y,B)))}},Z=0;Z<ee.length;Z++)J(Z);for("right"!==v&&"down"!==v||(W=O+F),Y=0;Y<_.length;Y++)for(ee=_[Y],Z=0;Z<ee.length;Z++)("left"===v&&Z===W||"right"===v&&Z===O)&&(c=_[Y]).splice.apply(c,S([W,0],$[Y],!1)),("up"===v&&Y===W||"down"===v&&Y===O)&&0===Z&&_.splice.apply(_,S([W,0],$[0],!1));h.data.update(h.swimlane.id,h.swimlane),h.events.fire(T.afterCellsMove,[h.swimlane.id])}})},p.prototype.remove=function(y,v,u){var h=this;(0,x.awaitRedraw)().then(function(){var c,d,a="col"===v?"left":"up",r=h.getUniqueLayout(),i="col"===v?(null===(c=r[0])||void 0===c?void 0:c.length)-1:r?.length-1;if(y>=0&&y<=i&&h.events.fire(T.beforeCellsRemove,[h.swimlane.id])&&(u||h.validation(y,a,"remove"))){var o,l,f=h.swimlane.layout,_=h.swimlane["col"===v?"subHeaderCols":"subHeaderRows"],b=_?.enable&&(null===(d=_?.headers)||void 0===d?void 0:d.length);b&&(o=h.swimlane["col"===v?"subHeaderCols":"subHeaderRows"].headers,l=h.getSubHeaderIndex(h.getCellId(y,v),v));for(var I=y,P=h.data.getItem("col"===v?f[0][I]:f[I][0]),R={},N={},V=[],U=0;U<f.length;U++)for(var B=f[U],F=0;F<B.length;F++){var W=f[U][F];"col"===v&&F===I||"row"===v&&U===I?(R[W]=!0,b&&("col"===v&&0===U||"row"===v&&0===F)&&o.splice(l,1)):R[W]||(V[U]?V[U].push(W):V[U]=[W]),R[W]||N[W]||("col"===v&&I<F?(h.data.eachChild(W,function($){$.x-=P.width}),N[W]=!0):"row"===v&&I<U&&(h.data.eachChild(W,function($){$.y-=P.height}),N[W]=!0))}var M={layout:V.filter(function($){return $})};"col"===v?M.width=h.swimlane.width-P.width:M.height=h.swimlane.height-P.height,h.data.remove(Object.keys(R)),h.data.update(h.swimlane.id,M),h.events.fire(T.afterCellsRemove,[h.swimlane.id])}})},p.prototype.validation=function(y,v,u){var h,c=this.getDirectionType(v),d=this.getUniqueLayout(),a="col"===c?(null===(h=d[0])||void 0===h?void 0:h.length)-1:d?.length-1;if(y>=0&&y<=a&&this.events.fire(T.beforeCellsValidation,[this.swimlane.id,u])){if(0===a&&"add"!==u)return this.events.fire(T.afterCellsValidation,[this.swimlane.id,!1,u]),!1;var r,i=this.swimlane.layout,o=y,l=!0;if(o>=0)for(var f=0;f<i.length;f++)for(var _=i[f],b=0;b<_.length;b++){var I="col"===c?_[o]:i[o][b];if("col"===c&&b===o){var O=this.data.getItem(I).$colCount;if(0===f)r=O;else if(r!==O){if("remove"===u||"move"===u)return this.events.fire(T.afterCellsValidation,[this.swimlane.id,!1,u]),!1;l=!1}}if("row"===c&&f===o){var P=this.data.getItem(I).$rowCount;if(0===b)r=P;else if(r!==P){if("remove"===u||"move"===u)return this.events.fire(T.afterCellsValidation,[this.swimlane.id,!1,u]),!1;l=!1}}}if(v&&!l||"move"===u){var N=this.data.getItem("col"===c?i[0][o]:i[o][0]);if("right"===v||"down"===v?o+="col"===c?N?.$colCount:N?.$rowCount:o-=1,o>=0&&!("row"===c&&o>i.length-1))for(f=0;f<i.length;f++)for(_=i[f],b=0;b<_.length;b++){var U="col"===c?_[o]:i[o][b];if("col"===c&&b===o)if(O=this.data.getItem(U).$colCount,0===f)r=O;else if(r!==O)return this.events.fire(T.afterCellsValidation,[this.swimlane.id,!1,u]),!1;if("row"===c&&f===o)if(P=this.data.getItem(U).$rowCount,0===b)r=P;else if(r!==P)return this.events.fire(T.afterCellsValidation,[this.swimlane.id,!1,u]),!1}}return this.events.fire(T.afterCellsValidation,[this.swimlane.id,!0,u]),!0}},p.prototype.getSubHeaderCellIndex=function(y){if(this.swimlane&&arguments.length){var v=this.getSubHeaderType(y),u=this.getSubHeaderCellId(y);return this.getCellIndex(u,v)}},p.prototype.getSubHeaderCellId=function(y){var v;if(this.swimlane&&arguments.length){var u=this.getSubHeaderType(y),h=null===(v=this.swimlane["col"===u?"subHeaderCols":"subHeaderRows"])||void 0===v?void 0:v.headers;if(h?.length){for(var c=h.findIndex(function(l){return l.id===y}),d=[],a=0;a<this.swimlane.layout.length;a++)for(var r=this.swimlane.layout[a],i=0;i<r.length;i++){var o=r[i];("col"===u&&0===a||"row"===u&&0===i)&&!d.includes(o)&&d.push(o)}return d[c]}}},p.prototype.getSubHeaderType=function(y){var v;if(this.swimlane&&arguments.length){var u,h=this.swimlane,c=h.subHeaderCols,d=h.subHeaderRows,a=d?.enable&&(null===(v=d?.headers)||void 0===v?void 0:v.length),r=c?.enable&&c?.headers.length;return a&&-1!==d.headers.findIndex(function(l){return y===l.id})&&(u="row"),r&&-1!==c.headers.findIndex(function(l){return y===l.id})&&(u="col"),u}},p.prototype.getCellIndex=function(y,v){var u,h;if(this.swimlane&&null!==(h=null===(u=this.swimlane)||void 0===u?void 0:u.groupChildren)&&void 0!==h&&h.includes(y)&&!(arguments.length<2))for(var c=this.swimlane.layout,d=0;d<c.length;d++)for(var a=c[d],r=0;r<a.length;r++)if(a[r]==y)return"col"===v?r:d},p.prototype.getCellId=function(y,v){if(this.swimlane&&!(arguments.length<2))return this.swimlane.layout["row"===v?y:0]["col"===v?y:0]},p.prototype.getSubHeaderIndex=function(y,v){var u,h;if(this.swimlane&&null!==(h=null===(u=this.swimlane)||void 0===u?void 0:u.groupChildren)&&void 0!==h&&h.includes(y)&&!(arguments.length<2))for(var c=this.swimlane.layout,d={},a=-1,r=0;r<c.length;r++)for(var i=c[r],o=0;o<i.length;o++){var l=i[o];if(!d[l]&&(("col"===v&&0===r||"row"===v&&0===o)&&a++,d[l]=!0,y==l))return a}},p.prototype.getDirectionType=function(y){return"left"===y||"right"===y||"col"===y?"col":"row"},p.prototype.getUniqueLayout=function(){if(this.swimlane){for(var y=[],v=0;v<this.swimlane.layout.length;v++){var u=this.swimlane.layout[v];y[v]||(y[v]=[]);for(var h=0;h<u.length;h++){var c=u[h];y[v].includes(c)||y[v].push(c)}}return y}},p}();E.CellManager=m},function(ne,E,D){"use strict";var S,T=this&&this.__extends||(S=function(v,u){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,c){h.__proto__=c}||function(h,c){for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(h[d]=c[d])})(v,u)},function(v,u){if("function"!=typeof u&&null!==u)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function h(){this.constructor=v}S(v,u),v.prototype=null===u?Object.create(u):(h.prototype=u.prototype,new h)}),C=this&&this.__assign||function(){return C=Object.assign||function(v){for(var u,h=1,c=arguments.length;h<c;h++)for(var d in u=arguments[h])Object.prototype.hasOwnProperty.call(u,d)&&(v[d]=u[d]);return v},C.apply(this,arguments)},x=this&&this.__spreadArray||function(v,u,h){if(h||2===arguments.length)for(var c,d=0,a=u.length;d<a;d++)!c&&d in u||(c||(c=Array.prototype.slice.call(u,0,d)),c[d]=u[d]);return v.concat(c||Array.prototype.slice.call(u))};Object.defineProperty(E,"__esModule",{value:!0}),E.Line=void 0;var m=D(0),p=D(1),y=function(v){function u(h,c){var d=v.call(this,h,c)||this;return d.id=d.config.id=h.id||(0,p.uid)(),h.width&&(h.width=parseFloat(h.width)),h.height&&(h.height=parseFloat(h.height)),h.x&&(h.x=parseFloat(h.x)),h.y&&(h.y=parseFloat(h.y)),h.strokeWidth&&(h.strokeWidth=parseFloat(h.strokeWidth)),d}return T(u,v),u.prototype.getBaseType=function(){return"line"},u.prototype.setDefaults=function(h,c){return h.connectType="curved"===h.connectType?"elbow":h.connectType||"elbow",h.stroke=h.stroke||c?.stroke||"#CCC",h.strokeType=h.strokeType||c?.strokeType||h.type,h.strokeWidth=h.strokeWidth||c?.strokeWidth||2,h.cornersRadius=h.cornersRadius||c?.cornersRadius||0,h.backArrow=h.backArrow||c?.backArrow||"none",h.forwardArrow=h.forwardArrow||c?.forwardArrow||"none",h},u.prototype.getBox=function(){var h=this.config.points.reduce(function(o,l){return o.x=Math.max(o.x,l.x),o.y=Math.max(o.y,l.y),o},{x:0,y:0}),a=this.config.x,i=this.config.y;return{left:a,right:a+(h.x-this.config.x),top:i,bottom:i+(h.y-this.config.y)}},u.prototype.render=function(){var h=this.config,c=h.id,d=h.stroke,a=h.strokeWidth,r=this._getPoints(),i=this._getArrowLine()||[];return(0,m.sv)("g",{"data-dhx-id":c,_key:c,class:"dhx_diagram_item dhx_diagram_line "+(this.config.$selected?"dhx_diagram_line--selected":"")+(this.config.css||"")},x([(0,m.sv)("path",{d:r,fill:"none","stroke-dasharray":this._getType(),"stroke-linejoin":"round","stroke-width":a,stroke:d})],i,!0))},u.prototype._getType=function(){if(this.config.strokeType&&(this.config.type=this.config.strokeType),this.config.type)switch(this.config.type){case"line":default:return"";case"dash":return"5, 5"}},u.prototype._getPoints=function(){return this._getStringPoints()},u.prototype._getStringPoints=function(){return this.config.width=Math.abs(this.config.points[this.config.points.length-1].x-this.config.points[0].x),this.config.height=Math.abs(this.config.points[this.config.points.length-1].y-this.config.points[0].y),this.config.x=this.config.points[0].x,this.config.y=this.config.points[0].y,"straight"!==this.config.connectType&&"curved"!==this.config.connectType||(this.config.points=[this.config.points[0],this.config.points[this.config.points.length-1]],"curved"!==this.config.connectType)?"M ".concat(this.config.x,",").concat(this.config.y," ")+this.config.points.map(function(h){return h.x1&&h.y1?"Q".concat(h.x1,",").concat(h.y1," ").concat(h.x,",").concat(h.y):"L "+h.x+","+h.y}).join(" "):this._getCurvedPoints(this.config)},u.prototype._getCurvedPoints=function(h){var c=h.points[0].x,d=h.points[1].x,a=h.points[0].y,r=h.points[1].y,i=.5*(d-c),o=c+i,l=d-i;return"M".concat(c,",").concat(a," C").concat(o,",").concat(a," ").concat(l,",").concat(r," ").concat(d,",").concat(r)},u.prototype._getArrowLine=function(){var h=this.config.points,c="filled"===this.config.backArrow,d="filled"===this.config.forwardArrow;if(c||d)return[c?this._getArrow(h[1],h[0]):null,d?this._getArrow(h[h.length-2],h[h.length-1]):null]},u.prototype._getArrow=function(h,c){var d=h.x-c.x,a=h.y-c.y,r=0===d&&0===a,i=1/Math.sqrt(Math.pow(d,2)+Math.pow(a,2)),o=d*i,l=a*i,f={x:c.x,y:c.y},_=c.x-5,b=c.y-5,I=c.x+5,O=c.y-5,P=Math.atan((c.x-h.x)/(c.y-h.y))*(-180/3.14);h.y>c.y&&(P+=180);var R={};return r||(R.transform="translate(".concat(o," ").concat(l,") rotate(").concat(P,",").concat(f.x,",").concat(f.y,")")),(0,m.sv)("path",C({d:"M".concat(_,",").concat(b," L").concat(f.x,",").concat(f.y," L").concat(I,",").concat(O," Z"),class:"dhx_diagram_arrow "+this.getCss(),"shape-rendering":"auto",stroke:this.config.stroke,fill:this.config.stroke},R))},u}(D(54).BaseItem);E.Line=y},function(ne,E,D){"use strict";var S,T=this&&this.__extends||(S=function(c,d){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,r){a.__proto__=r}||function(a,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(a[i]=r[i])})(c,d)},function(c,d){if("function"!=typeof d&&null!==d)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");function a(){this.constructor=c}S(c,d),c.prototype=null===d?Object.create(d):(a.prototype=d.prototype,new a)}),C=this&&this.__assign||function(){return C=Object.assign||function(c){for(var d,a=1,r=arguments.length;a<r;a++)for(var i in d=arguments[a])Object.prototype.hasOwnProperty.call(d,i)&&(c[i]=d[i]);return c},C.apply(this,arguments)};Object.defineProperty(E,"__esModule",{value:!0}),E.LineTitle=void 0;var x=D(0),m=D(2),p=D(1),y=D(28),v=D(19),u=D(40),h=function(c){function d(a,r){var i=c.call(this,a,r)||this;return i.id=i.config.id=a.id||(0,p.uid)(),i.config=i.setDefaults(a),i}return T(d,c),d.prototype.render=function(){var a=this.parent.$level+(this.parent.$group||this.parent.$selected?this.parent.$selected?3:2:1);this.config.$selected&&++a;var r=this.getSize(this.config.text),i=r.width,o=r.height;this.config.width=i>20?i+4:20,this.config.height=o>16?o+2:16;var l=this.getTitlePosition(this.parent,this.config),f=l.x,_=l.y;return this.config.$x=f,this.config.$y=_,(0,x.el)("div",{_key:this.config.id,class:"dhx_diagram_line_title "+(this.config.$selected?"dhx_diagram_line_title--selected":""),"data-dhx-id":this.config.id,"data-dhx-parent-id":this.parent.id,style:C({zIndex:a,position:"absolute",top:_,left:f,transform:"rotate(".concat(this.config.$angle,"deg)")},(0,v.getShapeCss)(this.config))},[this.getContent()])},d.prototype.getBaseType=function(){return"lineTitle"},d.prototype.setDefaults=function(a,r){return a.$angle=a.$angle||0,a.distance=r?.distance||a.distance||50,a.editable="boolean"!=typeof a.editable||a.editable,a.fixed=!!a.fixed,a.autoPosition=!!a.autoPosition,a.fill=r?.fill||a.fill||"#FFFFFF",a.lineHeight=r?.lineHeight||a.lineHeight||14,a.fontSize=r?.fontSize||a.fontSize||14,a.fontColor=r?.fontColor||a.fontColor||"#4C4C4C",a.fontStyle=r?.fontStyle||a.fontStyle||"normal",a.fontWeight=r?.fontWeight||a.fontWeight||"normal",a.textAlign=r?.textAlign||a.textAlign||"center",a.width=(a.width||0)<40?40:a.width,a.height=(a.height||0)<18?18:a.height,a},d.prototype.getContent=function(){var a=this.config,i=a.text;return(0,x.el)("span.dhx_diagram_line_title__text",{style:{backgroundColor:a.fill}},a.$editable?[this.getEditorNode()]:i)},d.prototype.getSize=function(a){var r=this.config,o=r.lineHeight,l=r.fontWeight,f=r.fontStyle,_={fontFamily:"Roboto, Arial, Tahoma, Verdana, sans-serif",fontSize:"".concat(r.fontSize,"px"),lineHeight:"".concat(o,"px"),fontWeight:l,fontStyle:f};return(0,m.getStrSize)(a,_)},d.prototype.getCenterCoords=function(a,r){return{x:r.x-a.width/2,y:r.y-a.height/2}},d.prototype.getStraightCoords=function(a,r,i){return void 0===i&&(i=.5),{x:a.x*(1-i)+r.x*i,y:a.y*(1-i)+r.y*i}},d.prototype.getTitlePosition=function(a,r){var i,o,l,f=(0,u.getDistanceFactor)(r.distance);if("straight"===a.connectType||2===(null===(i=a.points)||void 0===i?void 0:i.length)){var _=null===(o=a.points)||void 0===o?void 0:o[0],b=null===(l=a.points)||void 0===l?void 0:l[a.points.length-1];return this.config.$angle=r.autoPosition?(0,u.getLineAngle)(_,b):0,this.getCenterCoords(r,this.getStraightCoords(_,b,f))}for(var I=a.points,O=[],P=0,R=0;R<I.length-1;R++){var U=(0,u.getLineLength)(I[R],I[R+1]);P+=U,O.push(U)}var B=P/100*parseFloat(r.distance),F={x:0,y:0},W={x:0,y:0},M=0;for(R=0;R<I.length-1;R++)if((M+=O[R])>=B){F=I[R],W=I[R+1],f=1-(0,u.getDistanceFactor)((M-B)/O[R]*100);break}return this.config.$angle=r.autoPosition?(0,u.getLineAngle)(F,W):0,this.getCenterCoords(r,this.getStraightCoords(F,W,f))},d.prototype.getBox=function(){var a=this.config,r=a.$x,i=void 0===r?0:r,o=a.$y,l=void 0===o?0:o;return{left:i,right:i+a.width,top:l,bottom:l+a.height}},d}(y.BaseShape);E.LineTitle=h},function(ne,E,D){"use strict";var S=this&&this.__assign||function(){return S=Object.assign||function(y){for(var v,u=1,h=arguments.length;u<h;u++)for(var c in v=arguments[u])Object.prototype.hasOwnProperty.call(v,c)&&(y[c]=v[c]);return y},S.apply(this,arguments)};Object.defineProperty(E,"__esModule",{value:!0});var T=function(){function y(){}return y.prototype.layout=function(v,u){v.setRoot();var h=v.getRoot();return v.root(v.toTree(v.hash[h.id])),x(v,h,C(h,h,{minSpaceBetweenGen:u.levelPadding||20,minSpaceBetweenSibling:u.itemPadding||5})),v.translate({x:1e3,y:1e3}),v},y}();function C(y,v,u,h,c,d){var a;void 0===h&&(h={startAngle:0,endAngle:360}),void 0===c&&(c=0),void 0===d&&(d={});var i=(h.endAngle-h.startAngle)/v.kids.length;if(v.kids.length){var o=c+1;d[o]=null!==(a=d[o])&&void 0!==a?a:{radius:0,chord:0};var l=0;v.kids.forEach(function(O,P,R){var N,V,U,B,F,W,M,$,Y=h.startAngle+i*(P+.5),ee=((null===(N=d[c])||void 0===N?void 0:N.radius)||0)+(M=((F=O).w+(W=v).w)/2,$=(F.h+W.h)/2,Math.ceil(Math.sqrt(M*M+$*$)))+u.minSpaceBetweenGen;if(l=Math.max(d[o].radius,ee),v.kids.length>1){var J=P!==R.length-1?P+1:0,Z=m(O,ie=p({startAngle:Y,endAngle:Y+i}))+m(R[J],ie)+u.minSpaceBetweenSibling;d[o].chord=Math.max(d[o].chord,Z)}else{var j=null===(V=y.kids)||void 0===V?void 0:V.findIndex(function(he){return he.id===v.id}),L=j===(null===(U=y.kids)||void 0===U?void 0:U.length)-1?0:j+1,G=0===j?(null===(B=y.kids)||void 0===B?void 0:B.length)-1:j-1;if(j>-1){var ie,X=y.kids[L].kids[0],ae=y.kids[G].kids[y.kids[G].kids.length-1];(X||ae)&&(Z=m(O,ie=p({startAngle:Y,endAngle:Y+.5*(i+(h.endAngle-h.startAngle)/y.kids[X?L:G].kids.length)}))+m(X||ae,ie)+u.minSpaceBetweenSibling+20,d[o].chord=Math.max(d[o].chord,Z))}}});var f=Math.max(l,d[o].chord/(2*Math.sin(i/2*Math.PI/180)));if(f>d[o].radius&&d[o+1]){var _=f-d[o].radius;for(var b in d)Number(b)>o&&(d[b].radius+=_)}d[o].radius=f;var I=S({},h);return v.kids.forEach(function(O){I.endAngle=I.startAngle+i,O.kids.length&&(d=C(v,O,u,I,o,d)),I.startAngle+=i}),d}}function x(y,v,u,h,c){void 0===h&&(h={startAngle:0,endAngle:360}),void 0===c&&(c=0);var a,i,o,l=y.getRoot(),_=v.kids;if(l.id===v.id)v.x=0,v.y=0;else{var I=(a=u[c].radius,i=l.y,o=(h.startAngle+h.endAngle)/2*Math.PI/180,{x:l.x+a*Math.cos(o),y:i-a*Math.sin(o)});v.x=I.x,v.y=I.y}if(_.length){var O=(h.endAngle-h.startAngle)/_.length;_.forEach(function(P,R){x(y,P,u,{startAngle:h.startAngle+O*R,endAngle:h.startAngle+O*(R+1)},c+1)})}}function m(y,v){var u=Math.cos(Math.atan(y.h/y.w)),h=Math.cos(v*Math.PI/180);return Math.abs(h)>u?y.w/(2*Math.abs(h)):y.h/(2*Math.abs(Math.sin(v*Math.PI/180)))}function p(y){return 90-y.endAngle/2+y.startAngle/2-(y.startAngle>180?y.startAngle-180:y.startAngle)}E.default=T},function(ne,E,D){"use strict";var S,T=this&&this.__extends||(S=function(h,c){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,a){d.__proto__=a}||function(d,a){for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(d[r]=a[r])})(h,c)},function(h,c){if("function"!=typeof c&&null!==c)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function d(){this.constructor=h}S(h,c),h.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)});Object.defineProperty(E,"__esModule",{value:!0}),E.DiagramEditor=E.DiagramShapes=E.DataEvents=E.DataCollection=E.setTheme=E.awaitRedraw=void 0;var C=D(0);Object.defineProperty(E,"awaitRedraw",{enumerable:!0,get:function(){return C.awaitRedraw}}),Object.defineProperty(E,"setTheme",{enumerable:!0,get:function(){return C.setTheme}});var x=D(8);Object.defineProperty(E,"DataCollection",{enumerable:!0,get:function(){return x.DataCollection}}),Object.defineProperty(E,"DataEvents",{enumerable:!0,get:function(){return x.DataEvents}});var m=D(53);Object.defineProperty(E,"DiagramShapes",{enumerable:!0,get:function(){return m.shapes}});var p=D(5),y=D(1),v=D(205),u=function(h){function c(d,a){void 0===a&&(a={});var r,i=h.call(this,d,a)||this;return r=["org","mindmap"].includes(a.type)?new v.OrgChartEditor(d,a):new v.DefaultEditor(d,a),(0,y.extend)(i,r),i}return T(c,h),c.prototype.paint=function(){},c.prototype.destructor=function(){throw new Error("Method not implemented.")},c.prototype.import=function(d){},c.prototype.parse=function(d){},c.prototype.serialize=function(){return[]},c.prototype.zoomIn=function(d){},c.prototype.zoomOut=function(d){},c}(p.View);E.DiagramEditor=u},function(ne,E,D){"use strict";var S=this&&this.__createBinding||(Object.create?function(C,x,m,p){void 0===p&&(p=m);var y=Object.getOwnPropertyDescriptor(x,m);y&&!("get"in y?!x.__esModule:y.writable||y.configurable)||(y={enumerable:!0,get:function(){return x[m]}}),Object.defineProperty(C,p,y)}:function(C,x,m,p){void 0===p&&(p=m),C[p]=x[m]}),T=this&&this.__exportStar||function(C,x){for(var m in C)"default"===m||Object.prototype.hasOwnProperty.call(x,m)||S(x,C,m)};Object.defineProperty(E,"__esModule",{value:!0}),T(D(206),E),T(D(276),E),T(D(99),E),T(D(37),E)},function(ne,E,D){"use strict";var S,T=this&&this.__extends||(S=function(a,r){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(i[l]=o[l])})(a,r)},function(a,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function i(){this.constructor=a}S(a,r),a.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}),C=this&&this.__assign||function(){return C=Object.assign||function(a){for(var r,i=1,o=arguments.length;i<o;i++)for(var l in r=arguments[i])Object.prototype.hasOwnProperty.call(r,l)&&(a[l]=r[l]);return a},C.apply(this,arguments)};Object.defineProperty(E,"__esModule",{value:!0}),E.OrgChartEditor=void 0;var x=D(29),m=D(1),p=D(64),y=D(59),v=D(98),u=D(37),h=D(100),c=D(112),d=function(a){function r(i,o){return a.call(this,i,(0,m.extend)({itemsDraggable:!0,shapeType:"org"===o.type?"card":"topic",view:{toolbar:!0,editbar:!0}},o))||this}return T(r,a),r.prototype._initDiagram=function(){this.diagram=new x.Diagram(null,{type:this.config.type,defaultShapeType:this.config.shapeType,margin:{y:70,x:40},defaults:this._getDefaults(),toolbar:this._getToolbarConfig(this.config),lineConfig:C({},this.config.lineConfig),gridStep:this.config.gridStep,scale:this.config.scale,select:!0,scroll:!0,$isEditor:!0}),this.diagram.data.parse([{id:(0,m.uid)(),x:0,y:0,text:"main"}])},r.prototype._initUI=function(i){var o=this;this.view=new h.View(i,this);var l=this.view.getViews(),_=l.editbar;this.toolbar=l.toolbar,this.editbar=_,this.menu=new p.ContextMenu(null),this._resizer=new y.Controls(this.events,this.diagram,{magnetic:!1,connectionPoints:!1,resizePoints:this.config.resizePoints}),this.diagram.config.$svg=function(b){var I,O=null===(I=o.diagram.selection.getItem())||void 0===I?void 0:I.id,P=o.diagram.data.getItem(O);return o._selectionBox&&o._selectionBox.isValid()?o._selectionBox.render():o.diagram.selection.getIds().length<=1?o._resizer.render(P,b):null},this.diagram.config.$grid=function(){return!!o.config.grid}},r.prototype._setHandlers=function(){var i=this;a.prototype._setHandlers.call(this),this.diagram.events.on(x.DataEvents.load,function(){i.history.reset()}),this.diagram.events.on(x.DiagramEvents.shapeIconClick,function(o,l){var f=i.diagram.selection.getItem(),_=i.diagram.selection.getIds().map(function(I){return i.diagram.data.getItem(I)});if(i.events.fire(u.DiagramEditorEvents.beforeShapeIconClick,[o,i.diagram.data.getItem(f.id)])){var b=_.map(function(I){return{id:(0,m.uid)(),parent:I.id,dx:I.dx,dy:I.dy,headerColor:(0,c.getHeaderColor)(I)}});switch(o){case"add":b.forEach(function(I){i.diagram.data.add(I),i.diagram.selection.add({id:I.id}),i.diagram.showItem(I.id)});break;case"addLeft":b.forEach(function(I){i.diagram.data.add(C({dir:"verticalLeft"},I)),i.diagram.selection.add({id:I.id}),i.diagram.showItem(I.id,"left")});break;case"addRight":b.forEach(function(I){i.diagram.data.add(C({dir:"verticalRight"},I)),i.diagram.selection.add({id:I.id}),i.diagram.showItem(I.id,"right")});break;case"remove":_.forEach(function(I){i._removeItem(I.id)});break;case"menu":i.menu.data.parse(i._getContextMenuData(f)),i.menu.showAt(l)}i.events.fire(u.DiagramEditorEvents.afterShapeIconClick,[o,i.diagram.data.getItem(f.id)])}}),this.events.on(u.DiagramEditorEvents.afterShapeMove,function(o){var f=o.batch,_=o.event;if(i.config.itemsDraggable){var b=i.diagram.data.getItem(o.id);if(!1!==b.giveItem){var I=!1;i.diagram.data.mapVisible(function(O){if(O){var P=O?.$item.isLocate({width:b.width,height:b.height,x:b.x+(b.dx||0),y:b.y+(b.dy||0)});b.id!=O.id&&b.parent!=O.id&&"shape"===O.$item.getBaseType()&&(P&&!I?(I=!0,O.$target=!0,i.events.fire(u.DiagramEditorEvents.itemTarget,[{id:b.id,batch:f,targetId:O.id,event:_}])):O.$target=!1)}})}}}),this.events.on(u.DiagramEditorEvents.shapeMoveEnd,function(o){var f=o.batch,_=o.event;if(i.config.itemsDraggable){var b=i.diagram.data.getItem(o.id);if(!1!==b.giveItem){var I=!1;i.diagram.data.mapVisible(function(O){if(O){O.$target=!1;var P=O.$item.isLocate({width:b.width,height:b.height,x:b.x+(b.dx||0),y:b.y+(b.dy||0)});if(b.id!=O.id&&b.parent&&b.parent!=O.id&&"shape"===O.$item.getBaseType()&&!O.assistant&&!O.partner&&!I&&P){if(I=!0,!1===O.catchItem||!i.events.fire(u.DiagramEditorEvents.beforeItemCatch,[{id:b.id,batch:f,targetId:O.id,event:_}]))return;var R=new Set(f);R.forEach(function(N){var V=i.diagram.data.getItem(N);i.diagram.data.update(N,{dx:O.dx,dy:O.dy},!0),R.has(V.parent.toString())||(i.diagram.data.update(N,{parent:O.id},!0),i.diagram.data.remove(V.$parent),i.diagram.data.add({type:"line",from:O.id,to:N}))}),i.diagram.expandItem(O.id),i.events.fire(u.DiagramEditorEvents.afterItemCatch,[{id:b.id,batch:f,targetId:O.id,event:_}])}}})}}}),this.menu.events.on("click",function(o){var l=i.diagram.selection.getItem();if(i.events.fire(u.DiagramEditorEvents.beforeShapeIconClick,[o,i.diagram.data.getItem(l.id)])){var f={id:(0,m.uid)(),parent:l.id,dx:l.dx,dy:l.dy,headerColor:(0,c.getHeaderColor)(l)};switch(o){case"vertical":case"horizontal":i.diagram.data.update(l.id,{dir:o});break;case"addAssistant":i.diagram.data.add(C(C({},f),{assistant:!0,headerColor:(0,c.getHeaderColor)(l,"assistant")})),i.diagram.selection.add({id:f.id}),i.diagram.showItem(f.id);break;case"addPartner":i.diagram.data.add(C(C({},f),{partner:!0,headerColor:(0,c.getHeaderColor)(l,"partner")})),i.diagram.selection.add({id:f.id}),i.diagram.showItem(f.id);break;case"remove":i._removeItem(l.id)}i.events.fire(u.DiagramEditorEvents.afterShapeIconClick,[o,i.diagram.data.getItem(l.id)])}})},r.prototype._getContextMenuData=function(i){var o,l,f=[{id:"addPartner",value:x.locale.menuAddPartner,icon:"dxi dxi-plus"},{id:"addAssistant",value:x.locale.menuAddAssistant,icon:"dxi dxi-plus"}];return i.$connection&&i.$connection.length&&("vertical"===i.dir||null!==(l=null===(o=i?.$partners)||void 0===o?void 0:o.common)&&void 0!==l&&l.length?"vertical"===i.dir&&f.push({id:"horizontal",value:x.locale.menuAlignChildrenHorizontally,icon:"dxi dxi-chart-horizontal"}):f.push({id:"vertical",value:x.locale.menuAlignChildrenVertically,icon:"dxi dxi-chart-vertical"})),i.$parent&&f.push({type:"separator"},{id:"remove",value:x.locale.menuDelete,icon:"dxi dxi-delete-outline",hotkey:"Del"}),f},r.prototype._getDefaults=function(){var i={text:{text:"Text"}};return["card","img-card","topic"].forEach(function(o){i[o]={text:"Text",title:"Title",height:"topic"!==o?90:30,width:"img-card"===o?210:140}}),i=C(C({},i),this.config.defaults)},r}(v.BaseDiagramEditor);E.OrgChartEditor=d},function(ne,E,D){"use strict";var S=this&&this.__spreadArray||function(p,y,v){if(v||2===arguments.length)for(var u,h=0,c=y.length;h<c;h++)!u&&h in y||(u||(u=Array.prototype.slice.call(y,0,h)),u[h]=y[h]);return p.concat(u||Array.prototype.slice.call(y))};Object.defineProperty(E,"__esModule",{value:!0}),E.getConnectPoints=E.Connect=void 0;var T=D(1),C=D(0),x=function(){function p(y,v){var u=this;this.createConnector=function(h){var c,d,a=(0,T.uid)();u._connector={id:a,from:h.id,fromSide:h.side};var r="line",i=u._nearShape.$item.getPoint(h.dx,h.dy);u._diagram.data.add({id:a,type:r,points:[{x:i.x,y:i.y},{x:i.x,y:i.y}],stroke:(null===(d=null===(c=u._diagram.config.defaults)||void 0===c?void 0:c[r])||void 0===d?void 0:d.stroke)||"#2196F3",$move:!0}),u._diagram.selection.add({id:a})},this._setNearPoint=function(h){u._nearPoint&&h.side===u._nearPoint.side||(u._nearPoint=h,u._diagram.paint())},this._removeNearPoint=function(){u._nearPoint&&(u._nearPoint=null,u._diagram.paint())},this._controls=y,this._diagram=v,this._isOrgType=["org","mindmap"].includes(this._diagram.config.type)}return p.prototype.getItemId=function(){return this._nearShape?this._nearShape.id:""},p.prototype.getPoints=function(y,v){var u=this;if(this._nearShape&&this._nearShape.$item.canResize()){var h=this._isOrgType?10:8,c=this._diagram.config.scale;if(y&&"line"===y.$item.getBaseType()&&y.$move){var d=this._diagram.data.map(function(f){var _=f.$item.getBaseType(),b=!0;if(u._diagram.data.eachParent(f.id,function(N){!1===N?.open&&(b=!1)}),"shape"!==_||!f.$item.canResize()||!b)return null;var I=f.$item.getBox(),O="group"===_||"swimlane"===_;return(0,C.el)(".dhx_connect",{style:{width:f[O?"$width":"width"]*c,height:f[O?"$height":"height"]*c,position:"absolute",top:(I.top-v.top)*c,left:(I.left-v.left)*c,pointerEvents:"none",touchAction:"none",transform:"rotate(".concat(f.angle||0,"deg)")}},u._getConnectionPoints(m(f,h),c))});return(0,C.el)("div",d)}var a=this._nearShape.$item.getBaseType(),r=this._nearShape.$item.getBox(),i="group"===a||"swimlane"===a;return(0,C.el)(".dhx_connect",{style:{width:this._nearShape[i?"$width":"width"]*c,height:this._nearShape[i?"$height":"height"]*c,position:"absolute",top:(r.top-v.top)*c,left:(r.left-v.left)*c,pointerEvents:"none",touchAction:"none",transform:"rotate(".concat(this._nearShape.angle||0,"deg)")}},this._getConnectionPoints(m(this._nearShape,h),c))}},p.prototype._getConnectionPoints=function(y,v){var u=this;return y.map(function(h){return(0,C.el)(".dhx_connect_point",{style:{top:h.y*v-15,left:h.x*v-15},_key:(0,T.uid)(),class:"".concat((u._nearPoint&&u._nearPoint.side)==h.side&&h.id==u._nearPoint.id?"dhx_connect_nearest":""),_data:{resizer:u._controls,p:h},onpointerover:[u._setNearPoint,h],onpointerleave:[u._removeNearPoint],onpointerdown:[u.createConnector,h]},[(0,C.el)(".dhx_connect_grip",{_data:{resizer:u._controls,p:h}})])})},p.prototype.setNearShape=function(y){y!==this._nearShape&&(this._nearShape=y,this._diagram.paint())},p.prototype.toggleNearShape=function(y){this._nearShape=this._nearShape&&this._nearShape.id==y.id?null:y,this._diagram.paint()},p.prototype.removeNearShape=function(){this._nearShape=null,this._nearPoint=null},p.prototype.moveConnector=function(y,v,u,h){var c,d,a=this._controls.getPoint(y.clientX,y.clientY);if(this._connector){var r=this._diagram.data.getItem(this._connector.id);return r.points[r.points.length-1]={x:a.x,y:a.y},void this._diagram.paint()}var i=0,o=S([],v.points,!0),l=v.from&&v.to&&v.from===v.to;if(o[h.i])if(h.$slide)if(l)"horizontal"===h.$slide?(o[h.i].x+=u.x,l&&(o[h.i-1].x+=u.x)):(o[h.i].y+=u.y,l&&(o[h.i-1].y+=u.y)),o[h.i].custom=!0,o[h.i-1].custom=!0;else{var f=v.points[v.points.length-1],_=v.points[v.points.length-2];i="horizontal"===h.$slide?Math.abs(f.x-_.x-u.x):Math.abs(f.y-_.y-u.y)}else o[h.i].x+=u.x,o[h.i].y+=u.y,o[h.i].custom=!0,h.side&&(d=h.side);this._diagram.data.update(v.id,this._nearPoint&&d?((c={points:o,$move:!0})[d]=this._nearPoint.id,c[d+"Side"]=this._nearPoint.side,c.customGap=i,c):{points:o,$move:!0,customGap:i}),this._diagram.paint()},p.prototype.onUp=function(y){var v,u=this._diagram.selection.getItem();if(u&&"line"===u.$item.getBaseType()){delete u.$move;var h=this._controls.getPoint(y.clientX,y.clientY);this._findNearShape(h),this._nearShape&&this._connector&&(u&&this._connector.from&&this._nearShape.id&&this._nearPoint?this._diagram.data.update(u.id,((v={from:this._connector.from,to:this._nearShape.id,fromSide:this._connector.fromSide,toSide:this._nearPoint.side,points:null,strokeType:this._diagram.config.lineConfig.lineType})[this._diagram.config.lineConfig.lineDirection]=this._diagram.config.lineConfig.arrowsHidden?"":"filled",v)):u?.id&&this._diagram.data.remove(u.id)),!this._nearShape&&this._connector&&u?.id&&this._diagram.data.remove(u.id),this._connector=null,this._nearShape=null,this._nearPoint=null}},p.prototype._getDistanceBetweenPoints=function(y){var v,h=y.shape,c=y.point;switch(y.side){case"top":v={x:h.x+h.width/2,y:h.y};break;case"right":v={x:h.x+h.width,y:h.y+h.height/2};break;case"bottom":v={x:h.x+h.width/2,y:h.y+h.height};break;case"left":v={x:h.x,y:h.y+h.height/2};break;case"center":v={x:h.x+h.width/2,y:h.y+h.height/2}}return Math.sqrt(Math.pow(c.x-v.x,2)+Math.pow(c.y-v.y,2))},p.prototype._findNearShape=function(y){var v=this;if(this._nearPoint){this._nearShape=null;var u=20;this._diagram.data.forEach(function(h){if(!h.hidden&&"shape"===h.$item.getBaseType()){var c=v._getDistanceBetweenPoints({side:v._nearPoint.side,shape:h,point:y});(0,T.isDefined)(c)&&c<=u&&(v._nearShape=h,u=c)}})}},p}();function m(p,y){if(!p)return[];var v=p.$item.getBaseType(),u=p.$item.getBox(),h="group"===v||"swimlane"===v,c=p[h?"$width":"width"],d=p[h?"$height":"height"],a=u.left-y/2,r=u.top-y/2;return[{dx:a+c/2,dy:r+d/2,x:0+c/2,y:0+d/2,id:p.id,side:"center"},{x:0+c/2,y:0,dx:a+c/2,dy:r,id:p.id,side:"top"},{x:0+c,y:0+d/2,dx:a+c,dy:r+d/2,id:p.id,side:"right"},{x:0+c/2,y:0+d,dx:a+c/2,dy:r+d,id:p.id,side:"bottom"},{x:0,y:0+d/2,dx:a,dy:r+d/2,id:p.id,side:"left"}]}E.Connect=x,E.getConnectPoints=m},function(ne,E,D){"use strict";var S=this&&this.__assign||function(){return S=Object.assign||function(v){for(var u,h=1,c=arguments.length;h<c;h++)for(var d in u=arguments[h])Object.prototype.hasOwnProperty.call(u,d)&&(v[d]=u[d]);return v},S.apply(this,arguments)},T=this&&this.__spreadArray||function(v,u,h){if(h||2===arguments.length)for(var c,d=0,a=u.length;d<a;d++)!c&&d in u||(c||(c=Array.prototype.slice.call(u,0,d)),c[d]=u[d]);return v.concat(c||Array.prototype.slice.call(u))};Object.defineProperty(E,"__esModule",{value:!0}),E.getRectPoints=E.getConnectorPoints=E.Resize=void 0;var C=D(0),x=D(59),m=function(){function v(u,h){this._controls=u,this._diagram=h,this._isOrgType=["org","mindmap"].includes(this._diagram.config.type)}return v.prototype.getPoints=function(u,h){var c=this;if(u){var d="dhx_diagram_resizer_grip",a=u.$item.getBaseType(),r=u.$item.getBox(),i=this._isOrgType?10:8,o=this._diagram.config.scale,l=0;"line"===a&&(l=2,d+=" dhx_diagram_resizer_grip--line");var f=y(u,o).map(function(R){return R.$slide&&(d+=" dhx_slide dhx_slide--".concat(R.$slide)),(0,C.el)("div",{style:{cursor:R.cursor,position:"absolute",top:R.y-l-i/2,left:R.x-l-i/2,pointerEvents:"auto",touchAction:"auto",outline:"none"},tabindex:-1,class:d,_data:{resizer:c._controls,p:R}})}),_="group"===a||"swimlane"===a,b=u[_?"$width":"width"]*o,I=u[_?"$height":"height"]*o,O=(!u.angle||0===u.angle||360===u.angle)&&("shape"===a||_)||"line"===a,P=u?.$group;return(0,C.el)(".dhx_diagram_resizer",{style:{width:b,height:I,top:(r.top-h.top)*o,left:(r.left-h.left)*o,transform:"rotate(".concat(u.angle||0,"deg)")}},["shape"===a&&!this._isOrgType&&!P&&(0,C.el)("div.dhx_editor_icon.dhx_editor_icon-rotate",{style:{width:20,height:20,position:"absolute",top:I/2-10,left:b+10,zIndex:1e4,pointerEvents:"auto",touchAction:"auto"},_data:{resizer:this._controls,p:{rotate:!0}}},[(0,C.el)("i.dhx_editor_icon--no-touch.dxi.dxi-rotate-right")])].concat(O?f:null))}},v}();function p(v,u){var h=S({},v.points[0]);h.x*=u,h.y*=u;var c=[],d=v.points.map(function(a,r,i){if((a=S({},a)).x*=u,a.y*=u,a.cursor="pointer",a.i=r,0===r&&(a.side="from"),r===v.points.length-1&&(a.side="to"),"flex"!==v.connectType&&i[r+1]){var o=S({},i[r+1]);o.x*=u,o.y*=u;var l=i[r+2]&&{x:i[r+2].x,y:i[r+2].y},f=i[r-1]&&{x:i[r-1].x,y:i[r-1].y},_=f&&o&&l&&(f.x===a.x||f.y===a.y)&&(o.x===a.x||o.y===a.y)&&o.x!==f.x&&o.y!==f.y&&(l.x===o.x||l.y===o.y)&&l.x!==a.x&&l.y!==a.y;if((0,x.getLength)(a,o)>20){var b=(a.x+o.x)/2,I=(a.y+o.y)/2;_&&c.push({x:b-h.x+1,y:I-h.y+1,dx:b/u,dy:I/u,$slide:a.x===o.x?"horizontal":"vertical",i:r+1})}}return a.dx=a.x,a.dy=a.y,a.x=a.x-h.x+2,a.y=a.y-h.y+2,a});return T(T([],d,!0),c,!0)}function y(v,u){var h=v.$item.getBaseType();if("line"===h)return p(v,u);var c="group"===h||"swimlane"===h,d=v[c?"$width":"width"]*u,a=v[c?"$height":"height"]*u;return[{cursor:"nw-resize",x:0,y:0,dx:1,dy:1},{cursor:"n-resize",x:0+d/2,y:0,dx:0,dy:1},{cursor:"ne-resize",x:0+d,y:0,dx:-1,dy:1},{cursor:"e-resize",x:0+d,y:0+a/2,dx:-1,dy:0},{cursor:"se-resize",x:0+d,y:0+a,dx:-1,dy:-1},{cursor:"s-resize",x:0+d/2,y:0+a,dx:0,dy:-1},{cursor:"sw-resize",x:0,y:0+a,dx:1,dy:-1},{cursor:"w-resize",x:0,y:0+a/2,dx:1,dy:0}]}E.Resize=m,E.getConnectorPoints=p,E.getRectPoints=y},function(ne,E,D){"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.SelectionBox=void 0;var S=D(0),T=function(){function C(x,m){this.start=x,this._diagram=m,this._isOrgType=["org","mindmap"].includes(this._diagram.config.type)}return C.prototype.render=function(){var x=Math.abs(this.start.$rx-this.end.$rx),m=Math.abs(this.start.$ry-this.end.$ry),p=this.start.$rx<this.end.$rx?this.start.$rx:this.end.$rx,y=this.start.$ry<this.end.$ry?this.start.$ry:this.end.$ry;return(0,S.el)(".dhx_selection_box",{"data-dhx-id":"dhx_selection_box",style:{left:p,top:y,width:this.start.$rx<this.end.$rx?x:this.start.$rx-p,height:this.start.$ry<this.end.$ry?m:this.start.$ry-y}})},C.prototype.isValid=function(){return this.start&&this.end&&Math.abs(this.start.$rx-this.end.$rx)>10&&Math.abs(this.start.$ry-this.end.$ry)>10},C.prototype.addSelected=function(x){var m=this;void 0===x&&(x={start:this.start,end:this.end});var p=x.start.x<x.end.x?x.start.x:x.end.x,y=x.end.x>x.start.x?x.end.x:x.start.x,v=x.start.y<x.end.y?x.start.y:x.end.y,u=x.end.y>x.start.y?x.end.y:x.start.y,h=[],c=[];this._diagram.data.mapVisible(function(d){if(!m._isOrgType||"line"!==d.$item.getBaseType()){var a=d.$item.getBox();a.left>=p&&a.right<=y&&a.top>=v&&a.bottom<=u&&(h.push(d),c.push(d.id))}}),h.forEach(function(d,a){m._diagram.selection.add({id:d.id,join:!!a,batch:c})})},C}();E.SelectionBox=T},function(ne,E,D){"use strict";var S=this&&this.__assign||function(){return S=Object.assign||function(m){for(var p,y=1,v=arguments.length;y<v;y++)for(var u in p=arguments[y])Object.prototype.hasOwnProperty.call(p,u)&&(m[u]=p[u]);return m},S.apply(this,arguments)},T=this&&this.__spreadArray||function(m,p,y){if(y||2===arguments.length)for(var v,u=0,h=p.length;u<h;u++)!v&&u in p||(v||(v=Array.prototype.slice.call(p,0,u)),v[u]=p[u]);return m.concat(v||Array.prototype.slice.call(p))};Object.defineProperty(E,"__esModule",{value:!0}),E.CopyManager=void 0;var C=D(1),x=function(){function m(p){this._copiedStyles={},this._copiedItems=[],this._props=["type","extraLinesStroke","fill","fontColor","fontSize","fontStyle","fontWeight","lineHeight","stroke","strokeDash","strokeType","strokeWidth","textAlign","textVerticalAlign","headerColor","fill","overFill","partiallyFill","borderStyle","iconColor"],this._editor=p,this._data=p.diagram.data}return m.prototype.copy=function(p){var y=this;"mindmap"!==this._editor.config.type&&"org"!==this._editor.config.type&&(p?.length||(p=this._editor.diagram.selection.getIds()),this._copiedItems=[],p.forEach(function(v){var u=y._data.getItem(v),h=u.$item.getBaseType();if(u.$group||y._copiedItems.push(u),"group"===h||"swimlane"===h){var c={};y._data.eachChild(v,function(d){c[d.id]=!0}),y._data.forEach(function(d){var a;"line"===(null===(a=d?.$item)||void 0===a?void 0:a.getBaseType())&&c[d?.from]&&c[d?.to]&&y._copiedItems.push(d)})}}))},m.prototype.paste=function(){var p=this;if(this._copiedItems.length&&"mindmap"!==this._editor.config.type&&"org"!==this._editor.config.type){this._editor.diagram.selection.remove();var y=[],v={},u={},h=function(c,d){void 0===d&&(d=0),c.$group?d+=c.$gx:d=c.x+c.width+40+d;var a,r=[];if(a="swimlane"===c.$item.getBaseType()?p._data.add(S(S({},c),{groupChildren:r,id:(0,C.uid)(),x:d,layout:[]})):p._data.add(S(S({},c),{groupChildren:r,id:(0,C.uid)(),x:d})),p._data.eachChild(c.id,function(b){var I;"group"===b.$item.getBaseType()?(I=h(b,d),u[b.id]=I):I=p._data.add(S(S({},b),{$group:null,id:(0,C.uid)(),x:d+b.$gx})),r.push(I),v[b.id]=I},!1),"swimlane"===c.$item.getBaseType()){for(var i=JSON.parse(JSON.stringify(T([],c.layout,!0))),o=0;o<i.length;o++)for(var l=i[o],f=0;f<l.length;f++)i[o][f]=u[l[f]];p._data.update(a,{groupChildren:r,layout:i})}else p._data.update(a,{groupChildren:r});return v[c.id]=a,a};this._copiedItems.forEach(function(c,d){var a;switch(c.$item.getBaseType()){case"shape":a=p._data.add(S(S({},c),{id:(0,C.uid)(),x:c.x+200})),v[c.id]=a;break;case"group":case"swimlane":a=h(c)}y.push(a)}),this._copiedItems.forEach(function(c){var d;if(v.hasOwnProperty(c.from)&&v.hasOwnProperty(c.to)){var a=S(S({},c),{id:(0,C.uid)(),title:S({},c.title),from:v[c.from],to:v[c.to]});d=p._data.add(a),p._data.eachChild(c.id,function(r){y.push(p._data.add(S(S({},r),{parent:d,id:(0,C.uid)()})))}),y.push(d)}}),y.forEach(function(c,d){p._editor.diagram.selection.add({id:c,join:!!d,batch:y})})}},m.prototype.copyStyles=function(p){(0,C.isDefined)(p)||(p=this._editor.diagram.selection.getIds()[0]);var y=this._editor.diagram.data.getItem(p);if(y){for(var v in this._copiedStyles={},y)this._props.includes(v)&&(this._copiedStyles[v]=y[v]);if(y.header)for(var v in this._copiedStyles.header={},y.header)this._props.includes(v)&&(this._copiedStyles.header[v]=y.header[v]);if(y.style)for(var v in this._copiedStyles.style={},y.style)this._props.includes(v)&&(this._copiedStyles.style[v]=y.style[v])}},m.prototype.pasteStyles=function(p){var y=this;p?.length||(p=this._editor.diagram.selection.getIds());var v=this._copiedStyles.type;p.forEach(function(u){var h=y._data.getItem(u),c=h.type;if(c===v&&"line"===v||"line"!==c&&"line"!==v){var d=S({},y._copiedStyles);delete d.type,"$group"===h.type||"$swimlane"===h.type?(h.header||delete d.header,h.style||delete d.style,(0,C.extend)(h,d,!0),y._data.update(h.id,S({},h))):y._data.update(h.id,S({},d))}})},m}();E.CopyManager=x},function(ne,E,D){"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.getDefaultShapeToolbar=E.getMindmapShapeToolbar=E.getOrgShapeToolbar=void 0,E.getOrgShapeToolbar=function(S){return[{id:"add",content:"<i class='dxi dxi-plus-box'>",check:function(T){return!Array.isArray(T)&&!T.assistant&&!T.partner},tooltip:S.addShape},{id:"menu",content:"<i class='dxi dxi-dots-vertical'>",check:function(T){return!Array.isArray(T)&&!T.assistant&&!T.partner},tooltip:S.menu},{id:"remove",content:"<i class='dxi dxi-delete-outline'>",check:function(T){return T.assistant||T.partner||Array.isArray(T)},css:function(){return"dhx_diagram_toolbar__icon--remove"},tooltip:S.remove}]},E.getMindmapShapeToolbar=function(S){return[{id:"add",content:"<i class='dxi dxi-plus-box'>",check:function(T){return!Array.isArray(T)&&0!==T.$level},tooltip:S.addShape},{id:"addLeft",content:"<i class='dxi dxi-plus-box'>",check:function(T){return!Array.isArray(T)&&0===T.$level},tooltip:S.addLeftShape},{id:"addRight",content:"<i class='dxi dxi-plus-box'>",check:function(T){return!Array.isArray(T)&&0===T.$level},tooltip:S.addRightShape},{id:"remove",content:"<i class='dxi dxi-delete-outline'>",check:function(T){return!Array.isArray(T)&&!!T.$parent||Array.isArray(T)},css:function(){return"dhx_diagram_toolbar__icon--remove"},tooltip:S.remove}]},E.getDefaultShapeToolbar=function(S,T){return[{id:"lineTitleAutoPositionEnable",content:"<i class='dxi dxi-format-text-rotation-angle-up'>",check:function(C){var x;return"lineTitle"===(null===(x=C.$item)||void 0===x?void 0:x.getBaseType())&&C.autoPosition},tooltip:S.lineTitleAutoPositionEnable},{id:"lineTitleAutoPositionDisable",content:"<i class='dxi dxi-format-text-rotation-none'>",check:function(C){var x;return"lineTitle"===(null===(x=C.$item)||void 0===x?void 0:x.getBaseType())&&!C.autoPosition},tooltip:S.lineTitleAutoPositionDisable},{id:"addLineTitle",content:"<i class='dxi dxi-format-annotation-plus'>",check:function(C){var x;return"line"===(null===(x=C.$item)||void 0===x?void 0:x.getBaseType())&&!C.$selectedPoint},tooltip:S.addLineTitle},{id:"addColumnLast",content:"<i class='dxi dxi-table-column-plus-after'>",check:function(C){var x;return"swimlane"===(null===(x=C.$item)||void 0===x?void 0:x.getBaseType())},tooltip:S.addColumnLast},{id:"addRowLast",content:"<i class='dxi dxi-table-row-plus-after'>",check:function(C){var x;return"swimlane"===(null===(x=C.$item)||void 0===x?void 0:x.getBaseType())},tooltip:S.addRowLast},{id:"copy",content:"<i class='dxi dxi-copy'>",check:function(C){var x,m;return"line"!==(null===(x=C.$item)||void 0===x?void 0:x.getBaseType())&&"lineTitle"!==(null===(m=C.$item)||void 0===m?void 0:m.getBaseType())&&!C.$group},tooltip:S.copy},{id:"connect",content:"<i class='dxi dxi-line-connect'>",check:function(C){var x;return T.connectionPoints&&"shape"===(null===(x=C.$item)||void 0===x?void 0:x.getBaseType())},css:function(C){return C.$connectMode?" dhx_diagram_toolbar__icon--active":""},tooltip:S.connect},{id:"remove",content:"<i class='dxi dxi-delete-outline'>",css:function(){return"dhx_diagram_toolbar__icon--remove"},check:function(C){return!C.$selectedPoint},tooltip:S.remove},{id:"removePoint",content:"<i class='dxi dxi-delete-outline'>",check:function(C){var x;return"line"===(null===(x=C.$item)||void 0===x?void 0:x.getBaseType())&&C.$selectedPoint},tooltip:S.removePoint},{id:"alignHorizontalLeft",content:"<i class='dxi dxi-align-horizontal-left'>",check:function(C){return Array.isArray(C)&&C.length>1},tooltip:S.alignHorizontalLeft},{id:"alignHorizontalCenter",content:"<i class='dxi dxi-align-horizontal-center'>",check:function(C){return Array.isArray(C)&&C.length>1},tooltip:S.alignHorizontalCenter},{id:"alignHorizontalRight",content:"<i class='dxi dxi-align-horizontal-right'>",check:function(C){return Array.isArray(C)&&C.length>1},tooltip:S.alignHorizontalRight},{id:"alignHorizontalDistribute",content:"<i class='dxi dxi-align-horizontal-distribute'>",check:function(C){return Array.isArray(C)&&C.length>1},tooltip:S.alignHorizontalDistribution},{id:"alignVerticalDistribute",content:"<i class='dxi dxi-align-vertical-distribute'>",check:function(C){return Array.isArray(C)&&C.length>1},tooltip:S.alignVerticalDistribution},{id:"alignVerticalTop",content:"<i class='dxi dxi-align-vertical-top'>",check:function(C){return Array.isArray(C)&&C.length>1},tooltip:S.alignVerticalTop},{id:"alignVerticalMiddle",content:"<i class='dxi dxi-align-vertical-center'>",check:function(C){return Array.isArray(C)&&C.length>1},tooltip:S.alignVerticalMiddle},{id:"alignVerticalBottom",content:"<i class='dxi dxi-align-vertical-bottom'>",check:function(C){return Array.isArray(C)&&C.length>1},tooltip:S.alignVerticalBottom}]}},function(ne,E,D){"use strict";var S,T=this&&this.__extends||(S=function(c,d){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,r){a.__proto__=r}||function(a,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(a[i]=r[i])})(c,d)},function(c,d){if("function"!=typeof d&&null!==d)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");function a(){this.constructor=c}S(c,d),c.prototype=null===d?Object.create(d):(a.prototype=d.prototype,new a)}),C=this&&this.__assign||function(){return C=Object.assign||function(c){for(var d,a=1,r=arguments.length;a<r;a++)for(var i in d=arguments[a])Object.prototype.hasOwnProperty.call(d,i)&&(c[i]=d[i]);return c},C.apply(this,arguments)},x=this&&this.__rest||function(c,d){var a={};for(var r in c)Object.prototype.hasOwnProperty.call(c,r)&&d.indexOf(r)<0&&(a[r]=c[r]);if(null!=c&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(c);i<r.length;i++)d.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(c,r[i])&&(a[r[i]]=c[r[i]])}return a};Object.defineProperty(E,"__esModule",{value:!0}),E.Toolbar=void 0;var m=D(102),p=D(30),y=D(1),v=D(45),u=D(101),h=function(c){function d(a,r){var i=c.call(this,null,{css:a.css,navigationType:a.navigationType||"click"})||this;return i._editor=r,i._meta=(0,u.meta)(v.i18n.diagram,i._editor.config.type),i.parse(a.items),[p.NavigationBarEvents.click,p.NavigationBarEvents.inputChange].forEach(function(o){i.events.on(o,function(l,f){var _=i.data.getItem(l);"function"==typeof _.handler&&_.handler(i._editor,f),"function"==typeof _.checkIcon&&i.checkIcons()})}),i.events.on(p.NavigationBarEvents.openMenu,function(){i.checkIcons()}),i}return T(d,c),d.prototype.parse=function(a){this.data.parse(this.getPreparedItems(a))},d.prototype.getPreparedItems=function(a){var r=this;return a.map(function(i){if("string"==typeof i&&r._meta[i])return(b=(0,y.getCloneObject)(r._meta[i])).items&&(b.items=r.getPreparedItems(b.items)),"function"==typeof b.checkIcon&&(b.icon=b.checkIcon(r._editor)||""),b;if("object"==typeof i){if(r._meta[i.type]){var l=i.items,f=i.type,_=x(i,["items","type"]);return(b=(0,y.getCloneObject)(r._meta[f])).items&&(b.items=r.getPreparedItems(l||b.items)),"function"==typeof b.checkIcon&&(b.icon=b.checkIcon(r._editor)||""),C(C({},b),_)}var b;return i.items?((b=(0,y.getCloneObject)(i)).items&&(b.items=r.getPreparedItems(b.items)),"function"==typeof b.checkIcon&&(b.icon=b.checkIcon(r._editor)||""),b):i}return{}})},d.prototype.checkIcons=function(){var a=this;this.data.forEach(function(r){"function"==typeof r.checkIcon&&a.data.update(r.id,{icon:r.checkIcon(a._editor)})})},d}(m.ProToolbar);E.Toolbar=h},function(ne,E,D){"use strict";var S,T=this&&this.__extends||(S=function(h,c){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,a){d.__proto__=a}||function(d,a){for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(d[r]=a[r])})(h,c)},function(h,c){if("function"!=typeof c&&null!==c)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function d(){this.constructor=h}S(h,c),h.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}),C=this&&this.__assign||function(){return C=Object.assign||function(h){for(var c,d=1,a=arguments.length;d<a;d++)for(var r in c=arguments[d])Object.prototype.hasOwnProperty.call(c,r)&&(h[r]=c[r]);return h},C.apply(this,arguments)};Object.defineProperty(E,"__esModule",{value:!0}),E.ProToolbar=void 0;var x=D(103),m=D(34),p=D(0),y=D(2),v=D(21),u=function(h){function c(d,a){var r=h.call(this,d,a)||this;return r.scrollView=new m.ScrollView(function(){return r.getRootView()}),r}return T(c,h),c.prototype._draw=function(d){var o,a=this,r=this.data.getLength()?this.data.reduce(function(o,l){switch(l.type){case"title":return o||20;case"button":return"small"===l.size&&(!o||o<=28)?28:o||32;default:return 32}},0)+24:null,i=[(0,p.el)("ul.dhx_navbar.dhx_navbar--horizontal",C(C({"data-dhx-widget-id":this._uid,tabindex:0},(o=d,{role:"toolbar","aria-label":o||""})),{onclick:this._handlers.onclick,onmousedown:this._handlers.onmousedown,oninput:this._handlers.input,onmouseover:this._handlers.tooltip,onkeydown:this._handlers.onkeydown,onmousemove:this._handlers.onmousemove,onmouseleave:this._handlers.onmouseleave,_hooks:{didInsert:function(o){o.el.addEventListener("keyup",function(l){if(9===l.which){var f=(0,y.locateNode)(document.activeElement);if(f){var _=f.getAttribute("data-dhx-id"),b=a.data.getItem(_);b?.tooltip&&(0,v.tooltip)(b.tooltip,{node:f,position:v.Position.bottom,force:!0})}}},!0)}}}),this.data.map(function(o){return a._factory(o)},this.data.getRoot(),!1))];return(0,p.el)("nav.dhx_widget.dhx_toolbar",{style:{height:r},class:this.config.css?this.config.css:""},this.scrollView&&this.scrollView.config.enable?[].concat(this.scrollView.render(i)):i)},c}(x.Toolbar);E.ProToolbar=u},function(ne,E,D){"use strict";var S,T=this&&this.__extends||(S=function(a,r){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(i[l]=o[l])})(a,r)},function(a,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function i(){this.constructor=a}S(a,r),a.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}),C=this&&this.__assign||function(){return C=Object.assign||function(a){for(var r,i=1,o=arguments.length;i<o;i++)for(var l in r=arguments[i])Object.prototype.hasOwnProperty.call(r,l)&&(a[l]=r[l]);return a},C.apply(this,arguments)};Object.defineProperty(E,"__esModule",{value:!0}),E.Shapebar=void 0;var x=D(1),m=D(0),p=D(2),y=D(5),v=D(29),u=D(95),h=D(96),c=D(94),d=function(a){function r(i,o){var l=a.call(this,null,i)||this;l._dropdowns=[],l._pull={},l._handleMove=function(_){(!(Math.abs(_.pageX-l._pressedShapeInfo.$x+_.pageY-l._pressedShapeInfo.$y)<10)||l._shadow)&&l._pressedShapeInfo&&(l._shadow||(l._shadow=(0,m.create)({render:function(){return l._getShadow()}},l),l._shadow.mount(l._editor.view.getRootView().node.el)),l._pressedShapeInfo.$x=_.clientX,l._pressedShapeInfo.$y=_.clientY,l._shadow.redraw())},l._handleUp=function(_){document.removeEventListener("pointermove",l._handleMove),document.removeEventListener("pointerup",l._handleUp),l.events.fire("shapesUp",[C({},l._pressedShapeInfo)]),l._pressedShapeInfo=null,l._shadow&&(l._shadow.unmount(),l._shadow=null)},l._toggle=function(_){l._dropdowns[_]=!l._dropdowns[_]},l.events=o.events,l._shapes=o.diagram.flowShapes||{},l._defaults=o.diagram.config.defaults||{},l._data=o.diagram.data||[],l._editor=o,l._htmlEvents={onpointerdown:(0,p.eventHandler)(function(_){return(0,p.locate)(_)},{dhx_editor_shapebar__preview:function(_,b){1===_.which&&(l._pressedShapeInfo=C(C({},l._pull[b]),{$x:_.x,$y:_.y}),document.addEventListener("pointermove",l._handleMove),document.addEventListener("pointerup",l._handleUp))}})};var f=(0,m.create)({render:function(_){return l._render(_)}},l);return l.mount(null,f),l}return T(r,a),r.prototype._getTextIcon=function(){return(0,m.el)("i.dhx_editor_icon-text.dxi.dxi-format-textbox")},r.prototype._wrapDropdown=function(i,o,l){void 0===l&&(l=!0);var f=i,_=this._dropdowns[i]=this._dropdowns[i]?this._dropdowns[i]:l;return(0,m.el)(".dhx_editor_shapebar__section",[(0,m.el)("input",{class:"dhx_editor_shapebar__checkbox",id:f,name:f,type:"checkbox",checked:_,onchange:[this._toggle,i]}),(0,m.el)("label",{class:"dhx_editor_shapebar__label",for:f},i),o])},r.prototype._getShadow=function(){if(!this._pressedShapeInfo)return this._shadow;var i,o=this._pressedShapeInfo,l=v.shapes[o.type];switch(o.type){case"$swimlane":i=this.getSwimlaneNode(C(C({},o),{width:2*o.width,height:2*o.height}),{data:this._data});break;case"$group":i=this.getGroupNode(o,{data:this._data});break;case"text":i=this._getTextIcon();break;default:i=l?new l(o,{defaults:this._defaults[o.type]||{},shapes:this._shapes}).render():new v.CustomShape(o,{defaults:this._defaults[o.type]||{},shapes:this._shapes}).render()}return(0,m.el)(".dhx_editor_shapebar__shadow",{_key:o.$key,style:{top:o.$y,left:o.$x}},[].concat(i))},r.prototype._getWrapped=function(i,o,l){var f,_,b,I,O,P,R,N,V,U,B=v.shapes[i],F=(null===(f=this._defaults[i])||void 0===f?void 0:f.preview)||{};this._defaults[i]&&"string"==typeof F?U=F:(F.img&&(U=F.img),F.gap&&(V=F.gap),F.scale&&(N=F.scale),F.width&&(P=F.width),F.height&&(R=F.height));var W,M,$=N||(null===(_=this.config.preview)||void 0===_?void 0:_.scale),Y=V||(null===(b=this.config.preview)||void 0===b?void 0:b.gap);if(U)return(0,m.el)(".dhx_editor_shapebar__preview",{_key:o.$key,"data-dhx-id":o.$key,style:{width:P||"calc(100%/3)",height:R||"100%",margin:Y}},[(0,m.el)("img",{style:{maxWidth:"100%",maxHeight:"100%"},src:U||"",alt:i}),(0,m.el)("div.dhx_editor_shapebar__preview-img-overlay")]);var ee,J=o.width,Z=o.height;switch(Object.keys(v.flowShapes).includes(i)?(W=(null===(I=this._defaults[i])||void 0===I?void 0:I.width)*$||140*$,M=(null===(O=this._defaults[i])||void 0===O?void 0:O.height)*$||90*$):(W=J*$,M=Z*$),i){case"$group":ee=this.getGroupNode(C(C({},o),{type:i,width:J,height:Z}),{data:this._data});break;case"$swimlane":ee=this.getSwimlaneNode(C(C({},o),{type:i,width:J,height:Z}),{data:this._data});break;default:ee=B?new B(o,{defaults:this._defaults[i]||{},shapes:this._shapes}).render():new v.CustomShape(o,{defaults:this._defaults[i]||{},shapes:this._shapes}).render()}return(0,m.el)(".dhx_editor_shapebar__preview",{_key:o.$key,"data-dhx-id":o.$key,style:{width:W,height:M,margin:Y}},[l||(0,m.el)("div",{style:{transform:"scale(".concat($,")"),transformOrigin:(0,p.isIE)()?"0":"50%"}},[ee])])},r.prototype.getGroupNode=function(i,o){return new u.Group(i,o).render()},r.prototype.getSwimlaneNode=function(i,o){var l={},f=i.layout;if(i.layout.length){var _=new Set(f.flat(1/0));i.groupChildren=Array.from(_);for(var b=0;b<f.length;b++)for(var I=f[b],O=0;O<I.length;O++){var P=f[b][O];l[P]||(l[P]={type:"$sgroup",id:P,groupChildren:[]},l[P].$item=new h.GroupSwimlane(l[P],o))}}return new c.Swimlane(i,o).render(Object.values(l))},r.prototype._shapeInit=function(i){var o,l=["circle","junction","or"].includes(i.type),f=this._defaults[i.type],_=i.text||f?.text||i.type[0].toUpperCase()+i.type.slice(1);switch(i.width=i.width||f?.width||(l?90:140),i.height=i.height||f?.height||90,i.fontColor=i.fontColor||f?.fontColor||"var(--dhx-shapebar-item-font-color)",i.type){case"text":i.text=_,o=this._getTextIcon();break;case"card":case"img-card":i.text=i.text||f?.text||v.locale.text,i.title=i.title||f?.text||v.locale.title;break;case"topic":return i.text=i.text||f?.text||v.locale.text,i.height=i.height||f?.height||30,this._getWrapped(i.type,i);default:i.fill=i.fill||f?.fill||"var(--dhx-shapebar-item-background)",i.stroke=i.stroke||f?.stroke||"var(--dhx-shapebar-item-border-color)",i.text=_}return this._getWrapped(i.type,i,o)},r.prototype._barCreator=function(){var i=this,o=[],l=0,f={increaseValue:function(){return++l},getValue:function(){return l}};if(this.config.sections){var _=function(N){var V=[];b.config.sections[N].forEach(function(U){var B=["org","group","swimlane","flowShapes"].find(function(F){return!0===U[F]});B&&!U.type?V.push(i._getShapeSection(B,f)):(i._addToPull(f,U),V.push(i._shapeInit(i._pull[l])))}),o.push(b._wrapDropdown(N,(0,m.el)(".dhx_editor_shapebar__area",V)))},b=this;for(var I in this.config.sections)_(I)}else{var O=Object.keys(this._defaults).map(function(N){return i._addToPull(f,N),i._shapeInit(i._pull[l])}),P=this._getShapeSection("group",f),R=this._getShapeSection("swimlane",f);o.push(this._wrapDropdown(v.locale.shapebar.shapeSections,(0,m.el)(".dhx_editor_shapebar__area",O)),this._wrapDropdown(v.locale.shapebar.groupSections,(0,m.el)(".dhx_editor_shapebar__area",P)),this._wrapDropdown(v.locale.shapebar.swimlaneSections,(0,m.el)(".dhx_editor_shapebar__area",R)))}return o},r.prototype._getShapeSection=function(i,o){var l=this,f="var(--dhx-shapebar-item-background)",_="var(--dhx-shapebar-item-font-color)",b="var(--dhx-shapebar-item-border-color)";switch(i){case"group":return[{type:"$group",header:{text:v.locale.shapebar.group,closable:!0,fill:f,fontColor:_},style:{stroke:b},height:300,width:480}].map(function(I){return l._addToPull(o,I),l._shapeInit(l._pull[o.getValue()])});case"swimlane":return[{type:"$swimlane",height:340,width:480,header:{text:v.locale.shapebar.swimlaneRows,closable:!0,fill:f,fontColor:_},style:{stroke:b},layout:[[(0,x.uid)()],[(0,x.uid)()],[(0,x.uid)()]],subHeaderRows:{enable:!0,fill:f,fontColor:_},subHeaderCols:{enable:!0,fill:f,fontColor:_}},{type:"$swimlane",height:340,width:480,header:{text:v.locale.shapebar.swimlaneCols,closable:!0,fill:f,fontColor:_},style:{stroke:b},layout:[[(0,x.uid)(),(0,x.uid)(),(0,x.uid)()]],subHeaderRows:{enable:!0,fill:f,fontColor:_},subHeaderCols:{enable:!0,fill:f,fontColor:_}},{type:"$swimlane",height:340,width:480,header:{text:v.locale.shapebar.swimlaneMix,closable:!0,fill:f,fontColor:_},style:{stroke:b},layout:[[(0,x.uid)(),(0,x.uid)(),(0,x.uid)()],[(0,x.uid)(),(0,x.uid)(),(0,x.uid)()],[(0,x.uid)(),(0,x.uid)(),(0,x.uid)()]],subHeaderRows:{enable:!0,fill:f,fontColor:_},subHeaderCols:{enable:!0,fill:f,fontColor:_}}].map(function(I){return l._addToPull(o,I),l._shapeInit(l._pull[o.getValue()])});case"org":return["card","img-card"].map(function(I){return l._addToPull(o,I),l._shapeInit(l._pull[o.getValue()])});default:return Object.keys(v.flowShapes).map(function(I){return l._addToPull(o,I),l._shapeInit(l._pull[o.getValue()])})}},r.prototype._addToPull=function(i,o){i.increaseValue();var l=i.getValue();this._pull[l]={$key:l,type:o},(0,x.isObject)(o)&&(this._pull[l]=C(C({},this._pull[l]),o))},r.prototype._render=function(i){return(0,m.el)(".dhx_editor_shapebar__wrapper",{onpointerdown:this._htmlEvents.onpointerdown},[].concat(this._barCreator()))},r}(y.View);E.Shapebar=d},function(ne,E,D){"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.base=void 0,E.base={shapebar:{width:300,scale:.5,gap:"6px 8px"},editbar:{width:300}}},function(ne,E,D){"use strict";var S=this&&this.__assign||function(){return S=Object.assign||function(c){for(var d,a=1,r=arguments.length;a<r;a++)for(var i in d=arguments[a])Object.prototype.hasOwnProperty.call(d,i)&&(c[i]=d[i]);return c},S.apply(this,arguments)};Object.defineProperty(E,"__esModule",{value:!0}),E.Editbar=void 0;var T=D(217),C=D(45),x=D(1),m=D(8),p=D(27),y=D(43),v=D(247),u=D(275),h=function(){function c(d,a,r){var i=this;if(this._activeControls={},this._cell=d,this._editor=r,this._diagram=this._editor.diagram,this._properties=S(S({},(0,u.default)(C.i18n.diagram)[this._editor.config.type]),a.properties),this._controls=(0,v.default)(C.i18n.diagram),a.controls)for(var o=0,l=Object.entries(a.controls);o<l.length;o++){var f=l[o],_=f[0],b=f[1];this._controls[_]=S(S({},this._controls[b.type||_]),b)}this._diagram.data.getLength()||this.setControls({type:"$default"}),this._diagram.events.on(p.SelectionEvents.afterSelect,function(I){var O=I.id,P=I.batch;P.length>1?O===P[P.length-1]&&i.setControls({type:"$default"}):i._diagram.selection.getIds().length>1?i.setControls({type:"$default"}):i.setControls({id:O})}),this._diagram.events.on(p.SelectionEvents.afterUnSelect,function(I){var P=I.batch;P.length>1?I.id===P[P.length-1]&&i.setControls({type:"$default"}):i.setControls({type:"$default"})}),this._diagram.events.on(p.DataEvents.change,function(I,O){var P=i._diagram.selection.getItem();({add:!0,update:!0})[O]&&P?.id===I&&Object.keys(i._activeControls).forEach(function(R){i.useSetValue({id:R,item:P})})}),[p.DataEvents.load,p.DataEvents.removeAll].forEach(function(I){i._diagram.events.on(I,function(){return i.setControls({type:"$default"})})})}return c.prototype.isFocused=function(){var d,a;return null===(a=null===(d=this._cell.getCellView())||void 0===d?void 0:d.el)||void 0===a?void 0:a.contains(document.activeElement)},c.prototype.setControls=function(d){var a=d.type,r=d.id;this._activeControls={};var i=this._diagram.data.getItem(r);r&&(a=i.type),this.setForm(this.getFormLayout(this.getTypeProperties(a,i)),i),this._cell.attach(this._form)},c.prototype.getFormLayout=function(d,a){var r=this;return d.map(function(i){return r.getControlLayout(r.getControlProperties(S(S({},i),{$parent:a})))})},c.prototype.getControlLayout=function(d){var a=this._controls[d.type];a||d.rows||d.cols||(0,m.dhxError)("".concat(d.type," control does not exist. See doc: https://docs.dhtmlx.com/diagram/"));for(var r=0,i=Object.entries(d);r<i.length;r++){var o=i[r],l=o[0];"rows"!==l&&"cols"!==l||(d[l]=this.getFormLayout(o[1],d.id||d.$parent))}return"function"==typeof a?.$layout&&a.$layout(d)||d},c.prototype.getControlProperties=function(d){var a,r,i=this._controls[d.type];if(i){var o=d.name||d.id||(0,x.uid)(),l=null===(r=null===(a=this._activeControls[d.$parent])||void 0===a?void 0:a.$properties)||void 0===r?void 0:r[d.key],f=this._activeControls[o]=S(S(S({id:o},i),d),l);for(var _ in f)_.startsWith("$")||(d[_]=f[_])}return d},c.prototype.getTypeProperties=function(d,a){var r=a?.$item.getBaseType(),i=this._properties[d]||this._properties["$".concat(r)];return"function"==typeof i?i({item:a,editor:this._editor}):i},c.prototype.setForm=function(d,a){var r=this;void 0===d&&(d=[]),this._form&&this._form.destructor(),this._form=new T.ProForm(null,{padding:"16px 16px 0 16px",rows:d}),Object.entries(this._activeControls).forEach(function(i){var o,l=i[0],f=i[1];"function"==typeof f.$setValue&&r.useSetValue({id:l,item:a});var _=f.$on&&Object.entries(f.$on);_&&_.forEach(function(b){var I=b[0],O=b[1],P=r._form.getItem(l);P?.events.on(I,function(R){if("function"==typeof O)return O({control:P,editor:r._editor,id:a?.id},R)})}),null===(o=r._form.getItem(l))||void 0===o||o.events.on(T.ItemEvent.input,function(b){r.useHandler({id:l,value:b,item:a})})}),this._form.events.on(T.FormEvents.change,function(i,o){r.useHandler({id:i,value:o,item:a})})},c.prototype.useHandler=function(d){var a=d.id,r=d.value,i=d.item,o=this._activeControls[a];if(o&&"function"==typeof o.$handler){if(r===(0,y.getValueFromObjectByKeys)(i,o.key))return;o.$handler({id:i?.id,key:o.key,editor:this._editor,control:this._form.getItem(a),value:r}),this._editor.paint()}},c.prototype.useSetValue=function(d){var i=this._activeControls[d.id];if(i&&"function"==typeof i.$setValue){var o=(0,y.getValueFromObjectByKeys)(d.item,i.key),l=this._form.getItem(i.id);if(l.getValue()===o)return;i.$setValue({control:l,value:o,editor:this._editor})}},c}();E.Editbar=h},function(ne,E,D){"use strict";var S=this&&this.__createBinding||(Object.create?function(C,x,m,p){void 0===p&&(p=m);var y=Object.getOwnPropertyDescriptor(x,m);y&&!("get"in y?!x.__esModule:y.writable||y.configurable)||(y={enumerable:!0,get:function(){return x[m]}}),Object.defineProperty(C,p,y)}:function(C,x,m,p){void 0===p&&(p=m),C[p]=x[m]}),T=this&&this.__exportStar||function(C,x){for(var m in C)"default"===m||Object.prototype.hasOwnProperty.call(x,m)||S(x,C,m)};Object.defineProperty(E,"__esModule",{value:!0}),T(D(104),E),T(D(245),E),T(D(4),E)},function(ne,E,D){"use strict";var S,T=this&&this.__extends||(S=function(i,o){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var _ in f)Object.prototype.hasOwnProperty.call(f,_)&&(l[_]=f[_])})(i,o)},function(i,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function l(){this.constructor=i}S(i,o),i.prototype=null===o?Object.create(o):(l.prototype=o.prototype,new l)}),C=this&&this.__spreadArray||function(i,o,l){if(l||2===arguments.length)for(var f,_=0,b=o.length;_<b;_++)!f&&_ in o||(f||(f=Array.prototype.slice.call(o,0,_)),f[_]=o[_]);return i.concat(f||Array.prototype.slice.call(o))};Object.defineProperty(E,"__esModule",{value:!0}),E.DatePicker=void 0;var x=D(48),m=D(24),p=D(3),y=D(0),v=D(1),u=D(9),h=D(11),c=D(4),d=D(6),a=D(14),r=function(i){function o(l,f){var _=i.call(this,null,f)||this;return _.events=new p.EventSystem,_._popupIsFocus=!1,_._propsItem=["required","validation","valueFormat","icon","placeholder","editable","label","labelWidth","labelPosition","hiddenLabel","helpMessage","preMessage","successMessage","errorMessage"],_._propsCalendar=["mode","mark","disabledDates","weekStart","weekNumbers","timePicker","dateFormat","timeFormat","thisMonthOnly"],_._props=C(C(C([],d.baseProps,!0),_._propsItem,!0),_._propsCalendar,!0),_._keyManager=new a.KeyManager(function(){var b,I,O,P=document.activeElement;return(null===(O=null===(I=null===(b=_.getRootView())||void 0===b?void 0:b.refs)||void 0===I?void 0:I.input)||void 0===O?void 0:O.el)===P||_._popup.isVisible()}),_._initView(f),_._initHandlers(),_._initHotkeys(),_.mount(l,(0,y.create)({render:function(){return _._draw()}})),_}return T(o,i),o.prototype.destructor=function(){this._popup&&this._popup.destructor(),this._keyManager&&this._keyManager.destructor(),this.calendar&&this.calendar.destructor(),this.events&&this.events.clear(),this.events=this._uid=this._propsCalendar=this._propsItem=this._props=this._keyManager=null,i.prototype._destructor.call(this)},o.prototype.setProperties=function(l){if(l&&!(0,v.isEmptyObj)(l)&&this.events.fire(c.ItemEvent.beforeChangeProperties,[this.getProperties()])){for(var f in l)this._props.includes(f)&&(this.config[f]=l[f],this._propsCalendar.includes(f)&&(this.calendar.config[f]=l[f]));this.events.fire(c.ItemEvent.afterChangeProperties,[this.getProperties()]),this.calendar.paint(),this.paint()}},o.prototype.getProperties=function(){for(var l={},f=0,_=this._props;f<_.length;f++){var b=_[f];l[b]=this.config[b]}return l},o.prototype.show=function(){var l=this.config,f=l.value;l.hidden&&this.events.fire(c.ItemEvent.beforeShow,[f])&&(this.config.hidden=!1,this.events.fire(c.ItemEvent.afterShow,[f]))},o.prototype.hide=function(l){var f=this.config,_=f.value;f.hidden&&!l||!this.events.fire(c.ItemEvent.beforeHide,[_,l])||(this.config.hidden=!0,this.events.fire(c.ItemEvent.afterHide,[_,l]))},o.prototype.isVisible=function(){return!this.config.hidden},o.prototype.disable=function(){this.config.disabled=!0,this.paint()},o.prototype.enable=function(){var l;this.config.disabled=!1,!(null===(l=this.parent)||void 0===l)&&l.isDisabled()&&this.parent.enable(),this.paint()},o.prototype.isDisabled=function(){return!!this.config.disabled},o.prototype.validate=function(l){var f;void 0===l&&(l=!1);for(var _=[],b=1;b<arguments.length;b++)_[b-1]=arguments[b];var I=_.length?_[0]:this.getValue(),O="date"===(null===(f=this.config.valueFormat)||void 0===f?void 0:f.toLowerCase())?I instanceof Date:(0,m.stringToDate)(I,this.calendar.config.dateFormat,!0);if(!l&&!this.events.fire(c.ItemEvent.beforeValidate,[I]))return!1;var P=!0;return(this.config.required||_.length)&&(P=!!O),"function"==typeof this.config.validation&&(P=this.config.validation(I)),l||(this.setValidationStatus(P?"success":"error"),this.events.fire(c.ItemEvent.afterValidate,[I,P]),this.paint()),P},o.prototype.clearValidate=function(){this.setValidationStatus(),this.paint()},o.prototype.setValue=function(l){void 0!==l&&l!==this.config.value&&this.calendar.setValue(l)},o.prototype.getValue=function(l){var f;return this.calendar.getValue("date"===(null===(f=this.config.valueFormat)||void 0===f?void 0:f.toLowerCase())||l)||""},o.prototype.focus=function(){var l=this;(0,y.awaitRedraw)().then(function(){l.getRootView().refs.input.el.focus()})},o.prototype.blur=function(){var l=this;(0,y.awaitRedraw)().then(function(){l._popup.hide(),l.getRootView().refs.input.el.blur()})},o.prototype.clear=function(){""!==this.config.value&&this.calendar.clear()},o.prototype.getWidget=function(){return this.calendar},o.prototype._initView=function(l){if((0,v.isEmptyObj)(l))throw new Error("Check the configuration is correct");for(var f in this.calendar&&this.calendar.destructor(),this._popup&&this._popup.destructor(),this.config={type:l.type,id:l.id,name:l.name,disabled:!1,editable:!1,hidden:!1,value:"",mode:"calendar",weekStart:"sunday",weekNumbers:!1,timePicker:!1,dateFormat:"%d/%m/%y",timeFormat:24,thisMonthOnly:!1,valueFormat:"string",required:!1,icon:"",placeholder:"",label:"",labelWidth:"",labelPosition:"top",hiddenLabel:!1,helpMessage:"",preMessage:"",successMessage:"",errorMessage:"",width:"content",height:"content"},l)"id"!==f&&"type"!==f&&"name"!==f&&(this.config[f]=l[f]);this._popup=new h.Popup,this.calendar=new x.Calendar(null,(0,d.widgetConfig)(l)),this._popup.attach(this.calendar)},o.prototype._initHandlers=function(){var l=this;this.calendar.events.on(x.CalendarEvents.beforeChange,function(f){var _;return""!==f&&"date"!==(null===(_=l.config.valueFormat)||void 0===_?void 0:_.toLowerCase())&&(f=(0,m.getFormattedDate)(l.calendar.config.dateFormat,f)),l.events.fire(c.ItemEvent.beforeChange,[f])}),this.calendar.events.on(x.CalendarEvents.change,function(f,_,b,I){var O;l.config.value=l.calendar.getValue("date"===(null===(O=l.config.valueFormat)||void 0===O?void 0:O.toLowerCase())),l.events.fire(c.ItemEvent.change,[l.config.value]),(0,d.isVerify)(l.config)&&("clear"===I?l.setValidationStatus(l.validate(!0)?"success":"error"):l.validate()),l._popup.hide(),l.paint()}),this.events.on(c.ItemEvent.blur,function(){l._popupIsFocus=!1,l.paint()}),this._popup.events.on(h.PopupEvents.afterHide,function(){document.activeElement!==l.getRootView().refs.input.el&&l.events.fire(c.ItemEvent.blur,[l.getValue()]),l.paint()})},o.prototype._getHandlers=function(){var l=this;return{onblur:function(){l._popup.isVisible()||l.events.fire(c.ItemEvent.blur,[l.getValue()]),l.paint()},onfocus:function(){if(!l._popup.isVisible()){var f=l.getRootView().refs.input.el;l._popup.show(f,{theme:f}),l.events.fire(c.ItemEvent.focus,[l.getValue()]),l.paint()}},oninput:function(f){l.events.fire(c.ItemEvent.input,[f.target.value])},onchange:function(f){var _=f.target.value;l.config.editable&&(0,m.stringToDate)(_,l.calendar.config.dateFormat,!0)?l.setValue(_):""===_&&l.clear()},onkeydown:function(f){var _,b,I,O=document.activeElement;((null===(I=null===(b=null===(_=l.getRootView())||void 0===_?void 0:_.refs)||void 0===b?void 0:b.input)||void 0===I?void 0:I.el)===O||l._popup.isVisible())&&l.events.fire(c.ItemEvent.keydown,[f])},onmousedown:function(){l._popup.getContainer()!==document.activeElement&&(l._popupIsFocus=!1)}}},o.prototype._initHotkeys=function(){var l=this,f={"shift+tab":function(){l._applyTab()},tab:function(){l._applyTab()},escape:function(){l._popup.isVisible()&&l.getRootView().refs.input.el.focus(),l._popup.hide()},enter:function(b){if(b.preventDefault(),!l._popup.isVisible()){var I=l.getRootView().refs.input.el;l._popup.show(I,{theme:I})}},arrowRight:function(b){var I=l._popup.getContainer();l._popup.isVisible()&&!l._popupIsFocus&&(b.preventDefault(),I.focus(),l._popupIsFocus=!0)}};for(var _ in f)this._keyManager.addHotKey(_,f[_])},o.prototype._draw=function(){var l,f,_,b=this.config,I=b.icon,O=b.required,P=b.disabled,R=b.placeholder,N=b.name,V=b.id,U=b.editable,B=b.label,F=b.helpMessage,W=this.calendar.getValue(),M=this._popup.isVisible()||(null===(_=null===(f=null===(l=this.getRootView())||void 0===l?void 0:l.refs)||void 0===f?void 0:f.input)||void 0===_?void 0:_.el)===document.activeElement;return(0,y.el)("div.dhx_form-group",{class:(0,d.getFormItemCss)(this.config,(0,d.isVerify)(this.config),M)},[this._drawLabel(),(0,y.el)(".dhx_input__wrapper",[(0,y.el)("div.dhx_input__container",{},[(0,y.el)(".dhx_input__icon",{class:I||"dxi dxi-calendar-today"}),(0,y.el)("input.dhx_input.dhx_input--icon-padding",{tabindex:0,"data-dhx-id":N||V,_key:this._uid,_ref:"input",value:W,type:"text",required:O,disabled:P,class:M&&"dhx_input--focus",placeholder:R||"",name:N||"",id:V||this._uid,onfocus:this._handlers.onfocus,oninput:this._handlers.oninput,onchange:this._handlers.onchange,onblur:this._handlers.onblur,onkeydown:this._handlers.onkeydown,onmousedown:this._handlers.onmousedown,autocomplete:"off",readOnly:!U,"aria-label":B||"".concat(U?"type or":""," select date"),"aria-describedby":F?"dhx_label__help_".concat(V||this._uid):null})]),(0,d.getValidationMessage)(this.config)&&(0,y.el)("span.dhx_input__caption",{},(0,d.getValidationMessage)(this.config))])])},o.prototype._applyTab=function(){var l,f,_;document.activeElement===(null===(_=null===(f=null===(l=this._popup.getRootView())||void 0===l?void 0:l.refs)||void 0===f?void 0:f.content)||void 0===_?void 0:_.el)||this._popupIsFocus||this._popup.hide()},o}(u.Label);E.DatePicker=r},function(ne,E,D){"use strict";var S,T=this&&this.__extends||(S=function(d,a){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(d,a)},function(d,a){if("function"!=typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function r(){this.constructor=d}S(d,a),d.prototype=null===a?Object.create(a):(r.prototype=a.prototype,new r)}),C=this&&this.__assign||function(){return C=Object.assign||function(d){for(var a,r=1,i=arguments.length;r<i;r++)for(var o in a=arguments[r])Object.prototype.hasOwnProperty.call(a,o)&&(d[o]=a[o]);return d},C.apply(this,arguments)},x=this&&this.__spreadArray||function(d,a,r){if(r||2===arguments.length)for(var i,o=0,l=a.length;o<l;o++)!i&&o in a||(i||(i=Array.prototype.slice.call(a,0,o)),i[o]=a[o]);return d.concat(i||Array.prototype.slice.call(a))};Object.defineProperty(E,"__esModule",{value:!0}),E.Button=void 0;var m=D(0),p=D(5),y=D(4),v=D(3),u=D(1),h=D(6),c=function(d){function a(r,i){var o=d.call(this,r,C({disabled:!1,hidden:!1,submit:!1,full:!1,circle:!1,loading:!1,view:"flat",size:"medium",color:"primary",height:"content",url:"",text:"",icon:""},i))||this;return o._propsItem=["submit","url","text","icon","view","size","color","full","circle","loading"],o._props=x(x([],h.baseProps,!0),o._propsItem,!0),o.config.text=o.config.text||o.config.value||"",o.events=new v.EventSystem,o._handlers={onclick:function(l){return o.events.fire(y.ItemEvent.click,[l])},onblur:function(){return o.events.fire(y.ItemEvent.blur,[o.config.text])},onfocus:function(){return o.events.fire(y.ItemEvent.focus,[o.config.text])},onkeydown:function(l){return o.events.fire(y.ItemEvent.keydown,[l])}},o.mount(r,(0,m.create)({render:function(){return o._draw()}})),o}return T(a,d),a.prototype.destructor=function(){this.events&&this.events.clear(),this.config=this._propsItem=this._props=this.events=this._handlers=this._uid=null,this.unmount()},a.prototype.setProperties=function(r){if(r&&!(0,u.isEmptyObj)(r)&&this.events.fire(y.ItemEvent.beforeChangeProperties,[this.getProperties()])){for(var i in r)this._props.includes(i)&&(this.config[i]=r[i]);this.config.text=this.config.text||this.config.value,this.events.fire(y.ItemEvent.afterChangeProperties,[this.getProperties()]),this.paint()}},a.prototype.getProperties=function(){for(var r={},i=0,o=this._props;i<o.length;i++){var l=o[i];r[l]=this.config[l]}return r},a.prototype.show=function(){var r=this.config,i=r.text,o=void 0===i?"":i;r.hidden&&this.events.fire(y.ItemEvent.beforeShow,[o])&&(this.config.hidden=!1,this.events.fire(y.ItemEvent.afterShow,[o]))},a.prototype.hide=function(r){void 0===r&&(r=!1);var i=this.config,o=i.text,l=void 0===o?"":o;i.hidden&&!r||!this.events.fire(y.ItemEvent.beforeHide,[l,r])||(this.config.hidden=!0,this.events.fire(y.ItemEvent.afterHide,[l,r]))},a.prototype.isVisible=function(){return!this.config.hidden},a.prototype.disable=function(){this.config.disabled=!0,this.paint()},a.prototype.enable=function(){var r;this.config.disabled=!1,!(null===(r=this.parent)||void 0===r)&&r.isDisabled()&&this.parent.enable(),this.paint()},a.prototype.isDisabled=function(){return!!this.config.disabled},a.prototype.focus=function(){var r=this;(0,m.awaitRedraw)().then(function(){r.getRootView().refs.button.el.focus()})},a.prototype.blur=function(){var r=this;(0,m.awaitRedraw)().then(function(){r.getRootView().refs.button.el.blur()})},a.prototype._draw=function(){var r=this.config,f=r.loading,b=r.icon,I=r.text,R=r.id;return(0,m.el)("button",{disabled:r.disabled,id:R,"data-dhx-id":r.name||R,onclick:this._handlers.onclick,onfocus:this._handlers.onfocus,onblur:this._handlers.onblur,onkeydown:this._handlers.onkeydown,type:r.submit?"submit":"button",class:"dhx_button "+({danger:" dhx_button--color_danger",secondary:" dhx_button--color_secondary",primary:" dhx_button--color_primary",success:" dhx_button--color_success"}[r.color]||" dhx_button--color_primary")+({small:" dhx_button--size_small",medium:" dhx_button--size_medium"}[r.size]||" dhx_button--size_medium")+({flat:" dhx_button--view_flat",link:" dhx_button--view_link"}[r.view]||" dhx_button--view_flat")+(r.circle?" dhx_button--circle":"")+(r.full?" dhx_button--width_full":"")+(f?" dhx_button--loading":"")+(b&&!I?" dhx_button--icon":""),_ref:"button"},[b&&(0,m.el)("span.dhx_button__icon",{class:b}),I&&(0,m.el)("span.dhx_button__text",I),f&&(0,m.el)("span.dhx_button__loading",[(0,m.el)("span.dhx_button__loading-icon.dxi.dxi-loading")])])},a}(p.View);E.Button=c},function(ne,E,D){"use strict";var S,T=this&&this.__extends||(S=function(i,o){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var _ in f)Object.prototype.hasOwnProperty.call(f,_)&&(l[_]=f[_])})(i,o)},function(i,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function l(){this.constructor=i}S(i,o),i.prototype=null===o?Object.create(o):(l.prototype=o.prototype,new l)}),C=this&&this.__assign||function(){return C=Object.assign||function(i){for(var o,l=1,f=arguments.length;l<f;l++)for(var _ in o=arguments[l])Object.prototype.hasOwnProperty.call(o,_)&&(i[_]=o[_]);return i},C.apply(this,arguments)},x=this&&this.__spreadArray||function(i,o,l){if(l||2===arguments.length)for(var f,_=0,b=o.length;_<b;_++)!f&&_ in o||(f||(f=Array.prototype.slice.call(o,0,_)),f[_]=o[_]);return i.concat(f||Array.prototype.slice.call(o))};Object.defineProperty(E,"__esModule",{value:!0}),E.CheckboxGroup=void 0;var m=D(0),p=D(16),y=D(3),v=D(105),u=D(9),h=D(4),c=D(1),d=D(6),a=D(11),r=function(i){function o(l,f){var _=i.call(this,null,f)||this;return _.events=new y.EventSystem,_._buttons=[],_._propsItem=["required","label","labelWidth","labelPosition","hiddenLabel","helpMessage","preMessage","successMessage","errorMessage","options"],_._props=x(x([],d.baseProps,!0),_._propsItem,!0),_._initView(f),_._initHandlers(),_.mount(l,(0,m.create)({render:function(){return _._draw()}})),_}return T(o,i),o.prototype.destructor=function(){this.events&&this.events.clear(),this.layout&&this.layout.destructor(),this.events=this._uid=this._propsItem=this._props=this._buttons=null,i.prototype._destructor.call(this),this.unmount()},o.prototype.setProperties=function(l,f){if(void 0!==l&&this.events.fire(h.ItemEvent.beforeChangeProperties,[this.getProperties()])){if("object"==typeof l&&!(0,c.isEmptyObj)(l)){for(var _ in l)this._props.includes(_)&&(this.config[_]=l[_]);l.hasOwnProperty("options")&&(this._initView(this.config),this._initHandlers())}if("string"==typeof l&&f&&!(0,c.isEmptyObj)(f)){var b=this._buttons.find(function(I){return I.config.id===l});b&&b.setProperties(f,!0)}this.events.fire(h.ItemEvent.afterChangeProperties,[this.getProperties()]),this.paint()}},o.prototype.getProperties=function(l){if(void 0===l){var f={};for(var _ in this.config)this._props.includes(_)&&(f[_]=this.config[_]);return f}return this._buttons.find(function(b){return b.config.id===l}).getProperties()},o.prototype.getValue=function(l){if(void 0===l){var f={};return this._buttons.forEach(function(b){f[b.config.id]=b.getValue()}),f}var _=this._buttons.find(function(b){return b.config.id===l});if(l&&_)return _.getValue()},o.prototype.setValue=function(l){if(void 0!==l&&!(0,c.isEmptyObj)(l)){for(var f=this.getValue(),_=C({},f),b=function(W,M){var $=I._buttons.find(function(ee){return ee.config.id===W});if($){var Y=$.config.value;_[W]="string"==typeof Y?M&&Y||"":!!M}},I=this,O=0,P=Object.entries(l);O<P.length;O++){var R=P[O];b(R[0],R[1])}if(!(0,c.compare)(f,_)&&this.events.fire(h.ItemEvent.beforeChange,[_])){for(var N=function(W,M){var $=V._buttons.find(function(Y){return Y.config.id===W});$&&$.setValue(!!M,!0)},V=this,U=0,B=Object.entries(l);U<B.length;U++){var F=B[U];N(F[0],F[1])}this.events.fire(h.ItemEvent.change,[this.getValue()]),(0,d.isVerify)(this.config)&&this.validate()}}},o.prototype.isChecked=function(l){if(void 0===l){var f={};return this._buttons.forEach(function(b){f[b.config.id]=b.isChecked()}),f}var _=this._buttons.find(function(b){return b.config.id===l});if(l&&_)return _.isChecked()},o.prototype.focus=function(l){var f=this;(0,m.awaitRedraw)().then(function(){if(f._buttons.length){if(!l)return f._buttons[0].focus();var _=f._buttons.find(function(b){return b.config.id===l});_&&_.focus()}})},o.prototype.blur=function(){var l=this;(0,m.awaitRedraw)().then(function(){l._buttons.length&&l._buttons.forEach(function(f){f.blur()})})},o.prototype.show=function(l){var f,_=l&&this._buttons.find(function(b){return b.config.id===l});(0,c.isDefined)(l)&&!_||(!_&&(this.config.hidden||this._buttons.some(function(b){return b.config.hidden}))||null!==(f=_?.config)&&void 0!==f&&f.hidden)&&this.events.fire(h.ItemEvent.beforeShow,[this.getValue(),l])&&(_?_?.show():this._buttons.forEach(function(b){return b.show()}),this.config.hidden=!1,this.events.fire(h.ItemEvent.afterShow,[this.getValue(),l]))},o.prototype.hide=function(l,f){var _,b=l&&this._buttons.find(function(I){return I.config.id===l});(0,c.isDefined)(l)&&!b||(!b&&this.config.hidden||null!==(_=b?.config)&&void 0!==_&&_.hidden)&&!f||!this.events.fire(h.ItemEvent.beforeHide,[this.getValue(),l,f])||(b?(b?.hide(),this.config.hidden=this._buttons.every(function(I){return I.config.hidden})):(this._buttons.forEach(function(I){return I.hide()}),this.config.hidden=!0),this.events.fire(h.ItemEvent.afterHide,[this.getValue(),l,f]))},o.prototype.isVisible=function(l){var f,_=this._buttons.find(function(b){return b.config.id===l});return!(this.config.hidden||(0,c.isDefined)(l)&&null!==(f=_?.config)&&void 0!==f&&f.hidden)},o.prototype.enable=function(l){var f,_,b=l&&this._buttons.find(function(I){return I.config.id===l});(0,c.isDefined)(l)&&!b||(!b&&(this.config.disabled||this._buttons.some(function(I){return I.config.disabled}))||null!==(f=b?.config)&&void 0!==f&&f.disabled)&&(b?b?.enable():this._buttons.forEach(function(I){return I.enable()}),this.config.disabled=!1,!(null===(_=this.parent)||void 0===_)&&_.isDisabled()&&this.parent.enable(),this.paint())},o.prototype.disable=function(l,f){var _,b=l&&this._buttons.find(function(I){return I.config.id===l});(0,c.isDefined)(l)&&!b||(!b&&this.config.disabled||null!==(_=b?.config)&&void 0!==_&&_.disabled)&&!f||(b?(b?.disable(),this.config.disabled=this._buttons.every(function(I){return I.config.disabled})):(this._buttons.forEach(function(I){return I.disable()}),this.config.disabled=!0),this.paint())},o.prototype.isDisabled=function(l){var f,_=this._buttons.find(function(b){return b.config.id===l});return!!(this.config.disabled||(0,c.isDefined)(l)&&null!==(f=_?.config)&&void 0!==f&&f.disabled)},o.prototype.clear=function(){if(this._buttons.some(function(f){return f.isChecked()})){var l={};if(this._buttons.forEach(function(f){l[f.config.id]="string"==typeof f.config.value&&""}),!this.events.fire(h.ItemEvent.beforeChange,[l]))return;this._buttons.forEach(function(f){f.clear(!0)}),this.events.fire(h.ItemEvent.change,[l]),(0,d.isVerify)(this.config)&&this.setValidationStatus(this.validate(!0)?"success":"error")}},o.prototype.validate=function(l){void 0===l&&(l=!1);var f=this.getValue();if(!l&&!this.events.fire(h.ItemEvent.beforeValidate,[f]))return!1;var _=!0;return this.config.required&&(_=this._buttons.some(function(b){return b.config.$required&&!!b.config.checked})),l||(this._buttons.forEach(function(b){b.setValidationStatus(_?"success":"error")}),this.setValidationStatus(_?"success":"error"),this.events.fire(h.ItemEvent.afterValidate,[f,_]),this.paint()),_},o.prototype.clearValidate=function(){this.setValidationStatus(),this._buttons.forEach(function(l){l.clearValidate()}),this.paint()},o.prototype._initView=function(l){var f=this;if((0,c.isEmptyObj)(l)||!l.options||(0,c.isEmptyObj)(l.options))throw new Error("Check the configuration is correct");for(var _ in this.layout&&this.layout.destructor(),this._buttons.length&&(this._buttons.forEach(function(I){I.destructor()}),this._buttons=[]),this.config={type:l.type,id:l.id,name:l.name,disabled:!1,hidden:!1,options:{},required:!1,label:"",labelWidth:"",labelPosition:"top",hiddenLabel:!1,helpMessage:"",preMessage:"",successMessage:"",errorMessage:"",width:"content",height:"content"},l)"id"!==_&&"type"!==_&&"name"!==_&&(this.config[_]=l[_]);this.config.helpMessage&&(this._helper=new a.Popup({css:"dhx_tooltip dhx_tooltip--forced dhx_tooltip--light"}),this._helper.attachHTML(this.config.helpMessage));var b=this.config.options.rows||this.config.options.cols;b?.forEach(function(I){I.id=I.id||(0,c.uid)(),I.$group=!0}),this.layout=new p.Layout(null,this.config.options),b?.forEach(function(I){var O=new v.Checkbox(null,C(C({},I),{disabled:l.disabled||I.disabled,name:l.name,$required:l.required}));f._buttons.push(O),f.layout.getCell(I.id).attach(O),O.events.on(h.ItemEvent.beforeChange,function(P){var R,N=C(C({},f.getValue()),((R={})[O.config.id]=P,R));return f.events.fire(h.ItemEvent.beforeChange,[N])}),O.events.on(h.ItemEvent.change,function(){f.events.fire(h.ItemEvent.change,[f.getValue()]),(0,d.isVerify)(f.config)&&f.validate()}),O.events.on(h.ItemEvent.focus,function(P,R){f.events.fire(h.ItemEvent.focus,[f.getValue(),R])}),O.events.on(h.ItemEvent.blur,function(P,R){f.events.fire(h.ItemEvent.blur,[f.getValue(),R])}),O.events.on(h.ItemEvent.keydown,function(P,R){f.events.fire(h.ItemEvent.keydown,[P,R])}),O.events.on(h.ItemEvent.afterHide,function(){(0,m.awaitRedraw)().then(function(){var P;null===(P=f.layout.getCell(O.config.id))||void 0===P||P.hide()})}),O.events.on(h.ItemEvent.afterShow,function(){var P;null===(P=f.layout.getCell(O.config.id))||void 0===P||P.show()})}),this.config.value&&this.setValue(this.config.value),this.clearValidate(),!this.config.disabled&&this._buttons.length&&this._buttons.every(function(I){return I.config.disabled})&&(this.config.disabled=!0)},o.prototype._initHandlers=function(){var l=this;this.events.on(h.ItemEvent.change,function(){l.config.value=l.getValue(),l.paint()})},o.prototype._draw=function(){var l=this.config.hidden?" dhx_form-group--hidden":"",f=this.config,_=f.label,b=f.labelWidth,I=f.helpMessage,O=f.required,P=f.name,R=f.id;return(0,m.el)("fieldset.dhx_form-group-fieldset",{},[(0,m.el)("div.dhx_form-group.dhx_form-group--checkbox-group",{class:(0,d.getFormItemCss)(this.config,(0,d.isVerify)(this.config))+l,"data-dhx-id":P||R,role:"radiogroup",_key:R||this._uid},[_||b||I||O?this._drawLabel():null,(0,m.el)("div.dhx_checkbox-group--container",{},[this.layout&&(0,m.inject)(this.layout.getRootView()),O&&(0,d.getValidationMessage)(this.config)&&(0,m.el)("span.dhx_input__caption",(0,d.getValidationMessage)(this.config))])])])},o}(u.Label);E.CheckboxGroup=r},function(ne,E,D){"use strict";var S,T=this&&this.__extends||(S=function(i,o){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var _ in f)Object.prototype.hasOwnProperty.call(f,_)&&(l[_]=f[_])})(i,o)},function(i,o){if("function"!=typeof o&&null!==o)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");function l(){this.constructor=i}S(i,o),i.prototype=null===o?Object.create(o):(l.prototype=o.prototype,new l)}),C=this&&this.__assign||function(){return C=Object.assign||function(i){for(var o,l=1,f=arguments.length;l<f;l++)for(var _ in o=arguments[l])Object.prototype.hasOwnProperty.call(o,_)&&(i[_]=o[_]);return i},C.apply(this,arguments)},x=this&&this.__spreadArray||function(i,o,l){if(l||2===arguments.length)for(var f,_=0,b=o.length;_<b;_++)!f&&_ in o||(f||(f=Array.prototype.slice.call(o,0,_)),f[_]=o[_]);return i.concat(f||Array.prototype.slice.call(o))};Object.defineProperty(E,"__esModule",{value:!0}),E.RadioGroup=void 0;var m=D(0),p=D(1),y=D(16),v=D(11),u=D(3),h=D(222),c=D(6),d=D(9),a=D(4),r=function(i){function o(l,f){var _=i.call(this,null,f)||this;return _.events=new u.EventSystem,_._buttons=[],_._propsItem=["required","label","labelWidth","labelPosition","hiddenLabel","helpMessage","preMessage","successMessage","errorMessage","options"],_._props=x(x([],c.baseProps,!0),_._propsItem,!0),_._initView(f),_._initHandlers(),_.config.value&&_._setValue(_.config.value),_.clearValidate(),_.config.helpMessage&&(_._helper=new v.Popup({css:"dhx_tooltip dhx_tooltip--forced dhx_tooltip--light"}),_._helper.attachHTML(_.config.helpMessage)),_.mount(l,(0,m.create)({render:function(){return _._draw()}})),_}return T(o,i),o.prototype.destructor=function(){this.events&&this.events.clear(),this.layout&&this.layout.destructor(),this.events=this._uid=this._propsItem=this._props=this._buttons=null,i.prototype._destructor.call(this),this.unmount()},o.prototype.setProperties=function(l,f){if(void 0!==l&&this.events.fire(a.ItemEvent.beforeChangeProperties,[this.getProperties()])){if("object"==typeof l&&!(0,p.isEmptyObj)(l)){for(var _ in l)this._props.includes(_)&&(this.config[_]=l[_]);l.hasOwnProperty("options")&&(this._initView(this.config),this._initHandlers())}if("string"==typeof l&&f&&!(0,p.isEmptyObj)(f)){var b=this._buttons.find(function(I){return I.config.id===l});b&&b.setProperties(f)}this.events.fire(a.ItemEvent.afterChangeProperties,[this.getProperties()]),this.paint()}},o.prototype.getProperties=function(l){if(void 0===l){var f={};for(var _ in this.config)this._props.includes(_)&&(f[_]=this.config[_]);return f}return this._buttons.find(function(b){return b.config.id===l}).getProperties()},o.prototype.getValue=function(){var l=this;return this._buttons.forEach(function(f){f.getValue()&&(l.config.value=f.getValue()||"")}),this.config.value||""},o.prototype.setValue=function(l){l!==this.config.value&&(this._setValue(l),this.events.fire(a.ItemEvent.change,[l]),(0,c.isVerify)(this.config)&&this.validate())},o.prototype.focus=function(l){var f=this;(0,m.awaitRedraw)().then(function(){if(f._buttons.length){if(!l)return f._buttons[0].focus();var _=f._buttons.find(function(b){return b.config.id===l});if(_)return _.focus()}})},o.prototype.blur=function(){var l=this;(0,m.awaitRedraw)().then(function(){l._buttons.length&&l._buttons.forEach(function(f){return f.blur()})})},o.prototype.show=function(l){var f,_=l&&this._buttons.find(function(b){return b.config.id===l});(0,p.isDefined)(l)&&!_||(!_&&(this.config.hidden||this._buttons.some(function(b){return b.config.hidden}))||null!==(f=_?.config)&&void 0!==f&&f.hidden)&&this.events.fire(a.ItemEvent.beforeShow,[this.getValue(),l])&&(_?_?.show():this._buttons.forEach(function(b){return b.show()}),this.config.hidden=!1,this.events.fire(a.ItemEvent.afterShow,[this.getValue(),l]))},o.prototype.hide=function(l,f){var _,b=l&&this._buttons.find(function(I){return I.config.id===l});(0,p.isDefined)(l)&&!b||(!b&&this.config.hidden||null!==(_=b?.config)&&void 0!==_&&_.hidden)&&!f||!this.events.fire(a.ItemEvent.beforeHide,[this.getValue(),l,f])||(b?(b?.hide(),this.config.hidden=this._buttons.every(function(I){return I.config.hidden})):(this._buttons.forEach(function(I){return I.hide()}),this.config.hidden=!0),this.events.fire(a.ItemEvent.afterHide,[this.getValue(),l,f]))},o.prototype.isVisible=function(l){var f,_=this._buttons.find(function(b){return b.config.id===l});return!(this.config.hidden||(0,p.isDefined)(l)&&null!==(f=_?.config)&&void 0!==f&&f.hidden)},o.prototype.enable=function(l){var f,_,b=l&&this._buttons.find(function(I){return I.config.id===l});(0,p.isDefined)(l)&&!b||(!b&&(this.config.disabled||this._buttons.some(function(I){return I.config.disabled}))||null!==(f=b?.config)&&void 0!==f&&f.disabled)&&(b?b?.enable():this._buttons.forEach(function(I){return I.enable()}),this.config.disabled=!1,!(null===(_=this.parent)||void 0===_)&&_.isDisabled()&&this.parent.enable(),this.paint())},o.prototype.disable=function(l,f){var _,b=l&&this._buttons.find(function(I){return I.config.id===l});(0,p.isDefined)(l)&&!b||(!b&&this.config.disabled||null!==(_=b?.config)&&void 0!==_&&_.disabled)&&!f||(b?(b?.disable(),this.config.disabled=this._buttons.every(function(I){return I.config.disabled})):(this._buttons.forEach(function(I){return I.disable()}),this.config.disabled=!0),this.paint())},o.prototype.isDisabled=function(l){var f,_=this._buttons.find(function(b){return b.config.id===l});return!!(this.config.disabled||(0,p.isDefined)(l)&&null!==(f=_?.config)&&void 0!==f&&f.disabled)},o.prototype.clear=function(){""!==this.config.value&&(this._buttons.forEach(function(l){l.clear()}),this.config.value="",this.events.fire(a.ItemEvent.change,[this.config.value]),(0,c.isVerify)(this.config)&&this.setValidationStatus(this.validate(!0)?"success":"error"))},o.prototype.validate=function(l){var f=this;void 0===l&&(l=!1);var _=this.getValue();if(!l&&!this.events.fire(a.ItemEvent.beforeValidate,[_]))return!1;var b=!0;return this.config.required&&(b=this._buttons.some(function(I){return f.config.required&&!!I.config.checked})),l||(this._buttons.forEach(function(I){I.setValidationStatus(b?"success":"error")}),this.setValidationStatus(b?"success":"error"),this.events.fire(a.ItemEvent.afterValidate,[_,b]),this.paint()),b},o.prototype.clearValidate=function(){this.setValidationStatus(),this._buttons.map(function(l){l.clearValidate()}),this.paint()},o.prototype._initView=function(l){var f=this;if((0,p.isEmptyObj)(l)||!l.options||(0,p.isEmptyObj)(l.options))throw new Error("Check the configuration is correct");for(var _ in this.layout&&this.layout.destructor(),this._buttons.length&&(this._buttons.forEach(function(I){I.destructor()}),this._buttons=[]),this.config={type:l.type,id:l.id,name:l.name,value:"",disabled:!1,hidden:!1,options:{},required:!1,label:"",labelWidth:"",labelPosition:"top",hiddenLabel:!1,helpMessage:"",preMessage:"",successMessage:"",errorMessage:"",width:"content",height:"content"},l)"id"!==_&&"type"!==_&&"name"!==_&&(this.config[_]=l[_]);var b=this.config.options.rows||this.config.options.cols;b?.forEach(function(I){I.id=I.id||(0,p.uid)()}),this.layout=new y.Layout(null,this.config.options),b?.forEach(function(I){var O=new h.RadioButton(null,C(C({},I),{disabled:l.disabled||I.disabled,$name:l.name,$required:l.required}));f._buttons.push(O),f.layout.getCell(I.id).attach(O),O.events.on(h.RadioButtonEvents.beforeChange,function(){return f.events.fire(a.ItemEvent.beforeChange,[O.config.value||""])}),O.events.on(h.RadioButtonEvents.change,function(){f._buttons.map(function(P){P.config.id!==O.config.id&&P.setValue(!1)}),f.events.fire(a.ItemEvent.change,[f.getValue()]),(0,c.isVerify)(f.config)&&f.validate()}),O.events.on(h.RadioButtonEvents.focus,function(P,R){f.events.fire(a.ItemEvent.focus,[P,R])}),O.events.on(h.RadioButtonEvents.blur,function(P,R){f.events.fire(a.ItemEvent.blur,[P,R])}),O.events.on(h.RadioButtonEvents.keydown,function(P,R){f.events.fire(a.ItemEvent.keydown,[P,R])}),O.events.on(a.ItemEvent.afterHide,function(){(0,m.awaitRedraw)().then(function(){f.layout.getCell(O.config.id).hide()})}),O.events.on(a.ItemEvent.afterShow,function(){f.layout.getCell(O.config.id).show()})}),!this.config.disabled&&this._buttons.length&&this._buttons.every(function(I){return I.config.disabled})&&(this.config.disabled=!0)},o.prototype._initHandlers=function(){var l=this;this.events.on(a.ItemEvent.beforeChange,function(){return l.paint()}),this.events.on(a.ItemEvent.change,function(){l.config.value=l.getValue(),l.paint()})},o.prototype._draw=function(){var l=this.config,f=l.label,_=l.labelWidth,b=l.helpMessage,I=l.required,P=l.name,R=l.id,N=l.hidden?" dhx_form-group--hidden":"";return(0,m.el)("fieldset.dhx_form-group-fieldset",{},[(0,m.el)("div.dhx_form-group.dhx_form-group--radio-group",{class:(0,c.getFormItemCss)(this.config,(0,c.isVerify)(this.config))+N,"data-dhx-id":P||R,_key:R||this._uid},[f||_||b||I?this._drawLabel():null,(0,m.el)("div.dhx_radio-group--container",{},[this.layout&&(0,m.inject)(this.layout.getRootView()),I&&(0,c.getValidationMessage)(this.config)&&(0,m.el)("span.dhx_input__caption",(0,c.getValidationMessage)(this.config))])])])},o.prototype._setValue=function(l){void 0!==l&&-1!==this._buttons.findIndex(function(f){return f.config.value===l})&&this._buttons.forEach(function(f){f.setValue(l===f.config.value)})},o}(d.Label);E.RadioGroup=r},function(ne,E,D){"use strict";var S,T=this&&this.__extends||(S=function(d,a){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(d,a)},function(d,a){if("function"!=typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function r(){this.constructor=d}S(d,a),d.prototype=null===a?Object.create(a):(r.prototype=a.prototype,new r)}),C=this&&this.__assign||function(){return C=Object.assign||function(d){for(var a,r=1,i=arguments.length;r<i;r++)for(var o in a=arguments[r])Object.prototype.hasOwnProperty.call(a,o)&&(d[o]=a[o]);return d},C.apply(this,arguments)},x=this&&this.__spreadArray||function(d,a,r){if(r||2===arguments.length)for(var i,o=0,l=a.length;o<l;o++)!i&&o in a||(i||(i=Array.prototype.slice.call(a,0,o)),i[o]=a[o]);return d.concat(i||Array.prototype.slice.call(a))};Object.defineProperty(E,"__esModule",{value:!0}),E.RadioButton=E.RadioButtonEvents=void 0;var m,d,p=D(1),y=D(0),v=D(3),u=D(6),h=D(9);(d=m||(E.RadioButtonEvents=m={})).beforeChange="beforeChange",d.change="change",d.focus="focus",d.blur="blur",d.keydown="keydown",d.beforeHide="beforeHide",d.afterHide="afterHide",d.beforeShow="beforeShow",d.afterShow="afterShow";var c=function(d){function a(r,i){void 0===i&&(i={});var o=d.call(this,r,C({text:"",width:"content",height:"content",checked:!1},i))||this;return o._propsItem=["text"],o._props=x(x([],u.baseProps,!0),o._propsItem,!0),o._handlers={onchange:function(l){var f=l.target.checked;o.events.fire(m.beforeChange,[f])&&(o.config.checked=f,o.events.fire(m.change,[f]))},onfocus:function(){return o.events.fire(m.focus,[o.getValue()||"",o.config.id])},onblur:function(){var l;return null===(l=o.events)||void 0===l?void 0:l.fire(m.blur,[o.getValue()||"",o.config.id])},onkeydown:function(l){o.events.fire(m.keydown,[l,o.config.id])}},o.events=new v.EventSystem,o.mount(r,(0,y.create)({render:function(){return o._draw()}})),o}return T(a,d),a.prototype.destructor=function(){this.events&&this.events.clear(),this.config=this.events=this._handlers=this._uid=this._props=this._propsItem=null,this.unmount()},a.prototype.setProperties=function(r){if(r&&!(0,p.isEmptyObj)(r)){for(var i in r)this._props.includes(i)&&(this.config[i]=r[i]);this.paint()}},a.prototype.getProperties=function(){for(var r={},i=0,o=this._props;i<o.length;i++){var l=o[i];r[l]=this.config[l]}return r},a.prototype.getValue=function(){if(this.config.checked)return this.config.value},a.prototype.setValue=function(r){this.config.checked=r,this.paint()},a.prototype.show=function(){this.config.hidden&&this.events.fire(m.beforeShow,[])&&(this.config.hidden=!1,this.events.fire(m.afterShow,[]))},a.prototype.hide=function(){!this.config.hidden&&this.events.fire(m.beforeHide,[])&&(this.config.hidden=!0,this.events.fire(m.afterHide,[]))},a.prototype.isVisible=function(){return!this.config.hidden},a.prototype.focus=function(){var r=this;(0,y.awaitRedraw)().then(function(){r.getRootView().refs.input.el.focus()})},a.prototype.blur=function(){var r=this;(0,y.awaitRedraw)().then(function(){r.getRootView().refs.input.el.blur()})},a.prototype.disable=function(){this.config.disabled=!0,this.paint()},a.prototype.enable=function(){var r;this.config.disabled=!1,!(null===(r=this.parent)||void 0===r)&&r.isDisabled()&&this.parent.enable(),this.paint()},a.prototype.isDisabled=function(){return!!this.config.disabled},a.prototype.clear=function(){this.config.checked=!1,this.setValidationStatus(this.validate()?"success":"error"),this.paint()},a.prototype.validate=function(){var r=!!this.config.checked;return this.setValidationStatus(r?"success":"error"),this.paint(),r},a.prototype.clearValidate=function(){this.setValidationStatus(),this.paint()},a.prototype._draw=function(){var r=this.config,i=r.id,o=r.value,l=r.checked,f=r.disabled,_=r.$name,b=r.$required,I=r.text;return(0,y.el)("label.dhx_radiobutton.dhx_form-group",{class:(0,u.getFormItemCss)(this.config,!!b)},[(0,y.el)("input.dhx_radiobutton__input",{type:"radio",id:i,_key:i||this._uid,value:o||"",name:_||"",disabled:f,checked:l,onchange:this._handlers.onchange,onfocus:this._handlers.onfocus,onblur:this._handlers.onblur,onkeydown:this._handlers.onkeydown,required:b,_ref:"input"}),(0,y.el)("span.dhx_radiobutton__visual-input"),(0,y.el)("span.dhx_text",[I])])},a}(h.Label);E.RadioButton=c},function(ne,E,D){"use strict";var S,T=this&&this.__extends||(S=function(d,a){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(d,a)},function(d,a){if("function"!=typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function r(){this.constructor=d}S(d,a),d.prototype=null===a?Object.create(a):(r.prototype=a.prototype,new r)}),C=this&&this.__assign||function(){return C=Object.assign||function(d){for(var a,r=1,i=arguments.length;r<i;r++)for(var o in a=arguments[r])Object.prototype.hasOwnProperty.call(a,o)&&(d[o]=a[o]);return d},C.apply(this,arguments)},x=this&&this.__spreadArray||function(d,a,r){if(r||2===arguments.length)for(var i,o=0,l=a.length;o<l;o++)!i&&o in a||(i||(i=Array.prototype.slice.call(a,0,o)),i[o]=a[o]);return d.concat(i||Array.prototype.slice.call(a))};Object.defineProperty(E,"__esModule",{value:!0}),E.Select=void 0;var m=D(0),p=D(1),y=D(9),v=D(6),u=D(3),h=D(4),c=function(d){function a(r,i){var o=d.call(this,null,i)||this;return o.events=new u.EventSystem,o._propsItem=["required","validation","icon","label","labelWidth","labelPosition","hiddenLabel","helpMessage","preMessage","successMessage","errorMessage"],o._props=x(x([],v.baseProps,!0),o._propsItem,!0),o._initView(i),o}return T(a,d),a.prototype.destructor=function(){this.events&&this.events.clear(),this.events=this._uid=this._propsItem=this._props=null,d.prototype._destructor.call(this),this.unmount()},a.prototype.setProperties=function(r){if(r&&!(0,p.isEmptyObj)(r)&&this.events.fire(h.ItemEvent.beforeChangeProperties,[this.getProperties()])){for(var i in r)this._props.includes(i)&&(this.config[i]=r[i]);this.events.fire(h.ItemEvent.afterChangeProperties,[this.getProperties()]),this.paint()}},a.prototype.getProperties=function(){for(var r={},i=0,o=this._props;i<o.length;i++){var l=o[i];r[l]=this.config[l]}return r},a.prototype.show=function(){this.config.hidden&&this.events.fire(h.ItemEvent.beforeShow,[this.getValue()])&&(this.config.hidden=!1,this.events.fire(h.ItemEvent.afterShow,[this.getValue()]))},a.prototype.hide=function(r){this.config.hidden&&!r||!this.events.fire(h.ItemEvent.beforeHide,[this.getValue(),!!r])||(this.config.hidden=!0,this.events.fire(h.ItemEvent.afterHide,[this.getValue(),!!r]))},a.prototype.isVisible=function(){return!this.config.hidden},a.prototype.disable=function(r){var i=(0,p.isDefined)(r)&&this.config.options.find(function(o){return o.value===r});(0,p.isDefined)(r)&&!i||!i&&this.config.disabled||i?.disabled||(i?(i.disabled=!0,this.config.disabled=this.config.options.every(function(o){return o.disabled})):(this.config.options=this.config.options.map(function(o){return C(C({},o),{disabled:!0})}),this.config.disabled=!0),this.paint())},a.prototype.enable=function(r){var i,o=(0,p.isDefined)(r)&&this.config.options.find(function(l){return l.value===r});(0,p.isDefined)(r)&&!o||(!o&&(this.config.disabled||this.config.options.some(function(l){return l.disabled}))||o?.disabled)&&(o?o.disabled=!1:this.config.options=this.config.options.map(function(l){return C(C({},l),{disabled:!1})}),this.config.disabled=!1,!(null===(i=this.parent)||void 0===i)&&i.isDisabled()&&this.parent.enable(),this.paint())},a.prototype.isDisabled=function(r){var i=this.config.options.find(function(o){return o.value===r});return!!(this.config.disabled||(0,p.isDefined)(r)&&i?.disabled)},a.prototype.validate=function(r){void 0===r&&(r=!1);var i=this.getValue();if(!r&&!this.events.fire(h.ItemEvent.beforeValidate,[i]))return!1;var o=!0;return this.config.required&&(o=(0,p.isDefined)(i)),"function"==typeof this.config.validation&&(o=this.config.validation(i)),r||(this.setValidationStatus(o?"success":"error"),this.events.fire(h.ItemEvent.afterValidate,[i,o]),this.paint()),o},a.prototype.clearValidate=function(){this.setValidationStatus(),this.paint()},a.prototype.clear=function(){var r,i,o=null===(i=null===(r=this.config)||void 0===r?void 0:r.options[0])||void 0===i?void 0:i.value;this.config.value!==o&&this.events.fire(h.ItemEvent.beforeChange,[o])&&(this.config.value=o,this.events.fire(h.ItemEvent.change,[o]),(0,v.isVerify)(this.config)&&this.setValidationStatus(this.validate(!0)?"success":"error"),this.paint())},a.prototype.setValue=function(r){void 0!==r&&r!==this.config.value&&-1!==this.config.options.findIndex(function(i){return i.value===r})&&this.events.fire(h.ItemEvent.beforeChange,[r])&&(this.config.value=r,this.events.fire(h.ItemEvent.change,[r]),(0,v.isVerify)(this.config)&&this.validate(),this.paint())},a.prototype.focus=function(){var r=this;(0,m.awaitRedraw)().then(function(){r.getRootView().refs.select.el.focus()})},a.prototype.blur=function(){var r=this;(0,m.awaitRedraw)().then(function(){r.getRootView().refs.select.el.blur()})},a.prototype.getValue=function(){return this.config.value},a.prototype.setOptions=function(r){if(!r||!r.length)throw new Error("Function argument cannot be empty, for more info check documentation https://docs.dhtmlx.com/suite/form__select.html#addingselect");this.events.fire(h.ItemEvent.beforeChangeOptions,[x([],r,!0)])&&(this._checkOptions(r),this.config.options=x([],r,!0),this.events.fire(h.ItemEvent.changeOptions,[x([],r,!0)]),this.setValue(this.config.options[0].value),this.paint())},a.prototype.getOptions=function(){return this.config.options},a.prototype._initView=function(r){if((0,p.isEmptyObj)(r))throw new Error("Check the configuration is correct");for(var i in this._checkOptions(r.options),this.config={type:r.type,id:r.id,name:r.name,disabled:!1,hidden:!1,required:!1,icon:"",label:"",labelWidth:"",labelPosition:"top",hiddenLabel:!1,helpMessage:"",preMessage:"",successMessage:"",errorMessage:"",width:"content",height:"content",options:r.options,value:r.options[0].value},r)"id"!==i&&"type"!==i&&"name"!==i&&(this.config[i]=r[i]);!this.config.disabled&&this.config.options.length&&this.config.options.every(function(o){return o.disabled})&&(this.config.disabled=!0),this.paint()},a.prototype._getHandlers=function(){var r=this;return{onchange:function(i){var o=r.config.options.map(function(l){return l.value}).find(function(l){return l==i.target.value});r.events.fire(h.ItemEvent.beforeChange,[o])&&(r.config.value=o,r.events.fire(h.ItemEvent.change,[o]),(0,v.isVerify)(r.config)&&r.validate(),r.paint())},onblur:function(){r._uid&&(r.events.fire(h.ItemEvent.blur,[r.getValue()]),r.paint())},onfocus:function(){r.events.fire(h.ItemEvent.focus,[r.getValue()]),r.paint()}}},a.prototype._draw=function(){var r,i,o,l=this.config,f=l.id,_=l.options,b=l.icon,I=l.value,O=l.label,P=l.labelWidth,R=l.helpMessage,N=l.required,V=l.name,U=(null===(o=null===(i=null===(r=this.getRootView())||void 0===r?void 0:r.refs)||void 0===i?void 0:i.select)||void 0===o?void 0:o.el)===document.activeElement;return(0,m.el)(".dhx_form-group",{class:(0,v.getFormItemCss)(this.config,(0,v.isVerify)(this.config),U)},[(O||P||R)&&this._drawLabel(),(0,m.el)(".dhx_input__wrapper",{},[(0,m.el)("div.dhx_input__container",{},[(0,m.el)(".dhx_input__icon",{class:b||"dxi dxi-menu-down"}),(0,m.el)("select.dhx_select.dhx_input",{id:f,_key:f||this._uid,"data-dhx-id":V||f,tabindex:0,class:U&&"dhx_input--focus",onchange:this._handlers.onchange,onfocus:this._handlers.onfocus,onblur:this._handlers.onblur,onkeydown:this._handlers.onkeydown,_ref:"select",required:N},_.length&&_.map(function(B){return(0,m.el)("option",{value:B.value,disabled:B.disabled,selected:I===B.value},B.content)}))]),(0,v.getValidationMessage)(this.config)&&(0,m.el)("span.dhx_input__caption",(0,v.getValidationMessage)(this.config))])])},a.prototype._checkOptions=function(r){if(0===r.length)throw new Error("Property options* cannot be empty, for more info check documentation https://docs.dhtmlx.com/suite/form__select.html#addingselect");r.forEach(function(i){if(!i.hasOwnProperty("value")||!i.hasOwnProperty("content"))throw new Error("The object must contain two required properties value and content, for more info check documentation https://docs.dhtmlx.com/suite/form__select.html#addingselect")})},a}(y.Label);E.Select=c},function(ne,E,D){"use strict";var S,T=this&&this.__extends||(S=function(c,d){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,r){a.__proto__=r}||function(a,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(a[i]=r[i])})(c,d)},function(c,d){if("function"!=typeof d&&null!==d)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");function a(){this.constructor=c}S(c,d),c.prototype=null===d?Object.create(d):(a.prototype=d.prototype,new a)}),C=this&&this.__assign||function(){return C=Object.assign||function(c){for(var d,a=1,r=arguments.length;a<r;a++)for(var i in d=arguments[a])Object.prototype.hasOwnProperty.call(d,i)&&(c[i]=d[i]);return c},C.apply(this,arguments)},x=this&&this.__spreadArray||function(c,d,a){if(a||2===arguments.length)for(var r,i=0,o=d.length;i<o;i++)!r&&i in d||(r||(r=Array.prototype.slice.call(d,0,i)),r[i]=d[i]);return c.concat(r||Array.prototype.slice.call(d))};Object.defineProperty(E,"__esModule",{value:!0}),E.Textarea=void 0;var m=D(0),p=D(6),y=D(41),v=D(4),u=D(1),h=function(c){function d(){var a=null!==c&&c.apply(this,arguments)||this;return a._propsItem=["required","validation","placeholder","readOnly","maxlength","minlength","label","labelWidth","labelPosition","hiddenLabel","helpMessage","preMessage","successMessage","errorMessage"],a._props=x(x([],p.baseProps,!0),a._propsItem,!0),a}return T(d,c),d.prototype.getValue=function(){var a;return String(null!==(a=this.config.value)&&void 0!==a?a:"")},d.prototype.isFocused=function(){var a,r,i;return(null===(i=null===(r=null===(a=this.getRootView())||void 0===a?void 0:a.refs)||void 0===r?void 0:r.textarea)||void 0===i?void 0:i.el)===document.activeElement},d.prototype.focus=function(){var a=this;(0,m.awaitRedraw)().then(function(){a.getRootView().refs.textarea.el.focus()})},d.prototype.blur=function(){var a=this;(0,m.awaitRedraw)().then(function(){a.getRootView().refs.textarea.el.blur()})},d.prototype.setProperties=function(a){if(a&&!(0,u.isEmptyObj)(a)&&this.events.fire(v.ItemEvent.beforeChangeProperties,[this.getProperties()])){for(var r in a)this._props.includes(r)&&(this.config[r]=a[r]);this.events.fire(v.ItemEvent.afterChangeProperties,[this.getProperties()]),this.paint()}},d.prototype.getProperties=function(){for(var a={},r=0,i=this._props;r<i.length;r++){var o=i[r];a[o]=this.config[o]}return a},d.prototype._initView=function(a){if((0,u.isEmptyObj)(a))throw new Error("Check the configuration is correct");for(var r in this.config={type:a.type,id:a.id,name:a.name,disabled:!1,hidden:!1,required:!1,validation:void 0,placeholder:"",readOnly:!1,label:"",labelWidth:"",labelPosition:"top",hiddenLabel:!1,helpMessage:"",preMessage:"",successMessage:"",errorMessage:"",width:"content",height:"content"},a)"id"!==r&&"type"!==r&&"name"!==r&&(this.config[r]=a[r]);this.paint()},d.prototype._draw=function(){var a,r,i,o=this,l=this.config,f=l.id,_=l.value,b=l.disabled,I=l.name,O=l.placeholder,P=l.required,R=l.resizable,N=l.readOnly,V=l.maxlength,U=l.minlength,B=l.label,F=l.helpMessage,W=l.height,M=(null===(i=null===(r=null===(a=this.getRootView())||void 0===a?void 0:a.refs)||void 0===r?void 0:r.textarea)||void 0===i?void 0:i.el)===document.activeElement;return(0,m.el)("div.dhx_form-group.dhx_form-group--textarea",{class:(0,p.getFormItemCss)(this.config,(0,p.isVerify)(this.config),M)},[this._drawLabel(),(0,m.el)(".dhx_input__wrapper",[(0,m.el)("textarea.dhx_input.dhx_input--textarea",{type:"text",id:f,"data-dhx-id":I||f,placeholder:O||"",value:(0,u.isDefined)(_)?_:"",name:I||"",disabled:b,required:P,readOnly:N,maxlength:V,minlength:U,onblur:this._handlers.onblur,oninput:this._handlers.oninput,onchange:this._handlers.onchange,onfocus:this._handlers.onfocus,onkeydown:this._handlers.onkeydown,_hooks:C(C({},this._getHooks()),{didInsert:function($){if("content"===W){var Y=$.el;Y.style.height=Y.scrollHeight+"px"}$.el.addEventListener("compositionend",o._handlers.oninput)}}),style:{resize:R?"both":"none"},_ref:"textarea","aria-label":B||"".concat(N?_:""," type text"),"aria-describedby":F?"dhx_label__help_".concat(f||this._uid):null}),(0,p.getValidationMessage)(this.config)&&(0,m.el)("span.dhx_input__caption",{},(0,p.getValidationMessage)(this.config))])])},d}(y.Input);E.Textarea=h},function(ne,E,D){"use strict";var S,T=this&&this.__extends||(S=function(h,c){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,a){d.__proto__=a}||function(d,a){for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(d[r]=a[r])})(h,c)},function(h,c){if("function"!=typeof c&&null!==c)throw new TypeError("Class extends value "+String(c)+" is not a constructor or null");function d(){this.constructor=h}S(h,c),h.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}),C=this&&this.__spreadArray||function(h,c,d){if(d||2===arguments.length)for(var a,r=0,i=c.length;r<i;r++)!a&&r in c||(a||(a=Array.prototype.slice.call(c,0,r)),a[r]=c[r]);return h.concat(a||Array.prototype.slice.call(c))};Object.defineProperty(E,"__esModule",{value:!0}),E.Text=void 0;var x=D(0),m=D(1),p=D(6),y=D(41),v=D(4),u=function(h){function c(){var d=null!==h&&h.apply(this,arguments)||this;return d._propsItem=["inputType","label","labelWidth","labelPosition","hiddenLabel","helpMessage"],d._props=C(C([],p.baseProps,!0),d._propsItem,!0),d}return T(c,h),c.prototype.setProperties=function(d){if(d&&!(0,m.isEmptyObj)(d)&&this.events.fire(v.ItemEvent.beforeChangeProperties,[this.getProperties()])){for(var a in d)this._props.includes(a)&&(this.config[a]=d[a]);this.events.fire(v.ItemEvent.afterChangeProperties,[this.getProperties()]),this.paint()}},c.prototype.getProperties=function(){for(var d={},a=0,r=this._props;a<r.length;a++){var i=r[a];d[i]=this.config[i]}return d},c.prototype._initView=function(d){if((0,m.isEmptyObj)(d))throw new Error("Check the configuration is correct");for(var a in this.config={type:d.type,id:d.id,name:d.name,disabled:!1,hidden:!1,value:"",inputType:"text",label:"",labelWidth:"",labelPosition:"top",hiddenLabel:!1,helpMessage:"",width:"content",height:"content"},d)"id"!==a&&"type"!==a&&"name"!==a&&(this.config[a]=d[a]);this.paint()},c.prototype._draw=function(){var d=this.config,a=d.id,r=d.value,i=d.name,o=d.inputType,l=d.label,f=(r??"").toString().length;return(0,x.el)("div.dhx_form-group.dhx_form-group--textinput",{class:(0,p.getFormItemCss)(this.config)},[this._drawLabel(),(0,x.el)(".dhx_input__wrapper",[(0,x.el)("input.dhx_input.dhx_input--textinput",{type:["text","number","password"].includes(o)?o:"text",readOnly:!0,id:a,"data-dhx-id":i||a,value:r??"",name:i,_ref:"input",tabindex:-1,role:"presentation","aria-label":l||r,size:f>20?f:20,onkeydown:this._handlers.onkeydown})])])},c}(y.Input);E.Text=u},function(ne,E,D){"use strict";var S,T=this&&this.__extends||(S=function(d,a){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=i[o])})(d,a)},function(d,a){if("function"!=typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function r(){this.constructor=d}S(d,a),d.prototype=null===a?Object.create(a):(r.prototype=a.prototype,new r)}),C=this&&this.__spreadArray||function(d,a,r){if(r||2===arguments.length)for(var i,o=0,l=a.length;o<l;o++)!i&&o in a||(i||(i=Array.prototype.slice.call(a,0,o)),i[o]=a[o]);return d.concat(i||Array.prototype.slice.call(a))};Object.defineProperty(E,"__esModule",{value:!0}),E.Combo=void 0;var x=D(0),m=D(1),p=D(6),y=D(51),v=D(3),u=D(9),h=D(4),c=function(d){function a(r,i){var o=d.call(this,null,i)||this;return o.events=new v.EventSystem,o._propsItem=["required","validation","placeholder","label","labelWidth","labelPosition","hiddenLabel","helpMessage","preMessage","successMessage","errorMessage","readonly","readOnly"],o._propsCombo=["template","filter","multiselection","selectAllButton","itemsCount","itemHeight","virtual","listHeight"],o._props=C(C(C([],p.baseProps,!0),o._propsItem,!0),o._propsCombo,!0),o._isClear=!1,o._initView(i),o._initHandlers(),o}return T(a,d),a.prototype.destructor=function(){this.events&&this.events.clear(),this.combobox&&this.combobox.destructor(),this.events=this._uid=this._propsCombo=this._propsItem=this._props=null,d.prototype._destructor.call(this),this.unmount()},a.prototype.setProperties=function(r){var i=this;(0,x.awaitRedraw)().then(function(){if(r&&!(0,m.isEmptyObj)(r)&&i.events.fire(h.ItemEvent.beforeChangeProperties,[i.getProperties()])){for(var o in r)i._props.includes(o)&&(i.config[o]=r[o]);var l=[];i.getWidget().data.forEach(function(f){return l.push(f)}),i.config.data=l,i._initView(i.config),i._initHandlers(),i.events.fire(h.ItemEvent.afterChangeProperties,[i.getProperties()])}})},a.prototype.getProperties=function(){for(var r={},i=0,o=this._props;i<o.length;i++){var l=o[i];r[l]=this.config[l]}return r},a.prototype.show=function(){var r=this.config,i=r.value;r.hidden&&this.events.fire(h.ItemEvent.beforeShow,[i])&&(this.config.hidden=!1,this.events.fire(h.ItemEvent.afterShow,[i]))},a.prototype.hide=function(r){var i=this.config,o=i.value;i.hidden&&!r||!this.events.fire(h.ItemEvent.beforeHide,[o,r])||(this.config.hidden=!0,this.events.fire(h.ItemEvent.afterHide,[o,r]))},a.prototype.isVisible=function(){return!this.config.hidden},a.prototype.disable=function(){this.config.disabled=!0,this.combobox.disable(),this.paint()},a.prototype.enable=function(){var r;this.config.disabled=!1,this.combobox.enable(),!(null===(r=this.parent)||void 0===r)&&r.isDisabled()&&this.parent.enable(),this.paint()},a.prototype.isDisabled=function(){return!!this.config.disabled},a.prototype.clear=function(){this.config.value&&(this.config.value="",this._isClear=!0,this.combobox.clear())},a.prototype.getValue=function(){return this.config.multiselection?this.combobox.getValue(!0)||[]:this.combobox.getValue()||""},a.prototype.setValue=function(r){void 0!==r&&r.toString()!==this.config.value.toString()&&(this._isClear=!1,this.combobox.setValue(r))},a.prototype.validate=function(r){var i=this;void 0===r&&(r=!1);for(var o=[],l=1;l<arguments.length;l++)o[l-1]=arguments[l];var f,_=o.length?o[0]:this.getValue();if(!r&&!this.events.fire(h.ItemEvent.beforeValidate,[_]))return!1;f=Array.isArray(_)?_.map(function(I){return i._getItemText(I)}):this._getItemText(_)||"";var b=!0;return(this.config.required||o.length)&&(b=this._existData(_)),"function"==typeof this.config.validation&&(b=this.config.validation(_,f)),r||(this.setValidationStatus(b?"success":"error"),this.config.required&&this._validationStatus(),this.events.fire(h.ItemEvent.afterValidate,[_,b]),this.paint()),b},a.prototype.clearValidate=function(){this.setValidationStatus(),this._validationStatus(),this.paint()},a.prototype.getWidget=function(){return this.combobox},a.prototype.focus=function(){var r=this;(0,x.awaitRedraw)().then(function(){r.combobox.focus()})},a.prototype.blur=function(){var r=this;(0,x.awaitRedraw)().then(function(){r.combobox.blur()})},a.prototype._initView=function(r){if((0,m.isEmptyObj)(r))throw new Error("Check the configuration is correct");this.combobox&&this.combobox.destructor(),this.config={type:r.type,id:r.id,name:r.name,disabled:!1,hidden:!1,value:"",readOnly:!1,multiselection:!1,selectAllButton:!1,itemHeight:32,virtual:!1,listHeight:224,required:!1,placeholder:"",label:"",labelWidth:"",labelPosition:"top",hiddenLabel:!1,helpMessage:"",preMessage:"",successMessage:"",errorMessage:"",width:"content",height:"content"};var i={};for(var o in r)"id"!==o&&"type"!==o&&"name"!==o&&(this.config[o]=r[o],"validation"!==o&&(i[o]=r[o]));this.combobox=new y.Combobox(null,i),this.paint()},a.prototype._initHandlers=function(){var r=this;this.combobox.events.on(y.ComboboxEvents.beforeChange,function(i){return r.events.fire(h.ItemEvent.beforeChange,[i])}),this.combobox.events.on(y.ComboboxEvents.change,function(){var i=r.config.value=r.getValue();r.events.fire(h.ItemEvent.change,[i]),(0,p.isVerify)(r.config)&&(r._isClear?(r.setValidationStatus(r.validate(!0)?"success":"error"),r._isClear=!1):r.validate()),r.paint()}),this.combobox.events.on(y.ComboboxEvents.focus,function(){r.events.fire(h.ItemEvent.focus,[r.getValue()]),r.paint()}),this.combobox.events.on(y.ComboboxEvents.blur,function(){r.events.fire(h.ItemEvent.blur,[r.getValue()]),r.paint()}),this.combobox.events.on(y.ComboboxEvents.keydown,function(i,o){"Enter"===i.code&&i.preventDefault(),r.events.fire(h.ItemEvent.keydown,[i,o])})},a.prototype._validationStatus=function(){var r,i,o;if(!this.combobox.popup.isVisible()&&(null===(o=null===(i=null===(r=this.combobox.getRootView())||void 0===r?void 0:r.refs)||void 0===i?void 0:i.input)||void 0===o?void 0:o.el)!==document.activeElement)switch(this.config.$validationStatus){case h.ValidationStatus.success:return this.combobox.config.css=(this.config.css||"")+" dhx_form-group--state_success";case h.ValidationStatus.error:return this.combobox.config.css=(this.config.css||"")+" dhx_form-group--state_error";default:return this.combobox.config.css=this.config.css||""}return this.combobox.config.css=this.config.css||""},a.prototype._getRootView=function(){return this.combobox.getRootView()},a.prototype._draw=function(){var r=this.config,i=r.labelWidth,o=r.labelPosition;return(0,x.el)(".dhx_form-group.dhx_form-group--combobox",{"data-dhx-id":r.name||r.id},[(0,x.el)("div.dhx_form-combobox__container",[(0,x.inject)(this._getRootView())]),(0,x.el)("div.dhx_form-combobox__wrapper",{style:{"margin-left":"".concat(i&&"left"===o?"calc(".concat(i," + 16px)"):"")},class:this._validationStatus()},[(0,x.el)("span.dhx_input__caption",(0,p.getValidationMessage)(this.config))])])},a.prototype._existData=function(r){var i=this;return!!(0,m.isDefined)(r)&&(r instanceof Array?!!r.length&&r.every(function(o){return i.combobox.data.exists(o)}):this.combobox.data.exists(r))},a.prototype._getItemText=function(r){var i;return null===(i=this.combobox.data.getItem(r))||void 0===i?void 0:i.value},a}(u.Label);E.Combo=c},function(ne,E,D){"use strict";var S,T=this&&this.__extends||(S=function(a,r){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(i[l]=o[l])})(a,r)},function(a,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function i(){this.constructor=a}S(a,r),a.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}),C=this&&this.__assign||function(){return C=Object.assign||function(a){for(var r,i=1,o=arguments.length;i<o;i++)for(var l in r=arguments[i])Object.prototype.hasOwnProperty.call(r,l)&&(a[l]=r[l]);return a},C.apply(this,arguments)},x=this&&this.__spreadArray||function(a,r,i){if(i||2===arguments.length)for(var o,l=0,f=r.length;l<f;l++)!o&&l in r||(o||(o=Array.prototype.slice.call(r,0,l)),o[l]=r[l]);return a.concat(o||Array.prototype.slice.call(r))};Object.defineProperty(E,"__esModule",{value:!0}),E.SliderForm=void 0;var m=D(0),p=D(1),y=D(75),v=D(3),u=D(9),h=D(4),c=D(6),d=function(a){function r(i,o){var l=a.call(this,i,o)||this;return l.events=new v.EventSystem,l._propsItem=["label","labelWidth","labelPosition","hiddenLabel","helpMessage"],l._propsSlider=["min","max","step","mode","range","inverse","tooltip","tick","tickTemplate","majorTick"],l._props=x(x(x([],c.baseProps,!0),l._propsItem,!0),l._propsSlider,!0),l._initView(o),l._initHandlers(),l.mount(i,(0,m.create)({render:function(){return l._drawSlider()}})),l}return T(r,a),r.prototype.destructor=function(){this.events&&this.events.clear(),this.slider&&this.slider.destructor(),this.events=this._uid=this._propsSlider=this._propsItem=this._props=null,a.prototype._destructor.call(this),this.unmount()},r.prototype.setProperties=function(i){if(i&&!(0,p.isEmptyObj)(i)&&this.events.fire(h.ItemEvent.beforeChangeProperties,[this.getProperties()])){for(var o in i)this._props.includes(o)&&(this.config[o]=i[o]);this._initView(this.config),this._initHandlers(),this.events.fire(h.ItemEvent.afterChangeProperties,[this.getProperties()]),this.slider.paint(),this.paint()}},r.prototype.getProperties=function(){for(var i={},o=0,l=this._props;o<l.length;o++){var f=l[o];i[f]=this.config[f]}return i},r.prototype.show=function(){var i=this.config,o=i.value;i.hidden&&this.events.fire(h.ItemEvent.beforeShow,[o])&&(this.config.hidden=!1,this.events.fire(h.ItemEvent.afterShow,[o]))},r.prototype.hide=function(i){var o=this.config,l=o.value;o.hidden&&!i||!this.events.fire(h.ItemEvent.beforeHide,[l,i])||(this.config.hidden=!0,this.events.fire(h.ItemEvent.afterHide,[l,i]))},r.prototype.isVisible=function(){return!this.config.hidden},r.prototype.disable=function(){this.config.disabled=!0,this.slider.disable(),this.paint()},r.prototype.enable=function(){var i;this.config.disabled=!1,this.slider.enable(),!(null===(i=this.parent)||void 0===i)&&i.isDisabled()&&this.parent.enable(),this.paint()},r.prototype.isDisabled=function(){return!!this.config.disabled},r.prototype.clear=function(){var i=this.config,l=i.min;i.value[0]!==l&&this.slider.setValue(l)},r.prototype.getValue=function(){return this.slider.getValue()},r.prototype.setValue=function(i){void 0!==i&&i.toString()!==this.config.value.toString()&&this.slider.setValue(i)},r.prototype.getWidget=function(){return this.slider},r.prototype.focus=function(i){var o=this;(0,m.awaitRedraw)().then(function(){o.slider.focus(i)})},r.prototype.blur=function(){var i=this;(0,m.awaitRedraw)().then(function(){i.slider.blur()})},r.prototype._initView=function(i){if((0,p.isEmptyObj)(i))throw new Error("Check the configuration is correct");this.slider&&this.slider.destructor();var o={type:i.type,id:i.id,name:i.name,mode:"horizontal",min:0,max:100,step:1,range:!1,inverse:!1,tooltip:!0,disabled:!1,hidden:!1,label:"",labelWidth:"",labelPosition:"top",hiddenLabel:!1,helpMessage:"",width:"content",height:"content"};for(var l in i)"id"!==l&&"type"!==l&&"name"!==l&&(o[l]=i[l]);this.config=C({type:this.config.type},o),this.slider=new y.Slider(null,o),this.config.disabled&&this.slider.disable(),this.config.value=this.slider.getValue()},r.prototype._initHandlers=function(){var i=this;this.slider.events.on(y.SliderEvents.beforeChange,function(o,l,f){var _=[o];if(i.config.range){var b=i.getValue();_=f?[b[0],o]:[o,b[1]]}return i.events.fire(h.ItemEvent.beforeChange,[_])}),this.slider.events.on(y.SliderEvents.change,function(){if(i._uid){var o=i.config.value=i.slider.getValue();i.events.fire(h.ItemEvent.change,[o]),i.paint()}}),this.slider.events.on(y.SliderEvents.focus,function(){i.events.fire(h.ItemEvent.focus,[i.getValue()])}),this.slider.events.on(y.SliderEvents.blur,function(){i.events.fire(h.ItemEvent.blur,[i.getValue()])}),this.slider.events.on(y.SliderEvents.keydown,function(o){i.events.fire(h.ItemEvent.keydown,[o])})},r.prototype._drawSlider=function(){var i=this.config;return(0,m.el)("div.dhx_form-group",{"data-dhx-id":i.name||i.id},[(0,m.inject)(this.slider.getRootView())])},r}(u.Label);E.SliderForm=d},function(ne,E,D){"use strict";var S=this&&this.__createBinding||(Object.create?function(C,x,m,p){void 0===p&&(p=m);var y=Object.getOwnPropertyDescriptor(x,m);y&&!("get"in y?!x.__esModule:y.writable||y.configurable)||(y={enumerable:!0,get:function(){return x[m]}}),Object.defineProperty(C,p,y)}:function(C,x,m,p){void 0===p&&(p=m),C[p]=x[m]}),T=this&&this.__exportStar||function(C,x){for(var m in C)"default"===m||Object.prototype.hasOwnProperty.call(x,m)||S(x,C,m)};Object.defineProperty(E,"__esModule",{value:!0}),T(D(107),E),T(D(229),E),T(D(42),E)},function(ne,E,D){"use strict";var S,T=this&&this.__extends||(S=function(R,N){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(V,U){V.__proto__=U}||function(V,U){for(var B in U)Object.prototype.hasOwnProperty.call(U,B)&&(V[B]=U[B])})(R,N)},function(R,N){if("function"!=typeof N&&null!==N)throw new TypeError("Class extends value "+String(N)+" is not a constructor or null");function V(){this.constructor=R}S(R,N),R.prototype=null===N?Object.create(N):(V.prototype=N.prototype,new V)}),C=this&&this.__assign||function(){return C=Object.assign||function(R){for(var N,V=1,U=arguments.length;V<U;V++)for(var B in N=arguments[V])Object.prototype.hasOwnProperty.call(N,B)&&(R[B]=N[B]);return R},C.apply(this,arguments)},x=this&&this.__spreadArray||function(R,N,V){if(V||2===arguments.length)for(var U,B=0,F=N.length;B<F;B++)!U&&B in N||(U||(U=Array.prototype.slice.call(N,0,B)),U[B]=N[B]);return R.concat(U||Array.prototype.slice.call(N))};Object.defineProperty(E,"__esModule",{value:!0}),E.Vault=void 0;var m=D(1),p=D(0),y=D(3),v=D(2),u=D(34),h=D(5),c=D(8),d=D(16),a=D(21),r=D(102),i=D(30),o=D(60),l=D(42),f=D(107),_=D(230),b=D(231),I=D(232),O=D(233),P=function(R){function N(V,U){void 0===U&&(U={});var B=R.call(this,null,(0,m.extend)({mode:l.VaultMode.list,toolbar:!0,updateFromResponse:!0,scaleFactor:4,customScroll:!0,uploader:{},progressBar:{}},U))||this;return B.config.toolbar||(B.config.uploader.autosend=!0),U.data?(B.data=U.data,B.events=U.data.events,B.events.context=B):(B.events=new y.EventSystem(B),B.data=new c.DataCollection({},B.events)),B.data.config.init=function(F){return F.status=F.status||l.FileStatus.uploaded,F.file?(F.size=F.file.size,F.name=F.file.name):(F.size=F.size||0,F.name=F.name||""),B.config.mode===l.VaultMode.grid&&F.file&&(0,b.isImage)(F)&&B._readStack.add(F,B.uploader.config.autosend),F},B._readStack=new O.ReadStackPreview(B.data),B.uploader=new f.Uploader(B.config.uploader,B.data,B.events),B._scrollView=new u.ScrollView(function(){return B._vaultView.getRootView()}),B._progressBar=new I.ProgressBar(B.events,B.config.progressBar),B.events.on(l.UploaderEvents.uploadProgress,function(F,W,M){return B._progressBar.setState(F,{current:W,total:M})}),B._initHandlers(),B._initUI(V),B._initEvents(),B}return T(N,R),N.prototype.destructor=function(){this.toolbar.destructor(),this._readStack.stop(),this.uploader.unlinkDropArea(),this.uploader.abort()},N.prototype.getRootView=function(){return this._layout.getRootView()},N.prototype._initUI=function(V){var U=this,B=this.config.toolbar?_.layoutConfig:_.layoutConfigWithoutTopbar;B.on=this._getDragEvents();var F=this._layout=new d.Layout(V,B),W=this.toolbar=new r.Toolbar(null,{css:"vault-toolbar"});this.toolbar.data.parse([{id:"add",tooltip:o.default.add,type:"button",icon:"dxi-plus"},{id:"upload",tooltip:o.default.upload,type:"button",icon:"dxi icon-upload"},{id:"spacer",type:"spacer"},{id:"remove-all",tooltip:o.default.clearAll,type:"button",icon:"dxi-delete-forever"}]),this._hideUploadAndDeleteButtons(),this._vaultView=(0,h.toViewLike)((0,p.create)({render:function(){return U._draw()}})),this.config.toolbar&&F.getCell("topbar").attach(W),F.getCell("vault").attach(this._vaultView)},N.prototype._initHandlers=function(){var V=this;this._handlers={onclick:{".action-add":function(){return V.uploader.selectFile()},".action-remove-file":function(U){var B=(0,v.locate)(U);B&&(V.data.update(B,{$toRemove:!0}),setTimeout(function(){V.data.update(B,{$toRemove:!1},!0),V.data.remove(B)},200))}},onmouseover:{".action-download":function(U){(0,a.tooltip)(o.default.download,{node:U.target,position:a.Position.bottom})},".action-remove-file":function(U){(0,a.tooltip)(o.default.clear,{node:U.target,position:a.Position.bottom})},".title-content, .dhx-file-name":function(U){var B=(0,v.locate)(U),F=V.data.getItem(B);(0,a.tooltip)(F.name,{node:U.target,position:a.Position.bottom,css:"tooltip-light"})}}}},N.prototype._getDragEvents=function(){var V=this,U={left:null,top:null,width:null,height:null};return{dragleave:function(B){V._canDrop&&(B.pageX>U.left+U.width-1||B.pageX<U.left||B.pageY>U.top+U.height-1||B.pageY<U.top)&&(V._canDrop=!1,V.config.toolbar&&V._layout.getCell("topbar").show(),V._layout.config.css="vault-layout",V._layout.paint())},dragenter:function(B){if(B.preventDefault(),!V.uploader.isActive&&!V._canDrop){for(var F=0,W=B.dataTransfer.types;F<W.length;F++){var M=W[F];if("Files"!==M&&"application/x-moz-file"!==M)return void(V._canDrop=!1)}V._canDrop=!0;var $=V.getRootView().node.el.getBoundingClientRect();U.left=$.left+window.pageXOffset,U.top=$.top+window.pageYOffset,U.width=$.width,U.height=$.height,V._canDrop=!0,V.config.toolbar&&V._layout.getCell("topbar").hide(),V._layout.config.css="vault-layout dhx-dragin",V._layout.paint()}},dragover:function(B){B.preventDefault()},drop:function(B){B.preventDefault(),V._canDrop&&(V.uploader.parseFiles(B.dataTransfer),V._canDrop=!1,V.config.toolbar&&V._layout.getCell("topbar").show(),V._layout.config.css="vault-layout",V._layout.paint())}}},N.prototype._hideUploadAndDeleteButtons=function(){this.toolbar.hide(["upload","remove-all"])},N.prototype._showUploadAndDeleteButtons=function(){this.toolbar.show(this.uploader.config.autosend?"remove-all":["upload","remove-all"])},N.prototype._initEvents=function(){var V=this;this.data.events.on(c.DataEvents.change,function(){V.data.getLength()?V._showUploadAndDeleteButtons():V._hideUploadAndDeleteButtons(),V._vaultView.paint()}),this.events.on(l.UploaderEvents.uploadBegin,function(){V.config.toolbar&&V._layout.getCell("topbar").attach(V._progressBar)}),this.events.on(l.UploaderEvents.uploadComplete,function(){V.config.mode===l.VaultMode.grid&&V.uploader.config.autosend&&V._readStack.read(),V.config.toolbar&&V._layout.getCell("topbar").attach(V.toolbar)}),this.toolbar.events.on(i.NavigationBarEvents.click,function(U){switch(U){case"add":V.uploader.selectFile();break;case"remove-all":V.data.removeAll();break;case"upload":V.uploader.send()}}),this.events.on(l.ProgressBarEvents.cancel,function(){V.uploader.abort(),V._vaultView.paint()})},N.prototype._draw=function(){var V=!this.data.getLength(),U=this.config.mode===l.VaultMode.grid?this._drawGrid():this._drawList();return(0,p.el)("div",C(C({class:"vault dhx_widget"+(this._canDrop?" drop-here":"")},this._handlers),{"data-dhx-widget-id":this._uid}),[this._canDrop||V?this._drawDropableArea():this.config.customScroll?this._scrollView.render(U):U])},N.prototype._getFileActions=function(V){var U=[],B=[],F=[(0,p.el)(".dhx-default-actions",U),(0,p.el)(".dhx-hover-actions",B)];if(V.status===l.FileStatus.inprogress)return F;if(V.status!==l.FileStatus.failed&&V.link){var W=(this.config.downloadURL||"")+V.link,M=W.split("/").pop().split("?")[0],$=(0,p.el)("a",{download:M,class:"download-link",href:W},[(0,p.el)(".icon-btn.dxi.dxi-download.action-download")]);B.push($)}var Y=(0,p.el)(".icon-btn.dxi.dxi-delete-forever.action-remove-file");if(B.push(Y),V.status===l.FileStatus.failed){var ee=(0,p.el)(".dxi.dxi-alert-circle.warning-status");U.push(ee)}if(V.status===l.FileStatus.uploaded){var J=(0,p.el)(".dxi.dxi-checkbox-marked-circle.uploaded-status");U.push(J)}return F},N.prototype._drawList=function(){var V=this;return(0,p.el)(".dhx-files-block.dhx-webkit-scroll",this.data.map(function(U){var B=U.status===l.FileStatus.failed&&U.request,F=U.status===l.FileStatus.inprogress,M=U.status!==l.FileStatus.uploaded;return(0,p.el)("div",{class:"dhx-file-item"+(U.$toRemove?" to-remove":"")+(U.status===l.FileStatus.queue?" in-queue":""),"data-dhx-id":U.id,_key:U.id},[(0,p.el)(".dhx-file-icon",[(0,p.el)("div",{class:"dhx-file-type "+(0,b.getFileClassName)(U)+(M?" not-loaded":"")})]),(0,p.el)(".dhx-file-title",[(0,p.el)(".dhx-title-content",U.name),(0,p.el)(".dhx-file-info",[B&&(0,p.el)(".warn-message",U.request.statusText||o.default.error),F?(0,p.el)(".progress-value",(100*U.progress).toFixed(1)+"%"):(0,p.el)(".dhx-size"+(B?".dhx-size-error":""),(0,b.getBasis)(U.size))])]),F&&(0,p.el)(".dhx-download-progress",{style:{width:(100*U.progress).toFixed(1)+"%"}}),!F&&(0,p.el)(".dhx-file-action",V._getFileActions(U))])}))},N.prototype._drawDropableArea=function(){return(0,p.el)(".dhx-dropable-area.drop-files-here",[(0,p.el)(".dhx-big-icon-block",[(0,p.el)(".dxi.icon-upload")]),!this._canDrop&&(0,p.el)(".drop-area-bold-text",o.default.dragAndDrop),!this._canDrop&&(0,p.el)(".drop-area-bold-text",o.default.filesOrFoldersHere),!this._canDrop&&(0,p.el)(".drop-area-light-text",o.default.or),!this._canDrop&&(0,p.el)("button.dhx_btn.dhx_btn--flat.dhx_btn--small.action-add",o.default.browse)])},N.prototype._drawGrid=function(){var V=this;return(0,p.el)("div",{class:"dhx-files-grid dhx-webkit-scroll"},[(0,p.el)(".dhx-grid-content",this.data.map(function(U){var B=U.status===l.FileStatus.inprogress,W=U.status===l.FileStatus.failed;return(0,p.el)("div",{class:"dhx-file-grid-item"+(B?" in-progress":"")+(U.$toRemove?" to-remove":"")+(U.status===l.FileStatus.queue?" in-queue":"")+(W?" failed":""),"data-dhx-id":U.id,_key:U.id},[(0,p.el)(".dhx-preview-wrapper",x(x([U.preview?(0,p.el)(".dhx-server-file-preview",[(0,p.el)("img",{src:U.preview})]):U.image?(0,p.el)("canvas",{width:98*V.config.scaleFactor,height:98*V.config.scaleFactor,_hooks:{didInsert:function(M){var $=(0,b.calculateCover)(U.image),Y=$.dx,ee=$.dy,J=$.sx,Z=$.sy,j=$.sHeight,L=$.sWidth;M.el.getContext("2d").drawImage(U.image,J,Z,L,j,Y,ee,98*V.config.scaleFactor,98*V.config.scaleFactor)}}}):(0,p.el)("div",{class:"dhx-file-preview dhx-file-type "+(0,b.getFileClassName)(U)}),B&&V._drawCircle(U.progress)],V._getFileActions(U),!0),[(0,p.el)(".dhx-file-info",[W&&(0,p.el)(".warn-message",U.request.statusText||o.default.error),!B&&(0,p.el)(".dhx-size"+(W?".dhx-size-error":""),(0,b.getBasis)(U.size))])],!1)),(0,p.el)(".dhx-file-name",(0,b.truncateWord)(U.name))])}))])},N.prototype._drawCircle=function(V){return(0,p.el)(".progress-layout",[(0,p.el)(".progress-amount",(100*V).toFixed(1)+"%"),(0,p.sv)("svg",{xmlns:"http://www.w3.org/2000/svg",class:"progress-circle",viewBox:"0 0 60 60"},[(0,p.sv)("circle",{cx:30,cy:30,r:28,"stroke-width":4,class:"progress-bar-background"}),(0,p.sv)("circle.active-circle",{cx:30,cy:30,r:28,"stroke-width":4,"stroke-dasharray":"175.9 175.9","stroke-dashoffset":175.9*(1-V),class:"progress-bar-active"})])])},N}(h.View);E.Vault=P},function(ne,E,D){"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.layoutConfigWithoutTopbar=E.layoutConfig=void 0,E.layoutConfig={css:"vault-layout",rows:[{id:"topbar",css:"vault-topbar"},{id:"vault",css:"vault-file-grid"}]},E.layoutConfigWithoutTopbar={css:"vault-layout",rows:[{id:"vault",css:"vault-file-grid"}]}},function(ne,E,D){"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.isImage=E.getFileClassName=E.getFileType=E.FileType=E.calculateCover=E.truncateWord=E.getBasis=void 0;var C,p,S=D(60),T=["byte","kilobyte","megabyte","gigabyte"];function x(p){return{extension:p.name.split(".").pop()||"none",mime:p.file?p.file.type:""}}function m(p,y){switch(p){case"jpg":case"jpeg":case"gif":case"png":case"bmp":case"tiff":case"pcx":case"svg":case"ico":return C.image;case"avi":case"mpg":case"mpeg":case"rm":case"move":case"mov":case"mkv":case"flv":case"f4v":case"mp4":case"3gp":case"wmv":case"webm":case"vob":return C.video;case"rar":case"zip":case"tar":case"tgz":case"arj":case"gzip":case"bzip2":case"7z":case"ace":case"apk":case"deb":case"zipx":case"cab":case"tar-gz":case"rpm":case"xar":return C.archive;case"xlr":case"xls":case"xlsm":case"xlsx":case"ods":case"csv":case"tsv":return C.table;case"doc":case"docx":case"docm":case"dot":case"dotx":case"odt":case"wpd":case"wps":case"pages":return C.document;case"wav":case"aiff":case"au":case"mp3":case"aac":case"wma":case"ogg":case"flac":case"ape":case"wv":case"m4a":case"mid":case"midi":return C.audio;case"pot":case"potm":case"potx":case"pps":case"ppsm":case"ppsx":case"ppt":case"pptx":case"pptm":case"odp":return C.presentation;case"html":case"htm":case"eml":return C.web;case"exe":return C.application;case"dmg":return C.apple;case"pdf":case"ps":case"eps":return C.pdf;case"psd":return C.psd;case"txt":case"djvu":case"nfo":case"xml":return C.text;default:switch(y.split("/")[0]){case"image":return C.image;case"audio":return C.audio;case"video":return C.video;default:return C.other}}}E.getBasis=function(p,y){return void 0===p&&(p=0),void 0===y&&(y=0),p<1024?p+" "+S.default[T[y]]:this.getBasis(Math.round(p/1024),y+1)},E.truncateWord=function(p,y){var v,u;if(void 0===y&&(y=13),p.length<=y)return p;var h=p.lastIndexOf(".");if(-1===h)u=p.substr(p.length-4),v=p.substr(0,y-7);else{var c=h-3;u=p.substr(c),v=p.substr(0,y-(p.length-c))}return v+"..."+u},E.calculateCover=function(p){var y,v,u,h,c=p.width,d=p.height,a=c/d;return a>1?(y=d,u=(c-(v=d))/2,h=0):a<1?(v=c,u=0,h=(d-(y=c))/2):(y=c,v=c,u=0,h=0),{sx:u,sy:h,sWidth:v,sHeight:y,dx:0,dy:0}},(p=C||(E.FileType=C={})).image="image",p.video="video",p.archive="archive",p.table="table",p.document="document",p.presentation="presentation",p.application="application",p.web="web",p.apple="apple",p.pdf="pdf",p.psd="psd",p.audio="audio",p.other="other",p.text="text",E.getFileType=m,E.getFileClassName=function(p){var y=x(p),u=y.extension;return m(u,y.mime)+" extension-"+u},E.isImage=function(p){var y=x(p);return m(y.extension,y.mime)===C.image}},function(ne,E,D){"use strict";var S,T=this&&this.__extends||(S=function(v,u){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,c){h.__proto__=c}||function(h,c){for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(h[d]=c[d])})(v,u)},function(v,u){if("function"!=typeof u&&null!==u)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function h(){this.constructor=v}S(v,u),v.prototype=null===u?Object.create(u):(h.prototype=u.prototype,new h)});Object.defineProperty(E,"__esModule",{value:!0}),E.ProgressBar=void 0;var C=D(0),x=D(5),m=D(60),p=D(42),y=function(v){function u(h,c){var d=v.call(this,null,c)||this;return d.events=h,d._progress=0,d.mount(null,(0,C.create)({render:function(){return d._draw()}})),d._abortUpload=function(){d.events.fire(p.ProgressBarEvents.cancel)},d}return T(u,v),u.prototype.setState=function(h,c){this._progress=h,this._progressText=this.config.template?this.config.template(h,c):this._progress.toFixed(1)+"%",this.paint()},u.prototype._draw=function(){return(0,C.el)(".progress-bar",{_key:this._uid},[(0,C.el)(".progress-indicator",{style:{width:this._progress+"%"}}),(0,C.el)(".progress-text",{".innerHTML":this._progressText}),(0,C.el)("button",{class:"dhx_btn dhx_btn--flat dhx_btn_small action-abort-all",onclick:this._abortUpload},m.default.cancel)])},u}(x.View);E.ProgressBar=y},function(ne,E,D){"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.ReadStackPreview=void 0;var S=function(){function T(C){this._readerStack=[],this._isActive=!1,this._data=C}return T.prototype.add=function(C,x){void 0===x&&(x=!1),this._readerStack.push(C),x||this.read()},T.prototype.read=function(){var C=this;if(this._readerStack.length&&!this._isActive){var x=this._readerStack.shift();this._isActive=!0;var m=new FileReader;m.readAsDataURL(x.file),m.onload=function(p){var y=new Image;y.src=p.target.result,y.onload=function(){C._data.exists(x.id)&&C._data.update(x.id,{image:y}),C._isActive=!1,C.read()}},m.onerror=function(){C._isActive=!1,C.read()}}},T.prototype.stop=function(){this._readerStack=[]},T}();E.ReadStackPreview=S},function(ne,E,D){"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.default={simpleVaultText:"Drag & drop files or folders here or",simpleVaultLabel:"browse files"}},function(ne,E,D){"use strict";var S,T=this&&this.__extends||(S=function(r,i){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var f in l)Object.prototype.hasOwnProperty.call(l,f)&&(o[f]=l[f])})(r,i)},function(r,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function o(){this.constructor=r}S(r,i),r.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}),C=this&&this.__spreadArray||function(r,i,o){if(o||2===arguments.length)for(var l,f=0,_=i.length;f<_;f++)!l&&f in i||(l||(l=Array.prototype.slice.call(i,0,f)),l[f]=i[f]);return r.concat(l||Array.prototype.slice.call(i))};Object.defineProperty(E,"__esModule",{value:!0}),E.TimePicker=void 0;var x=D(73),m=D(0),p=D(1),y=D(9),v=D(11),u=D(3),h=D(4),c=D(6),d=D(14),a=function(r){function i(o,l){var f=r.call(this,null,l)||this;return f.events=new u.EventSystem,f._popupIsFocus=!1,f._propsItem=["required","validation","icon","placeholder","editable","label","labelWidth","labelPosition","hiddenLabel","helpMessage","preMessage","successMessage","errorMessage"],f._propsTimepicker=["timeFormat","controls","valueFormat"],f._props=C(C(C([],c.baseProps,!0),f._propsItem,!0),f._propsTimepicker,!0),f._keyManager=new d.KeyManager(function(){var _,b,I,O=document.activeElement;return(null===(I=null===(b=null===(_=f.getRootView())||void 0===_?void 0:_.refs)||void 0===b?void 0:b.input)||void 0===I?void 0:I.el)===O||f._popup.isVisible()}),f._initView(l),f._initHandlers(),f._initHotkeys(),f.mount(o,(0,m.create)({render:function(){return f._draw()}})),f}return T(i,r),i.prototype.destructor=function(){this.events&&this.events.clear(),this.timepicker&&this.timepicker.destructor(),this._keyManager&&this._keyManager.destructor(),this._popup&&this._popup.destructor(),this.events=this._uid=this._propsItem=this._propsTimepicker=this._props=this._keyManager=null,r.prototype._destructor.call(this),this.unmount()},i.prototype.setProperties=function(o){var l=this;(0,m.awaitRedraw)().then(function(){if(o&&!(0,p.isEmptyObj)(o)&&l.events.fire(h.ItemEvent.beforeChangeProperties,[l.getProperties()])){for(var f in o)l._props.includes(f)&&(l.config[f]=o[f]);l._initView(l.config),l._initHandlers(),l.events.fire(h.ItemEvent.afterChangeProperties,[l.getProperties()]),l.paint()}})},i.prototype.getProperties=function(){for(var o={},l=0,f=this._props;l<f.length;l++){var _=f[l];o[_]=this.config[_]}return o},i.prototype.show=function(){this.config.hidden&&this.events.fire(h.ItemEvent.beforeShow,[this.getValue("timeObject"===this.config.valueFormat)])&&(this.config.hidden=!1,this.events.fire(h.ItemEvent.afterShow,[this.getValue("timeObject"===this.config.valueFormat)]))},i.prototype.hide=function(o){this.config.hidden&&!o||!this.events.fire(h.ItemEvent.beforeHide,[this.getValue("timeObject"===this.config.valueFormat),o])||(this.config.hidden=!0,this.events.fire(h.ItemEvent.afterHide,[this.getValue("timeObject"===this.config.valueFormat),o]))},i.prototype.isVisible=function(){return!this.config.hidden},i.prototype.disable=function(){this.config.disabled=!0,this.paint()},i.prototype.enable=function(){var o;this.config.disabled=!1,!(null===(o=this.parent)||void 0===o)&&o.isDisabled()&&this.parent.enable(),this.paint()},i.prototype.isDisabled=function(){return!!this.config.disabled},i.prototype.validate=function(o){void 0===o&&(o=!1);for(var l=[],f=1;f<arguments.length;f++)l[f-1]=arguments[f];var _=l.length?l[0]:this.getValue(this._isTimeObject());if(!o&&!this.events.fire(h.ItemEvent.beforeValidate,[_]))return!1;var b=!0;return(this.config.required||l.length)&&(b=(0,c.isTimeFormat)("string"==typeof _?_:"".concat(_.hour,":").concat(_.minute).concat((0,p.isDefined)(_.AM)?_.AM?"AM":"PM":""),this.config.timeFormat)),"function"==typeof this.config.validation&&(b=this.config.validation(_)),o||(this.config.$validationStatus=b?h.ValidationStatus.success:h.ValidationStatus.error,this.events.fire(h.ItemEvent.afterValidate,[_,b]),this.paint()),b},i.prototype.clearValidate=function(){this.config.$validationStatus=h.ValidationStatus.pre,this.paint()},i.prototype.setValue=function(o){if(void 0!==o&&o!==this.config.value){if(this.timepicker.setValue(o),this.config.controls){var l=this.getValue(this._isTimeObject());if(!this.events.fire(h.ItemEvent.beforeChange,[l]))return;this.config.value=this.timepicker.getValue(),this.events.fire(h.ItemEvent.change,[l])}(0,c.isVerify)(this.config)&&this.validate(),this.paint()}},i.prototype.getValue=function(o){return o?this.timepicker.getValue(o):this.config.value||""},i.prototype.focus=function(){var o=this;(0,m.awaitRedraw)().then(function(){o.getRootView().refs.input.el.focus()})},i.prototype.blur=function(){var o=this;(0,m.awaitRedraw)().then(function(){o._popup.hide(),o.getRootView().refs.input.el.blur()})},i.prototype.clear=function(){""!==this.config.value&&this._clear()},i.prototype.getWidget=function(){return this.timepicker},i.prototype._initView=function(o){if((0,p.isEmptyObj)(o))throw new Error("Check the configuration is correct");for(var l in this.timepicker&&this.timepicker.destructor(),this._popup&&this._popup.destructor(),this.config={type:o.type,id:o.id,name:o.name,value:"",disabled:!1,editable:!1,hidden:!1,timeFormat:24,controls:!1,valueFormat:"string",required:!1,icon:"",placeholder:"",label:"",labelWidth:"",labelPosition:"top",hiddenLabel:!1,helpMessage:"",preMessage:"",successMessage:"",errorMessage:"",width:"content",height:"content"},o)"id"!==l&&"type"!==l&&"name"!==l&&(this.config[l]=o[l]);this._popup=new v.Popup,this.timepicker=new x.Timepicker(null,(0,c.widgetConfig)(o)),this._popup.attach(this.timepicker),this.config.value&&(this.config.value=this.timepicker.getValue())},i.prototype._initHandlers=function(){var o=this;this.config.controls?(this.timepicker.events.on(x.TimepickerEvents.afterClose,function(){o._popup.hide()}),this.timepicker.events.on(x.TimepickerEvents.afterApply,function(){o._afterApply(!0)}),this._popup.events.on(v.PopupEvents.afterHide,function(){o.config.value&&o.config.value!==o.timepicker.getValue()?o.timepicker.setValue(o.config.value):""!==o.config.value&&void 0!==o.config.value||o._clear(!0)})):(this.timepicker.events.on(x.TimepickerEvents.beforeChange,function(l){return o.events.fire(h.ItemEvent.beforeChange,[l])}),this.timepicker.events.on(x.TimepickerEvents.change,function(l){var f=12===o.config.timeFormat?"12:00AM":"00:00",_=o.timepicker.getValue();""===o.config.value&&f===_||o.config.value===_||(o.config.value=o.timepicker.getValue(),o.events.fire(h.ItemEvent.change,[l]),(0,c.isVerify)(o.config)&&o.validate(),o.paint())})),this._popup.events.on(v.PopupEvents.afterHide,function(){document.activeElement!==o.getRootView().refs.input.el&&o.events.fire(h.ItemEvent.blur,[o.getValue()]),o.paint()}),this.events.on(h.ItemEvent.input,function(l){l.length>=(12===o.config.timeFormat?7:5)&&(0,c.isTimeFormat)(l,o.config.timeFormat)?o.timepicker.setValue(l):""!==l||o.config.controls||o._clear()}),this.events.on(h.ItemEvent.afterChangeProperties,function(){o.config.value=o.timepicker.getValue(),o.paint()}),this.events.on(h.ItemEvent.blur,function(){o._popupIsFocus=!1,o.paint()})},i.prototype._getHandlers=function(){var o=this;return{onfocus:function(){if(!o._popup.isVisible()){var l=o.getRootView().refs.input.el;o._popup.show(l,{theme:l}),o.events.fire(h.ItemEvent.focus,[o.getValue()]),o.paint()}},onblur:function(){o._popup.isVisible()||o.events.fire(h.ItemEvent.blur,[o.getValue()]),o.paint()},oninput:function(l){o.events.fire(h.ItemEvent.input,[l.target.value])},onkeydown:function(l){var f,_,b,I=document.activeElement;((null===(b=null===(_=null===(f=o.getRootView())||void 0===f?void 0:f.refs)||void 0===_?void 0:_.input)||void 0===b?void 0:b.el)===I||o._popup.isVisible())&&o.events.fire(h.ItemEvent.keydown,[l])},onmousedown:function(){o._popup.getContainer()!==document.activeElement&&(o._popupIsFocus=!1)}}},i.prototype._initHotkeys=function(){var o=this,l={"shift+tab":function(){o._applyTab()},tab:function(){o._applyTab()},escape:function(){o._popup.isVisible()&&o.getRootView().refs.input.el.focus(),o._popup.hide()},enter:function(_){_.preventDefault();var b=o.getRootView().refs.input.el;o._popup.isVisible()||o._popup.show(b,{theme:b}),o._popupIsFocus&&o.config.controls?o._afterApply(!0):(o._popup.hide(),o.paint())},arrowRight:function(_){var b=o._popup.getContainer();o._popupIsFocus=b.contains(document.activeElement),o._popup.isVisible()&&!o._popupIsFocus&&(_.preventDefault(),b.focus(),o._popupIsFocus=!0)}};for(var f in l)this._keyManager.addHotKey(f,l[f])},i.prototype._draw=function(){var o,l,f,_=this.config,b=_.value,I=_.required,O=_.disabled,P=_.placeholder,R=_.name,N=_.id,V=_.editable,U=_.label,B=_.helpMessage,F=this._popup.isVisible()||(null===(f=null===(l=null===(o=this.getRootView())||void 0===o?void 0:o.refs)||void 0===l?void 0:l.input)||void 0===f?void 0:f.el)===document.activeElement;return(0,m.el)("div.dhx_form-group",{class:(0,c.getFormItemCss)(this.config,(0,c.isVerify)(this.config),F)},[this._drawLabel(),(0,m.el)(".dhx_input__wrapper",[(0,m.el)("div.dhx_input__container",{},[(0,m.el)(".dhx_input__icon.dxi.dxi-clock-outline"),(0,m.el)("input.dhx_input.dhx_input--icon-padding",{tabindex:0,"data-dhx-id":R||N,_key:this._uid,_ref:"input",value:b,type:"text",required:I,disabled:O,class:F&&"dhx_input--focus",placeholder:P||"",name:R||"",id:N||this._uid,onfocus:this._handlers.onfocus,onblur:this._handlers.onblur,oninput:this._handlers.oninput,onkeydown:this._handlers.onkeydown,onmousedown:this._handlers.onmousedown,autocomplete:"off",readOnly:!V,"aria-label":U||"".concat(V?"type or":""," select date"),"aria-describedby":B?"dhx_label__help_".concat(N||this._uid):null})]),(0,c.getValidationMessage)(this.config)&&(0,m.el)("span.dhx_input__caption",{},(0,c.getValidationMessage)(this.config))])])},i.prototype._clear=function(o){(o||this.events.fire(h.ItemEvent.beforeChange,[""]))&&(this.config.value="",this.timepicker.clear(),o||(this.events.fire(h.ItemEvent.change,[""]),(0,c.isVerify)(this.config)&&this.setValidationStatus(this.validate(!0)?"success":"error")),this.paint())},i.prototype._afterApply=function(o){if(void 0===o&&(o=!1),""!==this.getRootView().refs.input.el.value||o){var l=this.timepicker.getValue(this._isTimeObject());if(!this.events.fire(h.ItemEvent.beforeChange,[l]))return;this.config.value=this.timepicker.getValue(),this.events.fire(h.ItemEvent.change,[l]),(0,c.isVerify)(this.config)&&this.validate()}else this.clear();this._popup.hide(),this.paint()},i.prototype._applyTab=function(){var o,l,f;document.activeElement===(null===(f=null===(l=null===(o=this._popup.getRootView())||void 0===o?void 0:o.refs)||void 0===l?void 0:l.content)||void 0===f?void 0:f.el)||this._popupIsFocus||this._popup.hide()},i.prototype._isTimeObject=function(){var o;return"timeobject"===(null===(o=this.config.valueFormat)||void 0===o?void 0:o.toLowerCase())},i}(y.Label);E.TimePicker=a},function(ne,E,D){"use strict";var S,T=this&&this.__extends||(S=function(r,i){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var f in l)Object.prototype.hasOwnProperty.call(l,f)&&(o[f]=l[f])})(r,i)},function(r,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function o(){this.constructor=r}S(r,i),r.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}),C=this&&this.__spreadArray||function(r,i,o){if(o||2===arguments.length)for(var l,f=0,_=i.length;f<_;f++)!l&&f in i||(l||(l=Array.prototype.slice.call(i,0,f)),l[f]=i[f]);return r.concat(l||Array.prototype.slice.call(i))};Object.defineProperty(E,"__esModule",{value:!0}),E.ColorPicker=void 0;var x=D(237),m=D(3),p=D(0),y=D(1),v=D(9),u=D(11),h=D(4),c=D(6),d=D(14),a=function(r){function i(o,l){var f=r.call(this,null,l)||this;return f.events=new m.EventSystem,f._popupIsFocus=!1,f._propsItem=["required","validation","icon","placeholder","editable","label","labelWidth","labelPosition","hiddenLabel","helpMessage","preMessage","successMessage","errorMessage"],f._propsColorpicker=["mode","grayShades","customColors","palette"],f._props=C(C(C([],c.baseProps,!0),f._propsItem,!0),f._propsColorpicker,!0),f._keyManager=new d.KeyManager(function(){var _,b,I,O=document.activeElement;return(null===(I=null===(b=null===(_=f.getRootView())||void 0===_?void 0:_.refs)||void 0===b?void 0:b.input)||void 0===I?void 0:I.el)===O||f._popup.isVisible()}),f._initView(l),f._initHandlers(),f._initHotkeys(),f.mount(o,(0,p.create)({render:function(){return f._draw()}})),f}return T(i,r),i.prototype.destructor=function(){this.events&&this.events.clear(),this._popup&&this._popup.destructor(),this._keyManager&&this._keyManager.destructor(),this.colorpicker&&this.colorpicker.destructor(),this.events=this._uid=this._propsColorpicker=this._propsItem=this._props=this._keyManager=null,r.prototype._destructor.call(this),this.unmount()},i.prototype.setProperties=function(o){if(o&&!(0,y.isEmptyObj)(o)&&this.events.fire(h.ItemEvent.beforeChangeProperties,[this.getProperties()])){for(var l in o)this._props.includes(l)&&(this.config[l]=o[l],this._propsColorpicker.includes(l)&&(this.colorpicker.config[l]=o[l]));this.events.fire(h.ItemEvent.afterChangeProperties,[this.getProperties()]),this.colorpicker.paint(),this.paint()}},i.prototype.getProperties=function(){for(var o={},l=0,f=this._props;l<f.length;l++){var _=f[l];o[_]=this.config[_]}return o},i.prototype.show=function(){var o=this.config,l=o.value;o.hidden&&this.events.fire(h.ItemEvent.beforeShow,[l])&&(this.config.hidden=!1,this.events.fire(h.ItemEvent.afterShow,[l]))},i.prototype.hide=function(o){var l=this.config,f=l.value;l.hidden&&!o||!this.events.fire(h.ItemEvent.beforeHide,[f,o])||(this.config.hidden=!0,this.events.fire(h.ItemEvent.afterHide,[f,o]))},i.prototype.isVisible=function(){return!this.config.hidden},i.prototype.disable=function(){this.config.disabled=!0,this.paint()},i.prototype.enable=function(){var o;this.config.disabled=!1,!(null===(o=this.parent)||void 0===o)&&o.isDisabled()&&this.parent.enable(),this.paint()},i.prototype.isDisabled=function(){return!!this.config.disabled},i.prototype.validate=function(o){void 0===o&&(o=!1);for(var l=[],f=1;f<arguments.length;f++)l[f-1]=arguments[f];var _=l.length?l[0]:this.getValue();if(!o&&!this.events.fire(h.ItemEvent.beforeValidate,[_]))return!1;var b=!0;return(this.config.required||l.length)&&(b=(0,x.isHex)(_)),"function"==typeof this.config.validation&&(b=this.config.validation(_)),o||(this.setValidationStatus(b?"success":"error"),this.events.fire(h.ItemEvent.afterValidate,[_,b]),this.paint()),b},i.prototype.clearValidate=function(){this.setValidationStatus(),this.paint()},i.prototype.setValue=function(o){void 0!==o&&o!==this.config.value&&this.colorpicker.setValue(o)},i.prototype.getValue=function(){return this.colorpicker.getValue()},i.prototype.clear=function(){""!==this.config.value&&this.colorpicker.clear()},i.prototype.getWidget=function(){return this.colorpicker},i.prototype.focus=function(){var o=this;(0,p.awaitRedraw)().then(function(){o.getRootView().refs.input.el.focus()})},i.prototype.blur=function(){var o=this;(0,p.awaitRedraw)().then(function(){o._popup.hide(),o.getRootView().refs.input.el.blur()})},i.prototype._initView=function(o){if((0,y.isEmptyObj)(o))throw new Error("Check the configuration is correct");for(var l in this.colorpicker&&this.colorpicker.destructor(),this._popup&&this._popup.destructor(),this.config={type:o.type,id:o.id,name:o.name,disabled:!1,editable:!1,hidden:!1,value:"",grayShades:!0,pickerOnly:!1,paletteOnly:!1,customColors:[],palette:x.palette,mode:"palette",required:!1,icon:"",placeholder:"",label:"",labelWidth:"",labelPosition:"top",hiddenLabel:!1,helpMessage:"",preMessage:"",successMessage:"",errorMessage:"",width:"content",height:"content"},o)"id"!==l&&"type"!==l&&"name"!==l&&(this.config[l]=o[l]);this._popup=new u.Popup,this.colorpicker=new x.Colorpicker(null,(0,c.widgetConfig)(o)),this.colorpicker.setValue(this.config.value),this._popup.attach(this.colorpicker)},i.prototype._initHandlers=function(){var o=this;this.colorpicker.events.on(x.ColorpickerEvents.beforeChange,function(l){return o.events.fire(h.ItemEvent.beforeChange,[l])}),this.colorpicker.events.on(x.ColorpickerEvents.change,function(l,f){o.config.value=o.colorpicker.getValue(),o.events.fire(h.ItemEvent.change,[o.config.value]),(0,c.isVerify)(o.config)&&("clear"===f?o.setValidationStatus(o.validate(!0)?"success":"error"):o.validate()),o._popup.hide(),o.paint()}),this._popup.events.on(u.PopupEvents.afterHide,function(){document.activeElement!==o.getRootView().refs.input.el&&o.events.fire(h.ItemEvent.blur,[o.getValue()]),o.paint()}),this.events.on(h.ItemEvent.blur,function(){o._popupIsFocus=!1,o.paint()})},i.prototype._getHandlers=function(){var o=this;return{onblur:function(){o._popup.isVisible()||o.events.fire(h.ItemEvent.blur,[o.getValue()]),o.paint()},onfocus:function(){if(!o._popup.isVisible()){var l=o.getRootView().refs.input.el;o._popup.show(l,{theme:l}),o.events.fire(h.ItemEvent.focus,[o.getValue()]),o.paint()}},oninput:function(l){o.events.fire(h.ItemEvent.input,[l.target.value])},onchange:function(l){var f=l.target.value;o.config.editable&&(0,x.isHex)(f)?o.setValue(f):""===f&&o.clear()},onkeydown:function(l){var f,_,b,I=document.activeElement;((null===(b=null===(_=null===(f=o.getRootView())||void 0===f?void 0:f.refs)||void 0===_?void 0:_.input)||void 0===b?void 0:b.el)===I||o._popup.isVisible())&&o.events.fire(h.ItemEvent.keydown,[l])},onmousedown:function(){o._popup.getContainer()!==document.activeElement&&(o._popupIsFocus=!1)}}},i.prototype._initHotkeys=function(){var o=this,l={"shift+tab":function(){o._applyTab()},tab:function(){o._applyTab()},escape:function(){o._popup.isVisible()&&o.getRootView().refs.input.el.focus(),o._popup.hide()},enter:function(_){if(_.preventDefault(),!o._popup.isVisible()){var b=o.getRootView().refs.input.el;o._popup.show(b,{theme:b})}},arrowRight:function(_){var b=o._popup.getContainer();o._popup.isVisible()&&!o._popupIsFocus&&(_.preventDefault(),b.focus(),o._popupIsFocus=!0)}};for(var f in l)this._keyManager.addHotKey(f,l[f])},i.prototype._draw=function(){var o,l,f,_=this.config,b=_.required,I=_.value,O=_.icon,P=_.disabled,R=_.placeholder,N=_.name,V=_.id,U=_.editable,B=_.label,F=_.helpMessage,W=this._popup.isVisible()||(null===(f=null===(l=null===(o=this.getRootView())||void 0===o?void 0:o.refs)||void 0===l?void 0:l.input)||void 0===f?void 0:f.el)===document.activeElement;return(0,p.el)("div.dhx_form-group",{class:(0,c.getFormItemCss)(this.config,(0,c.isVerify)(this.config),W)},[this._drawLabel(),(0,p.el)(".dhx_input__wrapper",[(0,p.el)("div.dhx_input__container",{},[(0,p.el)(".dhx_input__icon",{class:O||"dxi dxi-eyedropper-variant"+(I?" dhx_input__icon--color-selected":""),style:{"background-color":I||"transparent"}}),(0,p.el)("input.dhx_input.dhx_input--icon-padding",{tabindex:0,"data-dhx-id":N||V,_key:this._uid,_ref:"input",value:I,type:"text",required:b,disabled:P,class:W&&"dhx_input--focus",placeholder:R||"",name:N||"",id:V||this._uid,onfocus:this._handlers.onfocus,oninput:this._handlers.oninput,onchange:this._handlers.onchange,onblur:this._handlers.onblur,onkeydown:this._handlers.onkeydown,onmousedown:this._handlers.onmousedown,autocomplete:"off",readOnly:!U,"aria-label":B||"".concat(U?"type or":""," select color"),"aria-describedby":F?"dhx_label__help_".concat(V||this._uid):null})]),(0,c.getValidationMessage)(this.config)&&(0,p.el)("span.dhx_input__caption",{},(0,c.getValidationMessage)(this.config))])])},i.prototype._applyTab=function(){var o,l,f;document.activeElement===(null===(f=null===(l=null===(o=this._popup.getRootView())||void 0===o?void 0:o.refs)||void 0===l?void 0:l.content)||void 0===f?void 0:f.el)||this._popupIsFocus||this._popup.hide()},i}(v.Label);E.ColorPicker=a},function(ne,E,D){"use strict";var S=this&&this.__createBinding||(Object.create?function(x,m,p,y){void 0===y&&(y=p);var v=Object.getOwnPropertyDescriptor(m,p);v&&!("get"in v?!m.__esModule:v.writable||v.configurable)||(v={enumerable:!0,get:function(){return m[p]}}),Object.defineProperty(x,y,v)}:function(x,m,p,y){void 0===y&&(y=p),x[y]=m[p]}),T=this&&this.__exportStar||function(x,m){for(var p in x)"default"===p||Object.prototype.hasOwnProperty.call(m,p)||S(m,x,p)};Object.defineProperty(E,"__esModule",{value:!0}),E.locale=void 0,T(D(238),E),T(D(109),E),T(D(108),E),T(D(61),E);var C=D(62);Object.defineProperty(E,"locale",{enumerable:!0,get:function(){return C.default}})},function(ne,E,D){"use strict";var S,T=this&&this.__extends||(S=function(I,O){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(P,R){P.__proto__=R}||function(P,R){for(var N in R)Object.prototype.hasOwnProperty.call(R,N)&&(P[N]=R[N])})(I,O)},function(I,O){if("function"!=typeof O&&null!==O)throw new TypeError("Class extends value "+String(O)+" is not a constructor or null");function P(){this.constructor=I}S(I,O),I.prototype=null===O?Object.create(O):(P.prototype=O.prototype,new P)}),C=this&&this.__spreadArray||function(I,O,P){if(P||2===arguments.length)for(var R,N=0,V=O.length;N<V;N++)!R&&N in O||(R||(R=Array.prototype.slice.call(O,0,N)),R[N]=O[N]);return I.concat(R||Array.prototype.slice.call(O))};Object.defineProperty(E,"__esModule",{value:!0}),E.Colorpicker=void 0;var x=D(0),m=D(3),p=D(2),y=D(5),v=D(1),u=D(61),h=D(108),c=D(62),d=D(109),a=D(67),r=D(21),i=D(239),o=D(240),l=D(14),f=D(31),_=D(1),b=function(I){function O(P,R){var N=I.call(this,P,R)||this;N._setPaletteGrip=function(U){var B=N.getRootView().refs.picker_palette.el.getBoundingClientRect(),$=(0,o.calculatePaletteGrip)(B,(U.targetTouches?U.targetTouches[0].clientY:U.clientY)-B.top,(U.targetTouches?U.targetTouches[0].clientX:U.clientX)-B.left),ee=$.v;N._pickerState.hsv.s=$.s,N._pickerState.hsv.v=ee,N.paint()},N._setRangeGrip=function(U){var B=N.getRootView().refs[N._activeRange].el.getBoundingClientRect(),W=(0,o.calculateRangeGrip)(B,(U.targetTouches?U.targetTouches[0].clientX:U.clientX)-B.left),M=W.h,$=W.alpha,Y=W.rangeLeft;switch(N._activeRange){case"hue_range":N._pickerState.hsv.h=M,N._pickerState.hueRangeLeft=Y;break;case"alpha_range":N._pickerState.alpha=$,N._pickerState.alphaRangeLeft=Y}N.paint()},N._onColorClick=function(U,B){var F=B.data.color.toUpperCase();N.events.fire(d.ColorpickerEvents.beforeChange,[F])&&(N._selected=F,N._focusColor(F),N.events.fire(d.ColorpickerEvents.change,[N._selected]),N.events.fire(d.ColorpickerEvents.colorChange,[N._selected]))},N._container=P,N.config=(0,v.extend)({css:"",grayShades:!0,pickerOnly:!1,paletteOnly:!1,customColors:[],palette:h.palette,width:"238px",mode:"palette",transparency:!0},N.config),N.config.palette||(N.config.palette=h.palette),N.config.customColors&&(N.config.customColors=N.config.customColors.map(function(U){return U.toUpperCase()})),N._pickerState={hsv:{h:0,s:1,v:1},customHex:"",alpha:1},N.events=new m.EventSystem(N),N._setHandlers(),N._keyManager=new l.KeyManager(function(U,B){return B===N._uid}),N._initHotKey();var V=(0,x.create)({render:function(){return N._getContent()}});return N.mount(N._container,V),N}return T(O,I),O.prototype.destructor=function(){this._keyManager&&this._keyManager.destructor(),this.events&&this.events.clear(),this.config=this.events=this._selected=this._handlers=this._pickerState=this._inputTimeout=this._keyManager=null,this.unmount()},O.prototype.clear=function(){this.events.fire(d.ColorpickerEvents.beforeChange,[""])&&(this._selected="",this.events.fire(d.ColorpickerEvents.change,[this._selected,"clear"]),this.paint())},O.prototype.setValue=function(P){P=this.config.transparency||9!==P.length?P:P.slice(0,-2),this.events.fire(d.ColorpickerEvents.beforeChange,[P])&&(this._focusColor(P)||f.focusManager.getFocusId()===this._uid)&&(this.events.fire(d.ColorpickerEvents.change,[this._selected]),this.events.fire(d.ColorpickerEvents.colorChange,[this._selected]))},O.prototype.setFocus=function(P){this._focusColor(P)&&this.paint()},O.prototype.getValue=function(){return this._selected||""},O.prototype.getCustomColors=function(){return this.config.customColors},O.prototype.setCustomColors=function(P){this.config.customColors=P.map(function(R){return R.toUpperCase()}),this.paint()},O.prototype.setCurrentMode=function(P){"palette"!==P&&"picker"!==P||(this.config.mode=P,this.events.fire(d.ColorpickerEvents.modeChange,[P]),this.events.fire(d.ColorpickerEvents.viewChange,[P]),this.paint())},O.prototype.getCurrentMode=function(){return this.config.mode},O.prototype.getView=function(){return this.getCurrentMode()},O.prototype.setView=function(P){this.setCurrentMode(P)},O.prototype.focusValue=function(P){this.setFocus(P)},O.prototype._setHandlers=function(){var P=this;this._handlers={click:{".dhx_palette__cell":this._onColorClick},mousedown:function(R){P._pickerMove(R)},touchstart:function(R){P._pickerMove(R)},buttonsClick:function(R){if(P.setCurrentMode("palette"),"cancel"!==R){var N=P._pickerState.alpha,V=1!==N?(0,u.alphaToHex)(N):"",U=P._pickerState.background+V;"apply"!==R||P.config.customColors.includes(U)||(P.setValue(U),P.events.fire(d.ColorpickerEvents.apply,[]),P.events.fire(d.ColorpickerEvents.selectClick,[]))}else P.events.fire(d.ColorpickerEvents.cancelClick,[])},customColorClick:function(){P.setView("picker")},oninput:function(R){var N=(0,p.locate)(R);switch(P._inputTimeout&&clearTimeout(P._inputTimeout),N){case"hex_input":P._inputTimeout=setTimeout(function(){var U=R.target.value;-1===U.indexOf("#")&&(U="#".concat(U)),P._pickerState.customHex=U,(0,u.isHex)(U)&&(P._pickerState.hsv=(0,u.HexToHSV)(U),P._pickerState.alpha=(0,u.getAlpha)(U),P.paint())},100);break;case"alpha_input":P._pickerState.customHex="";var V=parseInt(R.target.value);V>100&&(V=Math.trunc(V/10)),V>=0&&(P._pickerState.alpha=V/100,P.paint())}},contextmenu:{".dhx_palette__cell":function(R,N){R.preventDefault();var V=P.config.customColors.indexOf(N.data.color);-1!==V&&P._removeCustomColor(V),P.paint()}},mouseover:{".dhx_palette__cell":function(R){R.target&&(0,a.tooltip)(c.default.rightClickToDelete,{node:R.target,position:r.Position.bottom})},".dhx_colorpicker-custom-colors__picker":function(R){R.target&&(0,a.tooltip)(c.default.addNewColor,{node:R.target,position:r.Position.bottom})}}},this.events.on(d.ColorpickerEvents.change,function(){P.paint()}),this.events.on(d.ColorpickerEvents.colorChange,function(){P.paint()})},O.prototype._pickerMove=function(P){var R=this,N=(0,p.locate)(P);this._pickerState.customHex="","picker_palette"===N?this._setPaletteGrip(P):(this._activeRange=N,this._setRangeGrip(P));var V="picker_palette"===N?this._setPaletteGrip:this._setRangeGrip,U=P.targetTouches?"touchmove":"mousemove",B=P.targetTouches?"touchend":"mouseup";document.addEventListener(U,V),document.addEventListener(B,function(){document.removeEventListener(U,V),R._activeRange=null}),this.paint()},O.prototype._focusColor=function(P){if(void 0===P||P.length<4)return!1;var R=P.toUpperCase();if(!(0,u.isHex)(R))return!1;var N=this.config.palette.reduce(function(B,F){return B||(F.forEach(function(W){W.toUpperCase()!==R||(B=!0)}),B)},!1),V=h.grayShades.includes(R);if(!N&&!V){var U=this.getCustomColors();U.includes(R.toUpperCase())||U.push(R.toUpperCase())}return this._selected=R||null,this._pickerState.hsv=(0,u.HexToHSV)(R),this._pickerState.alpha=(0,u.getAlpha)(R),!0},O.prototype._removeCustomColor=function(P){this.config.customColors.splice(P,1)},O.prototype._getCells=function(P,R){var N=this;return void 0===R&&(R=""),P.reduce(function(V,U){var B=(N._selected||"").toUpperCase()===U.toUpperCase()?"dhx_palette__cell--selected":"";return V.push((0,x.el)(".dhx_palette__cell",{class:"".concat(B," ").concat(R),_data:{color:U},style:"background:".concat(U),tabindex:0})),V},[])},O.prototype._getGrayShades=function(){return(0,x.el)(".dhx_palette__row",this._getCells(h.grayShades))},O.prototype._getPalette=function(){var P=this;return this.config.palette.reduce(function(R,N){return R.push((0,x.el)(".dhx_palette__col",P._getCells(N))),R},[])},O.prototype._getContent=function(){var P;return P=this.config.pickerOnly?[(0,i.getPicker)(this,this._pickerState,this._handlers)]:"palette"===this.config.mode?C(C([this.config.grayShades&&this._getGrayShades()],this._getPalette(),!0),[!this.config.paletteOnly&&(0,x.el)(".dhx_colorpicker-custom-colors",{onmouseover:this._handlers.mouseover},[(0,x.el)(".dhx_colorpicker-custom-colors__header",[c.default.customColors]),(0,x.el)(".dhx_palette--custom.dhx_palette__row",C(C([],this._getCells(this.config.customColors,"dhx_custom-color__cell"),!0),[(0,x.el)(".dhx_colorpicker-custom-colors__picker",{class:"dxi dxi-plus",onclick:this._handlers.customColorClick,onmouseover:this._handlers.mouseover,tabindex:0})],!1))])],!1):[(0,i.getPicker)(this,this._pickerState,this._handlers)],(0,x.el)(".dhx_widget.dhx_colorpicker",{class:this.config.css,style:{width:this.config.width},"data-dhx-widget-id":this._uid},[(0,x.el)(".dhx_palette",{onclick:this._handlers.click,oncontextmenu:this._handlers.contextmenu},P)])},O.prototype._initHotKey=function(){var P=this,R={enter:function(V){if((0,p.locateNodeByClassName)(V,"dhx_palette__cell")){var U=(0,_.rgbToHex)(V.target.style.background);if(!P.events.fire(d.ColorpickerEvents.beforeChange,[U]))return;P._selected=U,P.events.fire(d.ColorpickerEvents.change,[P._selected]),P.events.fire(d.ColorpickerEvents.colorChange,[P._selected])}(0,p.locateNodeByClassName)(V,"dhx_colorpicker-custom-colors__picker")&&P.setCurrentMode("picker")}};for(var N in R)this._keyManager.addHotKey(N,R[N])},O}(y.View);E.Colorpicker=b},function(ne,E,D){"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.calculatePaletteGrip=E.getPicker=void 0;var S=D(61),T=D(0),C=D(62);E.getPicker=function(x,m,p){var y=(0,S.HSVtoRGB)(m.hsv);m.background=(0,S.RGBToHex)(y);var v=m.background,u=m.hsv,h=m.customHex,c=m.alpha,d=(0,S.RGBToHex)((0,S.HSVtoRGB)({h:u.h,s:1,v:1})),a=x.getRootView(),r=a.refs?a.refs.picker_palette.el.getBoundingClientRect():{height:200,width:218,x:0,y:0},i=r.height-2,l=i-u.v*i-4,f=u.s*(r.width-2)-4,_=r.width-6,b=_-(360-u.h)/360*_,I=c*_,O=1!==c?(0,S.alphaToHex)(c):"",P=(0,S.isHex)(h)?h.replace("#",""):v.replace("#","")+O,R=Math.round(100*c),N=x.config.transparency;return(0,T.el)(".dhx_colorpicker-picker",{},[(0,T.el)(".dhx_colorpicker-picker__palette",{style:{height:132,background:d},onmousedown:p.mousedown,ontouchstart:p.touchstart,"data-dhx-id":"picker_palette",_ref:"picker_palette"},[(0,T.el)(".dhx_palette_grip",{style:{top:l,left:f},tabindex:0})]),(0,T.el)(".dhx_colorpicker-range.dhx_colorpicker-range--hue",{onmousedown:p.mousedown,ontouchstart:p.touchstart,"data-dhx-id":"hue_range",_key:"hue_range",_ref:"hue_range"},[(0,T.el)(".dhx_colorpicker-range__grip.dhx_colorpicker-range__grip--hue",{style:{left:b},tabindex:0})]),N?(0,T.el)(".dhx_colorpicker-range.dhx_colorpicker-range--alpha",{onmousedown:p.mousedown,ontouchstart:p.touchstart,"data-dhx-id":"alpha_range",_key:"alpha_range",_ref:"alpha_range"},[(0,T.el)(".dhx_colorpicker-range__substrate"),(0,T.el)(".dhx_colorpicker-range__background",{style:{backgroundImage:"linear-gradient(to right, transparent, ".concat(v,")")}}),(0,T.el)(".dhx_colorpicker-range__grip.dhx_colorpicker-range__grip--alpha",{style:{left:1!==c?I:null},tabindex:0})]):null,(0,T.el)(".dhx_colorpicker-value",[(0,T.el)(".dhx_colorpicker-value__color",{style:{background:v+(0,S.alphaToHex)(c)}}),(0,T.el)(".dhx_colorpicker-value__input-wrapper.dhx_colorpicker-value__input-wrapper--hex",[(0,T.el)("input",{class:"dhx_colorpicker-value__input dhx_colorpicker-value__input--hex",style:{width:N?112:100},value:P,oninput:p.oninput,maxlength:N?"9":"7",_key:"hex_input","data-dhx-id":"hex_input","aria-label":"type color in HEX format"})]),N?(0,T.el)(".dhx_colorpicker-value__input-wrapper.dhx_colorpicker-value__input-wrapper--alpha",[(0,T.el)("input",{class:"dhx_colorpicker-value__input dhx_colorpicker-value__input--alpha",value:R,oninput:p.oninput,maxlength:"3",_key:"alpha_input","data-dhx-id":"alpha_input","aria-label":"type opacity in percent"})]):null]),(0,T.el)(".dhx_colorpicker-picker__buttons",[!x.config.pickerOnly&&(0,T.el)("button",{class:"dhx_button dhx_button--size_medium dhx_button--view_link dhx_button--color_primary",onclick:[p.buttonsClick,"cancel"]},C.default.cancel),(0,T.el)("button",{class:"dhx_button dhx_button--size_medium dhx_button--view_flat dhx_button--color_primary",onclick:[p.buttonsClick,"apply"]},C.default.select)])])},E.calculatePaletteGrip=function(x,m,p){var y=x.refs.picker_palette.el.getBoundingClientRect(),v=y.height,u=y.width;m=m<0?0:m>v?v:m,p=p<0?0:p>u?u:p;var h=Math.round(p/(u/100)),c=100-Math.round(m/(v/100));this._pickerState.hsv.s=h/100,this._pickerState.hsv.v=c/100}},function(ne,E,D){"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.calculateRangeGrip=E.calculatePaletteGrip=void 0,E.calculatePaletteGrip=function(S,T,C){var x=S.height,m=S.width;return T=T<0?0:T>x?x:T,C=C<0?0:C>m?m:C,{s:Math.round(C/(m/100))/100,v:(100-Math.round(T/(x/100)))/100}},E.calculateRangeGrip=function(S,T){var C=S.width;return T=T<0?0:T>C?C:T,{h:Math.round(T/C*360),alpha:Number((T/C).toFixed(2)),rangeLeft:T}}},function(ne,E,D){"use strict";var S,T=this&&this.__extends||(S=function(c,d){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,r){a.__proto__=r}||function(a,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(a[i]=r[i])})(c,d)},function(c,d){if("function"!=typeof d&&null!==d)throw new TypeError("Class extends value "+String(d)+" is not a constructor or null");function a(){this.constructor=c}S(c,d),c.prototype=null===d?Object.create(d):(a.prototype=d.prototype,new a)}),C=this&&this.__assign||function(){return C=Object.assign||function(c){for(var d,a=1,r=arguments.length;a<r;a++)for(var i in d=arguments[a])Object.prototype.hasOwnProperty.call(d,i)&&(c[i]=d[i]);return c},C.apply(this,arguments)};Object.defineProperty(E,"__esModule",{value:!0}),E.Spacer=void 0;var x=D(0),m=D(5),p=D(4),y=D(3),v=D(1),u=D(6),h=function(c){function d(a,r){var i=c.call(this,a,C({disabled:!1,hidden:!1,width:"content",height:"content"},r))||this;return i.events=new y.EventSystem,i.mount(a,(0,x.create)({render:function(){return i._draw()}})),i}return T(d,c),d.prototype.destructor=function(){this.events&&this.events.clear(),this.config=this.events=null,this.unmount()},d.prototype.setProperties=function(a){if(a&&!(0,v.isEmptyObj)(a)&&this.events.fire(p.ItemEvent.beforeChangeProperties,[this.getProperties()])){for(var r in a)u.baseProps.includes(r)&&(this.config[r]=a[r]);this.events.fire(p.ItemEvent.afterChangeProperties,[this.getProperties()]),this.paint()}},d.prototype.getProperties=function(){for(var a={},r=0,i=u.baseProps;r<i.length;r++){var o=i[r];a[o]=this.config[o]}return a},d.prototype.show=function(){this.config.hidden&&this.events.fire(p.ItemEvent.beforeShow,[])&&(this.config.hidden=!1,this.events.fire(p.ItemEvent.afterShow,[]))},d.prototype.hide=function(a){this.config.hidden&&!a||!this.events.fire(p.ItemEvent.beforeHide,[!!a])||(this.config.hidden=!0,this.events.fire(p.ItemEvent.afterHide,[!!a]))},d.prototype.isVisible=function(){return!this.config.hidden},d.prototype._draw=function(){return(0,x.el)("div")},d}(m.View);E.Spacer=h},function(ne,E,D){"use strict";var S,T=this&&this.__extends||(S=function(a,r){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(i[l]=o[l])})(a,r)},function(a,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function i(){this.constructor=a}S(a,r),a.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}),C=this&&this.__assign||function(){return C=Object.assign||function(a){for(var r,i=1,o=arguments.length;i<o;i++)for(var l in r=arguments[i])Object.prototype.hasOwnProperty.call(r,l)&&(a[l]=r[l]);return a},C.apply(this,arguments)},x=this&&this.__spreadArray||function(a,r,i){if(i||2===arguments.length)for(var o,l=0,f=r.length;l<f;l++)!o&&l in r||(o||(o=Array.prototype.slice.call(r,0,l)),o[l]=r[l]);return a.concat(o||Array.prototype.slice.call(r))};Object.defineProperty(E,"__esModule",{value:!0}),E.Avatar=void 0;var m=D(0),p=D(1),y=D(3),v=D(9),u=D(4),h=D(6),c=D(106),d=function(a){function r(i,o){var l=a.call(this,i,o)||this;return l.events=new y.EventSystem,l._propsItem=["validation","required","readOnly","label","labelWidth","labelPosition","hiddenLabel","helpMessage","preMessage","successMessage","errorMessage","size","circle","alt","icon","placeholder","preview","accept","autosend","params","headerParams","fieldName","target","updateFromResponse","removeIcon"],l._props=x(x([],h.baseProps,!0),l._propsItem,!0),l._isUpload=!1,l._initView(o),l._initHandlers(),l}return T(r,a),r.prototype.send=function(i){var o=this,l=this.config,f=l.target,_=l.value,b=l.updateFromResponse,I=l.headerParams;if(!this._isUpload&&f&&_?.file&&_.status!==c.FileStatus.uploaded&&this.events.fire(u.ItemEvent.beforeUploadFile,[_])){var O=this._createFormData(_,i),P=new XMLHttpRequest;if(this._isUpload=!0,this.config.value=C(C({},_),{status:c.FileStatus.inprogress,request:P}),this.events.fire(u.ItemEvent.uploadBegin,[this.config.value]),this.events.fire(u.ItemEvent.uploadProgress,[0,this.config.value]),P.open("POST",f),I)for(var R in I)P.setRequestHeader(R,I[R]);P.upload.onprogress=function(N){var V=N.loaded/N.total;o.config.value=C(C({},o.config.value),{progress:V}),o.events.fire(u.ItemEvent.uploadProgress,[100*V,o.config.value])},P.onloadend=function(){var N=200===P.status?c.FileStatus.uploaded:c.FileStatus.failed,V=200===P.status&&P.response?JSON.parse(P.response):null;o.config.value=C(C({},o.config.value),{status:N}),N===c.FileStatus.uploaded?(V&&b&&(o.config.value=C(C({},o.config.value),V)),o.events.fire(u.ItemEvent.uploadFile,[o.config.value,V])):o.events.fire(u.ItemEvent.uploadFail,[o.config.value]),o._isUpload=!1,o.events.fire(u.ItemEvent.uploadComplete,[o.config.value])},P.send(O)}},r.prototype.selectFile=function(){var i,o,l;null===(l=null===(o=null===(i=this.getRootView())||void 0===i?void 0:i.refs)||void 0===o?void 0:o.input)||void 0===l||l.el.click()},r.prototype.setValue=function(i){this._setValue(i),(0,h.isVerify)(this.config)&&this.validate()},r.prototype._setValue=function(i){this.events.fire(u.ItemEvent.beforeChange,[i])&&(this.config.value=!(0,p.isEmptyObj)(i)&&C({id:(0,p.uid)(),status:c.FileStatus.queue,progress:0,path:""},i)||{},this.events.fire(u.ItemEvent.change,[this.getValue()]))},r.prototype.getValue=function(){return this.config.value||{}},r.prototype.clear=function(){this._setValue({}),(0,h.isVerify)(this.config)&&this.setValidationStatus(this.validate(!0)?"success":"error")},r.prototype.disable=function(){this.config.disabled=!0,this.paint()},r.prototype.enable=function(){var i;this.config.disabled=!1,!(null===(i=this.parent)||void 0===i)&&i.isDisabled()&&this.parent.enable(),this.paint()},r.prototype.isDisabled=function(){return!!this.config.disabled},r.prototype.show=function(){this.config.hidden&&this.events.fire(u.ItemEvent.beforeShow,[this.getValue()])&&(this.config.hidden=!1,this.events.fire(u.ItemEvent.afterShow,[this.getValue()]))},r.prototype.hide=function(i){void 0===i&&(i=!1),this.config.hidden&&!i||!this.events.fire(u.ItemEvent.beforeHide,[this.getValue(),i])||(this.config.hidden=!0,this.events.fire(u.ItemEvent.afterHide,[this.getValue(),i]))},r.prototype.isVisible=function(){return!this.config.hidden},r.prototype.validate=function(i,o){if(void 0===i&&(i=!1),void 0===o&&(o=this.getValue()),!i&&!this.events.fire(u.ItemEvent.beforeValidate,[o]))return!1;var l=!0;return this.config.required&&(l=!!o.src),"function"==typeof this.config.validation&&(l=this.config.validation(o)),i||(this.setValidationStatus(l?"success":"error"),this.events.fire(u.ItemEvent.afterValidate,[o,l]),this.paint()),l},r.prototype.clearValidate=function(){this.setValidationStatus(),this.paint()},r.prototype.setProperties=function(i){if(i&&!(0,p.isEmptyObj)(i)&&this.events.fire(u.ItemEvent.beforeChangeProperties,[this.getProperties()])){for(var o in i)this._props.includes(o)&&(this.config[o]=i[o]);this.events.fire(u.ItemEvent.afterChangeProperties,[this.getProperties()]),this.paint()}},r.prototype.getProperties=function(){for(var i={},o=0,l=this._props;o<l.length;o++){var f=l[o];i[f]=this.config[f]}return i},r.prototype.focus=function(){var i=this;(0,m.awaitRedraw)().then(function(){var o,l,f;null===(f=null===(l=null===(o=i.getRootView())||void 0===o?void 0:o.refs)||void 0===l?void 0:l.input)||void 0===f||f.el.focus(),i.paint()})},r.prototype.blur=function(){var i=this;(0,m.awaitRedraw)().then(function(){var o,l,f;null===(f=null===(l=null===(o=i.getRootView())||void 0===o?void 0:o.refs)||void 0===l?void 0:l.input)||void 0===f||f.el.blur(),i.paint()})},r.prototype.destructor=function(){this.events&&this.events.clear(),a.prototype._destructor.call(this),this.unmount()},r.prototype._initView=function(i){this.config=C({size:"medium",labelPosition:"top",width:"content",height:"content",accept:"image/*",fieldName:"file",target:"",alt:"",css:"",label:"",errorMessage:"",successMessage:"",helpMessage:"",icon:"",labelWidth:"",placeholder:"",preMessage:"",removeIcon:!0,circle:!1,readOnly:!1,hiddenLabel:!1,autosend:!1,updateFromResponse:!0},i),this.paint()},r.prototype._initHandlers=function(){var i=this;this._handlers=C({change:function(o){var l,f,_=null===(f=null===(l=o.target)||void 0===l?void 0:l.files)||void 0===f?void 0:f[0];if(!i.config.readOnly&&_){var b=URL.createObjectURL(_);i.setValue({file:_,src:b}),i.config.autosend&&i.validate(!0)&&i.send()}},drop:function(o){var l,f;o.preventDefault();var _=null===(f=null===(l=o.dataTransfer)||void 0===l?void 0:l.files)||void 0===f?void 0:f[0];if(!i.config.readOnly&&_){var b=URL.createObjectURL(_);i._dragover=!1,i.setValue({file:_,src:b}),i.config.autosend&&i.validate(!0)&&i.send()}},dragover:function(o){if(o.preventDefault(),!i.config.readOnly){for(var l=0,f=o.dataTransfer.types;l<f.length;l++){var _=f[l];if("Files"!==_&&"application/x-moz-file"!==_)return}i._dragoverTimeout?clearTimeout(i._dragoverTimeout):i.paint(),i._dragover=!0,i._dragoverTimeout=setTimeout(function(){i._dragover=!1,i._dragoverTimeout=null,i.paint()},150)}},onfocus:function(){return i.events.fire(u.ItemEvent.focus,[i.getValue()])},onblur:function(){return i.events.fire(u.ItemEvent.blur,[i.getValue()])},onkeydown:function(o){return i.events.fire(u.ItemEvent.keydown,[o])}},this._handlers),this.events.on(u.ItemEvent.change,function(){return i.paint()})},r.prototype._draw=function(){var i=this.config,l=i.alt,_=i.size,b=i.label,I=i.value,O=i.readOnly,P=i.hidden?" dhx_form-group--hidden":"",R="",N={};return this._dragover&&(R+="dhx_avatar--on-drag "),i.circle&&(R+="dhx_avatar--circle "),_&&"string"!=typeof _?N.width=N.height=_:_&&["small","medium","large"].includes(_)?R+="dhx_avatar-size--".concat(_," "):R+="dhx_avatar-size--medium ",(0,m.el)("div.dhx_form-group.dhx_form-group--avatar",{"aria-label":l||b,role:"img",class:(0,h.getFormItemCss)(this.config,(0,h.isVerify)(this.config),!1)+P},[this._drawLabel(),(0,m.el)("div.dhx_avatar",{class:R,style:N,ondragover:this._handlers.dragover,ondrop:this._handlers.drop},[I?.src?this._drawImage(this.config):this._drawPreview(this.config),!O&&this._drawCover(this.config)]),(0,h.getValidationMessage)(this.config)&&(0,m.el)("span.dhx_input__caption",(0,h.getValidationMessage)(this.config))])},r.prototype._drawImage=function(i){var o=i.alt,l=i.value;return(0,m.el)("img.dhx_avatar__image",{src:l?.src,alt:o})},r.prototype._drawPreview=function(i){var o=i.icon,l=i.placeholder,f=i.preview,_=[];return o&&_.push((0,m.el)("div.dhx_avatar__preview-icon",{class:o})),l&&_.push((0,m.el)("div.dhx_avatar__preview-placeholder",{"aria-placeholder":l},l)),(0,m.el)("div.dhx_avatar__preview",{style:C({},f&&{"background-image":"url(".concat(f)}||{})},[].concat(_))},r.prototype._drawCover=function(i){var o=this,_=i.value,b=i.removeIcon;return(0,m.el)("div.dhx_avatar__cover",[(0,m.el)("label.dhx_avatar__cover-upload",[(0,m.el)("input.dhx_avatar__cover-input",{_ref:"input",id:i.id,accept:i.accept,type:"file",onchange:this._handlers.change,onfocus:this._handlers.onfocus,onblur:this._handlers.onblur,onkeydown:this._handlers.onkeydown}),(0,m.el)("i.dhx_avatar__cover-icon.dxi.dxi-vault")]),_?.src&&b&&(0,m.el)("div.dhx_avatar__cover-remove",{onclick:function(){return o.clear()}},[(0,m.el)("i.dhx_avatar__cover-icon.dxi.dxi-delete-forever")])])},r.prototype._createFormData=function(i,o){var l=this.config.fieldName,f=this.config.params,_=new FormData;if(o)for(var b in o)_.append(b,o[b]);if(f)for(var b in f)_.append(b,f[b]);return _.append(l,i.file,i.file.name),_.append(l+"_fullname",i.path+i.file.name),_.append(l+"_id",i.id),_},r}(v.Label);E.Avatar=d},function(ne,E,D){"use strict";var S=this&&this.__assign||function(){return S=Object.assign||function(u){for(var h,c=1,d=arguments.length;c<d;c++)for(var a in h=arguments[c])Object.prototype.hasOwnProperty.call(h,a)&&(u[a]=h[a]);return u},S.apply(this,arguments)},T=this&&this.__spreadArray||function(u,h,c){if(c||2===arguments.length)for(var d,a=0,r=h.length;a<r;a++)!d&&a in h||(d||(d=Array.prototype.slice.call(h,0,a)),d[a]=h[a]);return u.concat(d||Array.prototype.slice.call(h))};Object.defineProperty(E,"__esModule",{value:!0}),E.Fieldset=void 0;var C=D(3),x=D(4),m=D(6),p=D(1),y=D(0),v=function(){function u(h){var c=this;this.events=new C.EventSystem,this.attachments=[],this.propsItem=["label","labelAlignment","align"],this.props=T(T([],m.baseProps,!0),this.propsItem,!0),this.config=S({disabled:!1,hidden:!1,width:"content",height:"content",labelAlignment:"left",label:"",css:""},h),(0,y.awaitRedraw)().then(function(){c.config.disabled&&c.disable()})}return u.prototype.forEach=function(h,c){void 0===c&&(c=!1);for(var d=c?this.getTreeAttachments(this.getAttachments()):this.attachments,a=0;a<d.length;a++)h.call(this,d[a],a,d)},u.prototype.disable=function(){this.forEach(function(h){return"function"==typeof h.disable&&h.disable()}),this.config.disabled=this.cell.config.$disabled=!0,this.cell.paint()},u.prototype.enable=function(){var h;this.config.disabled=this.cell.config.$disabled=!1,this.attachments.every(function(c){return c.isDisabled()})&&this.forEach(function(c){return"function"==typeof c.enable&&c.enable()}),!(null===(h=this.parent)||void 0===h)&&h.isDisabled()&&this.parent.enable(),this.cell.paint()},u.prototype.isDisabled=function(){return!!this.config.disabled},u.prototype.show=function(){this.config.hidden&&(this.forEach(function(h){return"function"==typeof h.hide&&h.show()}),this.config.hidden=!1,this.cell.show())},u.prototype.hide=function(h){void 0===h&&(h=!1),this.config.hidden&&!h||(this.forEach(function(c){"function"==typeof c.hide&&("checkboxgroup"===c.config.type||"radiogroup"===c.config.type?c.hide(void 0,h):c.hide(h))}),this.config.hidden=!0,this.cell.hide())},u.prototype.isVisible=function(){return!this.config.hidden},u.prototype.setProperties=function(h){if(h&&!(0,p.isEmptyObj)(h)&&this.events.fire(x.ItemEvent.beforeChangeProperties,[this.getProperties()])){for(var c in h)this.props.includes(c)&&(this.config[c]=h[c]);this.events.fire(x.ItemEvent.afterChangeProperties,[this.getProperties()])}},u.prototype.getProperties=function(){for(var h={},c=0,d=this.props;c<d.length;c++){var a=d[c];h[a]=this.config[a]}return h},u.prototype.destructor=function(){this.cell.hide(),this.events.clear(),this.attachments=[]},u.prototype.setCell=function(h){this.cell=h},u.prototype.getCell=function(){return this.cell},u.prototype.setAttachments=function(h){this.attachments=h},u.prototype.getAttachments=function(){return this.attachments},u.prototype.getTreeAttachments=function(h){for(var c=[],d=0;d<h.length;d++){var a=h[d];c.push(a),"fieldset"===a.config.type&&c.push.apply(c,a.getTreeAttachments(a.getAttachments()))}return c},u}();E.Fieldset=v},function(ne,E,D){"use strict";var S,T=this&&this.__extends||(S=function(a,r){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(i[l]=o[l])})(a,r)},function(a,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function i(){this.constructor=a}S(a,r),a.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}),C=this&&this.__assign||function(){return C=Object.assign||function(a){for(var r,i=1,o=arguments.length;i<o;i++)for(var l in r=arguments[i])Object.prototype.hasOwnProperty.call(r,l)&&(a[l]=r[l]);return a},C.apply(this,arguments)},x=this&&this.__spreadArray||function(a,r,i){if(i||2===arguments.length)for(var o,l=0,f=r.length;l<f;l++)!o&&l in r||(o||(o=Array.prototype.slice.call(r,0,l)),o[l]=r[l]);return a.concat(o||Array.prototype.slice.call(r))};Object.defineProperty(E,"__esModule",{value:!0}),E.ToggleGroup=void 0;var m=D(4),p=D(110),y=D(5),v=D(0),u=D(6),h=D(3),c=D(1),d=function(a){function r(i,o){var l=a.call(this,i,C({full:!1,multiselect:!1,disabled:!1,hidden:!1,width:"content",height:"content",gap:0,css:"",padding:"",items:[]},o))||this;return l.events=new h.EventSystem,l.items=[],l.props=x(x([],u.baseProps,!0),["options","full","gap","multiselect"],!1),l.initView(),l.initHandlers(),l.mount(i,(0,v.create)({render:function(){return l.draw()}})),l}return T(r,a),r.prototype.setValue=function(i){var o;void 0===i&&(i={});var l=this.getValue();if(!Object.entries(i).every(function($){return!!$[1]==!!l[$[0]]})){if(!this.config.multiselection)for(var _=Object.entries(i).find(function($){return $[1]}),b=this.getValue(),I=0,O=Object.entries(b);I<O.length;I++){var P=O[I],R=P[0],N=P[1],V=N;"string"==typeof N&&(V=""),"number"==typeof N&&(V=0),"boolean"==typeof N&&(V=!1),i[R]=_&&_[0]===R?_[1]:V}if(!this.events.fire(m.ItemEvent.beforeChange,[C(C({},this.getValue()),i)]))return!1;for(var U=function($,Y){null===(o=B.items.find(function(ee){return ee.config.id===$}))||void 0===o||o.setValue(!!Y,!0)},B=this,F=0,W=Object.entries(i);F<W.length;F++){var M=W[F];U(M[0],M[1])}this.events.fire(m.ItemEvent.change,[this.getValue()])}},r.prototype.getValue=function(i){if(i){var o=this.items.find(function(f){return f.config.id===i});if(o)return o.getValue()}var l={};return this.items.forEach(function(f){l[f.config.id]=f.getValue()}),l},r.prototype.isSelected=function(i){if(i){var o=this.items.find(function(f){return f.config.id===i});if(o)return o.isSelected()}var l={};return this.items.forEach(function(f){l[f.config.id]=f.isSelected()}),l},r.prototype.show=function(i){var o=i&&this.items.find(function(l){return l.config.id===i});o&&!o.config.hidden||!this.events.fire(m.ItemEvent.beforeShow,[this.getValue(),i])||(o?o.show():this.items.forEach(function(l){return l.show()}),this.config.hidden=!1,this.checkVisibleOrder(!!o),this.events.fire(m.ItemEvent.afterShow,[this.getValue(),i]))},r.prototype.hide=function(i,o){var l=i&&this.items.find(function(f){return f.config.id===i});this.config.hidden&&!o||l&&l.config.hidden||!this.events.fire(m.ItemEvent.beforeHide,[this.getValue(),i,o])||(l?(l.hide(),this.config.hidden=this.items.every(function(f){return f.config.hidden})):(this.items.forEach(function(f){return f.hide()}),this.config.hidden=!0),this.checkVisibleOrder(!!l),this.events.fire(m.ItemEvent.afterHide,[this.getValue(),i,o]))},r.prototype.isVisible=function(i){var o=this.items.find(function(l){return l.config.id===i});return o?o.isVisible():!this.config.hidden},r.prototype.focus=function(i){var o=this;(0,v.awaitRedraw)().then(function(){var l=o.items.find(function(f){return f.config.id===i})||o.items[0];l&&l.focus()})},r.prototype.blur=function(){var i=this;(0,v.awaitRedraw)().then(function(){i.items.forEach(function(o){return o.blur()})})},r.prototype.disable=function(i){var o=i&&this.items.find(function(l){return l.config.id===i});this.config.disabled||o&&o.config.disabled||(o?(o.disable(),this.config.disabled=this.items.every(function(l){return l.config.disabled})):(this.items.forEach(function(l){return l.disable()}),this.config.disabled=!0),this.paint())},r.prototype.enable=function(i){var o,l=i&&this.items.find(function(f){return f.config.id===i});!l&&!this.config.disabled||l&&!l.config.disabled||(l?l?.enable():this.items.forEach(function(f){return f.enable()}),this.config.disabled=!1,!(null===(o=this.parent)||void 0===o)&&o.isDisabled()&&this.parent.enable(),this.paint())},r.prototype.isDisabled=function(i){var o=this.items.find(function(l){return l.config.id===i});return o?o.isDisabled():!!this.config.disabled},r.prototype.setProperties=function(i,o){var l=this.items.find(function(_){return _.config.id===o});if(i&&!(0,c.isEmptyObj)(i)&&this.events.fire(m.ItemEvent.beforeChangeProperties,[C(C({},l?l.getProperties():this.getProperties()),i)])){if(l)l.setProperties(i);else for(var f in i)this.props.includes(f)&&(this.config[f]=i[f]);this.events.fire(m.ItemEvent.afterChangeProperties,[l?l.getProperties():this.getProperties()])}},r.prototype.getProperties=function(i){if(i){var o=this.items.find(function(I){return I.config.id===i});if(o)return o.getProperties()}for(var l={},f=0,_=this.props;f<_.length;f++){var b=_[f];l[b]=this.config[b]}return l},r.prototype.destructor=function(){this.events.clear(),this.unmount()},r.prototype.initView=function(){var i,o=this;if(null===(i=this.config.options)||void 0===i||!i.length)throw new Error("Check the configuration is correct");this.items=this.config.options.map(function(l,f){return l.id||(l.id=l.name||(0,c.uid)()),o.config.gap&&(l.$gap=f&&o.config.gap),new p.ToggleButton(null,C(C({},l),{$group:!0}))}),this.config.value&&this.setValue(this.config.value),this.checkVisibleOrder()},r.prototype.initHandlers=function(){var i=this;this.items.forEach(function(o){o.events.on(m.ItemEvent.keydown,function(l){i.events.fire(m.ItemEvent.keydown,[l,o.config.id])}),o.events.on(m.ItemEvent.focus,function(){i.events.fire(m.ItemEvent.focus,[i.getValue(),o.config.id])}),o.events.on(m.ItemEvent.blur,function(){i.events.fire(m.ItemEvent.blur,[i.getValue(),o.config.id])}),o.events.on(m.ItemEvent.beforeChange,function(l){var f;return"string"==typeof o.config.value&&(l=l?o.config.value:""),"number"==typeof o.config.value&&(l=l?o.config.value:0),i.setValue(((f={})[o.config.id]=l,f))})})},r.prototype.draw=function(){var i=this.config,o=i.hidden,l=i.id,f=i.name,_=i.full,b=i.gap,I=this.items.map(function(O){return(0,v.inject)(O.getRootView())});return(0,v.el)("div.dhx_form-group.dhx_form-group--toggle-group.dhx_toggle-group",{"data-dhx-id":f||l,"aria-label":f||l,role:"group",class:(o?"dhx_form-group--hidden ":"")+(_?"dhx_toggle-group--full ":"")+(b?"dhx_toggle-group--segmented ":"")+(0,u.getFormItemCss)(this.config)},[].concat(I))},r.prototype.checkVisibleOrder=function(i){var o=this.items.map(function(_){return delete _.config.$extraCss,_}).filter(function(_){return!_.config.hidden});if(o.length){var l=this.items.findIndex(function(_){return _.config.id===o[0].config.id}),f=this.items.findIndex(function(_){return _.config.id===o[o.length-1].config.id});this.items[l].config.$extraCss="dhx_toggle--first ",this.items[f].config.$extraCss=this.items[f].config.$extraCss?this.items[f].config.$extraCss+"dhx_toggle--last ":"dhx_toggle--last "}i&&this.items.forEach(function(_){return _.paint()})},r}(y.View);E.ToggleGroup=d},function(ne,E,D){"use strict";var S,T=this&&this.__extends||(S=function(u,h){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,d){c.__proto__=d}||function(c,d){for(var a in d)Object.prototype.hasOwnProperty.call(d,a)&&(c[a]=d[a])})(u,h)},function(u,h){if("function"!=typeof h&&null!==h)throw new TypeError("Class extends value "+String(h)+" is not a constructor or null");function c(){this.constructor=u}S(u,h),u.prototype=null===h?Object.create(h):(c.prototype=h.prototype,new c)});Object.defineProperty(E,"__esModule",{value:!0}),E.ProForm=void 0;var C=D(104),x=D(4),m=D(16),p=D(246),y=D(6),v=function(u){function h(c,d){return u.call(this,c,d)||this}return T(h,u),h.prototype._initItemHandlers=function(c,d){var a=this;if(u.prototype._initItemHandlers.call(this,c,d),"container"===c.type){var r=this._attachments[d]=new p.Container(null,c);r.events.on(x.ItemEvent.beforeChangeProperties,function(i){return a.events.fire(x.FormEvents.beforeChangeProperties,[d,i])}),r.events.on(x.ItemEvent.afterChangeProperties,function(i){a._changeProps(d,i,r.config),a.events.fire(x.FormEvents.afterChangeProperties,[d,i]),a.layout.paint()}),r.events.on(x.ItemEvent.beforeHide,function(i){if(!i)return a.events.fire(x.FormEvents.beforeHide,[d])}),r.events.on(x.ItemEvent.beforeShow,function(){return a.events.fire(x.FormEvents.beforeShow,[d])}),r.events.on(x.ItemEvent.afterHide,function(i){a.layout.getCell(d).hide(),!i&&a.events.fire(x.FormEvents.afterHide,[d])}),r.events.on(x.ItemEvent.afterShow,function(){a.layout.getCell(d).show(),a.events.fire(x.FormEvents.afterShow,[d])})}},h.prototype._initUI=function(c){var d=this._attachments={},a={padding:"8px"};this.config.css+=" dhx_form",this._createLayoutConfig(this.config,a),this.layout=new m.ProLayout(c,a),(0,y.setAttacments)(d,this.layout)},h}(C.Form);E.ProForm=v},function(ne,E,D){"use strict";var S,T=this&&this.__extends||(S=function(a,r){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(i[l]=o[l])})(a,r)},function(a,r){if("function"!=typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function i(){this.constructor=a}S(a,r),a.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}),C=this&&this.__assign||function(){return C=Object.assign||function(a){for(var r,i=1,o=arguments.length;i<o;i++)for(var l in r=arguments[i])Object.prototype.hasOwnProperty.call(r,l)&&(a[l]=r[l]);return a},C.apply(this,arguments)},x=this&&this.__spreadArray||function(a,r,i){if(i||2===arguments.length)for(var o,l=0,f=r.length;l<f;l++)!o&&l in r||(o||(o=Array.prototype.slice.call(r,0,l)),o[l]=r[l]);return a.concat(o||Array.prototype.slice.call(r))};Object.defineProperty(E,"__esModule",{value:!0}),E.Container=void 0;var m=D(0),p=D(9),y=D(4),v=D(3),u=D(1),h=D(16),c=D(6),d=function(a){function r(i,o){var l=a.call(this,i,C({disabled:!1,hidden:!1,width:"content",height:"content",label:"",labelWidth:"",labelPosition:"top",hiddenLabel:!1,helpMessage:""},o))||this;if(l.events=new v.EventSystem,l._props=x(x([],c.baseProps,!0),["label","labelWidth","labelPosition","hiddenLabel","helpMessage"],!1),(0,u.isEmptyObj)(o))throw new Error("Check the configuration is correct");l.container&&l.container.destructor();var f={};for(var _ in o)"id"!==_&&"type"!==_&&"name"!==_&&"width"!==_&&"height"!==_&&(l.config[_]=o[_],"validation"!==_&&(f[_]=o[_]));return l.container=new h.Layout(null,{rows:[f]}),f.html&&l.container.attachHTML(f.html),l.paint(),l.mount(i,(0,m.create)({render:function(){return l._draw()}})),l}return T(r,a),r.prototype.destructor=function(){this.container.destructor()},r.prototype.attach=function(i){this.container.attach(i)},r.prototype.attachHTML=function(i){this.container.attachHTML(i)},r.prototype.show=function(){this.config.hidden&&this.events.fire(y.ItemEvent.beforeShow,[])&&(this.config.hidden=!1,this.events.fire(y.ItemEvent.afterShow,[]))},r.prototype.hide=function(i){void 0===i&&(i=!1),this.config.hidden&&!i||!this.events.fire(y.ItemEvent.beforeHide,[i])||(this.config.hidden=!0,this.events.fire(y.ItemEvent.afterHide,[i]))},r.prototype.isVisible=function(){return!this.config.hidden},r.prototype.disable=function(){this.config.disabled=!0,this.paint()},r.prototype.enable=function(){var i;this.config.disabled=!1,!(null===(i=this.parent)||void 0===i)&&i.isDisabled()&&this.parent.enable(),this.paint()},r.prototype.isDisabled=function(){return!!this.config.disabled},r.prototype.setProperties=function(i){if(i&&!(0,u.isEmptyObj)(i)&&this.events.fire(y.ItemEvent.beforeChangeProperties,[this.getProperties()])){for(var o in i)this._props.includes(o)&&(this.config[o]=i[o]);this.events.fire(y.ItemEvent.afterChangeProperties,[this.getProperties()]),this.paint()}},r.prototype.getProperties=function(){for(var i={},o=0,l=this._props;o<l.length;o++){var f=l[o];i[f]=this.config[f]}return i},r.prototype._getRootView=function(){return this.container.getRootView()},r.prototype._draw=function(){var i=this.config,o=i.name,l=i.id;return(0,m.el)(".dhx_form-group.dhx_form-group--container",{class:(0,c.getFormItemCss)(this.config),"data-dhx-id":o||l},[this._drawLabel(),(0,m.inject)(this._getRootView())])},r}(p.Label);E.Container=d},function(ne,E,D){"use strict";Object.defineProperty(E,"__esModule",{value:!0});var S=D(248),T=D(249),C=D(250),x=D(251),m=D(252),p=D(253),y=D(254),v=D(255),u=D(13),h=D(10),c=D(256),d=D(257),a=D(258),r=D(259),i=D(260),o=D(261),l=D(111),f=D(262),_=D(263),b=D(264),I=D(265),O=D(266),P=D(267),R=D(268),N=D(269),V=D(270),U=D(271),B=D(272),F=D(273),W=D(274);E.default=function(M){return{avatar:S.default,button:T.default,colorpicker:C.default,combo:x.default,checkbox:m.default,checkboxGroup:p.default,container:y.default,datepicker:v.default,fieldset:u.default,input:h.default,radioGroup:c.default,select:d.default,slider:a.default,spacer:r.default,textarea:i.default,timepicker:o.default,toggle:l.default,toggleGroup:f.default,arrange:(0,_.default)(M),border:(0,b.default)(M),position:(0,I.default)(M),size:(0,O.default)(M),gridStep:(0,P.default)(M),textStyle:(0,R.default)(M),textAlign:(0,N.default)(M),pointerView:(0,V.default)(M),lineShape:(0,U.default)(M),header:(0,B.default)(M),headerPosition:(0,F.default)(M),headerCommon:W.default}}},function(ne,E,D){"use strict";var S=this&&this.__assign||function(){return S=Object.assign||function(m){for(var p,y=1,v=arguments.length;y<v;y++)for(var u in p=arguments[y])Object.prototype.hasOwnProperty.call(p,u)&&(m[u]=p[u]);return m},S.apply(this,arguments)};Object.defineProperty(E,"__esModule",{value:!0});var T=D(1),C=D(12),x=D(10);E.default=S(S({},x.default),{type:"avatar",key:"img",icon:"dxi dxi-image-outline",$handler:function(m){var p,y=m.id,v=m.value,u=m.editor,h=m.key;v.src?fetch(v.src).then(function(c){c.blob().then(function(d){(0,T.blobToBase64)(d).then(function(a){var r;u.diagram.data.update(y,((r={})[h]=a,r))})})}):u.diagram.data.update(y,((p={})[h]="",p))},$setValue:function(m){m.control.setValue({src:m.value})},$layout:function(m){return(0,C.default)(m,{type:"avatar"})}})},function(ne,E,D){"use strict";var S=this&&this.__assign||function(){return S=Object.assign||function(T){for(var C,x=1,m=arguments.length;x<m;x++)for(var p in C=arguments[x])Object.prototype.hasOwnProperty.call(C,p)&&(T[p]=C[p]);return T},S.apply(this,arguments)};Object.defineProperty(E,"__esModule",{value:!0}),E.default={type:"button",$layout:function(T){return S(S({},T),{type:"button"})}}},function(ne,E,D){"use strict";var S=this&&this.__assign||function(){return S=Object.assign||function(x){for(var m,p=1,y=arguments.length;p<y;p++)for(var v in m=arguments[p])Object.prototype.hasOwnProperty.call(m,v)&&(x[v]=m[v]);return x},S.apply(this,arguments)};Object.defineProperty(E,"__esModule",{value:!0});var T=D(12),C=D(10);E.default=S(S({},C.default),{type:"colorpicker",key:"fill",$layout:function(x){return(0,T.default)(x,{type:"colorpicker"})}})},function(ne,E,D){"use strict";var S=this&&this.__assign||function(){return S=Object.assign||function(x){for(var m,p=1,y=arguments.length;p<y;p++)for(var v in m=arguments[p])Object.prototype.hasOwnProperty.call(m,v)&&(x[v]=m[v]);return x},S.apply(this,arguments)};Object.defineProperty(E,"__esModule",{value:!0});var T=D(12),C=D(10);E.default=S(S({},C.default),{type:"combo",options:[],$layout:function(x){var m=x.options.map(function(p){return"string"==typeof p?{id:p,value:p}:p});return(0,T.default)(x,{type:"combo",data:m})}})},function(ne,E,D){"use strict";var S=this&&this.__assign||function(){return S=Object.assign||function(C){for(var x,m=1,p=arguments.length;m<p;m++)for(var y in x=arguments[m])Object.prototype.hasOwnProperty.call(x,y)&&(C[y]=x[y]);return C},S.apply(this,arguments)};Object.defineProperty(E,"__esModule",{value:!0});var T=D(111);E.default=S(S({},T.default),{type:"checkbox",$setValue:function(C){C.control.setValue(!!C.value)},$layout:function(C){return S(S({},C),{type:"checkbox"})}})},function(ne,E,D){"use strict";var S=this&&this.__assign||function(){return S=Object.assign||function(x){for(var m,p=1,y=arguments.length;p<y;p++)for(var v in m=arguments[p])Object.prototype.hasOwnProperty.call(m,v)&&(x[v]=m[v]);return x},S.apply(this,arguments)};Object.defineProperty(E,"__esModule",{value:!0});var T=D(12),C=D(10);E.default=S(S({},C.default),{type:"checkboxGroup",$layout:function(x){return(0,T.default)(x,{type:"checkboxGroup"})}})},function(ne,E,D){"use strict";Object.defineProperty(E,"__esModule",{value:!0});var S=D(12);E.default={type:"container",$layout:function(T){return(0,S.default)(T,{type:"container"})}}},function(ne,E,D){"use strict";var S=this&&this.__assign||function(){return S=Object.assign||function(x){for(var m,p=1,y=arguments.length;p<y;p++)for(var v in m=arguments[p])Object.prototype.hasOwnProperty.call(m,v)&&(x[v]=m[v]);return x},S.apply(this,arguments)};Object.defineProperty(E,"__esModule",{value:!0});var T=D(12),C=D(10);E.default=S(S({},C.default),{type:"datepicker",key:"date",$layout:function(x){return(0,T.default)(x,{type:"datepicker"})}})},function(ne,E,D){"use strict";var S=this&&this.__assign||function(){return S=Object.assign||function(x){for(var m,p=1,y=arguments.length;p<y;p++)for(var v in m=arguments[p])Object.prototype.hasOwnProperty.call(m,v)&&(x[v]=m[v]);return x},S.apply(this,arguments)};Object.defineProperty(E,"__esModule",{value:!0});var T=D(12),C=D(10);E.default=S(S({},C.default),{type:"radioGroup",$layout:function(x){return(0,T.default)(x,{type:"radioGroup"})}})},function(ne,E,D){"use strict";var S=this&&this.__assign||function(){return S=Object.assign||function(x){for(var m,p=1,y=arguments.length;p<y;p++)for(var v in m=arguments[p])Object.prototype.hasOwnProperty.call(m,v)&&(x[v]=m[v]);return x},S.apply(this,arguments)};Object.defineProperty(E,"__esModule",{value:!0});var T=D(12),C=D(10);E.default=S(S({},C.default),{type:"select",options:[],$layout:function(x){var m=x.options.map(function(p){return"string"==typeof p?{value:p,content:p}:p});return(0,T.default)(x,{type:"select",options:m})}})},function(ne,E,D){"use strict";var S=this&&this.__assign||function(){return S=Object.assign||function(x){for(var m,p=1,y=arguments.length;p<y;p++)for(var v in m=arguments[p])Object.prototype.hasOwnProperty.call(m,v)&&(x[v]=m[v]);return x},S.apply(this,arguments)};Object.defineProperty(E,"__esModule",{value:!0});var T=D(12),C=D(10);E.default=S(S({},C.default),{type:"slider",$layout:function(x){return(0,T.default)(x,{type:"slider"})}})},function(ne,E,D){"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.default={type:"spacer",$layout:function(){return{type:"spacer"}}}},function(ne,E,D){"use strict";var S=this&&this.__assign||function(){return S=Object.assign||function(x){for(var m,p=1,y=arguments.length;p<y;p++)for(var v in m=arguments[p])Object.prototype.hasOwnProperty.call(m,v)&&(x[v]=m[v]);return x},S.apply(this,arguments)};Object.defineProperty(E,"__esModule",{value:!0});var T=D(12),C=D(10);E.default=S(S({},C.default),{type:"textarea",height:160,$layout:function(x){var m=x.height||"content";return x.wrap&&"content"!==m&&(m=parseInt(m)-47),(0,T.default)(S(S({},x),{height:"content"}),{type:"textarea",height:m})}})},function(ne,E,D){"use strict";var S=this&&this.__assign||function(){return S=Object.assign||function(x){for(var m,p=1,y=arguments.length;p<y;p++)for(var v in m=arguments[p])Object.prototype.hasOwnProperty.call(m,v)&&(x[v]=m[v]);return x},S.apply(this,arguments)};Object.defineProperty(E,"__esModule",{value:!0});var T=D(12),C=D(10);E.default=S(S({},C.default),{type:"timepicker",key:"time",$layout:function(x){return(0,T.default)(x,{type:"timepicker"})}})},function(ne,E,D){"use strict";var S=this&&this.__assign||function(){return S=Object.assign||function(x){for(var m,p=1,y=arguments.length;p<y;p++)for(var v in m=arguments[p])Object.prototype.hasOwnProperty.call(m,v)&&(x[v]=m[v]);return x},S.apply(this,arguments)};Object.defineProperty(E,"__esModule",{value:!0});var T=D(43),C=D(10);E.default=S(S({},C.default),{type:"toggleGroup",$setValue:function(x){var m,p=x.control,y=x.value;if((null===(m=Object.values(p.getValue()))||void 0===m?void 0:m.find(function(u){return u}))!==y){var v={};p.getProperties().options.forEach(function(u){return v[u.id]=u.value==y&&y}),p.setValue(v)}},$handler:function(x){var m,p=x.id,v=x.editor,u=x.key;v.diagram.data.update(p,(0,T.getModifiedObject)(u,null===(m=Object.values(x.value).filter(function(h){return h}))||void 0===m?void 0:m[0],Array.isArray(u)&&v.diagram.data.getItem(p)||{}))},$layout:function(x){return S(S({},x),{type:"toggleGroup"})}})},function(ne,E,D){"use strict";var S=this&&this.__assign||function(){return S=Object.assign||function(x){for(var m,p=1,y=arguments.length;p<y;p++)for(var v in m=arguments[p])Object.prototype.hasOwnProperty.call(m,v)&&(x[v]=m[v]);return x},S.apply(this,arguments)};Object.defineProperty(E,"__esModule",{value:!0});var T=D(13),C=D(20);E.default=function(x){return S(S({},T.default),{label:x.editbar.arrange,css:"dhx_arrange",rows:[{cols:[{type:"input",key:"x",inputType:"number",value:0,width:C.INPUT_WIDTH_50,padding:C.INPUT_PADDING_RIGHT_8,icon:"dxi dxi-alpha-x-box"},{type:"input",key:"y",inputType:"number",value:0,width:C.INPUT_WIDTH_50,icon:"dxi dxi-alpha-y-box"}]},{cols:[{type:"input",key:"width",inputType:"number",value:0,min:0,width:C.INPUT_WIDTH_50,padding:C.INPUT_PADDING_RIGHT_8,icon:"dxi dxi-alpha-w-box"},{type:"input",key:"height",inputType:"number",value:0,min:0,width:C.INPUT_WIDTH_50,icon:"dxi dxi-alpha-h-box"}]},{type:"input",key:"angle",inputType:"number",value:0,min:0,max:360,icon:"dxi dxi-rotate-right"}]})}},function(ne,E,D){"use strict";var S=this&&this.__assign||function(){return S=Object.assign||function(x){for(var m,p=1,y=arguments.length;p<y;p++)for(var v in m=arguments[p])Object.prototype.hasOwnProperty.call(m,v)&&(x[v]=m[v]);return x},S.apply(this,arguments)};Object.defineProperty(E,"__esModule",{value:!0});var T=D(13),C=D(20);E.default=function(x){return S(S({},T.default),{label:x.editbar.border,align:"between",cols:[{type:"colorpicker",key:"stroke",css:"dhx_colorpicker--picker-only",padding:C.INPUT_PADDING_RIGHT_8,width:"content"},{type:"combo",key:"strokeType",padding:C.INPUT_PADDING_RIGHT_8,readOnly:!0,itemHeight:37,options:["line","dash"],template:function(m){return'\n\t\t\t\t\t<div style="display:flex; align-items:center; height:100%; width:100%;">\n\t\t\t\t\t\t<div style="border:1px '.concat({line:"solid",dash:"dashed"}[m.id],' var(--dhx-font-color-secondary); height:0; width:100%;"></div>\n\t\t\t\t\t</div>\n\t\t\t\t')}},{type:"input",key:"strokeWidth",inputType:"number",value:0,min:0,width:50}]})}},function(ne,E,D){"use strict";var S=this&&this.__assign||function(){return S=Object.assign||function(x){for(var m,p=1,y=arguments.length;p<y;p++)for(var v in m=arguments[p])Object.prototype.hasOwnProperty.call(m,v)&&(x[v]=m[v]);return x},S.apply(this,arguments)};Object.defineProperty(E,"__esModule",{value:!0});var T=D(13),C=D(20);E.default=function(x){return S(S({},T.default),{label:x.editbar.positionOffset,cols:[{type:"input",key:"dx",inputType:"number",value:0,width:C.INPUT_WIDTH_50,padding:C.INPUT_PADDING_RIGHT_8,icon:"dxi dxi-alpha-x-box"},{type:"input",key:"dy",inputType:"number",value:0,width:C.INPUT_WIDTH_50,icon:"dxi dxi-alpha-y-box"}]})}},function(ne,E,D){"use strict";var S=this&&this.__assign||function(){return S=Object.assign||function(x){for(var m,p=1,y=arguments.length;p<y;p++)for(var v in m=arguments[p])Object.prototype.hasOwnProperty.call(m,v)&&(x[v]=m[v]);return x},S.apply(this,arguments)};Object.defineProperty(E,"__esModule",{value:!0});var T=D(13),C=D(20);E.default=function(x){return S(S({},T.default),{label:x.editbar.size,cols:[{type:"input",key:"width",inputType:"number",min:0,value:0,width:C.INPUT_WIDTH_50,padding:C.INPUT_PADDING_RIGHT_8,icon:"dxi dxi-alpha-w-box"},{type:"input",key:"height",inputType:"number",min:0,value:0,width:C.INPUT_WIDTH_50,icon:"dxi dxi-alpha-h-box"}]})}},function(ne,E,D){"use strict";var S=this&&this.__assign||function(){return S=Object.assign||function(C){for(var x,m=1,p=arguments.length;m<p;m++)for(var y in x=arguments[m])Object.prototype.hasOwnProperty.call(x,y)&&(C[y]=x[y]);return C},S.apply(this,arguments)};Object.defineProperty(E,"__esModule",{value:!0});var T=D(10);E.default=function(C){return S(S({},T.default),{label:C.editbar.gridStep,inputType:"number",icon:"dxi dxi-grid-step",min:1,wrap:!0,key:void 0,$handler:function(x){var m=x.editor,p=x.value,y=x.control;y.validate(!0,p=+p)&&(m.diagram.config.gridStep=m.config.gridStep=p),y.setValue(p)},$setValue:function(x){x.control.setValue(parseInt(x.editor.diagram.config.gridStep))}})}},function(ne,E,D){"use strict";var S=this&&this.__assign||function(){return S=Object.assign||function(m){for(var p,y=1,v=arguments.length;y<v;y++)for(var u in p=arguments[y])Object.prototype.hasOwnProperty.call(p,u)&&(m[u]=p[u]);return m},S.apply(this,arguments)};Object.defineProperty(E,"__esModule",{value:!0});var T=D(13),C=D(20);function x(m,p,y){for(var v=[];m<=p;)v.push({id:m,value:"".concat(m," px")}),m+=y;return v}E.default=function(m){return S(S({},T.default),{label:m.editbar.textStyle,rows:[{cols:[{type:"combo",key:"fontSize",width:C.INPUT_WIDTH_50,padding:C.INPUT_PADDING_RIGHT_8,readOnly:!0,options:x(10,30,2)},{type:"input",key:"lineHeight",inputType:"number",value:0,min:0,icon:"dxi dxi-format-line-spacing",width:C.INPUT_WIDTH_50}]},{cols:[{type:"colorpicker",key:"fontColor",css:"dhx_colorpicker--picker-only",width:"content",padding:C.INPUT_PADDING_RIGHT_4},{type:"toggle",key:"fontWeight",value:"bold",icon:"dxi dxi-format-bold",width:"content",padding:C.INPUT_PADDING_RIGHT_4},{type:"toggle",key:"fontStyle",value:"italic",icon:"dxi dxi-format-italic",width:"content"}]}]})}},function(ne,E,D){"use strict";var S=this&&this.__assign||function(){return S=Object.assign||function(x){for(var m,p=1,y=arguments.length;p<y;p++)for(var v in m=arguments[p])Object.prototype.hasOwnProperty.call(m,v)&&(x[v]=m[v]);return x},S.apply(this,arguments)};Object.defineProperty(E,"__esModule",{value:!0});var T=D(13),C=D(20);E.default=function(x){return S(S({},T.default),{label:x.editbar.textAlignment,align:"between",cols:[{type:"toggleGroup",key:"textAlign",gap:4,$on:{beforeChange:function(m,p){return!Object.values(p).every(function(y){return!y})}},options:[{icon:"dxi dxi-format-align-left",value:"left"},{icon:"dxi dxi-format-align-center",value:"center"},{icon:"dxi dxi-format-align-right",value:"right"}],padding:C.INPUT_PADDING_RIGHT_8},{type:"toggleGroup",key:"textVerticalAlign",gap:4,$on:{beforeChange:function(m,p){return!Object.values(p).every(function(y){return!y})}},options:[{icon:"dxi dxi-format-vertical-align-bottom",value:"bottom"},{icon:"dxi dxi-format-vertical-align-center",value:"center"},{icon:"dxi dxi-format-vertical-align-top",value:"top"}]}]})}},function(ne,E,D){"use strict";var S=this&&this.__assign||function(){return S=Object.assign||function(m){for(var p,y=1,v=arguments.length;y<v;y++)for(var u in p=arguments[y])Object.prototype.hasOwnProperty.call(p,u)&&(m[u]=p[u]);return m},S.apply(this,arguments)};Object.defineProperty(E,"__esModule",{value:!0});var T=D(13),C=D(20),x='\n\t<div style="display:flex; align-items:center; height:100%; width:100%;">\n\t\t<div style="border:1px solid var(--dhx-font-color-secondary); height:0; width:100%;"></div>\n\t</div>\n';E.default=function(m){return S(S({},T.default),{label:m.editbar.pointerView,align:"between",cols:[{type:"combo",key:"backArrow",padding:C.INPUT_PADDING_RIGHT_8,readOnly:!0,itemHeight:37,width:"50%",options:["none","filled"],template:function(p){return"filled"===p.id?'\n\t\t\t\t\t\t<div style="display:flex; align-items:center; height:100%; width:100%;">\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tstyle="\n\t\t\t\t\t\t\t\t\twidth: 0;\n\t\t\t\t\t\t\t\t\theight: 0;\n\t\t\t\t\t\t\t\t\tborder: 0 solid transparent;\n\t\t\t\t\t\t\t\t\tborder-top-width: 6px;\n\t\t\t\t\t\t\t\t\tborder-bottom-width: 6px;\n\t\t\t\t\t\t\t\t\tborder-right: 6px solid var(--dhx-font-color-secondary);">\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<div style="border:1px solid var(--dhx-font-color-secondary); height:0; width:100%;"></div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t':x}},{type:"combo",key:"forwardArrow",readOnly:!0,itemHeight:37,width:"50%",options:["none","filled"],template:function(p){return"filled"===p.id?'\n\t\t\t\t\t\t<div style="display:flex; align-items:center; height:100%; width:100%;">\n\t\t\t\t\t\t\t<div style="border:1px solid var(--dhx-font-color-secondary); height:0; width:100%;"></div>\n\t\t\t\t\t\t\t<div\n\t\t\t\t\t\t\t\tstyle="\n\t\t\t\t\t\t\t\t\twidth: 0;\n\t\t\t\t\t\t\t\t\theight: 0;\n\t\t\t\t\t\t\t\t\tborder: 0 solid transparent;\n\t\t\t\t\t\t\t\t\tborder-bottom-width: 6px;\n\t\t\t\t\t\t\t\t\tborder-top-width: 6px;\n\t\t\t\t\t\t\t\t\tborder-left: 6px solid var(--dhx-font-color-secondary);">\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t':x}}]})}},function(ne,E,D){"use strict";var S=this&&this.__assign||function(){return S=Object.assign||function(x){for(var m,p=1,y=arguments.length;p<y;p++)for(var v in m=arguments[p])Object.prototype.hasOwnProperty.call(m,v)&&(x[v]=m[v]);return x},S.apply(this,arguments)};Object.defineProperty(E,"__esModule",{value:!0});var T=D(13),C=D(20);E.default=function(x){return S(S({},T.default),{label:x.editbar.lineShape,align:"between",rows:[{type:"toggleGroup",key:"connectType",gap:4,$on:{beforeChange:function(m,p){return!Object.values(p).every(function(y){return!y})}},options:[{icon:"dxi dxi-line-straight",value:"straight"},{icon:"dxi dxi-line-elbow",value:"elbow"}],padding:C.INPUT_PADDING_RIGHT_8}]})}},function(ne,E,D){"use strict";var S=this&&this.__assign||function(){return S=Object.assign||function(C){for(var x,m=1,p=arguments.length;m<p;m++)for(var y in x=arguments[m])Object.prototype.hasOwnProperty.call(x,y)&&(C[y]=x[y]);return C},S.apply(this,arguments)};Object.defineProperty(E,"__esModule",{value:!0});var T=D(13);E.default=function(C){return S(S({},T.default),{label:C.editbar.header,rows:[{type:"headerCommon",compact:!0,$properties:{enable:{key:["header","enable"]},fill:{key:["header","fill"]},height:{key:["header","height"]}}},{type:"headerPosition",compact:!0,$properties:{position:{key:["header","position"]}}},{type:"textStyle",compact:!0,$properties:{fontSize:{key:["header","fontSize"]},lineHeight:{key:["header","lineHeight"]},fontColor:{key:["header","fontColor"]},fontWeight:{key:["header","fontWeight"]},fontStyle:{key:["header","fontStyle"]}}},{type:"textAlign",compact:!0,$properties:{textAlign:{key:["header","textAlign"]},textVerticalAlign:{key:["header","textVerticalAlign"]}}}]})}},function(ne,E,D){"use strict";var S=this&&this.__assign||function(){return S=Object.assign||function(C){for(var x,m=1,p=arguments.length;m<p;m++)for(var y in x=arguments[m])Object.prototype.hasOwnProperty.call(x,y)&&(C[y]=x[y]);return C},S.apply(this,arguments)};Object.defineProperty(E,"__esModule",{value:!0});var T=D(13);E.default=function(C){return S(S({},T.default),{label:C.editbar.headerPosition,rows:[{type:"toggleGroup",key:"position",$on:{beforeChange:function(x,m){return!Object.values(m).every(function(p){return!p})}},gap:4,options:[{icon:"dxi dxi-format-vertical-align-top",value:"top"},{icon:"dxi dxi-format-vertical-align-bottom",value:"bottom"},{icon:"dxi dxi-format-horizontal-align-left",value:"left"},{icon:"dxi dxi-format-horizontal-align-right",value:"right"}]}]})}},function(ne,E,D){"use strict";var S=this&&this.__assign||function(){return S=Object.assign||function(x){for(var m,p=1,y=arguments.length;p<y;p++)for(var v in m=arguments[p])Object.prototype.hasOwnProperty.call(m,v)&&(x[v]=m[v]);return x},S.apply(this,arguments)};Object.defineProperty(E,"__esModule",{value:!0});var T=D(13),C=D(20);E.default=S(S({},T.default),{align:"between",cols:[{type:"toggle",key:"enable",padding:C.INPUT_PADDING_RIGHT_8,icon:"dxi dxi-eye",offIcon:"dxi dxi-eye-off",text:"Visible",offText:"Invisible",full:!0,width:100},{type:"colorpicker",key:"fill",css:"dhx_colorpicker--picker-only",padding:C.INPUT_PADDING_RIGHT_8,width:"content"},{type:"input",key:"height",inputType:"number",icon:"dxi dxi-alpha-h-box",value:0,min:0,width:80}]})},function(ne,E,D){"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.default=function(S){return{default:{$default:[{type:"gridStep"}],$shape:function(T){var C=T.item;return"text"===C?.type?[{type:"arrange"},{type:"textarea",key:"text",label:S.editbar.text,wrap:!0},{type:"textStyle"},{type:"textAlign"}]:"img-card"===C?.type?[{type:"arrange"},{type:"colorpicker",key:"headerColor",label:S.editbar.headerColor,wrap:!0},{type:"textarea",key:"title",label:S.editbar.title,wrap:!0},{type:"textarea",key:"text",label:S.editbar.text,wrap:!0},{type:"avatar",label:S.editbar.image,wrap:!0}]:[{type:"arrange"},{type:"textarea",key:"text",label:S.editbar.text,wrap:!0},{type:"textStyle"},{type:"textAlign"},{type:"colorpicker",key:"fill",label:S.editbar.fill,wrap:!0},{type:"border"}]},$group:[{type:"arrange",$properties:{angle:{hidden:!0}}},{type:"header"},{type:"colorpicker",key:["style","fill"],label:S.editbar.fill,wrap:!0},{type:"border",$properties:{stroke:{key:["style","stroke"]},strokeType:{key:["style","strokeType"],options:["line"]},strokeWidth:{key:["style","strokeWidth"]}}}],$swimlane:[{type:"arrange",$properties:{angle:{hidden:!0}}},{type:"header"},{type:"headerCommon",label:S.editbar.subheaderCols,$properties:{enable:{key:["subHeaderCols","enable"]},fill:{key:["subHeaderCols","fill"]},height:{key:["subHeaderCols","height"]}}},{type:"headerCommon",label:S.editbar.subheaderRows,$properties:{enable:{key:["subHeaderRows","enable"]},fill:{key:["subHeaderRows","fill"]},height:{key:["subHeaderRows","height"]}}},{type:"colorpicker",key:["style","fill"],label:S.editbar.fill,wrap:!0},{type:"border",$properties:{stroke:{key:["style","stroke"]},strokeType:{key:["style","strokeType"],options:["line"]},strokeWidth:{key:["style","strokeWidth"]}}}],$line:[{type:"border",label:S.editbar.lineStyle},{type:"lineShape"},{type:"pointerView"}],$lineTitle:[{type:"textarea",key:"text",label:S.editbar.text,wrap:!0},{type:"textStyle"},{type:"textAlign",$properties:{textVerticalAlign:{hidden:!0}}},{type:"colorpicker",key:"fill",label:S.editbar.fill,wrap:!0}]},org:{$default:[{type:"gridStep"}],$shape:function(T){var C=T.item;return"img-card"===C?.type?[{type:"position"},{type:"size"},{type:"colorpicker",key:"headerColor",label:S.editbar.headerColor,wrap:!0},{type:"textarea",key:"title",label:S.editbar.title,wrap:!0},{type:"textarea",key:"text",label:S.editbar.text,wrap:!0},{type:"avatar",label:S.editbar.image,wrap:!0}]:[{type:"position"},{type:"size"},{type:"colorpicker",key:"headerColor",label:S.editbar.headerColor,wrap:!0},{type:"textarea",key:"text",label:S.editbar.text,wrap:!0}]}},mindmap:{$default:[{type:"gridStep"}],$shape:function(T){var C=T.item;return"img-card"===C?.type?[{type:"position"},{type:"size"},{type:"colorpicker",key:"headerColor",label:S.editbar.headerColor,wrap:!0},{type:"textarea",key:"title",label:S.editbar.title,wrap:!0},{type:"textarea",key:"text",label:S.editbar.text,wrap:!0},{type:"avatar",label:S.editbar.image,wrap:!0}]:[{type:"position"},{type:"size"},{type:"textarea",key:"text",label:S.editbar.text,wrap:!0},{type:"textStyle"},{type:"textAlign"},{type:"colorpicker",key:"fill",label:S.editbar.fill,wrap:!0},{type:"border"}]}}}}},function(ne,E,D){"use strict";var S,T=this&&this.__extends||(S=function(r,i){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,l){o.__proto__=l}||function(o,l){for(var f in l)Object.prototype.hasOwnProperty.call(l,f)&&(o[f]=l[f])})(r,i)},function(r,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function o(){this.constructor=r}S(r,i),r.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}),C=this&&this.__assign||function(){return C=Object.assign||function(r){for(var i,o=1,l=arguments.length;o<l;o++)for(var f in i=arguments[o])Object.prototype.hasOwnProperty.call(i,f)&&(r[f]=i[f]);return r},C.apply(this,arguments)},x=this&&this.__spreadArray||function(r,i,o){if(o||2===arguments.length)for(var l,f=0,_=i.length;f<_;f++)!l&&f in i||(l||(l=Array.prototype.slice.call(i,0,f)),l[f]=i[f]);return r.concat(l||Array.prototype.slice.call(i))};Object.defineProperty(E,"__esModule",{value:!0}),E.DefaultEditor=void 0;var m=D(1),p=D(29),y=D(40),v=D(100),u=D(59),h=D(98),c=D(37),d=D(112),a=function(r){function i(o,l){return r.call(this,o,(0,m.extend)({type:"default",shapeType:"rectangle",view:{toolbar:!0,shapebar:!0,editbar:!0},lineConfig:{lineGap:10},magnetic:!0,connectionPoints:!0,autoplacement:{mode:"direct"}},l))||this}return T(i,r),i.prototype.alignItems=function(o,l,f){var _=this;if(o.length){var b,I,O,P,R=o.filter(function(V){return"line"!==V.$item.getBaseType()});R.forEach(function(V){b=isNaN(b)||V.x<b?V.x:b,I=isNaN(I)||V.x+V.width>I?V.x+V.width:I,O=isNaN(O)||V.y<O?V.y:O,P=isNaN(P)||V.y+V.height>P?V.y+V.height:P});var N={"-1":"x"===f?b:O,0:"x"===f?b/2+I/2:O/2+P/2,1:"x"===f?I:P};R.forEach(function(V){var U=l>=0?N[l]-V["x"===f?"width":"height"]/(l||2):N[l];_.diagram.data.update(V.id,{x:"x"===f?U:V.x,y:"x"===f?V.y:U})})}},i.prototype.distributeItems=function(o,l){if(o.length){var f=o.filter(function(V){return"line"!==V.$item.getBaseType()});f.sort(function(V,U){return V[l]-U[l]});for(var _=f[f.length-1],b=_[l]+_["x"===l?"width":"height"]-f[0][l],I=0;I<f.length;I++)b-=f[I]["x"===l?"width":"height"];var O=b/(f.length-1);for(I=0;I<f.length;I++)if(0!==I&&I!==f.length-1){var P=f[I],R=f[I-1],N=R[l]+R["x"===l?"width":"height"]+O;this.diagram.data.update(P.id,{x:"x"===l?N:P.x,y:"x"===l?P.y:N})}}},i.prototype._initDiagram=function(){var o;this.diagram=new p.Diagram(null,{type:"default",select:!0,toolbar:this._getToolbarConfig(this.config),gridStep:this.config.gridStep,margin:{y:70,x:40},defaults:this._getDefaults(),lineConfig:C({lineDirection:(null===(o=this.config.lineConfig)||void 0===o?void 0:o.lineDirection)||"forwardArrow"},this.config.lineConfig),scale:this.config.scale,autoplacement:this.config.autoplacement,defaultShapeType:this.config.shapeType,$isEditor:!0})},i.prototype._initUI=function(o){var l=this;this.view=new v.View(o,this);var f=this.view.getViews(),b=f.shapebar,I=f.editbar;this.toolbar=f.toolbar,this.editbar=I,this.shapebar=b,this._resizer=new u.Controls(this.events,this.diagram,{magnetic:this.config.magnetic,connectionPoints:this.config.connectionPoints,resizePoints:this.config.resizePoints}),this.diagram.config.$svg=function(O){var P,R=null===(P=l.diagram.selection.getItem())||void 0===P?void 0:P.id,N=l.diagram.data.getItem(R);return l._selectionBox&&l._selectionBox.isValid()?l._selectionBox.render():l.diagram.selection.getIds().length<=1?l._resizer.render(N,O):null},this.diagram.config.$grid=function(){return!!l.config.grid}},i.prototype._showConnectPoints=function(o,l){if(this.config.connectionPoints){var f=this.diagram.data.getItem(o);"shape"===f.$item.getBaseType()&&(l?(f.$connectMode=!f.$connectMode,this._resizer.toggleNearShape(f)):this._resizer.setNearShape(f))}},i.prototype._setHandlers=function(){var o=this;r.prototype._setHandlers.call(this),this.diagram.events.on(p.DataEvents.load,function(){o.history.reset()}),this.diagram.events.on(p.DiagramEvents.shapeIconClick,function(l){var f=o.diagram.selection.getItem(),_=o.diagram.selection.getIds().map(function(b){return o.diagram.data.getItem(b)});if(o.events.fire(c.DiagramEditorEvents.beforeShapeIconClick,[l,_])){switch(l){case"copy":o.model.copy(),o.model.paste();break;case"remove":o._removeSelected();break;case"connect":o._showConnectPoints(o.diagram.selection.getItem().id,!0);break;case"removePoint":f.points.splice(f.$selectedPoint,1),f.$selectedPoint=null,o.diagram.paint();break;case"addColumnFirst":o._addSwimlaneCells(f,"left");break;case"addColumnLast":o._addSwimlaneCells(f,"right");break;case"addRowFirst":o._addSwimlaneCells(f,"up");break;case"addRowLast":o._addSwimlaneCells(f,"down");break;case"lineTitleAutoPositionEnable":o.diagram.data.update(f.id,{autoPosition:!1});break;case"lineTitleAutoPositionDisable":o.diagram.data.update(f.id,{autoPosition:!0});break;case"addLineTitle":(0,y.addLineTitle)(f,o.diagram);break;case"alignHorizontalCenter":o.alignItems(_,0,"x");break;case"alignHorizontalLeft":o.alignItems(_,-1,"x");break;case"alignHorizontalRight":o.alignItems(_,1,"x");break;case"alignVerticalMiddle":o.alignItems(_,0,"y");break;case"alignVerticalTop":o.alignItems(_,-1,"y");break;case"alignVerticalBottom":o.alignItems(_,1,"y");break;case"alignHorizontalDistribute":o.distributeItems(_,"x");break;case"alignVerticalDistribute":o.distributeItems(_,"y")}o.events.fire(c.DiagramEditorEvents.afterShapeIconClick,[l,f??_])}}),this.diagram.events.on(p.DiagramEvents.itemMouseOver,function(l){var f=o.diagram.selection.getItem(),_=o.diagram.data.getItem(l);f&&"line"!==f.$item.getBaseType()||"shape"!==_.$item.getBaseType()||o._showConnectPoints(l)}),this.events.on(c.DiagramEditorEvents.shapesUp,function(l){var f=o.diagram.getRootView().node.el.getBoundingClientRect();if(!(l.$x<f.left||l.$x>f.right)){var _=o._resizer.getPoint(l.$x,l.$y);_.x=Math.round(_.x/o.config.gridStep)*o.config.gridStep,_.y=Math.round(_.y/o.config.gridStep)*o.config.gridStep;var b=o.view.getRootView().node.el;(0,d.setValueFromCssVariable)(l,b);var I=o.diagram.data.getItem(o._addItem(C(C({},l),{x:_.x,y:_.y})));o._addItemToGroup(I)}}),this.events.on(c.DiagramEditorEvents.beforeItemMove,function(l){return o._moveChildren(l.id,l.$mov)}),[c.DiagramEditorEvents.afterGroupMove,c.DiagramEditorEvents.afterShapeMove].forEach(function(l){o.events.on(l,function(f){var b=f.batch,I=o.diagram.data.getItem(f.id);if(b.length&&"swimlane"!==I.$item.getBaseType()){var O=o.diagram.data.getItem(I?.$group),P=new Set(b);o.diagram.data.mapVisible(function(R){if(!P.has(R.id)){var N=R.id,V=R.$item,U=R.groupChildren,B=R.exitArea;if("group"===V.getBaseType()&&open){if(("unbound"===B.groupBehavior||O?.id!=N)&&U.find(function(M){return M==I.id})){var F=U.findIndex(function(M){return M==I.id});U.splice(F,1),o.diagram.data.update(N,{groupChildren:U}),o.diagram.data.update(I.id,{$group:null},!0)}if(O?.id!=N&&(!O||"unbound"===O?.exitArea.groupBehavior||"unbound"!==O?.exitArea.groupBehavior&&-1!==O?.groupChildren.findIndex(function(M){return M==N}))){var W=V.getLocatePercent(I.$item.getBox());o._setItemIndicator(R,W)}}}})}})}),this.events.on(c.DiagramEditorEvents.itemMoveEnd,function(){var l=o.diagram.selection.getItem();l&&o._addItemToGroup(l)})},i.prototype._initHotkeys=function(){var o=this;r.prototype._initHotkeys.call(this),this._keyManager.addHotKey("ctrl+c",function(){o.editbar.isFocused()||o.model.copy()}),this._keyManager.addHotKey("ctrl+v",function(){o.editbar.isFocused()||o.model.paste()}),this._keyManager.addHotKey("ctrl+d",function(l){l.preventDefault(),o.model.copy(),o.model.paste()})},i.prototype._removeItem=function(o){var l=this.diagram.data.getItem(o);l?.$connectMode&&this._showConnectPoints(o,!0),r.prototype._removeItem.call(this,o)},i.prototype._getGroupTarget=function(o,l,f){var _=this;if(void 0===f&&(f=null),o.id==l.selected.id||o.id==l.exclude)return f;var b=o.id,I=o.open,O=o.groupChildren,R=o.entryArea,N=o.$item.getLocatePercent(l.selected.$item.getBox());return I&&N>=R.catchArea&&(f=o,O.length&&this.diagram.data.eachChild(b,function(V){"group"===V.$item.getBaseType()&&(f=_._getGroupTarget(V,l,f))},!1)),f},i.prototype._addItemToGroup=function(o){var l=this;if(o){var f=null;if(this.diagram.data.mapVisible(function(I){var O=I.id,P=I.groupChildren,R=I.$item.getBaseType();if("group"===R&&"swimlane"!==R&&"swimlane"!==o.$item.getBaseType()&&(f||(f=l._getGroupTarget(I,{selected:o})),l.diagram.data.update(O,{$captureArea:"out"},!0),P.find(function(U){return U==o.id}))){var V=P.findIndex(function(U){return U==o.id});P.splice(V,1),l.diagram.data.update(I.id,{groupChildren:P}),l.diagram.data.update(o.id,{$group:null},!0)}}),f){var _=f.id;_==o.$group||this.diagram.data.update(_,{groupChildren:x(x([],f.groupChildren,!0),[o.id],!1)})}this._setParentBox(o.id)}},i.prototype._addItem=function(o){var l;return delete o.$key,delete o.$x,delete o.$y,l="$swimlane"===o.type?this._addSwimlaneItem(o):this.diagram.data.add(C(C({},o),{id:(0,m.uid)()})),this.diagram.selection.add({id:l}),l},i.prototype._addSwimlaneItem=function(o){for(var l=JSON.parse(JSON.stringify(o)),f=l.layout,_={},b=0;b<f.length;b++)for(var I=f[b],O=0;O<I.length;O++){var P=I[O];if(_[P])l.layout[b][O]=_[P];else{var R=(0,m.uid)();l.layout[b][O]=_[P]=R}}return this.diagram.data.add(C(C({},l),{layout:f,width:2*l.width,height:2*l.height,id:(0,m.uid)()}))},i.prototype._moveChildren=function(o,l){var f=this.diagram.data.getItem(o),_=this.diagram.selection.getItem(),b=f.$item.isFixed();if(!b&&f.$group){var I=this.diagram.data.getItem(f.$group);return I.$group&&this._moveChildren(I.id,l),I.$item.trackChildMove(_.$item.getBox(),{x:l.x,y:l.y})}return!b},i.prototype._setParentBox=function(o){if(o){var l=this.diagram.data.getItem(o);"group"===l.$item.getBaseType()&&l.$item.setMinBox(),l.$group&&this._setParentBox(l.$group)}},i.prototype._setItemIndicator=function(o,l){var _=o.$captureArea,b=o.id;l>=o.entryArea.catchArea?"over"!==_&&this.diagram.data.update(b,{$captureArea:"over"},!0):0!==l?"partially"!==_&&this.diagram.data.update(b,{$captureArea:"partially"},!0):"out"!==_&&this.diagram.data.update(b,{$captureArea:"out"},!0)},i.prototype._addSwimlaneCells=function(o,l){var f=o.layout["down"===l?o.layout.length-1:0]["right"===l?o.layout[0].length-1:0],_="left"===l||"right"===l?"col":"row";this.diagram.cellManager.setSwimlane(o.id),this.diagram.cellManager.add(this.diagram.cellManager.getCellIndex(f,_),l,!0)},i}(h.BaseDiagramEditor);E.DefaultEditor=a},function(ne,E,D){"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.setLocale=void 0,E.setLocale=function(S,T){var C=this[S];if(C)for(var x in T)C[x]=T[x]}},function(ne,E,D){"use strict";D.r(E);var S=D(113);location.hostname.includes("dhtmlx.com")||location.hostname.includes("dhtmlxcode.com")||location.hostname.includes("webixcode.com")||location.hostname.includes("webix.io/dev/dhtmlx")||location.hostname.includes("replit.com/@dhtmlx")||location.origin.endsWith("csb.app")||(window.onload=function(){var T;function C(){(T=document.createElement("div")).addEventListener("click",function(){document.body.removeChild(T),window.open("https://dhtmlx.com/docs/products/dhtmlxDiagram/download.shtml","_blank")});var x=new S.CssManager,m=x.add({display:"block !important",background:"#ff5252 !important",color:"white !important",padding:"12px",position:"absolute !important",maxWidth:"260px",top:"2% !important",right:"2% !important",fontSize:"14px !important",boxShadow:"0 1px 6px rgba(0,0,0,.1), 0 10px 20px rgba(0,0,0,.1)",cursor:"pointer",borderRadius:"2px",fontFamily:"Roboto",zIndex:2500});x.add({content:'"This version of DHTMLX Diagram is intended for demonstration only. Download an official evaluation version to try DHTMLX Diagram in your project." !important',fontSize:"14px !important",background:"#ff5252 !important",color:"white !important"},`${m}:after`),T.classList.add(m),document.body.appendChild(T)}setInterval(function(){var x=window.getComputedStyle(T,":after");x&&x.getPropertyValue("content")&&"none"!==x.getPropertyValue("content")||C()},6e4),C()})}]),window.dhx_legacy){if(window.dhx)for(var uo in dhx)if("i18n"===uo)for(var Ki in dhx[uo])window.dhx_legacy[uo][Ki]=dhx[uo][Ki];else dhx_legacy[uo]=dhx[uo];window.dhx=dhx_legacy,delete window.dhx_legacy}},41:(Xi,uo,Ki)=>{"use strict";function ne(e){return"function"==typeof e}function E(e){const n=e(s=>{Error.call(s),s.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const D=E(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((s,g)=>`${g+1}) ${s.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function S(e,t){if(e){const n=e.indexOf(t);0<=n&&e.splice(n,1)}}class T{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const w of n)w.remove(this);else n.remove(this);const{initialTeardown:s}=this;if(ne(s))try{s()}catch(w){t=w instanceof D?w.errors:[w]}const{_finalizers:g}=this;if(g){this._finalizers=null;for(const w of g)try{m(w)}catch(k){t=t??[],k instanceof D?t=[...t,...k.errors]:t.push(k)}}if(t)throw new D(t)}}add(t){var n;if(t&&t!==this)if(this.closed)m(t);else{if(t instanceof T){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}}_hasParent(t){const{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){const{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&S(n,t)}remove(t){const{_finalizers:n}=this;n&&S(n,t),t instanceof T&&t._removeParent(this)}}T.EMPTY=(()=>{const e=new T;return e.closed=!0,e})();const C=T.EMPTY;function x(e){return e instanceof T||e&&"closed"in e&&ne(e.remove)&&ne(e.add)&&ne(e.unsubscribe)}function m(e){ne(e)?e():e.unsubscribe()}const p={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},y={setTimeout(e,t,...n){const{delegate:s}=y;return s?.setTimeout?s.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){const{delegate:t}=y;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function v(e){y.setTimeout(()=>{const{onUnhandledError:t}=p;if(!t)throw e;t(e)})}function u(){}const h=a("C",void 0,void 0);function a(e,t,n){return{kind:e,value:t,error:n}}let r=null;function i(e){if(p.useDeprecatedSynchronousErrorHandling){const t=!r;if(t&&(r={errorThrown:!1,error:null}),e(),t){const{errorThrown:n,error:s}=r;if(r=null,n)throw s}}else e()}class l extends T{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,x(t)&&t.add(this)):this.destination=N}static create(t,n,s){return new I(t,n,s)}next(t){this.isStopped?R(function d(e){return a("N",e,void 0)}(t),this):this._next(t)}error(t){this.isStopped?R(function c(e){return a("E",void 0,e)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?R(h,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const f=Function.prototype.bind;function _(e,t){return f.call(e,t)}class b{constructor(t){this.partialObserver=t}next(t){const{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(s){O(s)}}error(t){const{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(s){O(s)}else O(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){O(n)}}}class I extends l{constructor(t,n,s){let g;if(super(),ne(t)||!t)g={next:t??void 0,error:n??void 0,complete:s??void 0};else{let w;this&&p.useDeprecatedNextContext?(w=Object.create(t),w.unsubscribe=()=>this.unsubscribe(),g={next:t.next&&_(t.next,w),error:t.error&&_(t.error,w),complete:t.complete&&_(t.complete,w)}):g=t}this.destination=new b(g)}}function O(e){p.useDeprecatedSynchronousErrorHandling?function o(e){p.useDeprecatedSynchronousErrorHandling&&r&&(r.errorThrown=!0,r.error=e)}(e):v(e)}function R(e,t){const{onStoppedNotification:n}=p;n&&y.setTimeout(()=>n(e,t))}const N={closed:!0,next:u,error:function P(e){throw e},complete:u},V="function"==typeof Symbol&&Symbol.observable||"@@observable";function U(e){return e}let W=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){const s=new e;return s.source=this,s.operator=n,s}subscribe(n,s,g){const w=function Y(e){return e&&e instanceof l||function $(e){return e&&ne(e.next)&&ne(e.error)&&ne(e.complete)}(e)&&x(e)}(n)?n:new I(n,s,g);return i(()=>{const{operator:k,source:A}=this;w.add(k?k.call(w,A):A?this._subscribe(w):this._trySubscribe(w))}),w}_trySubscribe(n){try{return this._subscribe(n)}catch(s){n.error(s)}}forEach(n,s){return new(s=M(s))((g,w)=>{const k=new I({next:A=>{try{n(A)}catch(H){w(H),k.unsubscribe()}},error:w,complete:g});this.subscribe(k)})}_subscribe(n){var s;return null===(s=this.source)||void 0===s?void 0:s.subscribe(n)}[V](){return this}pipe(...n){return function F(e){return 0===e.length?U:1===e.length?e[0]:function(n){return e.reduce((s,g)=>g(s),n)}}(n)(this)}toPromise(n){return new(n=M(n))((s,g)=>{let w;this.subscribe(k=>w=k,k=>g(k),()=>s(w))})}}return e.create=t=>new e(t),e})();function M(e){var t;return null!==(t=e??p.Promise)&&void 0!==t?t:Promise}const ee=E(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let J=(()=>{class e extends W{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const s=new Z(this,this);return s.operator=n,s}_throwIfClosed(){if(this.closed)throw new ee}next(n){i(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const s of this.currentObservers)s.next(n)}})}error(n){i(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:s}=this;for(;s.length;)s.shift().error(n)}})}complete(){i(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:s,isStopped:g,observers:w}=this;return s||g?C:(this.currentObservers=null,w.push(n),new T(()=>{this.currentObservers=null,S(w,n)}))}_checkFinalizedStatuses(n){const{hasError:s,thrownError:g,isStopped:w}=this;s?n.error(g):w&&n.complete()}asObservable(){const n=new W;return n.source=this,n}}return e.create=(t,n)=>new Z(t,n),e})();class Z extends J{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,s;null===(s=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===s||s.call(n,t)}error(t){var n,s;null===(s=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===s||s.call(n,t)}complete(){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===n||n.call(t)}_subscribe(t){var n,s;return null!==(s=null===(n=this.source)||void 0===n?void 0:n.subscribe(t))&&void 0!==s?s:C}}class j extends J{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){const{hasError:t,thrownError:n,_value:s}=this;if(t)throw n;return this._throwIfClosed(),s}next(t){super.next(this._value=t)}}function G(e){return t=>{if(function L(e){return ne(e?.lift)}(t))return t.lift(function(n){try{return e(n,this)}catch(s){this.error(s)}});throw new TypeError("Unable to lift unknown Observable type")}}function X(e,t,n,s,g){return new ae(e,t,n,s,g)}class ae extends l{constructor(t,n,s,g,w,k){super(t),this.onFinalize=w,this.shouldUnsubscribe=k,this._next=n?function(A){try{n(A)}catch(H){t.error(H)}}:super._next,this._error=g?function(A){try{g(A)}catch(H){t.error(H)}finally{this.unsubscribe()}}:super._error,this._complete=s?function(){try{s()}catch(A){t.error(A)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function at(e){return this instanceof at?(this.v=e,this):new at(e)}function ot(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=e[Symbol.asyncIterator];return t?t.call(e):(e=function q(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],s=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&s>=e.length&&(e=void 0),{value:e&&e[s++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),n={},s("next"),s("throw"),s("return"),n[Symbol.asyncIterator]=function(){return this},n);function s(w){n[w]=e[w]&&function(k){return new Promise(function(A,H){!function g(w,k,A,H){Promise.resolve(H).then(function(z){w({value:z,done:A})},k)}(A,H,(k=e[w](k)).done,k.value)})}}}const Co=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function vn(e){return ne(e?.then)}function In(e){return ne(e[V])}function Nn(e){return Symbol.asyncIterator&&ne(e?.[Symbol.asyncIterator])}function Do(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Yn=function Ln(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function _n(e){return ne(e?.[Yn])}function No(e){return function Je(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var g,s=n.apply(e,t||[]),w=[];return g={},k("next"),k("throw"),k("return"),g[Symbol.asyncIterator]=function(){return this},g;function k(se){s[se]&&(g[se]=function(de){return new Promise(function(_e,xe){w.push([se,de,_e,xe])>1||A(se,de)})})}function A(se,de){try{!function H(se){se.value instanceof at?Promise.resolve(se.value.v).then(z,K):te(w[0][2],se)}(s[se](de))}catch(_e){te(w[0][3],_e)}}function z(se){A("next",se)}function K(se){A("throw",se)}function te(se,de){se(de),w.shift(),w.length&&A(w[0][0],w[0][1])}}(this,arguments,function*(){const n=e.getReader();try{for(;;){const{value:s,done:g}=yield at(n.read());if(g)return yield at(void 0);yield yield at(s)}}finally{n.releaseLock()}})}function Lo(e){return ne(e?.getReader)}function Jt(e){if(e instanceof W)return e;if(null!=e){if(In(e))return function Io(e){return new W(t=>{const n=e[V]();if(ne(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(Co(e))return function Hn(e){return new W(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}(e);if(vn(e))return function Xn(e){return new W(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,v)})}(e);if(Nn(e))return sn(e);if(_n(e))return function Kn(e){return new W(t=>{for(const n of e)if(t.next(n),t.closed)return;t.complete()})}(e);if(Lo(e))return function ti(e){return sn(No(e))}(e)}throw Do(e)}function sn(e){return new W(t=>{(function Ho(e,t){var n,s,g,w;return function Ae(e,t,n,s){return new(n||(n=Promise))(function(w,k){function A(K){try{z(s.next(K))}catch(te){k(te)}}function H(K){try{z(s.throw(K))}catch(te){k(te)}}function z(K){K.done?w(K.value):function g(w){return w instanceof n?w:new n(function(k){k(w)})}(K.value).then(A,H)}z((s=s.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){try{for(n=ot(e);!(s=yield n.next()).done;)if(t.next(s.value),t.closed)return}catch(k){g={error:k}}finally{try{s&&!s.done&&(w=n.return)&&(yield w.call(n))}finally{if(g)throw g.error}}t.complete()})})(e,t).catch(n=>t.error(n))})}function en(e,t,n,s=0,g=!1){const w=t.schedule(function(){n(),g?e.add(this.schedule(null,s)):this.unsubscribe()},s);if(e.add(w),!g)return w}function _t(e,t,n=1/0){return ne(t)?_t((s,g)=>function ie(e,t){return G((n,s)=>{let g=0;n.subscribe(X(s,w=>{s.next(e.call(t,w,g++))}))})}((w,k)=>t(s,w,g,k))(Jt(e(s,g))),n):("number"==typeof t&&(n=t),G((s,g)=>function So(e,t,n,s,g,w,k,A){const H=[];let z=0,K=0,te=!1;const se=()=>{te&&!H.length&&!z&&t.complete()},de=xe=>z<s?_e(xe):H.push(xe),_e=xe=>{w&&t.next(xe),z++;let Ie=!1;Jt(n(xe,K++)).subscribe(X(t,Oe=>{g?.(Oe),w?de(Oe):t.next(Oe)},()=>{Ie=!0},void 0,()=>{if(Ie)try{for(z--;H.length&&z<s;){const Oe=H.shift();k?en(t,k,()=>_e(Oe)):_e(Oe)}se()}catch(Oe){t.error(Oe)}}))};return e.subscribe(X(t,de,()=>{te=!0,se()})),()=>{A?.()}}(s,g,e,n)))}const Qi=new W(e=>e.complete());function Vo(e){return e[e.length-1]}function na(e){return function ni(e){return e&&ne(e.schedule)}(Vo(e))?e.pop():void 0}function ia(e,t=0){return G((n,s)=>{n.subscribe(X(s,g=>en(s,e,()=>s.next(g),t),()=>en(s,e,()=>s.complete(),t),g=>en(s,e,()=>s.error(g),t)))})}function ra(e,t=0){return G((n,s)=>{s.add(e.schedule(()=>n.subscribe(s),t))})}function oi(e,t){if(!e)throw new Error("Iterable cannot be null");return new W(n=>{en(n,t,()=>{const s=e[Symbol.asyncIterator]();en(n,t,()=>{s.next().then(g=>{g.done?n.complete():n.next(g.value)})},0,!0)})})}function la(e,t){return t?function er(e,t){if(null!=e){if(In(e))return function aa(e,t){return Jt(e).pipe(ra(t),ia(t))}(e,t);if(Co(e))return function Xs(e,t){return new W(n=>{let s=0;return t.schedule(function(){s===e.length?n.complete():(n.next(e[s++]),n.closed||this.schedule())})})}(e,t);if(vn(e))return function sa(e,t){return Jt(e).pipe(ra(t),ia(t))}(e,t);if(Nn(e))return oi(e,t);if(_n(e))return function Ks(e,t){return new W(n=>{let s;return en(n,t,()=>{s=e[Yn](),en(n,t,()=>{let g,w;try{({value:g,done:w}=s.next())}catch(k){return void n.error(k)}w?n.complete():n.next(g)},0,!0)}),()=>ne(s?.return)&&s.return()})}(e,t);if(Lo(e))return function Zs(e,t){return oi(No(e),t)}(e,t)}throw Do(e)}(e,t):Jt(e)}function Qs(...e){const t=na(e),n=function oa(e,t){return"number"==typeof Vo(e)?e.pop():t}(e,1/0),s=e;return s.length?1===s.length?Jt(s[0]):function ta(e=1/0){return _t(U,e)}(n)(la(s,t)):Qi}function ii(e={}){const{connector:t=(()=>new J),resetOnError:n=!0,resetOnComplete:s=!0,resetOnRefCountZero:g=!0}=e;return w=>{let k,A,H,z=0,K=!1,te=!1;const se=()=>{A?.unsubscribe(),A=void 0},de=()=>{se(),k=H=void 0,K=te=!1},_e=()=>{const xe=k;de(),xe?.unsubscribe()};return G((xe,Ie)=>{z++,!te&&!K&&se();const Oe=H=H??t();Ie.add(()=>{z--,0===z&&!te&&!K&&(A=tr(_e,g))}),Oe.subscribe(Ie),!k&&z>0&&(k=new I({next:be=>Oe.next(be),error:be=>{te=!0,se(),A=tr(de,n,be),Oe.error(be)},complete:()=>{K=!0,se(),A=tr(de,s),Oe.complete()}}),Jt(xe).subscribe(k))})(w)}}function tr(e,t,...n){if(!0===t)return void e();if(!1===t)return;const s=new I({next:()=>{s.unsubscribe(),e()}});return Jt(t(...n)).subscribe(s)}function da(e,t){return e===t}function ft(e){for(let t in e)if(e[t]===ft)return t;throw Error("Could not find renamed property on target object.")}function oe(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(oe).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function le(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const ce=ft({__forward_ref__:ft});function ue(e){return e.__forward_ref__=ue,e.toString=function(){return oe(this())},e}function pe(e){return function Me(e){return"function"==typeof e&&e.hasOwnProperty(ce)&&e.__forward_ref__===ue}(e)?e():e}function ze(e){return e&&!!e.\u0275providers}class Se extends Error{constructor(t,n){super(function rt(e,t){return`NG0${Math.abs(e)}${t?": "+t:""}`}(t,n)),this.code=t}}function $e(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():function je(e){return"string"==typeof e?e:null==e?"":String(e)}(e)}function jo(e,t){throw new Se(-201,!1)}function Mn(e,t){null==e&&function gt(e,t,n,s){throw new Error(`ASSERTION ERROR: ${e}`+(null==s?"":` [Expected=> ${n} ${s} ${t} <=Actual]`))}(t,e,null,"!=")}function mt(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function ai(e){return{providers:e.providers||[],imports:e.imports||[]}}function pa(e){return pu(e,ga)||pu(e,vu)}function pu(e,t){return e.hasOwnProperty(t)?e[t]:null}function gu(e){return e&&(e.hasOwnProperty(ol)||e.hasOwnProperty(Vm))?e[ol]:null}const ga=ft({\u0275prov:ft}),ol=ft({\u0275inj:ft}),vu=ft({ngInjectableDef:ft}),Vm=ft({ngInjectorDef:ft});var Ge=(()=>((Ge=Ge||{})[Ge.Default=0]="Default",Ge[Ge.Host=1]="Host",Ge[Ge.Self=2]="Self",Ge[Ge.SkipSelf=4]="SkipSelf",Ge[Ge.Optional=8]="Optional",Ge))();let il;function ln(e){const t=il;return il=e,t}function mu(e,t,n){const s=pa(e);return s&&"root"==s.providedIn?void 0===s.value?s.value=s.factory():s.value:n&Ge.Optional?null:void 0!==t?t:void jo(oe(e))}const yt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),nr={},rl="__NG_DI_FLAG__",va="ngTempTokenPath",$m=/\n/gm,yu="__source";let si;function ko(e){const t=si;return si=e,t}function Wm(e,t=Ge.Default){if(void 0===si)throw new Se(-203,!1);return null===si?mu(e,void 0,t):si.get(e,t&Ge.Optional?null:void 0,t)}function dt(e,t=Ge.Default){return(function _u(){return il}()||Wm)(pe(e),t)}function Ct(e,t=Ge.Default){return dt(e,_a(t))}function _a(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function al(e){const t=[];for(let n=0;n<e.length;n++){const s=pe(e[n]);if(Array.isArray(s)){if(0===s.length)throw new Se(900,!1);let g,w=Ge.Default;for(let k=0;k<s.length;k++){const A=s[k],H=Um(A);"number"==typeof H?-1===H?g=A.token:w|=H:g=A}t.push(dt(g,w))}else t.push(dt(s))}return t}function Um(e){return e[rl]}function ho(e){return{toString:e}.toString()}var Zn=(()=>((Zn=Zn||{})[Zn.OnPush=0]="OnPush",Zn[Zn.Default=1]="Default",Zn))(),mn=(()=>{return(e=mn||(mn={}))[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",mn;var e})();const Qn={},ht=[],ma=ft({\u0275cmp:ft}),sl=ft({\u0275dir:ft}),ll=ft({\u0275pipe:ft}),xu=ft({\u0275mod:ft}),fo=ft({\u0275fac:ft}),ir=ft({__NG_ELEMENT_ID__:ft}),wu=ft({__NG_ENV_ID__:ft});function Eu(e,t,n){let s=e.length;for(;;){const g=e.indexOf(t,n);if(-1===g)return g;if(0===g||e.charCodeAt(g-1)<=32){const w=t.length;if(g+w===s||e.charCodeAt(g+w)<=32)return g}n=g+1}}function cl(e,t,n){let s=0;for(;s<n.length;){const g=n[s];if("number"==typeof g){if(0!==g)break;s++;const w=n[s++],k=n[s++],A=n[s++];e.setAttribute(t,k,A,w)}else{const w=g,k=n[++s];Du(w)?e.setProperty(t,w,k):e.setAttribute(t,w,k),s++}}return s}function Cu(e){return 3===e||4===e||6===e}function Du(e){return 64===e.charCodeAt(0)}function rr(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let s=0;s<t.length;s++){const g=t[s];"number"==typeof g?n=g:0===n||Iu(e,n,g,null,-1===n||2===n?t[++s]:null)}}return e}function Iu(e,t,n,s,g){let w=0,k=e.length;if(-1===t)k=-1;else for(;w<e.length;){const A=e[w++];if("number"==typeof A){if(A===t){k=-1;break}if(A>t){k=w-1;break}}}for(;w<e.length;){const A=e[w];if("number"==typeof A)break;if(A===n){if(null===s)return void(null!==g&&(e[w+1]=g));if(s===e[w+1])return void(e[w+2]=g)}w++,null!==s&&w++,null!==g&&w++}-1!==k&&(e.splice(k,0,t),w=k+1),e.splice(w++,0,n),null!==s&&e.splice(w++,0,s),null!==g&&e.splice(w++,0,g)}const Su="ng-template";function Ym(e,t,n){let s=0,g=!0;for(;s<e.length;){let w=e[s++];if("string"==typeof w&&g){const k=e[s++];if(n&&"class"===w&&-1!==Eu(k.toLowerCase(),t,0))return!0}else{if(1===w){for(;s<e.length&&"string"==typeof(w=e[s++]);)if(w.toLowerCase()===t)return!0;return!1}"number"==typeof w&&(g=!1)}}return!1}function ku(e){return 4===e.type&&e.value!==Su}function Xm(e,t,n){return t===(4!==e.type||n?e.value:Su)}function Km(e,t,n){let s=4;const g=e.attrs||[],w=function Jm(e){for(let t=0;t<e.length;t++)if(Cu(e[t]))return t;return e.length}(g);let k=!1;for(let A=0;A<t.length;A++){const H=t[A];if("number"!=typeof H){if(!k)if(4&s){if(s=2|1&s,""!==H&&!Xm(e,H,n)||""===H&&1===t.length){if(Vn(s))return!1;k=!0}}else{const z=8&s?H:t[++A];if(8&s&&null!==e.attrs){if(!Ym(e.attrs,z,n)){if(Vn(s))return!1;k=!0}continue}const te=Zm(8&s?"class":H,g,ku(e),n);if(-1===te){if(Vn(s))return!1;k=!0;continue}if(""!==z){let se;se=te>w?"":g[te+1].toLowerCase();const de=8&s?se:null;if(de&&-1!==Eu(de,z,0)||2&s&&z!==se){if(Vn(s))return!1;k=!0}}}}else{if(!k&&!Vn(s)&&!Vn(H))return!1;if(k&&Vn(H))continue;k=!1,s=H|1&s}}return Vn(s)||k}function Vn(e){return 0==(1&e)}function Zm(e,t,n,s){if(null===t)return-1;let g=0;if(s||!n){let w=!1;for(;g<t.length;){const k=t[g];if(k===e)return g;if(3===k||6===k)w=!0;else{if(1===k||2===k){let A=t[++g];for(;"string"==typeof A;)A=t[++g];continue}if(4===k)break;if(0===k){g+=4;continue}}g+=w?1:2}return-1}return function ey(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const s=e[n];if("number"==typeof s)return-1;if(s===t)return n;n++}return-1}(t,e)}function Mu(e,t,n=!1){for(let s=0;s<t.length;s++)if(Km(e,t[s],n))return!0;return!1}function Tu(e,t){return e?":not("+t.trim()+")":t}function ny(e){let t=e[0],n=1,s=2,g="",w=!1;for(;n<e.length;){let k=e[n];if("string"==typeof k)if(2&s){const A=e[++n];g+="["+k+(A.length>0?'="'+A+'"':"")+"]"}else 8&s?g+="."+k:4&s&&(g+=" "+k);else""!==g&&!Vn(k)&&(t+=Tu(w,g),g=""),s=k,w=w||!Vn(s);n++}return""!==g&&(t+=Tu(w,g)),t}function dl(e){return ho(()=>{const t=function Pu(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputTransforms:null,inputConfig:e.inputs||Qn,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||ht,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Ou(e.inputs,t),outputs:Ou(e.outputs)}}(e),n={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Zn.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||mn.Emulated,styles:e.styles||ht,_:null,schemas:e.schemas||null,tView:null,id:""};!function Au(e){e.features?.forEach(t=>t(e))}(n);const s=e.dependencies;return n.directiveDefs=ya(s,!1),n.pipeDefs=ya(s,!0),n.id=function dy(e){let t=0;const n=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const g of n)t=Math.imul(31,t)+g.charCodeAt(0)<<0;return t+=2147483648,"c"+t}(n),n})}function ay(e){return pt(e)||qt(e)}function sy(e){return null!==e}function ar(e){return ho(()=>({type:e.type,bootstrap:e.bootstrap||ht,declarations:e.declarations||ht,imports:e.imports||ht,exports:e.exports||ht,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function Ou(e,t){if(null==e)return Qn;const n={};for(const s in e)if(e.hasOwnProperty(s)){let g=e[s],w=g;Array.isArray(g)&&(w=g[1],g=g[0]),n[g]=s,t&&(t[g]=w)}return n}function pt(e){return e[ma]||null}function qt(e){return e[sl]||null}function dn(e){return e[ll]||null}function ya(e,t){if(!e)return null;const n=t?dn:ay;return()=>("function"==typeof e?e():e).map(s=>n(s)).filter(sy)}const jt=0,Fe=1,Ye=2,Dt=3,jn=4,lr=5,Yt=6,li=7,Rt=8,ci=9,$o=10,Xe=11,cr=12,Fu=13,di=14,Nt=15,dr=16,ui=17,Jn=18,ur=19,Ru=20,Mo=21,po=22,ba=23,xa=24,ct=25,ul=1,Nu=2,eo=7,hi=9,Xt=11;function bn(e){return Array.isArray(e)&&"object"==typeof e[ul]}function un(e){return Array.isArray(e)&&!0===e[ul]}function hl(e){return 0!=(4&e.flags)}function Bo(e){return e.componentOffset>-1}function $n(e){return!!e.template}function fl(e){return 0!=(512&e[Ye])}function zo(e,t){return e.hasOwnProperty(fo)?e[fo]:null}let vy=yt.WeakRef??class gy{constructor(t){this.ref=t}deref(){return this.ref}},my=0,to=null,Ca=!1;function Ut(e){const t=to;return to=e,t}class $u{constructor(){this.id=my++,this.ref=function _y(e){return new vy(e)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[t,n]of this.producers){const s=n.producerNode.deref();if(void 0!==s&&n.atTrackingVersion===this.trackingVersion){if(s.producerPollStatus(n.seenValueVersion))return!0}else this.producers.delete(t),s?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const t=Ca;Ca=!0;try{for(const[n,s]of this.consumers){const g=s.consumerNode.deref();void 0!==g&&g.trackingVersion===s.atTrackingVersion?g.onConsumerDependencyMayHaveChanged():(this.consumers.delete(n),g?.producers.delete(this.id))}}finally{Ca=t}}producerAccessed(){if(Ca)throw new Error("");if(null===to)return;let t=to.producers.get(this.id);void 0===t?(t={consumerNode:to.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:to.trackingVersion},to.producers.set(this.id,t),this.consumers.set(to.id,t)):(t.seenValueVersion=this.valueVersion,t.atTrackingVersion=to.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==to?.consumerAllowSignalWrites}producerPollStatus(t){return this.valueVersion!==t||(this.onProducerUpdateValueVersion(),this.valueVersion!==t)}}let Bu=null;const Wu=()=>{};class wy extends $u{constructor(t,n,s){super(),this.watch=t,this.schedule=n,this.dirty=!1,this.cleanupFn=Wu,this.registerOnCleanup=g=>{this.cleanupFn=g},this.consumerAllowSignalWrites=s}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const t=Ut(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=Wu,this.watch(this.registerOnCleanup)}finally{Ut(t)}}cleanup(){this.cleanupFn()}}class Ey{constructor(t,n,s){this.previousValue=t,this.currentValue=n,this.firstChange=s}isFirstChange(){return this.firstChange}}function Uu(e){return e.type.prototype.ngOnChanges&&(e.setInput=Dy),Cy}function Cy(){const e=qu(this),t=e?.current;if(t){const n=e.previous;if(n===Qn)e.previous=t;else for(let s in t)n[s]=t[s];e.current=null,this.ngOnChanges(t)}}function Dy(e,t,n,s){const g=this.declaredInputs[n],w=qu(e)||function Iy(e,t){return e[Gu]=t}(e,{previous:Qn,current:null}),k=w.current||(w.current={}),A=w.previous,H=A[g];k[g]=new Ey(H&&H.currentValue,t,A===Qn),e[s]=t}const Gu="__ngSimpleChanges__";function qu(e){return e[Gu]||null}const no=function(e,t,n){};function wt(e){for(;Array.isArray(e);)e=e[jt];return e}function hn(e,t){return wt(t[e.index])}function xn(e,t){const n=t[e];return bn(n)?n:n[jt]}function To(e,t){return null==t?null:e[t]}function Zu(e){e[ui]=0}function Ay(e){1024&e[Ye]||(e[Ye]|=1024,Ju(e,1))}function Qu(e){1024&e[Ye]&&(e[Ye]&=-1025,Ju(e,-1))}function Ju(e,t){let n=e[Dt];if(null===n)return;n[lr]+=t;let s=n;for(n=n[Dt];null!==n&&(1===t&&1===s[lr]||-1===t&&0===s[lr]);)n[lr]+=t,s=n,n=n[Dt]}const Ue={lFrame:dh(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function nh(){return Ue.bindingsEnabled}function Ce(){return Ue.lFrame.lView}function ut(){return Ue.lFrame.tView}function Gt(){let e=oh();for(;null!==e&&64===e.type;)e=e.parent;return e}function oh(){return Ue.lFrame.currentTNode}function oo(e,t){const n=Ue.lFrame;n.currentTNode=e,n.isParent=t}function yl(){return Ue.lFrame.isParent}function qy(e,t){const n=Ue.lFrame;n.bindingIndex=n.bindingRootIndex=e,xl(t)}function xl(e){Ue.lFrame.currentDirectiveIndex=e}function sh(){return Ue.lFrame.currentQueryIndex}function El(e){Ue.lFrame.currentQueryIndex=e}function Xy(e){const t=e[Fe];return 2===t.type?t.declTNode:1===t.type?e[Yt]:null}function lh(e,t,n){if(n&Ge.SkipSelf){let g=t,w=e;for(;!(g=g.parent,null!==g||n&Ge.Host||(g=Xy(w),null===g||(w=w[di],10&g.type))););if(null===g)return!1;t=g,e=w}const s=Ue.lFrame=ch();return s.currentTNode=t,s.lView=e,!0}function Cl(e){const t=ch(),n=e[Fe];Ue.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function ch(){const e=Ue.lFrame,t=null===e?null:e.child;return null===t?dh(e):t}function dh(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function uh(){const e=Ue.lFrame;return Ue.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const hh=uh;function Dl(){const e=uh();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Wo(e){Ue.lFrame.selectedIndex=e}let ph=!0;function Ta(e,t){for(let n=t.directiveStart,s=t.directiveEnd;n<s;n++){const w=e.data[n].type.prototype,{ngAfterContentInit:k,ngAfterContentChecked:A,ngAfterViewInit:H,ngAfterViewChecked:z,ngOnDestroy:K}=w;k&&(e.contentHooks??=[]).push(-n,k),A&&((e.contentHooks??=[]).push(n,A),(e.contentCheckHooks??=[]).push(n,A)),H&&(e.viewHooks??=[]).push(-n,H),z&&((e.viewHooks??=[]).push(n,z),(e.viewCheckHooks??=[]).push(n,z)),null!=K&&(e.destroyHooks??=[]).push(n,K)}}function Oa(e,t,n){gh(e,t,3,n)}function Pa(e,t,n,s){(3&e[Ye])===n&&gh(e,t,n,s)}function Il(e,t){let n=e[Ye];(3&n)===t&&(n&=8191,n+=1,e[Ye]=n)}function gh(e,t,n,s){const w=s??-1,k=t.length-1;let A=0;for(let H=void 0!==s?65535&e[ui]:0;H<k;H++)if("number"==typeof t[H+1]){if(A=t[H],null!=s&&A>=s)break}else t[H]<0&&(e[ui]+=65536),(A<w||-1==w)&&(o0(e,n,t,H),e[ui]=(4294901760&e[ui])+H+2),H++}function vh(e,t){no(4,e,t);const n=Ut(null);try{t.call(e)}finally{Ut(n),no(5,e,t)}}function o0(e,t,n,s){const g=n[s]<0,w=n[s+1],A=e[g?-n[s]:n[s]];g?e[Ye]>>13<e[ui]>>16&&(3&e[Ye])===t&&(e[Ye]+=8192,vh(A,w)):vh(A,w)}const vi=-1;class pr{constructor(t,n,s){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=s}}function _h(e){return e!==vi}function Aa(e){return 32767&e}function Fa(e,t){let n=function l0(e){return e>>16}(e),s=t;for(;n>0;)s=s[di],n--;return s}let kl=!0;function Ra(e){const t=kl;return kl=e,t}const mh=255,yh=5;let c0=0;const io={};function Na(e,t){const n=bh(e,t);if(-1!==n)return n;const s=t[Fe];s.firstCreatePass&&(e.injectorIndex=t.length,Ml(s.data,e),Ml(t,null),Ml(s.blueprint,null));const g=Tl(e,t),w=e.injectorIndex;if(_h(g)){const k=Aa(g),A=Fa(g,t),H=A[Fe].data;for(let z=0;z<8;z++)t[w+z]=A[k+z]|H[k+z]}return t[w+8]=g,w}function Ml(e,t){e.push(0,0,0,0,0,0,0,0,t)}function bh(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Tl(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,s=null,g=t;for(;null!==g;){if(s=Sh(g),null===s)return vi;if(n++,g=g[di],-1!==s.injectorIndex)return s.injectorIndex|n<<16}return vi}function Ol(e,t,n){!function d0(e,t,n){let s;"string"==typeof n?s=n.charCodeAt(0)||0:n.hasOwnProperty(ir)&&(s=n[ir]),null==s&&(s=n[ir]=c0++);const g=s&mh;t.data[e+(g>>yh)]|=1<<g}(e,t,n)}function xh(e,t,n){if(n&Ge.Optional||void 0!==e)return e;jo()}function wh(e,t,n,s){if(n&Ge.Optional&&void 0===s&&(s=null),!(n&(Ge.Self|Ge.Host))){const g=e[ci],w=ln(void 0);try{return g?g.get(t,s,n&Ge.Optional):mu(t,s,n&Ge.Optional)}finally{ln(w)}}return xh(s,0,n)}function Eh(e,t,n,s=Ge.Default,g){if(null!==e){if(2048&t[Ye]&&!(s&Ge.Self)){const k=function v0(e,t,n,s,g){let w=e,k=t;for(;null!==w&&null!==k&&2048&k[Ye]&&!(512&k[Ye]);){const A=Ch(w,k,n,s|Ge.Self,io);if(A!==io)return A;let H=w.parent;if(!H){const z=k[Ru];if(z){const K=z.get(n,io,s);if(K!==io)return K}H=Sh(k),k=k[di]}w=H}return g}(e,t,n,s,io);if(k!==io)return k}const w=Ch(e,t,n,s,io);if(w!==io)return w}return wh(t,n,s,g)}function Ch(e,t,n,s,g){const w=function f0(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(ir)?e[ir]:void 0;return"number"==typeof t?t>=0?t&mh:p0:t}(n);if("function"==typeof w){if(!lh(t,e,s))return s&Ge.Host?xh(g,0,s):wh(t,n,s,g);try{const k=w(s);if(null!=k||s&Ge.Optional)return k;jo()}finally{hh()}}else if("number"==typeof w){let k=null,A=bh(e,t),H=vi,z=s&Ge.Host?t[Nt][Yt]:null;for((-1===A||s&Ge.SkipSelf)&&(H=-1===A?Tl(e,t):t[A+8],H!==vi&&Ih(s,!1)?(k=t[Fe],A=Aa(H),t=Fa(H,t)):A=-1);-1!==A;){const K=t[Fe];if(Dh(w,A,K.data)){const te=h0(A,t,n,k,s,z);if(te!==io)return te}H=t[A+8],H!==vi&&Ih(s,t[Fe].data[A+8]===z)&&Dh(w,A,t)?(k=K,A=Aa(H),t=Fa(H,t)):A=-1}}return g}function h0(e,t,n,s,g,w){const k=t[Fe],A=k.data[e+8],K=La(A,k,n,null==s?Bo(A)&&kl:s!=k&&0!=(3&A.type),g&Ge.Host&&w===A);return null!==K?Uo(t,k,K,A):io}function La(e,t,n,s,g){const w=e.providerIndexes,k=t.data,A=1048575&w,H=e.directiveStart,K=w>>20,se=g?A+K:e.directiveEnd;for(let de=s?A:A+K;de<se;de++){const _e=k[de];if(de<H&&n===_e||de>=H&&_e.type===n)return de}if(g){const de=k[H];if(de&&$n(de)&&de.type===n)return H}return null}function Uo(e,t,n,s){let g=e[n];const w=t.data;if(function r0(e){return e instanceof pr}(g)){const k=g;k.resolving&&function Et(e,t){const n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new Se(-200,`Circular dependency in DI detected for ${e}${n}`)}($e(w[n]));const A=Ra(k.canSeeViewProviders);k.resolving=!0;const H=k.injectImpl?ln(k.injectImpl):null;lh(e,s,Ge.Default);try{g=e[n]=k.factory(void 0,w,e,s),t.firstCreatePass&&n>=s.directiveStart&&function n0(e,t,n){const{ngOnChanges:s,ngOnInit:g,ngDoCheck:w}=t.type.prototype;if(s){const k=Uu(t);(n.preOrderHooks??=[]).push(e,k),(n.preOrderCheckHooks??=[]).push(e,k)}g&&(n.preOrderHooks??=[]).push(0-e,g),w&&((n.preOrderHooks??=[]).push(e,w),(n.preOrderCheckHooks??=[]).push(e,w))}(n,w[n],t)}finally{null!==H&&ln(H),Ra(A),k.resolving=!1,hh()}}return g}function Dh(e,t,n){return!!(n[t+(e>>yh)]&1<<e)}function Ih(e,t){return!(e&Ge.Self||e&Ge.Host&&t)}class _i{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,s){return Eh(this._tNode,this._lView,t,_a(s),n)}}function p0(){return new _i(Gt(),Ce())}function Sh(e){const t=e[Fe],n=t.type;return 2===n?t.declTNode:1===n?e[Yt]:null}function _r(e,t){e.forEach(n=>Array.isArray(n)?_r(n,t):t(n))}function Mh(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Ha(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function za(e){return 128==(128&e.flags)}var fn=(()=>((fn=fn||{})[fn.Important=1]="Important",fn[fn.DashCase=2]="DashCase",fn))();const zl=new Map;let U0=0;const Ul="__ngContext__";function Kt(e,t){bn(t)?(e[Ul]=t[ur],function q0(e){zl.set(e[ur],e)}(t)):e[Ul]=t}let Gl;function ql(e,t){return Gl(e,t)}function xr(e){const t=e[Dt];return un(t)?t[Dt]:t}function Kh(e){return Qh(e[cr])}function Zh(e){return Qh(e[jn])}function Qh(e){for(;null!==e&&!un(e);)e=e[jn];return e}function Di(e,t,n,s,g){if(null!=s){let w,k=!1;un(s)?w=s:bn(s)&&(k=!0,s=s[jt]);const A=wt(s);0===e&&null!==n?null==g?of(t,n,A):Go(t,n,A,g||null,!0):1===e&&null!==n?Go(t,n,A,g||null,!0):2===e?function Xa(e,t,n){const s=qa(e,t);s&&function hb(e,t,n,s){e.removeChild(t,n,s)}(e,s,t,n)}(t,A,k):3===e&&t.destroyNode(A),null!=w&&function gb(e,t,n,s,g){const w=n[eo];w!==wt(n)&&Di(t,e,s,w,g);for(let A=Xt;A<n.length;A++){const H=n[A];Er(H[Fe],H,e,t,s,w)}}(t,e,w,n,g)}}function Ga(e,t,n){return e.createElement(t,n)}function ef(e,t){const n=e[hi],s=n.indexOf(t);Qu(t),n.splice(s,1)}function Xl(e,t){if(e.length<=Xt)return;const n=Xt+t,s=e[n];if(s){const g=s[dr];null!==g&&g!==e&&ef(g,s),t>0&&(e[n-1][jn]=s[jn]);const w=Ha(e,Xt+t);!function ib(e,t){Er(e,t,t[Xe],2,null,null),t[jt]=null,t[Yt]=null}(s[Fe],s);const k=w[Jn];null!==k&&k.detachView(w[Fe]),s[Dt]=null,s[jn]=null,s[Ye]&=-129}return s}function tf(e,t){if(!(256&t[Ye])){const n=t[Xe];t[ba]?.destroy(),t[xa]?.destroy(),n.destroyNode&&Er(e,t,n,3,null,null),function sb(e){let t=e[cr];if(!t)return Kl(e[Fe],e);for(;t;){let n=null;if(bn(t))n=t[cr];else{const s=t[Xt];s&&(n=s)}if(!n){for(;t&&!t[jn]&&t!==e;)bn(t)&&Kl(t[Fe],t),t=t[Dt];null===t&&(t=e),bn(t)&&Kl(t[Fe],t),n=t&&t[jn]}t=n}}(t)}}function Kl(e,t){if(!(256&t[Ye])){t[Ye]&=-129,t[Ye]|=256,function ub(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let s=0;s<n.length;s+=2){const g=t[n[s]];if(!(g instanceof pr)){const w=n[s+1];if(Array.isArray(w))for(let k=0;k<w.length;k+=2){const A=g[w[k]],H=w[k+1];no(4,A,H);try{H.call(A)}finally{no(5,A,H)}}else{no(4,g,w);try{w.call(g)}finally{no(5,g,w)}}}}}(e,t),function db(e,t){const n=e.cleanup,s=t[li];if(null!==n)for(let w=0;w<n.length-1;w+=2)if("string"==typeof n[w]){const k=n[w+3];k>=0?s[k]():s[-k].unsubscribe(),w+=2}else n[w].call(s[n[w+1]]);null!==s&&(t[li]=null);const g=t[Mo];if(null!==g){t[Mo]=null;for(let w=0;w<g.length;w++)(0,g[w])()}}(e,t),1===t[Fe].type&&t[Xe].destroy();const n=t[dr];if(null!==n&&un(t[Dt])){n!==t[Dt]&&ef(n,t);const s=t[Jn];null!==s&&s.detachView(e)}!function Y0(e){zl.delete(e[ur])}(t)}}function Zl(e,t,n){return function nf(e,t,n){let s=t;for(;null!==s&&40&s.type;)s=(t=s).parent;if(null===s)return n[jt];{const{componentOffset:g}=s;if(g>-1){const{encapsulation:w}=e.data[s.directiveStart+g];if(w===mn.None||w===mn.Emulated)return null}return hn(s,n)}}(e,t.parent,n)}function Go(e,t,n,s,g){e.insertBefore(t,n,s,g)}function of(e,t,n){e.appendChild(t,n)}function rf(e,t,n,s,g){null!==s?Go(e,t,n,s,g):of(e,t,n)}function qa(e,t){return e.parentNode(t)}let Ql,nc,lf=function sf(e,t,n){return 40&e.type?hn(e,n):null};function Ya(e,t,n,s){const g=Zl(e,s,t),w=t[Xe],A=function af(e,t,n){return lf(e,t,n)}(s.parent||t[Yt],s,t);if(null!=g)if(Array.isArray(n))for(let H=0;H<n.length;H++)rf(w,g,n[H],A,!1);else rf(w,g,n,A,!1);void 0!==Ql&&Ql(w,s,t,n,g)}function wr(e,t){if(null!==t){const n=t.type;if(3&n)return hn(t,e);if(4&n)return Jl(-1,e[t.index]);if(8&n){const s=t.child;if(null!==s)return wr(e,s);{const g=e[t.index];return un(g)?Jl(-1,g):wt(g)}}if(32&n)return ql(t,e)()||wt(e[t.index]);{const s=df(e,t);return null!==s?Array.isArray(s)?s[0]:wr(xr(e[Nt]),s):wr(e,t.next)}}return null}function df(e,t){return null!==t?e[Nt][Yt].projection[t.projection]:null}function Jl(e,t){const n=Xt+e+1;if(n<t.length){const s=t[n],g=s[Fe].firstChild;if(null!==g)return wr(s,g)}return t[eo]}function ec(e,t,n,s,g,w,k){for(;null!=n;){const A=s[n.index],H=n.type;if(k&&0===t&&(A&&Kt(wt(A),s),n.flags|=2),32!=(32&n.flags))if(8&H)ec(e,t,n.child,s,g,w,!1),Di(t,e,g,A,w);else if(32&H){const z=ql(n,s);let K;for(;K=z();)Di(t,e,g,K,w);Di(t,e,g,A,w)}else 16&H?hf(e,t,s,n,g,w):Di(t,e,g,A,w);n=k?n.projectionNext:n.next}}function Er(e,t,n,s,g,w){ec(n,s,e.firstChild,t,g,w,!1)}function hf(e,t,n,s,g,w){const k=n[Nt],H=k[Yt].projection[s.projection];if(Array.isArray(H))for(let z=0;z<H.length;z++)Di(t,e,g,H[z],w);else{let z=H;const K=k[Dt];za(s)&&(z.flags|=128),ec(e,t,z,K,g,w,!0)}}function ff(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function pf(e,t,n){const{mergedAttrs:s,classes:g,styles:w}=n;null!==s&&cl(e,t,s),null!==g&&ff(e,t,g),null!==w&&function _b(e,t,n){e.setAttribute(t,"style",n)}(e,t,w)}class Ke{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=mt({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Ja=new Ke("ENVIRONMENT_INITIALIZER"),Sf=new Ke("INJECTOR",-1),kf=new Ke("INJECTOR_DEF_TYPES");class Mf{get(t,n=nr){if(n===nr){const s=new Error(`NullInjectorError: No provider for ${oe(t)}!`);throw s.name="NullInjectorError",s}return n}}function Ub(...e){return{\u0275providers:Of(0,e),\u0275fromNgModule:!0}}function Of(e,...t){const n=[],s=new Set;let g;return _r(t,w=>{const k=w;lc(k,n,[],s)&&(g||=[],g.push(k))}),void 0!==g&&Pf(g,n),n}function Pf(e,t){for(let n=0;n<e.length;n++){const{providers:g}=e[n];cc(g,w=>{t.push(w)})}}function lc(e,t,n,s){if(!(e=pe(e)))return!1;let g=null,w=gu(e);const k=!w&&pt(e);if(w||k){if(k&&!k.standalone)return!1;g=e}else{const H=e.ngModule;if(w=gu(H),!w)return!1;g=H}const A=s.has(g);if(k){if(A)return!1;if(s.add(g),k.dependencies){const H="function"==typeof k.dependencies?k.dependencies():k.dependencies;for(const z of H)lc(z,t,n,s)}}else{if(!w)return!1;{if(null!=w.imports&&!A){let z;s.add(g);try{_r(w.imports,K=>{lc(K,t,n,s)&&(z||=[],z.push(K))})}finally{}void 0!==z&&Pf(z,t)}if(!A){const z=zo(g)||(()=>new g);t.push({provide:g,useFactory:z,deps:ht},{provide:kf,useValue:g,multi:!0},{provide:Ja,useValue:()=>dt(g),multi:!0})}const H=w.providers;null==H||A||cc(H,K=>{t.push(K)})}}return g!==e&&void 0!==e.providers}function cc(e,t){for(let n of e)ze(n)&&(n=n.\u0275providers),Array.isArray(n)?cc(n,t):t(n)}const Gb=ft({provide:String,useValue:ft});function dc(e){return null!==e&&"object"==typeof e&&Gb in e}function qo(e){return"function"==typeof e}const uc=new Ke("Set Injector scope."),es={},Yb={};let hc;function ts(){return void 0===hc&&(hc=new Mf),hc}class Si{}class fc extends Si{get destroyed(){return this._destroyed}constructor(t,n,s,g){super(),this.parent=n,this.source=s,this.scopes=g,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,gc(t,k=>this.processProvider(k)),this.records.set(Sf,ki(void 0,this)),g.has("environment")&&this.records.set(Si,ki(void 0,this));const w=this.records.get(uc);null!=w&&"string"==typeof w.value&&this.scopes.add(w.value),this.injectorDefTypes=new Set(this.get(kf.multi,ht,Ge.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const t=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of t)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(t){return this.assertNotDestroyed(),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){this.assertNotDestroyed();const n=ko(this),s=ln(void 0);try{return t()}finally{ko(n),ln(s)}}get(t,n=nr,s=Ge.Default){if(this.assertNotDestroyed(),t.hasOwnProperty(wu))return t[wu](this);s=_a(s);const g=ko(this),w=ln(void 0);try{if(!(s&Ge.SkipSelf)){let A=this.records.get(t);if(void 0===A){const H=function Jb(e){return"function"==typeof e||"object"==typeof e&&e instanceof Ke}(t)&&pa(t);A=H&&this.injectableDefInScope(H)?ki(pc(t),es):null,this.records.set(t,A)}if(null!=A)return this.hydrate(t,A)}return(s&Ge.Self?ts():this.parent).get(t,n=s&Ge.Optional&&n===nr?null:n)}catch(k){if("NullInjectorError"===k.name){if((k[va]=k[va]||[]).unshift(oe(t)),g)throw k;return function Gm(e,t,n,s){const g=e[va];throw t[yu]&&g.unshift(t[yu]),e.message=function qm(e,t,n,s=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let g=oe(t);if(Array.isArray(t))g=t.map(oe).join(" -> ");else if("object"==typeof t){let w=[];for(let k in t)if(t.hasOwnProperty(k)){let A=t[k];w.push(k+":"+("string"==typeof A?JSON.stringify(A):oe(A)))}g=`{${w.join(", ")}}`}return`${n}${s?"("+s+")":""}[${g}]: ${e.replace($m,"\n  ")}`}("\n"+e.message,g,n,s),e.ngTokenPath=g,e[va]=null,e}(k,t,"R3InjectorError",this.source)}throw k}finally{ln(w),ko(g)}}resolveInjectorInitializers(){const t=ko(this),n=ln(void 0);try{const s=this.get(Ja.multi,ht,Ge.Self);for(const g of s)g()}finally{ko(t),ln(n)}}toString(){const t=[],n=this.records;for(const s of n.keys())t.push(oe(s));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Se(205,!1)}processProvider(t){let n=qo(t=pe(t))?t:pe(t&&t.provide);const s=function Kb(e){return dc(e)?ki(void 0,e.useValue):ki(function Rf(e,t,n){let s;if(qo(e)){const g=pe(e);return zo(g)||pc(g)}if(dc(e))s=()=>pe(e.useValue);else if(function Ff(e){return!(!e||!e.useFactory)}(e))s=()=>e.useFactory(...al(e.deps||[]));else if(function Af(e){return!(!e||!e.useExisting)}(e))s=()=>dt(pe(e.useExisting));else{const g=pe(e&&(e.useClass||e.provide));if(!function Zb(e){return!!e.deps}(e))return zo(g)||pc(g);s=()=>new g(...al(e.deps))}return s}(e),es)}(t);if(qo(t)||!0!==t.multi)this.records.get(n);else{let g=this.records.get(n);g||(g=ki(void 0,es,!0),g.factory=()=>al(g.multi),this.records.set(n,g)),n=t,g.multi.push(t)}this.records.set(n,s)}hydrate(t,n){return n.value===es&&(n.value=Yb,n.value=n.factory()),"object"==typeof n.value&&n.value&&function Qb(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(t){if(!t.providedIn)return!1;const n=pe(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){const n=this._onDestroyHooks.indexOf(t);-1!==n&&this._onDestroyHooks.splice(n,1)}}function pc(e){const t=pa(e),n=null!==t?t.factory:zo(e);if(null!==n)return n;if(e instanceof Ke)throw new Se(204,!1);if(e instanceof Function)return function Xb(e){const t=e.length;if(t>0)throw function mr(e,t){const n=[];for(let s=0;s<e;s++)n.push(t);return n}(t,"?"),new Se(204,!1);const n=function Hm(e){return e&&(e[ga]||e[vu])||null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new Se(204,!1)}function ki(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function gc(e,t){for(const n of e)Array.isArray(n)?gc(n,t):n&&ze(n)?gc(n.\u0275providers,t):t(n)}const ns=new Ke("AppId",{providedIn:"root",factory:()=>ex}),ex="ng",Nf=new Ke("Platform Initializer"),Mi=new Ke("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Lf=new Ke("CSP nonce",{providedIn:"root",factory:()=>function Cr(){if(void 0!==nc)return nc;if(typeof document<"u")return document;throw new Se(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Vf=(e,t)=>null;function jf(e,t){return Vf(e,t)}class cx{}class zf{}class ux{resolveComponentFactory(t){throw function dx(e){const t=Error(`No component factory found for ${oe(e)}.`);return t.ngComponent=e,t}(t)}}let ss=(()=>{class e{}return e.NULL=new ux,e})();function hx(){return Ti(Gt(),Ce())}function Ti(e,t){return new Oi(hn(e,t))}let Oi=(()=>{class e{constructor(n){this.nativeElement=n}}return e.__NG_ELEMENT_ID__=hx,e})();function fx(e){return e instanceof Oi?e.nativeElement:e}class Uf{}let gx=(()=>{class e{}return e.\u0275prov=mt({token:e,providedIn:"root",factory:()=>null}),e})();class Ic{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const vx=new Ic("16.1.2"),Sc={};function Or(e){for(;e;){e[Ye]|=64;const t=xr(e);if(fl(e)&&!t)return e;e=t}return null}function kc(e){return e.ngOriginalError}class Yo{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&kc(t);for(;n&&kc(n);)n=kc(n);return n||null}}const Xf=new Ke("",{providedIn:"root",factory:()=>!1});class ep extends $u{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(t){this._lView=t}onConsumerDependencyMayHaveChanged(){Or(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(t,n,s){const g=Ut(this);this.trackingVersion++;try{t(n,s)}finally{Ut(g)}}destroy(){this.trackingVersion++}}let cs=null;function tp(){return cs??=new ep,cs}function np(e,t){return e[t]??tp()}function op(e,t){const n=tp();n.hasReadASignal&&(e[t]=cs,n.lView=e,cs=new ep)}const Ze={};function lp(e,t=null,n=null,s){const g=cp(e,t,n,s);return g.resolveInjectorInitializers(),g}function cp(e,t=null,n=null,s,g=new Set){const w=[n||ht,Ub(e)];return s=s||("object"==typeof e?void 0:oe(e)),new fc(w,t||ts(),s||null,g)}let Xo=(()=>{class e{static create(n,s){if(Array.isArray(n))return lp({name:""},s,n,"");{const g=n.name??"";return lp({name:g},n.parent,n.providers,g)}}}return e.THROW_IF_NOT_FOUND=nr,e.NULL=new Mf,e.\u0275prov=mt({token:e,providedIn:"any",factory:()=>dt(Sf)}),e.__NG_ELEMENT_ID__=-1,e})();function it(e,t=Ge.Default){const n=Ce();return null===n?dt(e,t):Eh(Gt(),n,pe(e),t)}function ds(e,t,n,s,g,w,k,A,H,z,K){const te=t.blueprint.slice();return te[jt]=g,te[Ye]=140|s,(null!==z||e&&2048&e[Ye])&&(te[Ye]|=2048),Zu(te),te[Dt]=te[di]=e,te[Rt]=n,te[$o]=k||e&&e[$o],te[Xe]=A||e&&e[Xe],te[ci]=H||e&&e[ci]||null,te[Yt]=w,te[ur]=function G0(){return U0++}(),te[po]=K,te[Ru]=z,te[Nt]=2==t.type?e[Nt]:te,te}function Ai(e,t,n,s,g){let w=e.data[t];if(null===w)w=function Mc(e,t,n,s,g){const w=oh(),k=yl(),H=e.data[t]=function Vx(e,t,n,s,g,w){let k=t?t.injectorIndex:-1,A=0;return function pi(){return null!==Ue.skipHydrationRootTNode}()&&(A|=128),{type:n,index:s,insertBeforeIndex:null,injectorIndex:k,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:A,providerIndexes:0,value:g,attrs:w,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,k?w:w&&w.parent,n,t,s,g);return null===e.firstChild&&(e.firstChild=H),null!==w&&(k?null==w.child&&null!==H.parent&&(w.child=H):null===w.next&&(w.next=H,H.prev=w)),H}(e,t,n,s,g),function Gy(){return Ue.lFrame.inI18n}()&&(w.flags|=32);else if(64&w.type){w.type=n,w.value=s,w.attrs=g;const k=function fr(){const e=Ue.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();w.injectorIndex=null===k?-1:k.injectorIndex}return oo(w,!0),w}function Pr(e,t,n,s){if(0===n)return-1;const g=t.length;for(let w=0;w<n;w++)t.push(s),e.blueprint.push(s),e.data.push(null);return g}function dp(e,t,n,s,g){const w=np(t,ba),k=function nn(){return Ue.lFrame.selectedIndex}(),A=2&s;try{if(Wo(-1),A&&t.length>ct&&function ip(e,t,n,s){if(!s)if(3==(3&t[Ye])){const w=e.preOrderCheckHooks;null!==w&&Oa(t,w,n)}else{const w=e.preOrderHooks;null!==w&&Pa(t,w,0,n)}Wo(n)}(e,t,ct,!1),no(A?2:0,g),A)w.runInContext(n,s,g);else{const z=Ut(null);try{n(s,g)}finally{Ut(z)}}}finally{A&&null===t[ba]&&op(t,ba),Wo(k),no(A?3:1,g)}}function Tc(e,t,n){if(hl(t)){const s=Ut(null);try{const w=t.directiveEnd;for(let k=t.directiveStart;k<w;k++){const A=e.data[k];A.contentQueries&&A.contentQueries(1,n[k],k)}}finally{Ut(s)}}}function up(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Ac(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function Ac(e,t,n,s,g,w,k,A,H,z,K){const te=ct+s,se=te+g,de=function Ax(e,t){const n=[];for(let s=0;s<t;s++)n.push(s<e?null:Ze);return n}(te,se),_e="function"==typeof z?z():z;return de[Fe]={type:e,blueprint:de,template:n,queries:null,viewQuery:A,declTNode:t,data:de.slice().fill(null,te),bindingStartIndex:te,expandoStartIndex:se,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof w?w():w,pipeRegistry:"function"==typeof k?k():k,firstChild:null,schemas:H,consts:_e,incompleteFirstPass:!1,ssrId:K}}let hp=e=>null;function fp(e,t,n,s){for(let g in e)if(e.hasOwnProperty(g)){n=null===n?{}:n;const w=e[g];null===s?pp(n,t,g,w):s.hasOwnProperty(g)&&pp(n,t,s[g],w)}return n}function pp(e,t,n,s){e.hasOwnProperty(n)?e[n].push(t,s):e[n]=[t,s]}function gp(e,t,n,s,g,w){for(let z=0;z<s.length;z++)Ol(Na(n,t),e,s[z].type);!function Zx(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}(n,e.data.length,s.length);for(let z=0;z<s.length;z++){const K=s[z];K.providersResolver&&K.providersResolver(K)}let k=!1,A=!1,H=Pr(e,t,s.length,null);for(let z=0;z<s.length;z++){const K=s[z];n.mergedAttrs=rr(n.mergedAttrs,K.hostAttrs),Qx(e,n,t,H,K),Kx(H,K,g),null!==K.contentQueries&&(n.flags|=4),(null!==K.hostBindings||null!==K.hostAttrs||0!==K.hostVars)&&(n.flags|=64);const te=K.type.prototype;!k&&(te.ngOnChanges||te.ngOnInit||te.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),k=!0),!A&&(te.ngOnChanges||te.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),A=!0),H++}!function jx(e,t,n){const g=t.directiveEnd,w=e.data,k=t.attrs,A=[];let H=null,z=null;for(let K=t.directiveStart;K<g;K++){const te=w[K],se=n?n.get(te):null,_e=se?se.outputs:null;H=fp(te.inputs,K,H,se?se.inputs:null),z=fp(te.outputs,K,z,_e);const xe=null===H||null===k||ku(t)?null:tw(H,K,k);A.push(xe)}null!==H&&(H.hasOwnProperty("class")&&(t.flags|=8),H.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=A,t.inputs=H,t.outputs=z}(e,n,w)}function vp(e,t,n){const s=n.directiveStart,g=n.directiveEnd,w=n.index,k=function Yy(){return Ue.lFrame.currentDirectiveIndex}();try{Wo(w);for(let A=s;A<g;A++){const H=e.data[A],z=t[A];xl(A),(null!==H.hostBindings||0!==H.hostVars||null!==H.hostAttrs)&&qx(H,z)}}finally{Wo(-1),xl(k)}}function qx(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Rc(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function Kx(e,t,n){if(n){if(t.exportAs)for(let s=0;s<t.exportAs.length;s++)n[t.exportAs[s]]=e;$n(t)&&(n[""]=e)}}function Qx(e,t,n,s,g){e.data[s]=g;const w=g.factory||(g.factory=zo(g.type)),k=new pr(w,$n(g),it);e.blueprint[s]=k,n[s]=k,function Wx(e,t,n,s,g){const w=g.hostBindings;if(w){let k=e.hostBindingOpCodes;null===k&&(k=e.hostBindingOpCodes=[]);const A=~t.index;(function Ux(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(k)!=A&&k.push(A),k.push(n,s,w)}}(e,t,s,Pr(e,n,g.hostVars,Ze),g)}function ew(e,t,n,s,g,w){const k=w[t];if(null!==k)for(let A=0;A<k.length;)_p(s,n,k[A++],k[A++],k[A++])}function _p(e,t,n,s,g){const w=Ut(null);try{const k=e.inputTransforms;null!==k&&k.hasOwnProperty(s)&&(g=k[s].call(t,g)),null!==e.setInput?e.setInput(t,g,n,s):t[s]=g}finally{Ut(w)}}function tw(e,t,n){let s=null,g=0;for(;g<n.length;){const w=n[g];if(0!==w)if(5!==w){if("number"==typeof w)break;if(e.hasOwnProperty(w)){null===s&&(s=[]);const k=e[w];for(let A=0;A<k.length;A+=2)if(k[A]===t){s.push(w,k[A+1],n[g+1]);break}}g+=2}else g+=2;else g+=4}return s}function yp(e,t){const n=e.contentQueries;if(null!==n)for(let s=0;s<n.length;s+=2){const w=n[s+1];if(-1!==w){const k=e.data[w];El(n[s]),k.contentQueries(2,t[w],w)}}}function us(e,t){return e[cr]?e[Fu][jn]=t:e[cr]=t,e[Fu]=t,t}function Lc(e,t,n){El(0);const s=Ut(null);try{t(e,n)}finally{Ut(s)}}function Hc(e,t,n,s,g){for(let w=0;w<n.length;){const k=n[w++],A=n[w++];_p(e.data[k],t[k],s,A,g)}}function nw(e,t){const n=xn(t,e),s=n[Fe];!function ow(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(s,n);const g=n[jt];null!==g&&null===n[po]&&(n[po]=jf(g,n[ci])),Vc(s,n,n[Rt])}function Vc(e,t,n){Cl(t);try{const s=e.viewQuery;null!==s&&Lc(1,s,n);const g=e.template;null!==g&&dp(e,t,g,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&yp(e,t),e.staticViewQueries&&Lc(2,e.viewQuery,n);const w=e.components;null!==w&&function iw(e,t){for(let n=0;n<t.length;n++)nw(e,t[n])}(t,w)}catch(s){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),s}finally{t[Ye]&=-5,Dl()}}let Cp=(()=>{class e{constructor(){this.all=new Set,this.queue=new Map}create(n,s,g){const w=typeof Zone>"u"?null:Zone.current,k=new wy(n,z=>{this.all.has(z)&&this.queue.set(z,w)},g);let A;this.all.add(k),k.notify();const H=()=>{k.cleanup(),A?.(),this.all.delete(k),this.queue.delete(k)};return A=s?.onDestroy(H),{destroy:H}}flush(){if(0!==this.queue.size)for(const[n,s]of this.queue)this.queue.delete(n),s?s.run(()=>n.run()):n.run()}get isQueueEmpty(){return 0===this.queue.size}}return e.\u0275prov=mt({token:e,providedIn:"root",factory:()=>new e}),e})();function hs(e,t,n){let s=n?e.styles:null,g=n?e.classes:null,w=0;if(null!==t)for(let k=0;k<t.length;k++){const A=t[k];"number"==typeof A?w=A:1==w?g=le(g,A):2==w&&(s=le(s,A+": "+t[++k]+";"))}n?e.styles=s:e.stylesWithoutHost=s,n?e.classes=g:e.classesWithoutHost=g}function Ar(e,t,n,s,g=!1){for(;null!==n;){const w=t[n.index];if(null!==w&&s.push(wt(w)),un(w)){for(let A=Xt;A<w.length;A++){const H=w[A],z=H[Fe].firstChild;null!==z&&Ar(H[Fe],H,z,s)}w[eo]!==w[jt]&&s.push(w[eo])}const k=n.type;if(8&k)Ar(e,t,n.child,s);else if(32&k){const A=ql(n,t);let H;for(;H=A();)s.push(H)}else if(16&k){const A=df(t,n);if(Array.isArray(A))s.push(...A);else{const H=xr(t[Nt]);Ar(H[Fe],H,A,s,!0)}}n=g?n.projectionNext:n.next}return s}function fs(e,t,n,s=!0){const g=t[$o].rendererFactory;g.begin&&g.begin();try{Dp(e,t,e.template,n)}catch(k){throw s&&function Ep(e,t){const n=e[ci],s=n?n.get(Yo,null):null;s&&s.handleError(t)}(t,k),k}finally{g.end&&g.end(),t[$o].effectManager?.flush()}}function Dp(e,t,n,s){const g=t[Ye];if(256!=(256&g)){t[$o].effectManager?.flush(),Cl(t);try{Zu(t),function rh(e){return Ue.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&dp(e,t,n,2,s);const k=3==(3&g);if(k){const z=e.preOrderCheckHooks;null!==z&&Oa(t,z,null)}else{const z=e.preOrderHooks;null!==z&&Pa(t,z,0,null),Il(t,0)}if(function cw(e){for(let t=Kh(e);null!==t;t=Zh(t)){if(!t[Nu])continue;const n=t[hi];for(let s=0;s<n.length;s++){Ay(n[s])}}}(t),Ip(t,2),null!==e.contentQueries&&yp(e,t),k){const z=e.contentCheckHooks;null!==z&&Oa(t,z)}else{const z=e.contentHooks;null!==z&&Pa(t,z,1),Il(t,1)}!function Px(e,t){const n=e.hostBindingOpCodes;if(null===n)return;const s=np(t,xa);try{for(let g=0;g<n.length;g++){const w=n[g];if(w<0)Wo(~w);else{const k=w,A=n[++g],H=n[++g];qy(A,k),s.runInContext(H,2,t[k])}}}finally{null===t[xa]&&op(t,xa),Wo(-1)}}(e,t);const A=e.components;null!==A&&kp(t,A,0);const H=e.viewQuery;if(null!==H&&Lc(2,H,s),k){const z=e.viewCheckHooks;null!==z&&Oa(t,z)}else{const z=e.viewHooks;null!==z&&Pa(t,z,2),Il(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[Ye]&=-73,Qu(t)}finally{Dl()}}}function Ip(e,t){for(let n=Kh(e);null!==n;n=Zh(n))for(let s=Xt;s<n.length;s++)Sp(n[s],t)}function dw(e,t,n){Sp(xn(t,e),n)}function Sp(e,t){if(!function Oy(e){return 128==(128&e[Ye])}(e))return;const n=e[Fe];if(80&e[Ye]&&0===t||1024&e[Ye]||2===t)Dp(n,e,n.template,e[Rt]);else if(e[lr]>0){Ip(e,1);const g=e[Fe].components;null!==g&&kp(e,g,1)}}function kp(e,t,n){for(let s=0;s<t.length;s++)dw(e,t[s],n)}class Fr{get rootNodes(){const t=this._lView,n=t[Fe];return Ar(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Rt]}set context(t){this._lView[Rt]=t}get destroyed(){return 256==(256&this._lView[Ye])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[Dt];if(un(t)){const n=t[8],s=n?n.indexOf(this):-1;s>-1&&(Xl(t,s),Ha(n,s))}this._attachedToViewContainer=!1}tf(this._lView[Fe],this._lView)}onDestroy(t){!function eh(e,t){if(256==(256&e[Ye]))throw new Se(911,!1);null===e[Mo]&&(e[Mo]=[]),e[Mo].push(t)}(this._lView,t)}markForCheck(){Or(this._cdRefInjectingView||this._lView)}detach(){this._lView[Ye]&=-129}reattach(){this._lView[Ye]|=128}detectChanges(){fs(this._lView[Fe],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Se(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function ab(e,t){Er(e,t,t[Xe],2,null,null)}(this._lView[Fe],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Se(902,!1);this._appRef=t}}class uw extends Fr{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;fs(t[Fe],t,t[Rt],!1)}checkNoChanges(){}get context(){return null}}class Mp extends ss{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=pt(t);return new Rr(n,this.ngModule)}}function Tp(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}class fw{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,s){s=_a(s);const g=this.injector.get(t,Sc,s);return g!==Sc||n===Sc?g:this.parentInjector.get(t,n,s)}}class Rr extends zf{get inputs(){return Tp(this.componentDef.inputs)}get outputs(){return Tp(this.componentDef.outputs)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function oy(e){return e.map(ny).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,s,g){let w=(g=g||this.ngModule)instanceof Si?g:g?.injector;w&&null!==this.componentDef.getStandaloneInjector&&(w=this.componentDef.getStandaloneInjector(w)||w);const k=w?new fw(t,w):t,A=k.get(Uf,null);if(null===A)throw new Se(407,!1);const K={rendererFactory:A,sanitizer:k.get(gx,null),effectManager:k.get(Cp,null)},te=A.createRenderer(null,this.componentDef),se=this.componentDef.selectors[0][0]||"div",de=s?function Fx(e,t,n,s){const w=s.get(Xf,!1)||n===mn.ShadowDom,k=e.selectRootElement(t,w);return function Rx(e){hp(e)}(k),k}(te,s,this.componentDef.encapsulation,k):Ga(te,se,function hw(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(se)),Ie=this.componentDef.signals?4608:this.componentDef.onPush?576:528,Oe=Ac(0,null,null,1,0,null,null,null,null,null,null),be=ds(null,Oe,null,Ie,null,null,K,te,k,null,null);let Ve,qe;Cl(be);try{const et=this.componentDef;let Qt,qs=null;et.findHostDirectiveDefs?(Qt=[],qs=new Map,et.findHostDirectiveDefs(et,Qt,qs),Qt.push(et)):Qt=[et];const qk=function gw(e,t){const n=e[Fe],s=ct;return e[s]=t,Ai(n,s,2,"#host",null)}(be,de),Yk=function vw(e,t,n,s,g,w,k){const A=g[Fe];!function _w(e,t,n,s){for(const g of e)t.mergedAttrs=rr(t.mergedAttrs,g.hostAttrs);null!==t.mergedAttrs&&(hs(t,t.mergedAttrs,!0),null!==n&&pf(s,n,t))}(s,e,t,k);let H=null;null!==t&&(H=jf(t,g[ci]));const z=w.rendererFactory.createRenderer(t,n);let K=16;n.signals?K=4096:n.onPush&&(K=64);const te=ds(g,up(n),null,K,g[e.index],e,w,z,null,null,H);return A.firstCreatePass&&Rc(A,e,s.length-1),us(g,te),g[e.index]=te}(qk,de,et,Qt,be,K,te);qe=function Ku(e,t){return e.data[t]}(Oe,ct),de&&function yw(e,t,n,s){if(s)cl(e,n,["ng-version",vx.full]);else{const{attrs:g,classes:w}=function iy(e){const t=[],n=[];let s=1,g=2;for(;s<e.length;){let w=e[s];if("string"==typeof w)2===g?""!==w&&t.push(w,e[++s]):8===g&&n.push(w);else{if(!Vn(g))break;g=w}s++}return{attrs:t,classes:n}}(t.selectors[0]);g&&cl(e,n,g),w&&w.length>0&&ff(e,n,w.join(" "))}}(te,et,de,s),void 0!==n&&function bw(e,t,n){const s=e.projection=[];for(let g=0;g<t.length;g++){const w=n[g];s.push(null!=w?Array.from(w):null)}}(qe,this.ngContentSelectors,n),Ve=function mw(e,t,n,s,g,w){const k=Gt(),A=g[Fe],H=hn(k,g);gp(A,g,k,n,null,s);for(let K=0;K<n.length;K++)Kt(Uo(g,A,k.directiveStart+K,k),g);vp(A,g,k),H&&Kt(H,g);const z=Uo(g,A,k.directiveStart+k.componentOffset,k);if(e[Rt]=g[Rt]=z,null!==w)for(const K of w)K(z,t);return Tc(A,k,e),z}(Yk,et,Qt,qs,be,[xw]),Vc(Oe,be,null)}finally{Dl()}return new pw(this.componentType,Ve,Ti(qe,be),be,qe)}}class pw extends cx{constructor(t,n,s,g,w){super(),this.location=s,this._rootLView=g,this._tNode=w,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new uw(g),this.componentType=t}setInput(t,n){const s=this._tNode.inputs;let g;if(null!==s&&(g=s[t])){if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;const w=this._rootLView;Hc(w[Fe],w,g,t,n),this.previousInputValues.set(t,n),Or(xn(this._tNode.index,w))}}get injector(){return new _i(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function xw(){const e=Gt();Ta(Ce()[Fe],e)}function Gc(e,t,n,s,g){const k=g?"class":"style";Hc(e,n,t.inputs[k],k,s)}function qc(e,t,n,s){const g=Ce(),w=ut(),k=ct+e,A=g[Xe],H=w.firstCreatePass?function oE(e,t,n,s,g,w){const k=t.consts,H=Ai(t,e,2,s,To(k,g));return function Fc(e,t,n,s){if(nh()){const g=null===s?null:{"":-1},w=function Yx(e,t){const n=e.directiveRegistry;let s=null,g=null;if(n)for(let w=0;w<n.length;w++){const k=n[w];if(Mu(t,k.selectors,!1))if(s||(s=[]),$n(k))if(null!==k.findHostDirectiveDefs){const A=[];g=g||new Map,k.findHostDirectiveDefs(k,A,g),s.unshift(...A,k),Rc(e,t,A.length)}else s.unshift(k),Rc(e,t,0);else g=g||new Map,k.findHostDirectiveDefs?.(k,s,g),s.push(k)}return null===s?null:[s,g]}(e,n);let k,A;null===w?k=A=null:[k,A]=w,null!==k&&gp(e,t,n,k,g,A),g&&function Xx(e,t,n){if(t){const s=e.localNames=[];for(let g=0;g<t.length;g+=2){const w=n[t[g+1]];if(null==w)throw new Se(-301,!1);s.push(t[g],w)}}}(n,s,g)}n.mergedAttrs=rr(n.mergedAttrs,n.attrs)}(t,n,H,To(k,w)),null!==H.attrs&&hs(H,H.attrs,!1),null!==H.mergedAttrs&&hs(H,H.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,H),H}(k,w,g,t,n,s):w.data[k],z=Qp(w,g,H,A,t,e);g[k]=z;const K=function Ea(e){return 1==(1&e.flags)}(H);return oo(H,!0),pf(A,z,H),32!=(32&H.flags)&&function Ma(){return ph}()&&Ya(w,g,z,H),0===function Ry(){return Ue.lFrame.elementDepthCount}()&&Kt(z,g),function Ny(){Ue.lFrame.elementDepthCount++}(),K&&(function Oc(e,t,n){nh()&&(function Gx(e,t,n,s){const g=n.directiveStart,w=n.directiveEnd;Bo(n)&&function Jx(e,t,n){const s=hn(t,e),g=up(n);let k=16;n.signals?k=4096:n.onPush&&(k=64);const A=us(e,ds(e,g,null,k,s,t,null,e[$o].rendererFactory.createRenderer(s,n),null,null,null));e[t.index]=A}(t,n,e.data[g+n.componentOffset]),e.firstCreatePass||Na(n,t),Kt(s,t);const k=n.initialInputs;for(let A=g;A<w;A++){const H=e.data[A],z=Uo(t,e,A,n);Kt(z,t),null!==k&&ew(0,A-g,z,H,0,k),$n(H)&&(xn(n.index,t)[Rt]=Uo(t,e,A,n))}}(e,t,n,hn(n,t)),64==(64&n.flags)&&vp(e,t,n))}(w,g,H),Tc(w,H,g)),null!==s&&function Pc(e,t,n=hn){const s=t.localNames;if(null!==s){let g=t.index+1;for(let w=0;w<s.length;w+=2){const k=s[w+1],A=-1===k?n(t,e):e[k];e[g++]=A}}}(g,H),qc}function Yc(){let e=Gt();yl()?function bl(){Ue.lFrame.isParent=!1}():(e=e.parent,oo(e,!1));const t=e;(function Hy(e){return Ue.skipHydrationRootTNode===e})(t)&&function By(){Ue.skipHydrationRootTNode=null}(),function Ly(){Ue.lFrame.elementDepthCount--}();const n=ut();return n.firstCreatePass&&(Ta(n,e),hl(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function a0(e){return 0!=(8&e.flags)}(t)&&Gc(n,t,Ce(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function s0(e){return 0!=(16&e.flags)}(t)&&Gc(n,t,Ce(),t.stylesWithoutHost,!1),Yc}function bs(e,t,n,s){return qc(e,t,n,s),Yc(),bs}let Qp=(e,t,n,s,g,w)=>(function Oo(e){ph=e}(!0),Ga(s,g,function fh(){return Ue.lFrame.currentNamespace}()));function Zc(e){return!!e&&"function"==typeof e.then}function tg(e){return!!e&&"function"==typeof e.subscribe}const Ui="en-US";let ev=Ui;class Gi{}class rD{}class dd extends Gi{constructor(t,n,s){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Mp(this);const g=function yn(e,t){const n=e[xu]||null;if(!n&&!0===t)throw new Error(`Type ${oe(e)} does not have '\u0275mod' property.`);return n}(t);this._bootstrapComponents=function mo(e){return e instanceof Function?e():e}(g.bootstrap),this._r3Injector=cp(t,n,[{provide:Gi,useValue:this},{provide:ss,useValue:this.componentFactoryResolver},...s],oe(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class ud extends rD{constructor(t){super(),this.moduleType=t}create(t){return new dd(this.moduleType,t,[])}}function fd(e){return t=>{setTimeout(e,void 0,t)}}const bo=class ND extends J{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,s){let g=t,w=n||(()=>null),k=s;if(t&&"object"==typeof t){const H=t;g=H.next?.bind(H),w=H.error?.bind(H),k=H.complete?.bind(H)}this.__isAsync&&(w=fd(w),g&&(g=fd(g)),k&&(k=fd(k)));const A=super.subscribe({next:g,error:w,complete:k});return t instanceof T&&t.add(A),A}};function LD(){return this._results[Symbol.iterator]()}class pd{get changes(){return this._changes||(this._changes=new bo)}constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=pd.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=LD)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){const s=this;s.dirty=!1;const g=function On(e){return e.flat(Number.POSITIVE_INFINITY)}(t);(this._changesDetected=!function y0(e,t,n){if(e.length!==t.length)return!1;for(let s=0;s<e.length;s++){let g=e[s],w=t[s];if(n&&(g=n(g),w=n(w)),w!==g)return!1}return!0}(s._results,g,n))&&(s._results=g,s.length=g.length,s.last=g[this.length-1],s.first=g[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let xo=(()=>{class e{}return e.__NG_ELEMENT_ID__=jD,e})();const HD=xo,VD=class extends HD{constructor(t,n,s){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=s}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,n){return this.createEmbeddedViewImpl(t,n,null)}createEmbeddedViewImpl(t,n,s){const k=this._declarationTContainer.tView,A=ds(this._declarationLView,k,t,4096&this._declarationLView[Ye]?4096:16,null,k.declTNode,null,null,null,n||null,s||null);A[dr]=this._declarationLView[this._declarationTContainer.index];const z=this._declarationLView[Jn];return null!==z&&(A[Jn]=z.createEmbeddedView(k)),Vc(k,A,t),new Fr(A)}};function jD(){return Ss(Gt(),Ce())}function Ss(e,t){return 4&e.type?new VD(t,e,Ti(e,t)):null}let co=(()=>{class e{}return e.__NG_ELEMENT_ID__=qD,e})();function qD(){return zv(Gt(),Ce())}const YD=co,$v=class extends YD{constructor(t,n,s){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=s}get element(){return Ti(this._hostTNode,this._hostLView)}get injector(){return new _i(this._hostTNode,this._hostLView)}get parentInjector(){const t=Tl(this._hostTNode,this._hostLView);if(_h(t)){const n=Fa(t,this._hostLView),s=Aa(t);return new _i(n[Fe].data[s+8],n)}return new _i(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=Bv(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-Xt}createEmbeddedView(t,n,s){let g,w;"number"==typeof s?g=s:null!=s&&(g=s.index,w=s.injector);const A=t.createEmbeddedViewImpl(n||{},w,null);return this.insertImpl(A,g,false),A}createComponent(t,n,s,g,w){const k=t&&!function vr(e){return"function"==typeof e}(t);let A;if(k)A=n;else{const xe=n||{};A=xe.index,s=xe.injector,g=xe.projectableNodes,w=xe.environmentInjector||xe.ngModuleRef}const H=k?t:new Rr(pt(t)),z=s||this.parentInjector;if(!w&&null==H.ngModule){const Ie=(k?z:this.parentInjector).get(Si,null);Ie&&(w=Ie)}pt(H.componentType??{});const de=H.create(z,g,null,w);return this.insertImpl(de.hostView,A,false),de}insert(t,n){return this.insertImpl(t,n,!1)}insertImpl(t,n,s){const g=t._lView,w=g[Fe];if(function Py(e){return un(e[Dt])}(g)){const H=this.indexOf(t);if(-1!==H)this.detach(H);else{const z=g[Dt],K=new $v(z,z[Yt],z[Dt]);K.detach(K.indexOf(t))}}const k=this._adjustIndex(n),A=this._lContainer;if(function lb(e,t,n,s){const g=Xt+s,w=n.length;s>0&&(n[g-1][jn]=t),s<w-Xt?(t[jn]=n[g],Mh(n,Xt+s,t)):(n.push(t),t[jn]=null),t[Dt]=n;const k=t[dr];null!==k&&n!==k&&function cb(e,t){const n=e[hi];t[Nt]!==t[Dt][Dt][Nt]&&(e[Nu]=!0),null===n?e[hi]=[t]:n.push(t)}(k,t);const A=t[Jn];null!==A&&A.insertView(e),t[Ye]|=128}(w,g,A,k),!s){const H=Jl(k,A),z=g[Xe],K=qa(z,A[eo]);null!==K&&function rb(e,t,n,s,g,w){s[jt]=g,s[Yt]=t,Er(e,s,n,1,g,w)}(w,A[Yt],z,g,K,H)}return t.attachToViewContainerRef(),Mh(vd(A),k,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=Bv(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),s=Xl(this._lContainer,n);s&&(Ha(vd(this._lContainer),n),tf(s[Fe],s))}detach(t){const n=this._adjustIndex(t,-1),s=Xl(this._lContainer,n);return s&&null!=Ha(vd(this._lContainer),n)?new Fr(s):null}_adjustIndex(t,n=0){return t??this.length+n}};function Bv(e){return e[8]}function vd(e){return e[8]||(e[8]=[])}function zv(e,t){let n;const s=t[e.index];return un(s)?n=s:(n=function mp(e,t,n,s){return[e,!0,!1,t,null,0,s,n,null,null,null]}(s,t,null,e),t[e.index]=n,us(t,n)),Wv(n,t,e,s),new $v(n,e,t)}let Wv=function Uv(e,t,n,s){if(e[eo])return;let g;g=8&n.type?wt(s):function XD(e,t){const n=e[Xe],s=n.createComment(""),g=hn(t,e);return Go(n,qa(n,g),s,function fb(e,t){return e.nextSibling(t)}(n,g),!1),s}(t,n),e[eo]=g};class _d{constructor(t){this.queryList=t,this.matches=null}clone(){return new _d(this.queryList)}setDirty(){this.queryList.setDirty()}}class md{constructor(t=[]){this.queries=t}createEmbeddedView(t){const n=t.queries;if(null!==n){const s=null!==t.contentQueries?t.contentQueries[0]:n.length,g=[];for(let w=0;w<s;w++){const k=n.getByIndex(w);g.push(this.queries[k.indexInDeclarationView].clone())}return new md(g)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)null!==Jv(t,n).matches&&this.queries[n].setDirty()}}class Gv{constructor(t,n,s=null){this.predicate=t,this.flags=n,this.read=s}}class yd{constructor(t=[]){this.queries=t}elementStart(t,n){for(let s=0;s<this.queries.length;s++)this.queries[s].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let s=0;s<this.length;s++){const g=null!==n?n.length:0,w=this.getByIndex(s).embeddedTView(t,g);w&&(w.indexInDeclarationView=s,null!==n?n.push(w):n=[w])}return null!==n?new yd(n):null}template(t,n){for(let s=0;s<this.queries.length;s++)this.queries[s].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class bd{constructor(t,n=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new bd(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let s=t.parent;for(;null!==s&&8&s.type&&s.index!==n;)s=s.parent;return n===(null!==s?s.index:-1)}return this._appliesToNextNode}matchTNode(t,n){const s=this.metadata.predicate;if(Array.isArray(s))for(let g=0;g<s.length;g++){const w=s[g];this.matchTNodeWithReadOption(t,n,QD(n,w)),this.matchTNodeWithReadOption(t,n,La(n,t,w,!1,!1))}else s===xo?4&n.type&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,La(n,t,s,!1,!1))}matchTNodeWithReadOption(t,n,s){if(null!==s){const g=this.metadata.read;if(null!==g)if(g===Oi||g===co||g===xo&&4&n.type)this.addMatch(n.index,-2);else{const w=La(n,t,g,!1,!1);null!==w&&this.addMatch(n.index,w)}else this.addMatch(n.index,s)}}addMatch(t,n){null===this.matches?this.matches=[t,n]:this.matches.push(t,n)}}function QD(e,t){const n=e.localNames;if(null!==n)for(let s=0;s<n.length;s+=2)if(n[s]===t)return n[s+1];return null}function e1(e,t,n,s){return-1===n?function JD(e,t){return 11&e.type?Ti(e,t):4&e.type?Ss(e,t):null}(t,e):-2===n?function t1(e,t,n){return n===Oi?Ti(t,e):n===xo?Ss(t,e):n===co?zv(t,e):void 0}(e,t,s):Uo(e,e[Fe],n,t)}function qv(e,t,n,s){const g=t[Jn].queries[s];if(null===g.matches){const w=e.data,k=n.matches,A=[];for(let H=0;H<k.length;H+=2){const z=k[H];A.push(z<0?null:e1(t,w[z],k[H+1],n.metadata.read))}g.matches=A}return g.matches}function xd(e,t,n,s){const g=e.queries.getByIndex(n),w=g.matches;if(null!==w){const k=qv(e,t,g,n);for(let A=0;A<w.length;A+=2){const H=w[A];if(H>0)s.push(k[A/2]);else{const z=w[A+1],K=t[-H];for(let te=Xt;te<K.length;te++){const se=K[te];se[dr]===se[Dt]&&xd(se[Fe],se,z,s)}if(null!==K[hi]){const te=K[hi];for(let se=0;se<te.length;se++){const de=te[se];xd(de[Fe],de,z,s)}}}}}return s}function Yv(e){const t=Ce(),n=ut(),s=sh();El(s+1);const g=Jv(n,s);if(e.dirty&&function Ty(e){return 4==(4&e[Ye])}(t)===(2==(2&g.metadata.flags))){if(null===g.matches)e.reset([]);else{const w=g.crossesNgTemplate?xd(n,t,s,[]):qv(n,t,g,s);e.reset(w,fx),e.notifyOnChanges()}return!0}return!1}function Xv(e,t,n){const s=ut();s.firstCreatePass&&(function Qv(e,t,n){null===e.queries&&(e.queries=new yd),e.queries.track(new bd(t,n))}(s,new Gv(e,t,n),-1),2==(2&t)&&(s.staticViewQueries=!0)),function Zv(e,t,n){const s=new pd(4==(4&n));(function Hx(e,t,n,s){const g=function bp(e){return e[li]||(e[li]=[])}(t);g.push(n),e.firstCreatePass&&function xp(e){return e.cleanup||(e.cleanup=[])}(e).push(s,g.length-1)})(e,t,s,s.destroy),null===t[Jn]&&(t[Jn]=new md),t[Jn].queries.push(new _d(s))}(s,Ce(),t)}function Jv(e,t){return e.queries.getByIndex(t)}const I1=new Ke("Application Initializer");let Id=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,s)=>{this.resolve=n,this.reject=s}),this.appInits=Ct(I1,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const n=[];for(const g of this.appInits){const w=g();if(Zc(w))n.push(w);else if(tg(w)){const k=new Promise((A,H)=>{w.subscribe({complete:A,error:H})});n.push(k)}}const s=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{s()}).catch(g=>{this.reject(g)}),0===n.length&&s(),this.initialized=!0}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=mt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const wo=new Ke("LocaleId",{providedIn:"root",factory:()=>Ct(wo,Ge.Optional|Ge.SkipSelf)||function k1(){return typeof $localize<"u"&&$localize.locale||Ui}()});let T1=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new j(!1)}add(){this.hasPendingTasks.next(!0);const n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=mt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function y_(...e){}class zt{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:s=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new bo(!1),this.onMicrotaskEmpty=new bo(!1),this.onStable=new bo(!1),this.onError=new bo(!1),typeof Zone>"u")throw new Se(908,!1);Zone.assertZonePatched();const g=this;g._nesting=0,g._outer=g._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(g._inner=g._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(g._inner=g._inner.fork(Zone.longStackTraceZoneSpec)),g.shouldCoalesceEventChangeDetection=!s&&n,g.shouldCoalesceRunChangeDetection=s,g.lastRequestAnimationFrameId=-1,g.nativeRequestAnimationFrame=function F1(){let e=yt.requestAnimationFrame,t=yt.cancelAnimationFrame;if(typeof Zone<"u"&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const s=t[Zone.__symbol__("OriginalDelegate")];s&&(t=s)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function L1(e){const t=()=>{!function N1(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(yt,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,kd(e),e.isCheckStableRunning=!0,Sd(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),kd(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,s,g,w,k,A)=>{try{return b_(e),n.invokeTask(g,w,k,A)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===w.type||e.shouldCoalesceRunChangeDetection)&&t(),x_(e)}},onInvoke:(n,s,g,w,k,A,H)=>{try{return b_(e),n.invoke(g,w,k,A,H)}finally{e.shouldCoalesceRunChangeDetection&&t(),x_(e)}},onHasTask:(n,s,g,w)=>{n.hasTask(g,w),s===g&&("microTask"==w.change?(e._hasPendingMicrotasks=w.microTask,kd(e),Sd(e)):"macroTask"==w.change&&(e.hasPendingMacrotasks=w.macroTask))},onHandleError:(n,s,g,w)=>(n.handleError(g,w),e.runOutsideAngular(()=>e.onError.emit(w)),!1)})}(g)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!zt.isInAngularZone())throw new Se(909,!1)}static assertNotInAngularZone(){if(zt.isInAngularZone())throw new Se(909,!1)}run(t,n,s){return this._inner.run(t,n,s)}runTask(t,n,s,g){const w=this._inner,k=w.scheduleEventTask("NgZoneEvent: "+g,t,R1,y_,y_);try{return w.runTask(k,n,s)}finally{w.cancelTask(k)}}runGuarded(t,n,s){return this._inner.runGuarded(t,n,s)}runOutsideAngular(t){return this._outer.run(t)}}const R1={};function Sd(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function kd(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function b_(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function x_(e){e._nesting--,Sd(e)}class H1{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new bo,this.onMicrotaskEmpty=new bo,this.onStable=new bo,this.onError=new bo}run(t,n,s){return t.apply(n,s)}runGuarded(t,n,s){return t.apply(n,s)}runOutsideAngular(t){return t()}runTask(t,n,s,g){return t.apply(n,s)}}const w_=new Ke("",{providedIn:"root",factory:E_});function E_(){const e=Ct(zt);let t=!0;return Qs(new W(g=>{t=e.isStable&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks,e.runOutsideAngular(()=>{g.next(t),g.complete()})}),new W(g=>{let w;e.runOutsideAngular(()=>{w=e.onStable.subscribe(()=>{zt.assertNotInAngularZone(),queueMicrotask(()=>{!t&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks&&(t=!0,g.next(!0))})})});const k=e.onUnstable.subscribe(()=>{zt.assertInAngularZone(),t&&(t=!1,e.runOutsideAngular(()=>{g.next(!1)}))});return()=>{w.unsubscribe(),k.unsubscribe()}}).pipe(ii()))}const C_=new Ke(""),Ms=new Ke("");let Od,Md=(()=>{class e{constructor(n,s,g){this._ngZone=n,this.registry=s,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Od||(function V1(e){Od=e}(g),g.addToWindow(s)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{zt.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(s=>!s.updateCb||!s.updateCb(n)||(clearTimeout(s.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,s,g){let w=-1;s&&s>0&&(w=setTimeout(()=>{this._callbacks=this._callbacks.filter(k=>k.timeoutId!==w),n(this._didWork,this.getPendingTasks())},s)),this._callbacks.push({doneCb:n,timeoutId:w,updateCb:g})}whenStable(n,s,g){if(g&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,s,g),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,s,g){return[]}}return e.\u0275fac=function(n){return new(n||e)(dt(zt),dt(Td),dt(Ms))},e.\u0275prov=mt({token:e,factory:e.\u0275fac}),e})(),Td=(()=>{class e{constructor(){this._applications=new Map}registerApplication(n,s){this._applications.set(n,s)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,s=!0){return Od?.findTestabilityInTree(this,n,s)??null}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=mt({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})(),Fo=null;const D_=new Ke("AllowMultipleToken"),Pd=new Ke("PlatformDestroyListeners"),I_=new Ke("appBootstrapListener");function M_(e,t,n=[]){const s=`Platform: ${t}`,g=new Ke(s);return(w=[])=>{let k=Ad();if(!k||k.injector.get(D_,!1)){const A=[...n,...w,{provide:g,useValue:!0}];e?e(A):function B1(e){if(Fo&&!Fo.get(D_,!1))throw new Se(400,!1);(function S_(){!function by(e){Bu=e}(()=>{throw new Se(600,!1)})})(),Fo=e;const t=e.get(O_);(function k_(e){e.get(Nf,null)?.forEach(n=>n())})(e)}(function T_(e=[],t){return Xo.create({name:t,providers:[{provide:uc,useValue:"platform"},{provide:Pd,useValue:new Set([()=>Fo=null])},...e]})}(A,s))}return function W1(e){const t=Ad();if(!t)throw new Se(401,!1);return t}()}}function Ad(){return Fo?.get(O_)??null}let O_=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,s){const g=function U1(e="zone.js",t){return"noop"===e?new H1:"zone.js"===e?new zt(t):e}(s?.ngZone,function P_(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:s?.ngZoneEventCoalescing,runCoalescing:s?.ngZoneRunCoalescing}));return g.run(()=>{const w=function sD(e,t,n){return new dd(e,t,n)}(n.moduleType,this.injector,function L_(e){return[{provide:zt,useFactory:e},{provide:Ja,multi:!0,useFactory:()=>{const t=Ct(q1,{optional:!0});return()=>t.initialize()}},{provide:N_,useFactory:G1},{provide:w_,useFactory:E_}]}(()=>g)),k=w.injector.get(Yo,null);return g.runOutsideAngular(()=>{const A=g.onError.subscribe({next:H=>{k.handleError(H)}});w.onDestroy(()=>{Ts(this._modules,w),A.unsubscribe()})}),function A_(e,t,n){try{const s=n();return Zc(s)?s.catch(g=>{throw t.runOutsideAngular(()=>e.handleError(g)),g}):s}catch(s){throw t.runOutsideAngular(()=>e.handleError(s)),s}}(k,g,()=>{const A=w.injector.get(Id);return A.runInitializers(),A.donePromise.then(()=>(function tv(e){Mn(e,"Expected localeId to be defined"),"string"==typeof e&&(ev=e.toLowerCase().replace(/_/g,"-"))}(w.injector.get(wo,Ui)||Ui),this._moduleDoBootstrap(w),w))})})}bootstrapModule(n,s=[]){const g=F_({},s);return function j1(e,t,n){const s=new ud(n);return Promise.resolve(s)}(0,0,n).then(w=>this.bootstrapModuleFactory(w,g))}_moduleDoBootstrap(n){const s=n.injector.get(Xr);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(g=>s.bootstrap(g));else{if(!n.instance.ngDoBootstrap)throw new Se(-403,!1);n.instance.ngDoBootstrap(s)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Se(404,!1);this._modules.slice().forEach(s=>s.destroy()),this._destroyListeners.forEach(s=>s());const n=this._injector.get(Pd,null);n&&(n.forEach(s=>s()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(n){return new(n||e)(dt(Xo))},e.\u0275prov=mt({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();function F_(e,t){return Array.isArray(t)?t.reduce(F_,e):{...e,...t}}let Xr=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Ct(N_),this.zoneIsStable=Ct(w_),this.componentTypes=[],this.components=[],this.isStable=Ct(T1).hasPendingTasks.pipe(function el(e,t){return G((n,s)=>{let g=null,w=0,k=!1;const A=()=>k&&!g&&s.complete();n.subscribe(X(s,H=>{g?.unsubscribe();let z=0;const K=w++;Jt(e(H,K)).subscribe(g=X(s,te=>s.next(t?t(H,te,K,z++):te),()=>{g=null,A()}))},()=>{k=!0,A()}))})}(n=>n?function Js(...e){return la(e,na(e))}(!1):this.zoneIsStable),function ca(e,t=U){return e=e??da,G((n,s)=>{let g,w=!0;n.subscribe(X(s,k=>{const A=t(k);(w||!e(g,A))&&(w=!1,g=A,s.next(k))}))})}(),ii()),this._injector=Ct(Si)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(n,s){const g=n instanceof zf;if(!this._injector.get(Id).done)throw!g&&function sr(e){const t=pt(e)||qt(e)||dn(e);return null!==t&&t.standalone}(n),new Se(405,!1);let k;k=g?n:this._injector.get(ss).resolveComponentFactory(n),this.componentTypes.push(k.componentType);const A=function $1(e){return e.isBoundToModule}(k)?void 0:this._injector.get(Gi),z=k.create(Xo.NULL,[],s||k.selector,A),K=z.location.nativeElement,te=z.injector.get(C_,null);return te?.registerApplication(K),z.onDestroy(()=>{this.detachView(z.hostView),Ts(this.components,z),te?.unregisterApplication(K)}),this._loadComponent(z),z}tick(){if(this._runningTick)throw new Se(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this.internalErrorHandler(n)}finally{this._runningTick=!1}}attachView(n){const s=n;this._views.push(s),s.attachToAppRef(this)}detachView(n){const s=n;Ts(this._views,s),s.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const s=this._injector.get(I_,[]);s.push(...this._bootstrapListeners),s.forEach(g=>g(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Ts(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new Se(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=mt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function Ts(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const N_=new Ke("",{providedIn:"root",factory:()=>Ct(Yo).handleError.bind(void 0)});function G1(){const e=Ct(zt),t=Ct(Yo);return n=>e.runOutsideAngular(()=>t.handleError(n))}let q1=(()=>{class e{constructor(){this.zone=Ct(zt),this.applicationRef=Ct(Xr)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=mt({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const dI=M_(null,"core",[]);let uI=(()=>{class e{constructor(n){}}return e.\u0275fac=function(n){return new(n||e)(dt(Xr))},e.\u0275mod=ar({type:e}),e.\u0275inj=ai({}),e})(),jd=null;function $d(){return jd}class wI{}const ei=new Ke("DocumentToken");let HS=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=ar({type:e}),e.\u0275inj=ai({}),e})();function pm(e){return"server"===e}class hk extends wI{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class iu extends hk{static makeCurrent(){!function xI(e){jd||(jd=e)}(new iu)}onAndCancel(t,n,s){return t.addEventListener(n,s),()=>{t.removeEventListener(n,s)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,n){return(n=n||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return"window"===n?window:"document"===n?t:"body"===n?t.body:null}getBaseHref(t){const n=function fk(){return ea=ea||document.querySelector("base"),ea?ea.getAttribute("href"):null}();return null==n?null:function pk(e){Gs=Gs||document.createElement("a"),Gs.setAttribute("href",e);const t=Gs.pathname;return"/"===t.charAt(0)?t:`/${t}`}(n)}resetBaseElement(){ea=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function sS(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const s=n.indexOf("="),[g,w]=-1==s?[n,""]:[n.slice(0,s),n.slice(s+1)];if(g.trim()===t)return decodeURIComponent(w)}return null}(document.cookie,t)}}let Gs,ea=null,vk=(()=>{class e{build(){return new XMLHttpRequest}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=mt({token:e,factory:e.\u0275fac}),e})();const ru=new Ke("EventManagerPlugins");let bm=(()=>{class e{constructor(n,s){this._zone=s,this._eventNameToPlugin=new Map,n.forEach(g=>{g.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,s,g){return this._findPluginFor(s).addEventListener(n,s,g)}getZone(){return this._zone}_findPluginFor(n){let s=this._eventNameToPlugin.get(n);if(s)return s;if(s=this._plugins.find(w=>w.supports(n)),!s)throw new Se(5101,!1);return this._eventNameToPlugin.set(n,s),s}}return e.\u0275fac=function(n){return new(n||e)(dt(ru),dt(zt))},e.\u0275prov=mt({token:e,factory:e.\u0275fac}),e})();class xm{constructor(t){this._doc=t}}const au="ng-app-id";let wm=(()=>{class e{constructor(n,s,g,w={}){this.doc=n,this.appId=s,this.nonce=g,this.platformId=w,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=pm(w),this.resetHostNodes()}addStyles(n){for(const s of n)1===this.changeUsageCount(s,1)&&this.onStyleAdded(s)}removeStyles(n){for(const s of n)this.changeUsageCount(s,-1)<=0&&this.onStyleRemoved(s)}ngOnDestroy(){const n=this.styleNodesInDOM;n&&(n.forEach(s=>s.remove()),n.clear());for(const s of this.getAllStyles())this.onStyleRemoved(s);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const s of this.getAllStyles())this.addStyleToHost(n,s)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(const s of this.hostNodes)this.addStyleToHost(s,n)}onStyleRemoved(n){const s=this.styleRef;s.get(n)?.elements?.forEach(g=>g.remove()),s.delete(n)}collectServerRenderedStyles(){const n=this.doc.head?.querySelectorAll(`style[${au}="${this.appId}"]`);if(n?.length){const s=new Map;return n.forEach(g=>{null!=g.textContent&&s.set(g.textContent,g)}),s}return null}changeUsageCount(n,s){const g=this.styleRef;if(g.has(n)){const w=g.get(n);return w.usage+=s,w.usage}return g.set(n,{usage:s,elements:[]}),s}getStyleElement(n,s){const g=this.styleNodesInDOM,w=g?.get(s);if(w?.parentNode===n)return g.delete(s),w.removeAttribute(au),w;{const k=this.doc.createElement("style");return this.nonce&&k.setAttribute("nonce",this.nonce),k.textContent=s,this.platformIsServer&&k.setAttribute(au,this.appId),k}}addStyleToHost(n,s){const g=this.getStyleElement(n,s);n.appendChild(g);const w=this.styleRef,k=w.get(s)?.elements;k?k.push(g):w.set(s,{elements:[g],usage:1})}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}}return e.\u0275fac=function(n){return new(n||e)(dt(ei),dt(ns),dt(Lf,8),dt(Mi))},e.\u0275prov=mt({token:e,factory:e.\u0275fac}),e})();const su={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},lu=/%COMP%/g,bk=new Ke("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function Cm(e,t){return t.map(n=>n.replace(lu,e))}let Dm=(()=>{class e{constructor(n,s,g,w,k,A,H,z=null){this.eventManager=n,this.sharedStylesHost=s,this.appId=g,this.removeStylesOnCompDestory=w,this.doc=k,this.platformId=A,this.ngZone=H,this.nonce=z,this.rendererByCompId=new Map,this.platformIsServer=pm(A),this.defaultRenderer=new cu(n,k,H,this.platformIsServer)}createRenderer(n,s){if(!n||!s)return this.defaultRenderer;this.platformIsServer&&s.encapsulation===mn.ShadowDom&&(s={...s,encapsulation:mn.Emulated});const g=this.getOrCreateRenderer(n,s);return g instanceof Sm?g.applyToHost(n):g instanceof du&&g.applyStyles(),g}getOrCreateRenderer(n,s){const g=this.rendererByCompId;let w=g.get(s.id);if(!w){const k=this.doc,A=this.ngZone,H=this.eventManager,z=this.sharedStylesHost,K=this.removeStylesOnCompDestory,te=this.platformIsServer;switch(s.encapsulation){case mn.Emulated:w=new Sm(H,z,s,this.appId,K,k,A,te);break;case mn.ShadowDom:return new Ck(H,z,n,s,k,A,this.nonce,te);default:w=new du(H,z,s,K,k,A,te)}w.onDestroy=()=>g.delete(s.id),g.set(s.id,w)}return w}ngOnDestroy(){this.rendererByCompId.clear()}}return e.\u0275fac=function(n){return new(n||e)(dt(bm),dt(wm),dt(ns),dt(bk),dt(ei),dt(Mi),dt(zt),dt(Lf))},e.\u0275prov=mt({token:e,factory:e.\u0275fac}),e})();class cu{constructor(t,n,s,g){this.eventManager=t,this.doc=n,this.ngZone=s,this.platformIsServer=g,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,n){return n?this.doc.createElementNS(su[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(Im(t)?t.content:t).appendChild(n)}insertBefore(t,n,s){t&&(Im(t)?t.content:t).insertBefore(n,s)}removeChild(t,n){t&&t.removeChild(n)}selectRootElement(t,n){let s="string"==typeof t?this.doc.querySelector(t):t;if(!s)throw new Se(5104,!1);return n||(s.textContent=""),s}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,s,g){if(g){n=g+":"+n;const w=su[g];w?t.setAttributeNS(w,n,s):t.setAttribute(n,s)}else t.setAttribute(n,s)}removeAttribute(t,n,s){if(s){const g=su[s];g?t.removeAttributeNS(g,n):t.removeAttribute(`${s}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,s,g){g&(fn.DashCase|fn.Important)?t.style.setProperty(n,s,g&fn.Important?"important":""):t.style[n]=s}removeStyle(t,n,s){s&fn.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,s){t[n]=s}setValue(t,n){t.nodeValue=n}listen(t,n,s){if("string"==typeof t&&!(t=$d().getGlobalEventTarget(this.doc,t)))throw new Error(`Unsupported event target ${t} for event ${n}`);return this.eventManager.addEventListener(t,n,this.decoratePreventDefault(s))}decoratePreventDefault(t){return n=>{if("__ngUnwrap__"===n)return t;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>t(n)):t(n))&&n.preventDefault()}}}function Im(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class Ck extends cu{constructor(t,n,s,g,w,k,A,H){super(t,w,k,H),this.sharedStylesHost=n,this.hostEl=s,this.shadowRoot=s.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const z=Cm(g.id,g.styles);for(const K of z){const te=document.createElement("style");A&&te.setAttribute("nonce",A),te.textContent=K,this.shadowRoot.appendChild(te)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,s){return super.insertBefore(this.nodeOrShadowRoot(t),n,s)}removeChild(t,n){return super.removeChild(this.nodeOrShadowRoot(t),n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class du extends cu{constructor(t,n,s,g,w,k,A,H){super(t,w,k,A),this.sharedStylesHost=n,this.removeStylesOnCompDestory=g,this.rendererUsageCount=0,this.styles=H?Cm(H,s.styles):s.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class Sm extends du{constructor(t,n,s,g,w,k,A,H){const z=g+"-"+s.id;super(t,n,s,w,k,A,H,z),this.contentAttr=function xk(e){return"_ngcontent-%COMP%".replace(lu,e)}(z),this.hostAttr=function wk(e){return"_nghost-%COMP%".replace(lu,e)}(z)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){const s=super.createElement(t,n);return super.setAttribute(s,this.contentAttr,""),s}}let Dk=(()=>{class e extends xm{constructor(n){super(n)}supports(n){return!0}addEventListener(n,s,g){return n.addEventListener(s,g,!1),()=>this.removeEventListener(n,s,g)}removeEventListener(n,s,g){return n.removeEventListener(s,g)}}return e.\u0275fac=function(n){return new(n||e)(dt(ei))},e.\u0275prov=mt({token:e,factory:e.\u0275fac}),e})();const km=["alt","control","meta","shift"],Ik={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Sk={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let kk=(()=>{class e extends xm{constructor(n){super(n)}supports(n){return null!=e.parseEventName(n)}addEventListener(n,s,g){const w=e.parseEventName(s),k=e.eventCallback(w.fullKey,g,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>$d().onAndCancel(n,w.domEventName,k))}static parseEventName(n){const s=n.toLowerCase().split("."),g=s.shift();if(0===s.length||"keydown"!==g&&"keyup"!==g)return null;const w=e._normalizeKey(s.pop());let k="",A=s.indexOf("code");if(A>-1&&(s.splice(A,1),k="code."),km.forEach(z=>{const K=s.indexOf(z);K>-1&&(s.splice(K,1),k+=z+".")}),k+=w,0!=s.length||0===w.length)return null;const H={};return H.domEventName=g,H.fullKey=k,H}static matchEventFullKeyCode(n,s){let g=Ik[n.key]||n.key,w="";return s.indexOf("code.")>-1&&(g=n.code,w="code."),!(null==g||!g)&&(g=g.toLowerCase()," "===g?g="space":"."===g&&(g="dot"),km.forEach(k=>{k!==g&&(0,Sk[k])(n)&&(w+=k+".")}),w+=g,w===s)}static eventCallback(n,s,g){return w=>{e.matchEventFullKeyCode(w,n)&&g.runGuarded(()=>s(w))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return e.\u0275fac=function(n){return new(n||e)(dt(ei))},e.\u0275prov=mt({token:e,factory:e.\u0275fac}),e})();const Pk=M_(dI,"browser",[{provide:Mi,useValue:"browser"},{provide:Nf,useValue:function Mk(){iu.makeCurrent()},multi:!0},{provide:ei,useFactory:function Ok(){return function xb(e){nc=e}(document),document},deps:[]}]),Ak=new Ke(""),Om=[{provide:Ms,useClass:class gk{addToWindow(t){yt.getAngularTestability=(s,g=!0)=>{const w=t.findTestabilityInTree(s,g);if(null==w)throw new Se(5103,!1);return w},yt.getAllAngularTestabilities=()=>t.getAllTestabilities(),yt.getAllAngularRootElements=()=>t.getAllRootElements(),yt.frameworkStabilizers||(yt.frameworkStabilizers=[]),yt.frameworkStabilizers.push(s=>{const g=yt.getAllAngularTestabilities();let w=g.length,k=!1;const A=function(H){k=k||H,w--,0==w&&s(k)};g.forEach(function(H){H.whenStable(A)})})}findTestabilityInTree(t,n,s){return null==n?null:t.getTestability(n)??(s?$d().isShadowRoot(n)?this.findTestabilityInTree(t,n.host,!0):this.findTestabilityInTree(t,n.parentElement,!0):null)}},deps:[]},{provide:C_,useClass:Md,deps:[zt,Td,Ms]},{provide:Md,useClass:Md,deps:[zt,Td,Ms]}],Pm=[{provide:uc,useValue:"root"},{provide:Yo,useFactory:function Tk(){return new Yo},deps:[]},{provide:ru,useClass:Dk,multi:!0,deps:[ei,zt,Mi]},{provide:ru,useClass:kk,multi:!0,deps:[ei]},Dm,wm,bm,{provide:Uf,useExisting:Dm},{provide:class zS{},useClass:vk,deps:[]},[]];let Fk=(()=>{class e{constructor(n){}static withServerTransition(n){return{ngModule:e,providers:[{provide:ns,useValue:n.appId}]}}}return e.\u0275fac=function(n){return new(n||e)(dt(Ak,12))},e.\u0275mod=ar({type:e}),e.\u0275inj=ai({providers:[...Pm,...Om],imports:[HS,uI]}),e})();typeof window<"u"&&window;var $k=Ki(905);const zk=["here"];let Wk=(()=>{class e{constructor(){this._diagram=null}ngOnInit(){this._diagram=new $k.DiagramEditor(this.diagramContainer.nativeElement,{type:"default"}),this._diagram.parse([{id:1,x:880,y:105,text:"Does user remember his password?",type:"process",lineHeight:18,fontColor:"#fff",fill:"#3DA0E3",stroke:"#3DA0E3"},{id:2,x:1080,y:125,width:50,height:50,text:"XOR",type:"circle",lineHeight:18,fontColor:"#fff",fill:"#7D8495",stroke:"#7D8495"},{id:3,x:1160,y:40,text:"User forgets his password",type:"preparation",lineHeight:18,fontColor:"#fff",fill:"#33B579",stroke:"#33B579"},{id:3.1,x:1340,y:40,text:"Send an E-mail with new password",type:"process",lineHeight:18,fontColor:"#fff",fill:"#3DA0E3",stroke:"#3DA0E3"},{id:3.2,x:1520,y:40,text:"E-mail sent",type:"preparation",fontColor:"#fff",lineHeight:18,fill:"#33B579",stroke:"#33B579"},{id:4,x:1160,y:180,text:"User remembers his password",type:"preparation",lineHeight:18,fontColor:"#fff",fill:"#33B579",stroke:"#33B579"},{id:5,x:1340,y:180,text:"User types in login and password",type:"process",lineHeight:18,fontColor:"#fff",fill:"#3DA0E3",stroke:"#3DA0E3"},{id:6,x:1520,y:180,text:"Data typed in",type:"preparation",fontColor:"#fff",lineHeight:18,fill:"#33B579",stroke:"#33B579"},{id:7,x:1700,y:180,text:"Proof completion \n and correctness",type:"process",lineHeight:18,fontColor:"#fff",fill:"#3DA0E3",stroke:"#3DA0E3"},{id:7.1,x:1745,y:600,width:50,height:50,text:"XOR",type:"circle",lineHeight:18,fontColor:"#fff",fill:"#7D8495",stroke:"#7D8495"},{id:7.2,x:1880,y:320,text:"User logged in",type:"preparation",lineHeight:18,fontColor:"#fff",fill:"#33B579",stroke:"#33B579"},{id:7.3,x:1880,y:450,text:"Complete logging in",type:"process",lineHeight:18,fontColor:"#fff",fill:"#3DA0E3",stroke:"#3DA0E3"},{id:7.4,x:1880,y:580,text:"Data is correct",type:"preparation",lineHeight:18,fontColor:"#fff",fill:"#33B579",stroke:"#33B579"},{id:7.5,x:1530,y:580,text:"Data is not correct",type:"preparation",lineHeight:18,fontColor:"#fff",fill:"#33B579",stroke:"#33B579"},{id:8,x:1700,y:40,text:"System",type:"subroutine",fontColor:"#fff",lineHeight:18,fill:"#7E6BAD",stroke:"#7E6BAD"},{id:9,x:1880,y:180,text:"Database",type:"database",fontColor:"#fff",lineHeight:18,fill:"#7E6BAD",stroke:"#7E6BAD"},{id:10,x:0,y:220,text:"Visitor enters the website",type:"preparation",lineHeight:18,fontColor:"#fff",fill:"#33B579",stroke:"#33B579"},{id:11,x:180,y:220,text:"Logged in user?",type:"process",lineHeight:18,fontColor:"#fff",fill:"#3DA0E3",stroke:"#3DA0E3"},{id:12,x:365,y:240,width:50,height:50,text:"XOR",type:"circle",lineHeight:18,fontColor:"#fff",fill:"#7D8495",stroke:"#7D8495"},{id:13,x:320,y:120,text:"User is logged in",type:"preparation",lineHeight:18,fontColor:"#fff",fill:"#33B579",stroke:"#33B579"},{id:14,x:320,y:320,text:"User is not logged in",type:"preparation",lineHeight:18,fontColor:"#fff",fill:"#33B579",stroke:"#33B579"},{id:15,x:490,y:320,text:"Registered user?",type:"process",lineHeight:18,fontColor:"#fff",fill:"#3DA0E3",stroke:"#3DA0E3"},{id:16,x:660,y:340,width:50,height:50,text:"XOR",type:"circle",lineHeight:18,fontColor:"#fff",fill:"#7D8495",stroke:"#7D8495"},{id:17,x:730,y:240,text:"User is registered",type:"preparation",lineHeight:18,fontColor:"#fff",fill:"#33B579",stroke:"#33B579"},{id:18,x:730,y:400,text:"User is not registered",type:"preparation",lineHeight:18,fontColor:"#fff",fill:"#33B579",stroke:"#33B579"},{id:19,x:905,y:420,width:50,height:50,text:"XOR",type:"circle",lineHeight:18,fontColor:"#fff",fill:"#7D8495",stroke:"#7D8495"},{id:20,x:860,y:510,text:"User types in needed data",type:"process",lineHeight:18,fontColor:"#fff",fill:"#3DA0E3",stroke:"#3DA0E3"},{id:21,x:860,y:640,text:"Data typed in",type:"preparation",lineHeight:18,fontColor:"#fff",fill:"#33B579",stroke:"#33B579"},{id:22,x:860,y:770,text:"Proof completion \n and correctness",type:"process",lineHeight:18,fontColor:"#fff",fill:"#3DA0E3",stroke:"#3DA0E3"},{id:23,x:700,y:770,text:"System",type:"subroutine",lineHeight:18,fontColor:"#fff",fill:"#7E6BAD",stroke:"#7E6BAD"},{id:24,x:860,y:890,text:"Database",type:"database",lineHeight:18,fontColor:"#fff",fill:"#7E6BAD",stroke:"#7E6BAD"},{id:25,x:1065,y:790,width:50,height:50,text:"XOR",type:"circle",lineHeight:18,fontColor:"#fff",fill:"#7D8495",stroke:"#7D8495"},{id:26,x:1020,y:640,text:"Data is not correct",type:"preparation",lineHeight:18,fontColor:"#fff",fill:"#33B579",stroke:"#33B579"},{id:27,x:1020,y:890,text:"Data is correct",type:"preparation",lineHeight:18,fontColor:"#fff",fill:"#33B579",stroke:"#33B579"},{id:28,x:1245,y:910,width:50,height:50,text:"AND",type:"circle",lineHeight:18,fontColor:"#fff",fill:"#7D8495",stroke:"#7D8495"},{id:29,x:1200,y:770,text:"Write account data into database",type:"process",lineHeight:18,fontColor:"#fff",fill:"#3DA0E3",stroke:"#3DA0E3"},{id:29.1,x:1380,y:770,text:"Data writing done",type:"preparation",lineHeight:18,fontColor:"#fff",fill:"#33B579",stroke:"#33B579"},{id:29.2,x:1200,y:640,text:"Database",type:"database",lineHeight:18,fontColor:"#fff",fill:"#7E6BAD",stroke:"#7E6BAD"},{id:30,x:1330,y:890,text:"Send activation \n e-mail",type:"process",lineHeight:18,fontColor:"#fff",fill:"#3DA0E3",stroke:"#3DA0E3"},{id:31,x:1510,y:890,text:"Activation e-mail sent",type:"preparation",lineHeight:18,fontColor:"#fff",fill:"#33B579",stroke:"#33B579"},{id:32,x:1690,y:890,text:"User activates his account",type:"process",lineHeight:18,fontColor:"#fff",fill:"#3DA0E3",stroke:"#3DA0E3"},{id:33,x:1870,y:889,text:"Account activated",type:"preparation",lineHeight:18,fontColor:"#fff",fill:"#33B579",stroke:"#33B579"},{from:1,to:2,type:"dash",forwardArrow:"filled",stroke:"#7D8495"},{from:2,to:3,type:"dash",toSide:"bottom",forwardArrow:"filled",stroke:"#7D8495"},{from:2,to:7.5,type:"dash",fromSide:"bottom",toSide:"top",backArrow:"filled",stroke:"#7D8495"},{from:2,to:3.2,type:"dash",fromSide:"top",toSide:"top",stroke:"#7D8495"},{from:3,to:3.1,type:"line",forwardArrow:"filled",stroke:"#7D8495"},{from:3.1,to:3.2,type:"line",forwardArrow:"filled",stroke:"#7D8495"},{from:2,to:4,type:"dash",toSide:"top",forwardArrow:"filled",stroke:"#7D8495"},{from:4,to:5,type:"dash",forwardArrow:"filled",stroke:"#7D8495"},{from:5,to:6,type:"dash",forwardArrow:"filled",stroke:"#7D8495"},{from:6,to:7,type:"dash",forwardArrow:"filled",stroke:"#7D8495"},{from:7,to:7.1,type:"dash",forwardArrow:"filled",stroke:"#7D8495"},{from:7.1,to:7.4,type:"dash",toSide:"left",stroke:"#7D8495"},{from:7.1,to:7.5,type:"dash",toSide:"right",stroke:"#7D8495"},{from:7.2,to:7.3,type:"dash",backArrow:"filled",stroke:"#7D8495"},{from:7.3,to:7.4,type:"dash",backArrow:"filled",stroke:"#7D8495"},{from:7,to:8,type:"dash",toSide:"bottom",forwardArrow:"filled",stroke:"#7D8495"},{from:7,to:9,type:"dash",forwardArrow:"filled",stroke:"#7D8495"},{from:10,to:11,type:"dash",forwardArrow:"filled",stroke:"#7D8495"},{from:11,to:12,type:"dash",forwardArrow:"filled",stroke:"#7D8495"},{from:12,to:13,type:"dash",forwardArrow:"filled",toSide:"bottom",stroke:"#7D8495"},{from:12,to:14,type:"dash",forwardArrow:"filled",toSide:"top",stroke:"#7D8495"},{from:14,to:15,type:"dash",forwardArrow:"filled",stroke:"#7D8495"},{from:15,to:16,type:"dash",forwardArrow:"filled",stroke:"#7D8495"},{from:16,to:17,type:"dash",forwardArrow:"filled",toSide:"bottom",stroke:"#7D8495"},{from:16,to:33,type:"dash",backArrow:"filled",fromSide:"bottom",toSide:"bottom",stroke:"#7D8495"},{from:17,to:1,type:"dash",forwardArrow:"filled",stroke:"#7D8495"},{from:17,to:18,type:"dash",forwardArrow:"filled",stroke:"#7D8495"},{from:18,to:19,type:"dash",forwardArrow:"filled",stroke:"#7D8495"},{from:19,to:20,type:"dash",forwardArrow:"filled",stroke:"#7D8495"},{from:19,to:26,type:"dash",backArrow:"filled",fromSide:"right",stroke:"#7D8495"},{from:20,to:22,type:"dash",forwardArrow:"filled",stroke:"#7D8495"},{from:22,to:23,type:"dash",forwardArrow:"filled",stroke:"#7D8495"},{from:22,to:24,type:"dash",forwardArrow:"filled",stroke:"#7D8495"},{from:22,to:25,type:"dash",forwardArrow:"filled",stroke:"#7D8495"},{from:25,to:26,type:"dash",forwardArrow:"filled",stroke:"#7D8495"},{from:25,to:27,type:"dash",forwardArrow:"filled",stroke:"#7D8495"},{from:27,to:28,type:"dash",forwardArrow:"filled",stroke:"#7D8495"},{from:28,to:29,type:"dash",forwardArrow:"filled",stroke:"#7D8495"},{from:29,to:29.1,type:"dash",forwardArrow:"filled",stroke:"#7D8495"},{from:29,to:29.2,type:"dash",forwardArrow:"filled",stroke:"#7D8495"},{from:28,to:30,type:"dash",forwardArrow:"filled",stroke:"#7D8495"},{from:30,to:31,type:"dash",forwardArrow:"filled",stroke:"#7D8495"},{from:31,to:32,type:"dash",forwardArrow:"filled",stroke:"#7D8495"},{from:32,to:33,type:"dash",forwardArrow:"filled",stroke:"#7D8495"}])}ngOnDestroy(){this._diagram?.destructor()}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=dl({type:e,selectors:[["diagram"]],viewQuery:function(n,s){if(1&n&&Xv(zk,7),2&n){let g;Yv(g=function Kv(){return function o1(e,t){return e[Jn].queries[t].queryList}(Ce(),sh())}())&&(s.diagramContainer=g.first)}},decls:2,vars:0,consts:[[1,"widget"],["here",""]],template:function(n,s){1&n&&bs(0,"div",0,1)},styles:['@import"https://cdn.dhtmlx.com/fonts/dxi/dhx-icons.css";.dhx_547239261_alert{width:440px}.dhx_547239261_alert .dhx_alert__header{display:flex;justify-content:center;flex-direction:column}.dhx_547239261_alert .dhx_alert__header--icon{width:80px;height:80px;fill:#ff5252;align-self:center;margin-bottom:16px}.dhx_547239261_alert .dhx_alert__header--text{font-size:18px;line-height:24px;text-align:center}.dhx_547239261_alert .dhx_alert__content{font-weight:800;line-height:20px}.dhx_638523928_message.dhx_message.dhx_widget{width:400px;background-color:#ff5252}.dhx_638523928_message.dhx_message.dhx_widget .dhx_message__icon,.dhx_638523928_message.dhx_message.dhx_widget .dhx_message__text{color:#fff}.dhx_message-container,.dhx_widget--fullscreen .dhx_menu{z-index:var(--dhx-z-index-overlay-total)}:root,[data-dhx-theme]{--dhx-step-size:4px;--dhx-color-white:#fff;--dhx-color-gray-100:#e6e6e6;--dhx-color-gray-200:#ccc;--dhx-color-gray-300:#b3b3b3;--dhx-color-gray-400:#999;--dhx-color-gray-500:grey;--dhx-color-gray-600:#666;--dhx-color-gray-700:#4d4d4d;--dhx-color-gray-800:#333;--dhx-color-gray-900:#1a1a1a;--dhx-color-black:#000;--dhx-font-family:"Roboto",Arial,Tahoma,Verdana,sans-serif;--dhx-font-weight-regular:400;--dhx-font-weight-medium:500;--dhx-font-weight-bold:700;--dhx-font-size-small:calc(var(--dhx-step-size)*3);--dhx-font-size-normal:calc(var(--dhx-step-size)*3.5);--dhx-font-size-large:calc(var(--dhx-step-size)*4);--dhx-line-height-small:calc(var(--dhx-step-size)*4);--dhx-line-height-normal:calc(var(--dhx-step-size)*5);--dhx-line-height-large:calc(var(--dhx-step-size)*6);--dhx-font-color-primary:rgba(0,0,0,.7);--dhx-font-color-secondary:rgba(0,0,0,.5);--dhx-font-color-additional:rgba(0,0,0,.3);--dhx-font-color-disabled:rgba(0,0,0,.3);--dhx-font-color-contrast:var(--dhx-color-white);--dhx-font-color-contrast-disabled:var(--dhx-color-white);--dhx-icon-size-small:calc(var(--dhx-step-size)*4);--dhx-icon-size-normal:calc(var(--dhx-step-size)*5);--dhx-icon-size-large:calc(var(--dhx-step-size)*6);--dhx-border-width:1px;--dhx-border-radius:2px;--dhx-border-color:rgba(0,0,0,.1);--dhx-border-color-focused:rgba(0,0,0,.3);--dhx-border:var(--dhx-border-width) solid var(--dhx-border-color);--dhx-border-shadow-small:0 2px 4px rgba(0,0,0,.15);--dhx-border-shadow-normal:0 2px 5px rgba(0,0,0,.3);--dhx-border-shadow-large:0px 1px 6px rgba(0,0,0,.1),0px 10px 20px rgba(0,0,0,.1);--dhx-shadow-input-size:inset 0px 0px 0px var(--dhx-border-width);--dhx-transition-time:.2s;--dhx-transition-in:ease-in;--dhx-transition-out:ease-out;--dhx-z-index-up:1;--dhx-z-index-force-up:10;--dhx-z-index-overlay:999;--dhx-z-index-overlay-total:10000000;--dhx-l-contrast-offset:0%;--dhx-l-h-offset:10%;--dhx-s-d-offset:30%;--dhx-l-d:70%;--dhx-a-l-h:.15;--dhx-a-l-a:.3;--dhx-h-primary:200;--dhx-s-primary:98%;--dhx-l-primary:40%;--dhx-h-secondary:0;--dhx-s-secondary:0%;--dhx-l-secondary:30%;--dhx-h-danger:0;--dhx-s-danger:100%;--dhx-l-danger:60%;--dhx-h-success:154;--dhx-s-success:89%;--dhx-l-success:37%;--dhx-h-background:0;--dhx-s-background:0%;--dhx-l-background:100%;--dhx-a-background:.5;--dhx-background-primary:hsl(var(--dhx-h-background),var(--dhx-s-background),var(--dhx-l-background));--dhx-background-secondary:hsl(var(--dhx-h-background),var(--dhx-s-background),calc(var(--dhx-l-background) - 3%));--dhx-background-additional:hsl(var(--dhx-h-background),var(--dhx-s-background),calc(var(--dhx-l-background) - 10%));--dhx-background-overlay:hsla(var(--dhx-h-background),var(--dhx-s-background),calc(var(--dhx-l-background)*-1),var(--dhx-a-background));--dhx-background-overlay-light:hsla(0,0%,100%,.5);--dhx-tooltip-background-dark:var(--dhx-color-gray-800);--dhx-tooltip-background-light:var(--dhx-color-white);--dhx-color-focused:hsl(calc(var(--dhx-h-primary) + 10),var(--dhx-s-primary),var(--dhx-l-primary));--dhx-color-primary:hsl(var(--dhx-h-primary),var(--dhx-s-primary),calc(var(--dhx-l-primary) - var(--dhx-l-contrast-offset)));--dhx-color-primary-hover:hsl(var(--dhx-h-primary),var(--dhx-s-primary),calc(var(--dhx-l-primary) + var(--dhx-l-h-offset) - var(--dhx-l-contrast-offset)));--dhx-color-primary-active:var(--dhx-color-primary);--dhx-color-primary-disabled:hsl(var(--dhx-h-primary),calc(var(--dhx-s-primary) - var(--dhx-s-d-offset)),var(--dhx-l-d));--dhx-color-primary-light-hover:hsla(var(--dhx-h-primary),var(--dhx-s-primary),calc(var(--dhx-l-primary) - var(--dhx-l-contrast-offset)),var(--dhx-a-l-h));--dhx-color-primary-light-active:hsla(var(--dhx-h-primary),var(--dhx-s-primary),calc(var(--dhx-l-primary) - var(--dhx-l-contrast-offset)),var(--dhx-a-l-a));--dhx-color-secondary:hsl(var(--dhx-h-secondary),var(--dhx-s-secondary),calc(var(--dhx-l-secondary) - var(--dhx-l-contrast-offset)));--dhx-color-secondary-hover:hsl(var(--dhx-h-secondary),var(--dhx-s-secondary),calc(var(--dhx-l-secondary) + var(--dhx-l-h-offset) - var(--dhx-l-contrast-offset)));--dhx-color-secondary-active:var(--dhx-color-secondary);--dhx-color-secondary-disabled:hsl(var(--dhx-h-secondary),calc(var(--dhx-s-secondary) - var(--dhx-s-d-offset)),var(--dhx-l-d));--dhx-color-secondary-light-hover:hsla(var(--dhx-h-secondary),var(--dhx-s-secondary),calc(var(--dhx-l-secondary) - var(--dhx-l-contrast-offset)),var(--dhx-a-l-h));--dhx-color-secondary-light-active:hsla(var(--dhx-h-secondary),var(--dhx-s-secondary),calc(var(--dhx-l-secondary) - var(--dhx-l-contrast-offset)),var(--dhx-a-l-a));--dhx-color-danger:hsl(var(--dhx-h-danger),var(--dhx-s-danger),calc(var(--dhx-l-danger) - var(--dhx-l-contrast-offset)));--dhx-color-danger-hover:hsl(var(--dhx-h-danger),var(--dhx-s-danger),calc(var(--dhx-l-danger) + var(--dhx-l-h-offset) - var(--dhx-l-contrast-offset)));--dhx-color-danger-active:var(--dhx-color-danger);--dhx-color-danger-disabled:hsl(var(--dhx-h-danger),calc(var(--dhx-s-danger) - var(--dhx-s-d-offset)),var(--dhx-l-d));--dhx-color-danger-light-hover:hsla(var(--dhx-h-danger),var(--dhx-s-danger),calc(var(--dhx-l-danger) - var(--dhx-l-contrast-offset)),var(--dhx-a-l-h));--dhx-color-danger-light-active:hsla(var(--dhx-h-danger),var(--dhx-s-danger),calc(var(--dhx-l-danger) - var(--dhx-l-contrast-offset)),var(--dhx-a-l-a));--dhx-color-success:hsl(var(--dhx-h-success),var(--dhx-s-success),calc(var(--dhx-l-success) - var(--dhx-l-contrast-offset)));--dhx-color-success-hover:hsl(var(--dhx-h-success),var(--dhx-s-success),calc(var(--dhx-l-success) + var(--dhx-l-h-offset) - var(--dhx-l-contrast-offset)));--dhx-color-success-active:var(--dhx-color-success);--dhx-color-success-disabled:hsl(var(--dhx-h-success),calc(var(--dhx-s-success) - var(--dhx-s-d-offset)),var(--dhx-l-d));--dhx-color-success-light-hover:hsla(var(--dhx-h-success),var(--dhx-s-success),calc(var(--dhx-l-success) - var(--dhx-l-contrast-offset)),var(--dhx-a-l-h));--dhx-color-success-light-active:hsla(var(--dhx-h-success),var(--dhx-s-success),calc(var(--dhx-l-success) - var(--dhx-l-contrast-offset)),var(--dhx-a-l-a));--dhx-s-toolbar-background:var(--dhx-background-primary);--dhx-s-toolbar-button-background-hover:rgba(0,0,0,.07);--dhx-s-toolbar-button-background-active:rgba(0,0,0,.15);--dhx-s-grid-header-background:var(--dhx-background-secondary);--dhx-s-grid-selection-background:var(--dhx-color-gray-700);--dhx-s-calendar-muffled:.6;--dhx-s-tick-font-size:calc(var(--dhx-font-size-small)/1.2);--dhx-selected-border:1px solid var(--dhx-color-primary);--dhx-selected-border-dashed:1px dashed var(--dhx-color-primary);--dhx-shapebar-item-font-color:#4c4c4c;--dhx-shapebar-item-background:#eef1f6;--dhx-shapebar-item-border-color:#b8c6d6}.dhx_checkbox__input,.dhx_radiobutton__input,.dhx_simplevault__input,.dhx_visually-hidden{position:absolute;overflow:hidden;clip:rect(0 0 0 0);height:1px;width:1px;margin:-1px;padding:0;border:0}.dhx_no-select{-webkit-user-select:none;user-select:none;cursor:grab}.dhx_no-select:not(.dhx_no-select--resize):not(.dhx_no-select--pointer) *{cursor:grab!important}.dhx_no-select--pointer{cursor:pointer}.dhx_no-select--pointer,.dhx_no-select--resize{-webkit-user-select:none;user-select:none}.dhx-resize-observer{position:absolute;left:0;top:-100%;width:100%;height:100%;margin:1px 0 0;border:none;opacity:0;visibility:hidden;pointer-events:none}.dhx_widget,.dhx_widget *{-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-text-size-adjust:none;-moz-text-size-adjust:none;-ms-text-size-adjust:none;-webkit-font-smoothing:antialiased;text-rendering:optimizeLegibility;-moz-osx-font-smoothing:grayscale;font-feature-settings:"liga"}.dhx_widget,.dhx_widget *,.dhx_widget:after,.dhx_widget :after,.dhx_widget:before,.dhx_widget :before{box-sizing:border-box}.dhx_widget * :not(output):-moz-ui-invalid,.dhx_widget :not(output):-moz-ui-invalid{box-shadow:none}.dhx_widget{font-family:var(--dhx-font-family);font-weight:var(--dhx-font-weight-regular);font-size:var(--dhx-font-size-normal);line-height:var(--dhx-line-height-normal);color:var(--dhx-font-color-primary)}.dhx_widget--bordered{border:var(--dhx-border)}.dhx_widget--border_top{border-top:var(--dhx-border)}.dhx_widget--border_bottom{border-bottom:var(--dhx-border)}.dhx_widget--border_left{border-left:var(--dhx-border)}.dhx_widget--border_right{border-right:var(--dhx-border)}.dhx_widget--border-shadow{border:0;box-shadow:var(--dhx-border-shadow-small)}.dhx_widget--no-border{border:0}.dhx_widget--no-border_top{border-top:0}.dhx_widget--no-border_bottom{border-bottom:0}.dhx_widget--no-border_left{border-left:0}.dhx_widget--no-border_right{border-right:0}.dhx_widget.dhx_widget--bg_white{background-color:var(--dhx-color-white)}.dhx_widget.dhx_widget--bg_gray{background-color:#f7f7f7}.dhx_drag-ghost{position:absolute;-webkit-user-select:none;user-select:none;pointer-events:none;z-index:calc(var(--dhx-z-index-overlay-total) + 1);opacity:.6}.dhx_drag-ghost *{box-sizing:border-box}.dhx_drag-ghost .dhx_list-item{list-style-type:none;color:var(--dhx-font-color-primary)}.dhx_drag-ghost .dhx_list-item--selected{background-color:var(--dhx-background-primary);box-shadow:inset 0 0 0 0 var(--dhx-color-primary)}.dhx_drag-ghost .dhx_list-item--focus,.dhx_drag-ghost .dhx_list-item--selected:hover,.dhx_drag-ghost .dhx_list-item:hover{background-color:var(--dhx-background-additional);transition:background-color var(--dhx-transition-time) var(--dhx-transition-out)}.dhx_drag-ghost .dhx_dataview-item{color:var(--dhx-font-color-primary)}.dhx_drag-ghost .dhx_tree-list-item__icon{position:relative;display:inline;vertical-align:middle;color:var(--dhx-font-color-additional);font-size:var(--dhx-icon-size-normal);top:2px}.dhx_drag-ghost .dhx_tree-list-item__text{font-family:var(--dhx-font-family);font-size:var(--dhx-font-size-normal);vertical-align:middle;line-height:var(--dhx-line-height-normal);color:var(--dhx-font-color-primary)}.dhx_drag-ghost .dhx_dataview-item,.dhx_drag-ghost .dhx_grid-cell,.dhx_drag-ghost .dhx_list-item{background-color:var(--dhx-background-primary);border:var(--dhx-border)!important}@font-face{font-family:Roboto;src:url(roboto-regular-webfont.8b9a855ccd07bfc9.woff2) format("woff2"),url(roboto-regular-webfont.f83c4944c97e9ee0.woff) format("woff");font-weight:400;font-style:normal;font-display:fallback}@font-face{font-family:Roboto;src:url(roboto-medium-webfont.5ad211075af516d1.woff2) format("woff2"),url(roboto-medium-webfont.e5efe23bea46e98a.woff) format("woff");font-weight:500;font-style:normal;font-display:fallback}@font-face{font-family:Roboto;src:url(roboto-bold-webfont.fdce0850a070cb71.woff2) format("woff2"),url(roboto-bold-webfont.c11295b85b973398.woff) format("woff");font-weight:700;font-style:normal;font-display:fallback}.dxi{display:inline-block;text-rendering:auto;line-height:0;font-size:0}.dxi:before{font-size:var(--dhx-icon-size-normal)}.dxi--small:before{font-size:var(--dhx-icon-size-small)}.dxi--medium:before{font-size:var(--dhx-icon-size-normal)}.dxi--large:before{font-size:var(--dhx-icon-size-large)}@keyframes button-loading{0%{transform:rotate(0);transform-origin:center center}to{transform:rotate(1439deg);transform-origin:center center}}.scroll-view-wrapper{width:100%;height:100%;overflow:hidden;position:relative}.scroll-view-wrapper:hover .scroll-runner{opacity:1!important}.scroll-view-wrapper .scroll-view{width:100%;height:100%;overflow:scroll;-ms-overflow-style:scrollbar}.scroll-view-wrapper .x-scroll,.scroll-view-wrapper .y-scroll{z-index:1000;background-color:transparent;transition:all .3s}.scroll-view-wrapper .x-scroll .scroll-runner,.scroll-view-wrapper .y-scroll .scroll-runner{position:absolute;background:#999;border-radius:6px;z-index:1}.scroll-view-wrapper .x-scroll:hover{transition:height .5s;height:10px!important}.scroll-view-wrapper .x-scroll .scroll-runner{height:100%}.scroll-view-wrapper .y-scroll:hover{transition:width .5s;width:10px!important}.scroll-view-wrapper .y-scroll .scroll-runner{width:100%}.dhx_button{overflow:visible;position:relative;text-decoration:none;background-image:none;border:0;touch-action:manipulation;-webkit-user-select:none;user-select:none;white-space:nowrap;cursor:pointer}.dhx_button:active,.dhx_button:focus-visible{outline:none}.dhx_button__icon,.dhx_button__text{pointer-events:none}.dhx_button__icon{line-height:0}.dhx_button__icon:before{display:inline-block}.dhx_button__icon+.dhx_button__text{margin-left:var(--dhx-step-size)}.dhx_button__loading{display:none;position:absolute;inset:0;justify-content:center;align-items:center}.dhx_button__loading-icon{animation:button-loading 3s linear infinite}.dhx_button--width_full{width:100%}.dhx_button--justify_between{justify-content:space-between}.dhx_button--circle.dhx_button--size_small{border-radius:calc(var(--dhx-line-height-normal) + var(--dhx-step-size)*2)}.dhx_button--circle.dhx_button--size_medium{border-radius:calc(var(--dhx-line-height-normal) + var(--dhx-step-size)*3)}.dhx_button--disabled,.dhx_button:disabled{pointer-events:none}.dhx_button--icon.dhx_button--circle:not(.dhx_button--width_full){border-radius:50%}.dhx_button--icon.dhx_button--circle:not(.dhx_button--width_full).dhx_button--size_medium{padding-left:calc(var(--dhx-step-size)*1.5);padding-right:calc(var(--dhx-step-size)*1.5)}.dhx_button--icon.dhx_button--circle:not(.dhx_button--width_full).dhx_button--size_small{padding-left:var(--dhx-step-size);padding-right:var(--dhx-step-size)}.dhx_button--loading{position:relative}.dhx_button--loading .dhx_button__loading{display:flex}.dhx_button--loading .dhx_button__icon,.dhx_button--loading .dhx_button__text{visibility:hidden}.dhx_button--size_small{padding:var(--dhx-step-size) calc(var(--dhx-step-size)*3);font-size:var(--dhx-font-size-normal);line-height:var(--dhx-line-height-normal)}.dhx_button--size_small .dhx_button__icon:before{font-size:var(--dhx-icon-size-small);line-height:var(--dhx-line-height-small)}.dhx_button--size_small.dhx_button--loading-icon:before{font-size:var(--dhx-icon-size-small);margin-top:calc(var(--dhx-icon-size-small)/2*-1);margin-left:calc(var(--dhx-icon-size-small)/2*-1)}.dhx_button--size_medium{padding:calc(var(--dhx-step-size)*1.5) calc(var(--dhx-step-size)*4);text-transform:uppercase;line-height:var(--dhx-line-height-normal)}.dhx_button--size_medium .dhx_button__icon:before{font-size:var(--dhx-icon-size-normal);line-height:var(--dhx-line-height-normal)}.dhx_button--size_medium.dhx_button--loading-icon:before{font-size:var(--dhx-line-height-normal);margin-top:calc(var(--dhx-line-height-normal)/2*-1);margin-left:calc(var(--dhx-line-height-normal)/2*-1)}.dhx_button--view_flat{display:flex;justify-content:center;align-items:center;font-family:var(--dhx-font-family);font-size:var(--dhx-font-size-normal);font-weight:var(--dhx-font-weight-medium);line-height:var(--dhx-line-height-normal);text-align:center;color:var(--dhx-font-color-contrast);transition:background-color var(--dhx-transition-time) var(--dhx-transition-in),color var(--dhx-transition-time) var(--dhx-transition-in),box-shadow var(--dhx-transition-time) var(--dhx-transition-in)}.dhx_button--view_flat:focus,.dhx_button--view_flat:hover{transition:background-color var(--dhx-transition-time) var(--dhx-transition-out),color var(--dhx-transition-time) var(--dhx-transition-out),box-shadow var(--dhx-transition-time) var(--dhx-transition-out)}.dhx_button--view_flat.dhx_button--color_primary{background-color:var(--dhx-color-primary);outline-width:0}.dhx_button--view_flat.dhx_button--color_primary.dhx_button--active,.dhx_button--view_flat.dhx_button--color_primary:focus,.dhx_button--view_flat.dhx_button--color_primary:hover{background-color:var(--dhx-color-primary-hover)}.dhx_button--view_flat.dhx_button--color_primary:active{background-color:var(--dhx-color-primary);box-shadow:none}.dhx_button--view_flat.dhx_button--color_primary.dhx_button--disabled,.dhx_button--view_flat.dhx_button--color_primary:disabled{color:var(--dhx-font-color-contrast-disabled);background-color:var(--dhx-color-primary-disabled)}.dhx_button--view_flat.dhx_button--color_secondary{background-color:var(--dhx-color-secondary);outline-width:0}.dhx_button--view_flat.dhx_button--color_secondary.dhx_button--active,.dhx_button--view_flat.dhx_button--color_secondary:focus,.dhx_button--view_flat.dhx_button--color_secondary:hover{background-color:var(--dhx-color-secondary-hover)}.dhx_button--view_flat.dhx_button--color_secondary:active{background-color:var(--dhx-color-secondary);box-shadow:none}.dhx_button--view_flat.dhx_button--color_secondary.dhx_button--disabled,.dhx_button--view_flat.dhx_button--color_secondary:disabled{color:var(--dhx-font-color-contrast-disabled);background-color:var(--dhx-color-secondary-disabled)}.dhx_button--view_flat.dhx_button--color_danger{background-color:var(--dhx-color-danger);outline-width:0}.dhx_button--view_flat.dhx_button--color_danger.dhx_button--active,.dhx_button--view_flat.dhx_button--color_danger:focus,.dhx_button--view_flat.dhx_button--color_danger:hover{background-color:var(--dhx-color-danger-hover)}.dhx_button--view_flat.dhx_button--color_danger:active{background-color:var(--dhx-color-danger);box-shadow:none}.dhx_button--view_flat.dhx_button--color_danger.dhx_button--disabled,.dhx_button--view_flat.dhx_button--color_danger:disabled{color:var(--dhx-font-color-contrast-disabled);background-color:var(--dhx-color-danger-disabled)}.dhx_button--view_flat.dhx_button--color_success{background-color:var(--dhx-color-success);outline-width:0}.dhx_button--view_flat.dhx_button--color_success.dhx_button--active,.dhx_button--view_flat.dhx_button--color_success:focus,.dhx_button--view_flat.dhx_button--color_success:hover{background-color:var(--dhx-color-success-hover)}.dhx_button--view_flat.dhx_button--color_success:active{background-color:var(--dhx-color-success);box-shadow:none}.dhx_button--view_flat.dhx_button--color_success.dhx_button--disabled,.dhx_button--view_flat.dhx_button--color_success:disabled{color:var(--dhx-font-color-contrast-disabled);background-color:var(--dhx-color-success-disabled)}.dhx_button--view_link{display:flex;justify-content:center;align-items:center;font-family:var(--dhx-font-family);font-size:var(--dhx-font-size-normal);font-weight:var(--dhx-font-weight-medium);line-height:var(--dhx-line-height-normal);text-align:center;border-radius:var(--dhx-border-radius);background:transparent;transition:background-color var(--dhx-transition-time) var(--dhx-transition-in),box-shadow var(--dhx-transition-time) var(--dhx-transition-in)}.dhx_button--view_link:focus,.dhx_button--view_link:hover{transition:background-color var(--dhx-transition-time) var(--dhx-transition-out),box-shadow var(--dhx-transition-time) var(--dhx-transition-out)}.dhx_button--view_link.dhx_button--color_primary{color:var(--dhx-color-primary);outline-width:0}.dhx_button--view_link.dhx_button--color_primary:focus,.dhx_button--view_link.dhx_button--color_primary:hover{background-color:var(--dhx-color-primary-light-hover)}.dhx_button--view_link.dhx_button--color_primary.dhx_button--active,.dhx_button--view_link.dhx_button--color_primary:active{background-color:var(--dhx-color-primary-light-active)}.dhx_button--view_link.dhx_button--color_primary.dhx_button--disabled,.dhx_button--view_link.dhx_button--color_primary:disabled{color:var(--dhx-color-primary-disabled)}.dhx_button--view_link.dhx_button--color_secondary{color:var(--dhx-color-secondary);outline-width:0}.dhx_button--view_link.dhx_button--color_secondary:focus,.dhx_button--view_link.dhx_button--color_secondary:hover{background-color:var(--dhx-color-secondary-light-hover)}.dhx_button--view_link.dhx_button--color_secondary.dhx_button--active,.dhx_button--view_link.dhx_button--color_secondary:active{background-color:var(--dhx-color-secondary-light-active)}.dhx_button--view_link.dhx_button--color_secondary.dhx_button--disabled,.dhx_button--view_link.dhx_button--color_secondary:disabled{color:var(--dhx-color-secondary-disabled)}.dhx_button--view_link.dhx_button--color_danger{color:var(--dhx-color-danger);outline-width:0}.dhx_button--view_link.dhx_button--color_danger:focus,.dhx_button--view_link.dhx_button--color_danger:hover{background-color:var(--dhx-color-danger-light-hover)}.dhx_button--view_link.dhx_button--color_danger.dhx_button--active,.dhx_button--view_link.dhx_button--color_danger:active{background-color:var(--dhx-color-danger-light-active)}.dhx_button--view_link.dhx_button--color_danger.dhx_button--disabled,.dhx_button--view_link.dhx_button--color_danger:disabled{color:var(--dhx-color-danger-disabled)}.dhx_button--view_link.dhx_button--color_success{color:var(--dhx-color-success);outline-width:0}.dhx_button--view_link.dhx_button--color_success:focus,.dhx_button--view_link.dhx_button--color_success:hover{background-color:var(--dhx-color-success-light-hover)}.dhx_button--view_link.dhx_button--color_success.dhx_button--active,.dhx_button--view_link.dhx_button--color_success:active{background-color:var(--dhx-color-success-light-active)}.dhx_button--view_link.dhx_button--color_success.dhx_button--disabled,.dhx_button--view_link.dhx_button--color_success:disabled{color:var(--dhx-color-success-disabled)}.dhx_button--sidebar .dhx_button__icon+.dhx_button__text{margin-left:calc(var(--dhx-step-size)*2);margin-right:auto}.utilityfocus .dhx_button:focus-visible{outline:var(--dhx-color-focused) dashed 1px;outline-offset:-1px}.dhx_widget .dhx_button__icon{line-height:0}.dhx_widget .dhx_button__icon:before{font-size:var(--dhx-icon-size-normal);line-height:var(--dhx-icon-size-normal)}.dhx_widget .dhx_button--size_small .dhx_button__icon:before{font-size:var(--dhx-icon-size-small);line-height:var(--dhx-icon-size-small)}.dhx_form-group{position:relative;display:block;text-align:left;margin-bottom:var(--dhx-line-height-small)}.dhx_form-group--simplevault{line-height:0;height:100%}.dhx_form-group--simplevault .dhx_label{padding:0}.dhx_form-group--textarea{display:flex;flex-direction:column;height:calc(100% - 16px)}.dhx_form-group--textarea .dhx_input--textarea,.dhx_form-group--textarea .dhx_input__wrapper{height:100%}.dhx_form-group--textarea .dhx_label{min-height:var(--dhx-line-height-normal);line-height:var(--dhx-line-height-normal)}.dhx_form-group--inline{display:flex;flex-direction:row;width:100%;align-items:center;position:relative}.dhx_form-group--inline .dhx_label{position:relative;flex:0 0 auto;max-height:calc(var(--dhx-line-height-normal)*2);margin-right:16px;margin-bottom:0;padding:0;text-align:right;margin-top:6px;align-self:flex-start;max-width:30%;justify-content:flex-end}.dhx_form-group--inline .dhx_input__wrapper{flex:0 1 auto;width:300%;height:100%}.dhx_form-group--inline .dhx_label--with-help{justify-content:flex-end}.dhx_form-group--inline .dhx_checkbox,.dhx_form-group--inline .dhx_radiobutton{margin-bottom:12px}.dhx_form-group--required:not(.dhx_form-group--label_sr) .dhx_label:not(.dhx_label--with-help){position:relative}.dhx_form-group--required:not(.dhx_form-group--label_sr) .dhx_label:not(.dhx_label--with-help):after{content:"*";display:inline-block;padding-left:4px;color:var(--dhx-font-color-additional)}.dhx_form-group--required:not(.dhx_form-group--label_sr) .dhx_label__holder{position:relative;max-width:100%;overflow:hidden;text-overflow:ellipsis}.dhx_form-group--required:not(.dhx_form-group--label_sr) .dhx_label__holder:after{content:"*";display:inline-block;padding-left:4px;color:var(--dhx-font-color-additional)}.dhx_form-group--no-message-holder{margin-bottom:0}.dhx_form-group--disabled{opacity:.6;pointer-events:none;cursor:default}.dhx_form-group--checkbox-group .dhx_label,.dhx_form-group--checkbox .dhx_label,.dhx_form-group--radio-group .dhx_label{margin-top:0;margin-bottom:12px}.dhx_form-group--checkbox-group>.dhx_label,.dhx_form-group--checkbox>.dhx_label,.dhx_form-group--radio-group>.dhx_label{display:flex}.dhx_form-group--hidden{display:none}.dhx_form-group--state_error .dhx_input__caption,.dhx_form-group--state_error .dhx_label,.dhx_form-group--state_error .dhx_text{color:var(--dhx-color-danger)}.dhx_form-group--state_error .dhx_combobox-input-box,.dhx_form-group--state_error .dhx_combobox-input-box:focus,.dhx_form-group--state_error .dhx_input,.dhx_form-group--state_error .dhx_input:focus{box-shadow:var(--dhx-shadow-input-size) var(--dhx-color-danger-disabled)}.dhx_form-group--state_error .dhx_simplevault-files,.dhx_form-group--state_error .dhx_simplevault-files:focus,.dhx_form-group--state_error .dhx_simplevault__drop-area,.dhx_form-group--state_error .dhx_simplevault__drop-area:focus{border-color:var(--dhx-color-danger-disabled)}.dhx_form-group--state_success .dhx_input__caption,.dhx_form-group--state_success .dhx_label,.dhx_form-group--state_success .dhx_text{color:var(--dhx-color-success)}.dhx_form-group--state_success .dhx_combobox-input-box,.dhx_form-group--state_success .dhx_combobox-input-box:focus,.dhx_form-group--state_success .dhx_input,.dhx_form-group--state_success .dhx_input:focus{box-shadow:var(--dhx-shadow-input-size) var(--dhx-color-success-disabled)}.dhx_form-group--state_success .dhx_simplevault__drop-area,.dhx_form-group--state_success .dhx_simplevault__drop-area:focus{border-top-color:var(--dhx-color-success-disabled);border-left-color:var(--dhx-color-success-disabled);border-right-color:var(--dhx-color-success-disabled)}.dhx_form-group--state_success .dhx_simplevault-files,.dhx_form-group--state_success .dhx_simplevault-files:focus{border-right-color:var(--dhx-color-success-disabled);border-left-color:var(--dhx-color-success-disabled);border-bottom-color:var(--dhx-color-success-disabled)}.dhx_form-group--label_sr .dhx_label,.dhx_form-group--label_sr .dhx_text{visibility:hidden;position:absolute;padding:0;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}.dhx_form-group .dhx_combobox{margin:0}.dhx_form-group .dhx_slider{padding-bottom:0}.dhx_form-group .dhx_text{position:relative;flex:0 1 auto;max-height:calc(var(--dhx-line-height-normal)*2);margin-right:16px;margin-bottom:0;text-align:right;width:100%;margin-top:6px;align-self:flex-start}.dhx_input{-webkit-appearance:none;appearance:none;display:block;width:100%;height:auto;padding:6px 8px;margin:0;font-family:var(--dhx-font-family);font-size:var(--dhx-font-size-normal);line-height:var(--dhx-line-height-normal);color:var(--dhx-font-color-primary);background-color:var(--dhx-background-secondary);background-clip:padding-box;box-shadow:var(--dhx-shadow-input-size) var(--dhx-border-color);border:0;border-radius:var(--dhx-border-radius);outline:0;transition:border-color var(--dhx-transition-time) var(--dhx-transition-in),box-shadow var(--dhx-transition-time) var(--dhx-transition-in)}.dhx_input::placeholder{color:var(--dhx-font-color-secondary)}.dhx_input--focus,.dhx_input:focus{box-shadow:var(--dhx-shadow-input-size) var(--dhx-color-primary-active)}.dhx_input--icon-padding{padding-right:26px}.dhx_input--textarea{max-width:100%}.dhx_input--textinput{box-shadow:none;background:none;padding-left:0}.dhx_input--textinput:focus{box-shadow:none}.dhx_input__wrapper{width:100%;display:flex;flex-direction:column;position:relative}.dhx_input__wrapper:before{color:var(--dhx-font-color-secondary);pointer-events:none;position:absolute;right:4px;top:50%;transform:translateY(-50%)}.dhx_input__container{width:100%;display:inline-block;position:relative}.dhx_input__caption{left:0;bottom:0;max-width:100%;font-family:var(--dhx-font-family);font-size:var(--dhx-font-size-small);font-weight:var(--dhx-font-weight-regular);line-height:var(--dhx-line-height-small);white-space:wrap;overflow:inherit;text-overflow:ellipsis;cursor:default}.dhx_input__caption,.dhx_input__icon{color:var(--dhx-font-color-secondary)}.dhx_input__icon{position:absolute;top:50%;transform:translateY(-50%);right:6px;z-index:1;pointer-events:none}.dhx_input__icon--color-selected{border-radius:var(--dhx-border-radius)}.dhx_input__icon--color-selected:after,.dhx_input__icon--color-selected:before{opacity:0}.dhx_widget .dhx_input__icon{line-height:0}.dhx_widget .dhx_input__icon:before{font-size:var(--dhx-icon-size-normal);line-height:var(--dhx-icon-size-normal)}.dhx_label,.dhx_text{display:inline-block;vertical-align:middle;margin-bottom:6px;padding:0;width:auto;flex:0 1 auto;font-family:var(--dhx-font-family);font-weight:var(--dhx-font-weight-medium);font-size:var(--dhx-font-size-normal);line-height:var(--dhx-line-height-normal);color:var(--dhx-font-color-primary);white-space:nowrap;text-overflow:ellipsis;cursor:pointer;transition:color var(--dhx-transition-time) var(--dhx-transition-in),opacity var(--dhx-transition-time) var(--dhx-transition-in)}.dhx_label:hover,.dhx_text:hover{opacity:.8;transition:color var(--dhx-transition-time) var(--dhx-transition-out),opacity var(--dhx-transition-time) var(--dhx-transition-out)}.dhx_label__holder,.dhx_text__holder{max-width:100%;overflow:hidden;text-overflow:ellipsis;margin-right:4px}.dhx_label--with-help,.dhx_text--with-help{display:flex;align-items:center}.dhx_label-help{color:var(--dhx-color-primary);text-align:center;-webkit-user-select:none;user-select:none;cursor:pointer}.utilityfocus .dhx_label-help:focus-visible{outline:var(--dhx-color-focused) dashed 1px;outline-offset:-1px}.dhx_text{font-weight:var(--dhx-font-weight-regular)}.dhx_checkbox{position:relative;display:inline-block;width:auto;padding-top:0;cursor:pointer}.dhx_checkbox__holder{display:flex;align-items:center;white-space:nowrap}.dhx_checkbox__visual-input{display:block;border:2px solid var(--dhx-font-color-secondary);min-width:var(--dhx-line-height-normal);min-height:var(--dhx-line-height-normal);max-width:var(--dhx-line-height-normal);max-height:var(--dhx-line-height-normal);background-color:var(--dhx-background-primary);border-radius:var(--dhx-border-radius);cursor:pointer}.dhx_checkbox .dhx_text{padding-left:6px}.dhx_checkbox.dhx_form-group--inline .dhx_label,.dhx_checkbox .dhx_text{margin-bottom:0;width:auto;cursor:pointer;margin-top:0;justify-content:flex-end}.dhx_checkbox .dhx_input__caption{position:static;display:block;transform:none}.dhx_checkbox.dhx_form-group--inline{display:flex;align-items:center;white-space:nowrap}.dhx_checkbox.dhx_form-group--inline .dhx_label{margin-top:0}.dhx_checkbox.dhx_form-group--hidden{display:none}.dhx_checkbox__input:disabled+*+.dhx_label,.dhx_checkbox__input:disabled+*+.dhx_text,.dhx_checkbox__input:disabled+.dhx_checkbox__visual-input{opacity:.6}.utilityfocus .dhx_checkbox__input:focus-visible+.dhx_checkbox__visual-input{border-color:var(--dhx-color-primary);outline:var(--dhx-color-focused) dashed 1px;outline-offset:-1px}.dhx_checkbox__input:checked+.dhx_checkbox__visual-input,.dhx_checkbox__input[data-dhx-checked=true]+.dhx_checkbox__visual-input{background-color:var(--dhx-color-primary);background-position:50%;background-size:cover;border-color:var(--dhx-color-primary);background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCI+PHBhdGggZmlsbD0iI2ZmZiIgZD0iTTIxIDdMOSAxOWwtNS41LTUuNSAxLjQxLTEuNDFMOSAxNi4xNyAxOS41OSA1LjU5IDIxIDd6Ii8+PC9zdmc+);transition:background-color var(--dhx-transition-time) var(--dhx-transition-out)}.dhx_radiobutton{position:relative;display:flex;width:auto;padding-top:0;cursor:pointer;white-space:nowrap;align-items:center}.dhx_radiobutton__visual-input{display:block;border:2px solid var(--dhx-font-color-secondary);bottom:4px;left:0;min-width:var(--dhx-line-height-normal);min-height:var(--dhx-line-height-normal);max-width:var(--dhx-line-height-normal);max-height:var(--dhx-line-height-normal);background-color:var(--dhx-background-primary);border-radius:50%}.dhx_radiobutton .dhx_text{padding-left:6px}.dhx_radiobutton .dhx_label,.dhx_radiobutton .dhx_text{margin-bottom:0;width:auto;cursor:pointer;margin-top:0}.dhx_radiobutton .dhx_input__caption{position:static;display:block}.dhx_radiobutton__input:disabled+*+.dhx_label,.dhx_radiobutton__input:disabled+*+.dhx_text,.dhx_radiobutton__input:disabled+.dhx_radiobutton__visual-input{opacity:.6}.utilityfocus .dhx_radiobutton__input:focus-visible+.dhx_radiobutton__visual-input{border-color:var(--dhx-color-primary);outline:var(--dhx-color-focused) dashed 1px;outline-offset:-1px}.dhx_radiobutton__input:checked+.dhx_radiobutton__visual-input{background-color:var(--dhx-color-primary);border-color:var(--dhx-color-primary);box-shadow:inset 0 0 0 4px var(--dhx-background-primary)}.dhx_select{-webkit-appearance:none;appearance:none}.dhx_select::-ms-expand{display:none}.dhx_select__placeholder{position:absolute;left:16px;top:50%;transform:translateY(-50%);pointer-events:none;font-family:var(--dhx-font-family);font-size:var(--dhx-font-size-normal);line-height:var(--dhx-line-height-normal);color:var(--dhx-font-color-primary)}.dhx_select:focus+.dhx_select__placeholder{opacity:0}.dhx_simplevault{border:none;border-radius:var(--dhx-border-radius);font-family:var(--dhx-font-family);line-height:var(--dhx-line-height-normal);font-size:var(--dhx-font-size-normal);font-weight:var(--dhx-font-weight-regular);text-align:center;overflow:hidden;position:relative}.dhx_simplevault__drop-area{background-color:var(--dhx-background-secondary);border:var(--dhx-border);transition:all var(--dhx-transition-time) var(--dhx-transition-in);display:flex;height:115px;width:100%;flex-direction:column;justify-content:center;align-items:center;padding:0 20px}.dhx_simplevault__drop-area--on-drag{border-style:dashed;transition:border var(--dhx-transition-time) var(--dhx-transition-out)}.dhx_simplevault__icon:before{font-size:40px;color:var(--dhx-font-color-additional);transition:color var(--dhx-transition-time) var(--dhx-transition-in)}.dhx_simplevault__title{max-width:100%}.dhx_simplevault__label{color:var(--dhx-color-primary);cursor:pointer}.dhx_simplevault--on-drag .dhx_simplevault-loader{opacity:1;transform:translateY(0);transition:opacity var(--dhx-transition-time) var(--dhx-transition-in),transform var(--dhx-transition-time) var(--dhx-transition-in)}.dhx_simplevault-files{background-color:var(--dhx-background-secondary);border:var(--dhx-border);border-top:none;transition:all var(--dhx-transition-time) var(--dhx-transition-in);width:100%;margin:0;padding:0;list-style:none;max-height:calc(100% - 115px);height:calc(100% - 115px);overflow-y:auto}.dhx_simplevault-files__fixed{max-height:276px}.dhx_simplevault-files__item{position:relative;font-family:var(--dhx-font-family);line-height:var(--dhx-line-height-normal);font-size:var(--dhx-font-size-normal);text-align:left;color:var(--dhx-font-color-primary);max-width:100%;overflow:hidden;text-overflow:ellipsis;padding:8px 40px 8px 8px}.dhx_simplevault-files__item:not(:last-child){border-bottom:var(--dhx-border)}.dhx_simplevault-files__item-name{word-break:break-word}.dhx_simplevault-files__delete{position:absolute;right:4px;top:50%;transform:translateY(-50%)}.dhx_simplevault-files__delete .dxi{color:var(--dhx-font-color-secondary)}.dhx_simplevault-loader{display:flex;justify-content:center;align-items:center;position:absolute;inset:1px;background-color:var(--dhx-background-additional);transform:translateY(100%);opacity:0;will-change:transform;transition:0ms;z-index:var(--dhx-z-index-up)}.utilityfocus .dhx_simplevault:focus-within{outline:var(--dhx-color-focused) dashed 1px;outline-offset:-1px}.dhx_avatar{position:relative;width:-moz-fit-content;width:fit-content;height:-moz-fit-content;height:fit-content;border:var(--dhx-border);border-radius:var(--dhx-border-radius);background-color:var(--dhx-background-secondary)}.dhx_avatar,.dhx_avatar__preview{display:flex;align-items:center;justify-content:center}.dhx_avatar__preview{width:100%;height:100%;flex-direction:column;color:var(--dhx-font-color-secondary);background-repeat:no-repeat;background-position:50%;background-size:contain}.dhx_avatar__preview-icon:before,.dhx_avatar__preview .dxi:before{color:var(--dhx-font-color-additional)}.dhx_avatar__preview-placeholder{width:100%;padding:0 8px;font-family:var(--dhx-font-family);font-size:var(--dhx-font-size-small);line-height:var(--dhx-line-height-small);white-space:nowrap;overflow:hidden;text-overflow:ellipsis;text-align:center}.dhx_avatar__image{background-color:#000;object-fit:contain;width:100%;height:100%}.dhx_avatar__cover{position:absolute;display:flex;align-items:center;justify-content:center;flex-direction:column;height:100%;width:100%;opacity:0;background-color:var(--dhx-background-overlay);transition:all var(--dhx-transition-time) var(--dhx-transition-in)}.dhx_avatar__cover-icon{cursor:pointer;color:var(--dhx-color-gray-100)}.dhx_avatar__cover-upload{display:flex;align-items:center;justify-content:center;height:100%;width:100%}.dhx_avatar__cover-upload .dhx_avatar__cover-icon:before{font-size:32px}.dhx_avatar__cover-remove{position:absolute;right:2px;top:2px;height:32px;width:32px;display:flex;align-items:center;justify-content:center}.dhx_avatar__cover-remove:hover{background:var(--dhx-background-overlay-light);border-radius:50%}.dhx_avatar__cover-remove .dhx_avatar__cover-icon{color:var(--dhx-color-danger)}.dhx_avatar__cover-input{border:none;outline:none;width:1px;height:1px}.dhx_avatar:hover .dhx_avatar__cover{cursor:pointer;opacity:1}.dhx_avatar-size--small{width:60px;height:60px}.dhx_avatar-size--small .dhx_avatar__cover-icon:before,.dhx_avatar-size--small .dhx_avatar__preview-icon.dxi:before,.dhx_avatar-size--small .dhx_avatar__preview-icon:before{font-size:20px}.dhx_avatar-size--small .dhx_avatar__cover-remove{height:20px;width:20px}.dhx_avatar-size--medium{width:90px;height:90px}.dhx_avatar-size--medium .dhx_avatar__preview-icon.dxi:before,.dhx_avatar-size--medium .dhx_avatar__preview-icon:before{font-size:40px}.dhx_avatar-size--large{width:120px;height:120px}.dhx_avatar-size--large .dhx_avatar__preview-icon.dxi:before,.dhx_avatar-size--large .dhx_avatar__preview-icon:before{font-size:40px}.dhx_avatar-size--large .dhx_avatar__preview-placeholder{font-size:var(--dhx-font-size-normal);line-height:var(--dhx-line-height-normal)}.dhx_avatar--circle,.dhx_avatar--circle .dhx_avatar__cover,.dhx_avatar--circle .dhx_avatar__image,.dhx_avatar--circle .dhx_avatar__preview{border-radius:50%}.dhx_avatar--on-drag .dhx_avatar__cover{opacity:1}.dhx_avatar--on-drag .dhx_avatar__cover-remove{display:none}.utilityfocus .dhx_avatar:focus-within{outline:var(--dhx-color-focused) dashed 1px;outline-offset:-1px}.dhx_form-group--state_success .dhx_avatar{border-color:var(--dhx-color-success)}.dhx_form-group--state_error .dhx_avatar{border-color:var(--dhx-color-danger)}.dhx_toggle{cursor:pointer;padding:5px;display:flex;align-items:center;justify-content:center;font-family:var(--dhx-font-family);font-weight:var(--dhx-font-weight-medium);line-height:var(--dhx-line-height-normal);color:var(--dhx-font-color-primary);background-color:var(--dhx-background-primary);border:var(--dhx-border);border-radius:var(--dhx-border-radius);outline:none;-webkit-user-select:none;user-select:none;white-space:nowrap}.dhx_toggle__icon,.dhx_toggle__text{touch-action:none;pointer-events:none}.dhx_toggle__icon+.dhx_toggle__text{margin-left:4px}.dhx_toggle--selected{background-color:var(--dhx-background-additional);border-color:var(--dhx-background-additional)}.dhx_toggle--disabled{touch-action:none;pointer-events:none;color:var(--dhx-font-color-disabled)}.dhx_toggle--full{width:100%}.dhx_toggle:hover{background-color:var(--dhx-background-secondary)}.dhx_toggle:hover.dhx_toggle--selected{background-color:var(--dhx-background-additional)}.utilityfocus .dhx_toggle:focus-visible{outline:var(--dhx-color-focused) dashed 1px;outline-offset:-1px}.dhx_toggle-group{display:flex;flex-wrap:nowrap}.dhx_toggle-group:not(.dhx_toggle-group--segmented) .dhx_toggle{border-radius:0}.dhx_toggle-group:not(.dhx_toggle-group--segmented) .dhx_toggle:not(.dhx_toggle--last){border-right:0}.dhx_toggle-group:not(.dhx_toggle-group--segmented) .dhx_toggle--first{border-top-left-radius:var(--dhx-border-radius);border-bottom-left-radius:var(--dhx-border-radius)}.dhx_toggle-group:not(.dhx_toggle-group--segmented) .dhx_toggle--last{border-top-right-radius:var(--dhx-border-radius);border-bottom-right-radius:var(--dhx-border-radius)}.dhx_toggle-group--full .dhx_toggle{flex:1 0 0}.dhx_form-group.dhx_form-group--toggle,.dhx_form-group.dhx_form-group--toggle-group{display:flex}.dhx_progress-bar{top:0;left:0;display:block;width:100%;height:100%;background-color:var(--dhx-background-overlay-light)}.dhx_progress-bar,.dhx_spinner{position:absolute;z-index:var(--dhx-z-index-overlay-total)}.dhx_spinner{top:50%;left:50%;width:50px;height:50px;transform:translate(-50%,-50%);transform-origin:center center;animation:rotate 2s linear infinite}.dhx_spinner .path{fill:none;stroke:var(--dhx-color-primary);stroke-width:2;stroke-miterlimit:10;stroke-dasharray:1,200;stroke-dashoffset:0;stroke-linecap:round;animation:dash 1.5s ease-in-out infinite}@keyframes rotate{to{transform:translate(-50%,-50%) rotate(1turn)}}@keyframes dash{0%{stroke-dasharray:1,150;stroke-dashoffset:0}50%{stroke-dasharray:90,150;stroke-dashoffset:-35}to{stroke-dasharray:90,150;stroke-dashoffset:-124}}.dhx_layout{position:relative;max-width:100%;max-height:100%;width:100%;height:100%;background-color:var(--dhx-background-primary)}.dhx_layout-columns{display:flex;flex-direction:row;overflow:hidden}.dhx_layout-rows{display:flex;flex-direction:column;overflow:hidden}.dhx_layout-cell--resizable:not(.scroll-view)>.dhx_layout-cell-content,.dhx_layout-cell--resizable:not(.scroll-view)>.dhx_layout-cell-content>.dhx_layout-cell-inner_html,.dhx_layout-cell--resizable div:not(.scroll-view)>.dhx_layout-cell-content,.dhx_layout-cell--resizable div:not(.scroll-view)>.dhx_layout-cell-content>.dhx_layout-cell-inner_html{overflow:auto}.dhx_layout-cell--start,.dhx_layout-columns--start,.dhx_layout-rows--start{justify-content:flex-start}.dhx_layout-cell--center,.dhx_layout-columns--center,.dhx_layout-rows--center{justify-content:center}.dhx_layout-cell--end,.dhx_layout-columns--end,.dhx_layout-rows--end{justify-content:flex-end}.dhx_layout-cell--between,.dhx_layout-columns--between,.dhx_layout-rows--between{justify-content:space-between}.dhx_layout-cell--around,.dhx_layout-columns--around,.dhx_layout-rows--around{justify-content:space-around}.dhx_layout-cell--evenly,.dhx_layout-columns--evenly,.dhx_layout-rows--evenly{justify-content:space-evenly}.dhx_layout-cell{position:relative;overflow:hidden;background-color:var(--dhx-background-primary);flex-grow:0;flex-shrink:0}.dhx_layout-cell--bordered{border:var(--dhx-border)}.dhx_layout-cell--border_top{border-top:var(--dhx-border)}.dhx_layout-cell--border_bottom{border-bottom:var(--dhx-border)}.dhx_layout-cell--border_left{border-left:var(--dhx-border)}.dhx_layout-cell--border_right{border-right:var(--dhx-border)}.dhx_layout-cell--border-shadow{border:0;box-shadow:var(--dhx-border-shadow-small)}.dhx_layout-cell--no-border{border:0}.dhx_layout-cell--no-border_top{border-top:0}.dhx_layout-cell--no-border_bottom{border-bottom:0}.dhx_layout-cell--no-border_left{border-left:0}.dhx_layout-cell--no-border_right{border-right:0}.dhx_layout-cell--flex{display:flex}.dhx_layout-cell--accordion>.dhx_layout-cell--collapsed{border-bottom:0}.dhx_layout-cell--collapsed{overflow:hidden;background-color:var(--dhx-background-primary)}.dhx_layout-cell-content,.dhx_layout-cell-inner_html{height:100%}.dhx_layout-cell-header{display:flex;justify-content:flex-start;align-items:center;border-bottom:var(--dhx-border);padding:8px 12px;background-color:var(--dhx-background-primary)}.dhx_layout-cell-header__title{margin:0;font-size:var(--dhx-font-size-normal);line-height:var(--dhx-line-height-normal);font-weight:var(--dhx-font-weight-medium);color:var(--dhx-font-color-primary);white-space:nowrap;overflow:hidden;text-overflow:clip;transition:color var(--dhx-transition-time) var(--dhx-transition-in)}.dhx_layout-cell-header__icon{margin-right:16px}.dhx_layout-cell-header__image-wrapper{position:relative;width:20px;height:20px;margin-right:8px}.dhx_layout-cell-header__image{position:absolute;width:100%;height:100%;object-fit:cover;object-position:center center;top:50%;left:50%;transform:translate(-50%,-50%);border-radius:50%}.dhx_layout-cell-header__collapse-icon{margin-left:auto;color:var(--dhx-font-color-primary);transition:transform var(--dhx-transition-time) var(--dhx-transition-in),color var(--dhx-transition-time) var(--dhx-transition-in)}.dhx_layout-cell-header--collapseble{cursor:pointer}.dhx_layout-cell-header--collapseble:focus-visible .dhx_layout-cell-header__collapse-icon,.dhx_layout-cell-header--collapseble:focus-visible .dhx_layout-cell-header__title,.dhx_layout-cell-header--collapseble:hover .dhx_layout-cell-header__collapse-icon,.dhx_layout-cell-header--collapseble:hover .dhx_layout-cell-header__title{color:var(--dhx-color-primary);transition:color var(--dhx-transition-time) var(--dhx-transition-out)}.dhx_layout-cell-header--collapseble:focus-visible,.dhx_layout-cell-header:focus{outline-width:0}.dhx_layout-cell-header--collapsed.dhx_layout-cell-header--col{border-bottom:0;position:relative}.dhx_layout-cell-header--collapsed.dhx_layout-cell-header--col .dhx_layout-cell-header__title{position:absolute;transform-origin:left;transform:rotate(90deg);bottom:-12px;left:50%;padding-left:8px}.dhx_layout-resizer{position:relative;overflow:visible;text-align:center}.dhx_layout-resizer .dhx_layout-resizer__icon{position:relative;z-index:var(--dhx-z-index-up)}.dhx_layout-resizer--x{width:0}.dhx_layout-resizer--x .dhx_layout-resizer__icon{width:0;height:100%;display:flex;justify-content:center;flex-direction:column;align-items:center;color:var(--dhx-font-color-secondary);cursor:ew-resize}.dhx_layout-resizer--x .dhx_layout-resizer__icon:before{font-size:16px}.dhx_layout-resizer--y{height:0}.dhx_layout-resizer--y .dhx_layout-resizer__icon{width:100%;height:0;display:flex;justify-content:center;flex-direction:row;align-items:center;color:var(--dhx-font-color-secondary);cursor:ns-resize}.dhx_layout-resizer--y .dhx_layout-resizer__icon:before{font-size:16px}.dhx_layout-space{background:var(--dhx-background-secondary);border:none}.dhx_layout-space.dhx_layout-columns>.dhx_layout-cell{margin-top:12px;margin-left:12px;margin-bottom:12px;border:var(--dhx-border)}.dhx_layout-space.dhx_layout-columns>.dhx_layout-cell:last-of-type{margin-right:12px}.dhx_layout-space.dhx_layout-rows>.dhx_layout-cell{margin-top:12px;margin-left:12px;margin-right:12px;border:var(--dhx-border)}.dhx_layout-space.dhx_layout-rows>.dhx_layout-cell:last-of-type{margin-bottom:12px}.dhx_layout-space>.dhx_layout-resizer--x .dhx_layout-resizer__icon{right:1px}.dhx_layout-space>.dhx_layout-resizer--y .dhx_layout-resizer__icon{bottom:1px}.dhx_layout-wide{background:var(--dhx-background-secondary);border:none!important}.dhx_layout-wide.dhx_layout-columns>.dhx_layout-cell{margin-right:12px;border:var(--dhx-border)}.dhx_layout-wide.dhx_layout-columns>.dhx_layout-cell:last-of-type{margin-right:0}.dhx_layout-wide.dhx_layout-rows>.dhx_layout-cell{margin-bottom:12px;border:var(--dhx-border)}.dhx_layout-wide.dhx_layout-rows>.dhx_layout-cell:last-of-type{margin-bottom:0}.dhx_layout-wide>.dhx_layout-resizer--x .dhx_layout-resizer__icon{right:13px}.dhx_layout-wide>.dhx_layout-resizer--y .dhx_layout-resizer__icon{bottom:13px}.dhx_layout-line.dhx_layout-columns>.dhx_layout-cell{border-right:var(--dhx-border)}.dhx_layout-line.dhx_layout-columns>.dhx_layout-cell:last-of-type{border-right:none}.dhx_layout-line.dhx_layout-columns>.dhx_layout-wide{margin-left:-1px}.dhx_layout-line.dhx_layout-columns>.dhx_layout-wide>.dhx_layout-cell:first-child{border-top:none}.dhx_layout-line.dhx_layout-columns>.dhx_layout-wide>.dhx_layout-cell:last-of-type{border-bottom:none}.dhx_layout-line.dhx_layout-rows>.dhx_layout-cell{border-bottom:var(--dhx-border)}.dhx_layout-line.dhx_layout-rows>.dhx_layout-cell:last-of-type{border-bottom:none}.dhx_layout-line.dhx_layout-rows>.dhx_layout-wide{margin-top:-1px}.dhx_layout-line.dhx_layout-rows>.dhx_layout-wide>.dhx_layout-cell:first-child{border-left:none}.dhx_layout-line.dhx_layout-rows>.dhx_layout-wide>.dhx_layout-cell:last-of-type{border-right:none}.dhx_popup{position:fixed;box-sizing:border-box;animation:appear .2s ease-in-out forwards;background:var(--dhx-background-primary);will-change:transform;font-family:var(--dhx-font-family);font-weight:var(--dhx-font-weight-medium);font-size:var(--dhx-font-size-normal);line-height:var(--dhx-line-height-normal);color:var(--dhx-font-color-primary)}.dhx_popup,.dhx_popup--window_modal{z-index:var(--dhx-z-index-overlay-total)}.dhx_popup--window{z-index:calc(var(--dhx-z-index-overlay-total) - 1)}.dhx_popup--window_active{z-index:var(--dhx-z-index-overlay-total)}.dhx_popup.hide{animation:disappear .2s ease-in-out forwards}.dhx_popup:focus{outline:none}.dhx_popup-content:focus{outline:1px solid var(--dhx-color-focused)}.dhx_widget--fullscreen .dhx_popup{z-index:var(--dhx-z-index-overlay-total)}.dhx_slider{position:relative;display:flex;flex-direction:column;padding-bottom:16px}.dhx_slider--label-inline{flex-direction:row;align-items:center}.dhx_slider--label-inline .dhx_slider__label{text-align:right;flex:0 0 auto;margin-right:16px;margin-bottom:0;max-width:30%}.dhx_slider--label-inline .dhx_label--with-help{justify-content:flex-end}.dhx_slider--label-inline .dhx_slider__track-holder{width:300%;flex:0 1 auto}.dhx_slider--label_sr .dhx_label{position:absolute;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}.dhx_slider--mode_vertical{height:100%;display:inline-flex}.dhx_slider--mode_vertical .dhx_label,.dhx_slider--mode_vertical .dhx_text{display:inline-flex}.dhx_slider--mode_vertical .dhx_slider__label{align-self:flex-start}.dhx_slider--mode_vertical .dhx_slider__track-holder{height:100%;display:flex;padding:8px 0}.dhx_slider--mode_vertical .dhx_slider__track{align-self:stretch;padding:0 8px}.dhx_slider--mode_vertical .dhx_slider__track:before{width:2px;height:100%}.dhx_slider--mode_vertical .dhx_slider__range{width:2px;left:50%;transform:translate(-50%)}.dhx_slider--mode_vertical .dhx_slider__thumb{left:50%}.dhx_slider--mode_vertical .dhx_slider__tick{height:1px;width:4px}.dhx_slider--mode_vertical .dhx_slider__tick:not(:first-child){transform:translateY(-.5px)}.dhx_slider--mode_vertical .dhx_slider__tick--major{width:8px}.dhx_slider--mode_vertical .dhx_slider__tick-label{top:50%;left:100%;transform:translateY(-50%);padding-left:2px}.dhx_slider--disabled{opacity:.6;pointer-events:none;cursor:default}.dhx_slider--ticks .dhx_slider__ticks-holder{height:4px}.dhx_slider--ticks.dhx_slider--mode_vertical .dhx_slider__ticks-holder{height:100%;width:4px}.dhx_slider__track-holder{position:relative;flex-grow:1}.dhx_slider__track{position:relative;padding-top:8px;padding-bottom:8px;cursor:pointer;z-index:var(--dhx-z-index-up)}.dhx_slider__track:before{content:"";display:block;height:2px;background-color:var(--dhx-color-gray-300)}.dhx_slider__thumb{position:absolute;top:50%;transform:translate(-50%,-50%);width:12px;height:12px;border-radius:50%;background-color:var(--dhx-color-primary);transition:transform .1s var(--dhx-transition-out),border-color .2s var(--dhx-transition-out),background-color .2s var(--dhx-transition-out);will-change:transform;cursor:pointer}.dhx_slider__thumb:after,.dhx_slider__thumb:before{content:"";display:block;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%) scale(0);border-radius:50%;will-change:transform}.dhx_slider__thumb:before{width:28px;height:28px;opacity:.3}.dhx_slider__thumb:after,.dhx_slider__thumb:before{background-color:var(--dhx-color-primary);transition:transform .2s var(--dhx-transition-out),background-color .2s var(--dhx-transition-out)}.dhx_slider__thumb:after{width:16px;height:16px}.dhx_slider__thumb:focus,.dhx_slider__thumb:hover{outline:none}.dhx_slider__thumb:focus:before,.dhx_slider__thumb:hover:before{transform:translate(-50%,-50%) scale(1);transition:transform .2s var(--dhx-transition-in),background-color .2s var(--dhx-transition-in)}.dhx_slider__thumb--active,.dhx_slider__thumb:active{z-index:var(--dhx-z-index-up)}.dhx_slider__thumb--active:after,.dhx_slider__thumb:active:after{transform:translate(-50%,-50%) scale(1);transition:transform .2s var(--dhx-transition-in),background-color .2s var(--dhx-transition-in)}.dhx_slider__thumb--nullable{background-color:var(--dhx-color-gray-300)}.dhx_slider__thumb--nullable:after{width:8px;height:8px;transform:translate(-50%,-50%) scale(1);background:var(--dhx-background-primary)}.dhx_slider__thumb--nullable:before{background-color:var(--dhx-color-gray-300)}.dhx_slider__thumb--disabled{background-color:var(--dhx-color-gray-500);border:2px solid var(--dhx-color-white)}.dhx_slider__thumb--disabled:after,.dhx_slider__thumb--disabled:before{display:none}.dhx_slider__thumb-label{position:absolute;padding:6px 12px;transform:translate(-50%,-50%);border-radius:var(--dhx-border-radius);background-color:var(--dhx-tooltip-background-dark);box-shadow:var(--dhx-border-shadow-normal);font-family:var(--dhx-font-family);font-size:var(--dhx-font-size-normal);font-weight:var(--dhx-font-weight-regular);line-height:var(--dhx-line-height-normal);color:var(--dhx-color-white);transition:opacity transform .01s var(--dhx-transition-in);pointer-events:none;z-index:var(--dhx-z-index-up)}.dhx_slider__thumb-label--active{z-index:var(--dhx-z-index-overlay-total)}.dhx_slider__range{position:absolute;top:50%;transform:translateY(-50%);height:2px;background-color:var(--dhx-color-primary);pointer-events:none}.dhx_slider__ticks-holder{position:relative;-webkit-user-select:none;user-select:none}.dhx_slider__tick{position:absolute;top:0;width:1px;height:4px;background-color:var(--dhx-color-gray-300)}.dhx_slider__tick:not(:first-child){transform:translate(-.5px)}.dhx_slider__tick--major{height:8px}.dhx_slider__tick-label{position:absolute;top:10px;transform:translate(-50%);font-family:var(--dhx-font-family);font-size:var(--dhx-s-tick-font-size);color:var(--dhx-font-color-primary);line-height:1}.dhx_message-container{display:flex;flex-direction:column;align-items:flex-end;position:absolute;padding:20px;max-height:100%;overscroll-behavior:contain;width:auto;overflow:hidden;border:2px solid transparent;z-index:var(--dhx-z-index-overlay-total)}.dhx_message-container *{box-sizing:border-box}.dhx_message-container--top-left{top:0;left:0}.dhx_message-container--top-right{top:0;right:0}.dhx_message-container--bottom-left{align-items:flex-start;bottom:0;left:0}.dhx_message-container--bottom-right{align-items:flex-start;bottom:0;right:0}.dhx_message-container--in-body{position:fixed}.dhx_message{display:flex;justify-content:space-between;width:240px;flex-shrink:0;padding:12px;margin-bottom:4px;margin-top:4px;border-radius:var(--dhx-border-radius);box-shadow:var(--dhx-border-shadow-large);background-color:var(--dhx-background-primary);cursor:pointer;-webkit-user-select:none;user-select:none}.dhx_message,.dhx_message__text{font-family:var(--dhx-font-family);font-weight:var(--dhx-font-weight-medium);line-height:var(--dhx-line-height-normal);font-size:var(--dhx-font-size-normal);color:var(--dhx-font-color-primary)}.dhx_message__text{overflow-wrap:break-word;word-wrap:break-word;word-break:break-all}.dhx_message__icon{align-self:center;padding-left:8px;color:var(--dhx-font-color-secondary)}.dhx_message--error .dhx_message__icon,.dhx_message--error .dhx_message__text,.dhx_message--success .dhx_message__icon,.dhx_message--success .dhx_message__text{color:var(--dhx-font-color-contrast)}.dhx_message--error{background-color:var(--dhx-color-danger)}.dhx_message--success{background-color:var(--dhx-color-success)}.dhx_alert{display:flex;flex-direction:column;position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);width:600px;max-width:100%;padding:24px;background:var(--dhx-background-primary);border-radius:var(--dhx-border-radius);box-shadow:var(--dhx-border-shadow-normal);will-change:transform;z-index:var(--dhx-z-index-overlay-total)}.dhx_alert__overlay{position:fixed;top:0;left:0;width:100%;height:100%;background:var(--dhx-background-overlay);z-index:calc(var(--dhx-z-index-overlay-total) - 1)}.dhx_alert__overlay-confirm{z-index:var(--dhx-z-index-overlay-total)}.dhx_alert__header{position:relative;margin-bottom:20px;font-weight:var(--dhx-font-weight-medium);line-height:var(--dhx-line-height-normal);color:var(--dhx-font-color-primary)}.dhx_alert__content,.dhx_alert__header{font-family:var(--dhx-font-family);font-size:var(--dhx-font-size-normal)}.dhx_alert__content{height:100%;font-weight:var(--dhx-font-weight-regular);color:var(--dhx-font-color-secondary);line-height:1.3;overflow-y:auto;overflow-wrap:break-word;word-wrap:break-word}.dhx_alert__footer{margin-top:20px;display:flex;justify-content:flex-start}.dhx_alert__footer--center{justify-content:center}.dhx_alert__footer--right{justify-content:flex-end}.dhx_alert__footer .dhx_button:not(:last-child){margin-right:calc(var(--dhx-step-size)*4)}.dhx_tooltip{pointer-events:none;border-radius:var(--dhx-border-radius);background-color:var(--dhx-tooltip-background-dark);box-shadow:var(--dhx-border-shadow-normal);padding:6px 12px;transition:opacity .01s ease,transform .01s ease;opacity:0;z-index:var(--dhx-z-index-overlay);font-family:var(--dhx-font-family)}.dhx_tooltip--animate{opacity:1;transition:opacity .15s ease-out}.dhx_tooltip--forced{opacity:1}.dhx_tooltip--light{background-color:var(--dhx-tooltip-background-light)}.dhx_tooltip--light .dhx_tooltip__text{color:var(--dhx-color-gray-700)}.dhx_widget--fullscreen .dhx_tooltip{z-index:var(--dhx-z-index-overlay-total)}.dhx_tooltip__text{color:var(--dhx-color-white);font-size:var(--dhx-font-size-normal);font-weight:var(--dhx-font-weight-medium);line-height:var(--dhx-line-height-normal)}.dhx_navbar-count{width:24px;height:24px;border-radius:50%;font-family:var(--dhx-font-family);font-size:var(--dhx-font-size-small);line-height:var(--dhx-line-height-large);color:var(--dhx-font-color-contrast);text-align:center;z-index:var(--dhx-z-index-up)}.dhx_navbar-count--absolute{margin-left:0;position:absolute;top:-10px;right:-10px}.dhx_navbar-count--button-inline{margin-top:-4px;margin-bottom:-4px;margin-left:12px}.dhx_navbar-count--overlimit{width:auto;border-radius:22px;padding:0 8px}.dhx_navbar-count--color_success{background-color:var(--dhx-color-success)}.dhx_navbar-count--color_danger{background-color:var(--dhx-color-danger)}.dhx_navbar-count--color_primary{background-color:var(--dhx-color-primary)}.dhx_navbar-count--color_secondary{background-color:var(--dhx-color-secondary)}.dhx_navbar{display:flex;flex-wrap:nowrap;margin:0;padding:0;width:100%;list-style:none}.dhx_navbar:focus{outline:none}.dhx_navbar--horizontal{flex-direction:row;align-items:center}.dhx_navbar--vertical{height:100%;display:flex;flex-direction:column;overflow:auto}.dhx_navbar .dhx_button--color_secondary.dhx_button--view_link .dhx_button__icon{color:var(--dhx-font-color-secondary)}.dhx_navbar-title{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-family:var(--dhx-font-family);font-size:var(--dhx-font-size-normal);line-height:var(--dhx-line-height-normal);color:var(--dhx-font-color-primary);font-weight:var(--dhx-font-weight-medium)}.dhx_navbar-title--sidebar{display:block;padding:12px}.dhx_navbar-title--ribbon{display:flex;align-items:center;min-height:100%}.dhx_timepicker{width:100%;padding-top:30px;padding-bottom:30px;min-width:248px;background-color:var(--dhx-background-primary)}.dhx_timepicker--with-controls{padding-top:4px;padding-bottom:0}.dhx_timepicker>.dhx_layout-cell{padding-right:20px;padding-left:20px}.dhx_timepicker__inputs{text-align:center;margin-bottom:16px;margin-top:8px}.dhx_timepicker__close{min-height:32px;display:flex;justify-content:flex-end;margin-bottom:6px}.dhx_timepicker__button-close{text-transform:uppercase;transform:translate(16px)}.dhx_timepicker__save{padding-bottom:20px;min-height:84px;display:flex;justify-content:center;align-items:center}.dhx_popup .dhx_timepicker{box-shadow:var(--dhx-border-shadow-normal);border:none}.dhx_timepicker-inputs{position:relative;display:inline-block}.dhx_timepicker-input{width:48px;height:38px;font-size:30px;padding-bottom:4px;color:var(--dhx-font-color-primary);line-height:30px;text-align:center;outline:none;border:none;border-bottom:var(--dhx-border);transition:border-color var(--dhx-transition-time) var(--dhx-transition-in);background-color:transparent}.dhx_timepicker-input:focus{border-bottom:1px solid var(--dhx-color-primary);transition-timing-function:var(--dhx-transition-out)}.dhx_timepicker-ampm{position:absolute;right:-32px;bottom:8px;font-family:var(--dhx-font-family);color:var(--dhx-font-color-secondary);font-size:var(--dhx-font-size-normal);line-height:var(--dhx-line-height-small);-webkit-user-select:none;user-select:none}.dhx_timepicker-delimer{position:relative;top:-2px;height:30px;width:8px;color:var(--dhx-font-color-primary);line-height:30px;font-size:30px}.dhx_timepicker .dhx_layout-cell{background-color:inherit}.dhx_calendar{display:flex;justify-content:flex-end;min-height:258px;min-width:248px;padding:12px;background-color:var(--dhx-background-primary)}.dhx_calendar--with_timepicker{min-height:310px}.dhx_calendar__wrapper{position:relative;z-index:var(--dhx-z-index-up);width:100%;min-height:100%;display:flex;flex-direction:column;justify-content:space-between}.dhx_calendar__dates-wrapper{position:relative;padding-left:40px}.dhx_calendar__navigation{display:flex;align-self:stretch;justify-content:space-between;text-align:center;align-items:center;margin:-4px 2px 4px}.dhx_calendar__timepicker-button{margin-top:8px}.dhx_calendar__actions{display:flex;justify-content:center}.dhx_calendar__week-numbers{position:absolute;left:0;top:-4px;width:32px;padding:4px 0;background-color:var(--dhx-background-additional)}.dhx_calendar__week-numbers:before{content:"#";display:block;margin-bottom:8px;font-family:var(--dhx-font-family);font-size:var(--dhx-font-size-small);line-height:var(--dhx-line-height-small);color:var(--dhx-font-color-secondary);text-align:center}.dhx_calendar__weekdays{display:flex;flex-direction:row;justify-content:space-between;margin:0 0 8px}.dhx_calendar__days,.dhx_calendar__months{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:space-between}.dhx_calendar__months,.dhx_calendar__years{margin-top:auto;margin-bottom:auto}.dhx_calendar__years{display:flex;flex-direction:row;flex-wrap:wrap;justify-content:space-between}.dhx_popup .dhx_calendar{box-shadow:var(--dhx-border-shadow-normal);border:none}.dhx_calendar-weekday{flex:1 0 14%;font-size:var(--dhx-font-size-small);line-height:var(--dhx-line-height-small)}.dhx_calendar-week-number,.dhx_calendar-weekday{font-family:var(--dhx-font-family);color:var(--dhx-font-color-secondary);text-align:center}.dhx_calendar-week-number{margin-bottom:12px;font-size:var(--dhx-font-size-normal);line-height:var(--dhx-line-height-normal)}.dhx_calendar-week-number:last-child{margin-bottom:0}.dhx_calendar-week-number--hidden{opacity:0;pointer-events:none}.dhx_calendar-day{position:relative;flex:1 0 14%;margin-bottom:12px;font-family:var(--dhx-font-family);font-size:var(--dhx-font-size-normal);line-height:var(--dhx-line-height-normal);color:var(--dhx-font-color-primary);text-align:center;cursor:pointer}.dhx_calendar-day:nth-last-child(-n+7){margin-bottom:0}.dhx_calendar-day:after,.dhx_calendar-day:before{content:"";position:absolute;top:50%;left:50%;display:block;width:28px;height:28px;transform:translate(-50%,-50%);background-color:var(--dhx-background-additional);border-radius:50%;opacity:0;z-index:-1}.dhx_calendar-day:active,.dhx_calendar-day:focus{outline:none}.dhx_calendar-day:active:before,.dhx_calendar-day:focus:before,.dhx_calendar-day:hover:before{opacity:1;transition:opacity var(--dhx-transition-time) var(--dhx-transition-out)}.dhx_calendar-day--weekend{color:var(--dhx-color-primary)}.dhx_calendar-day--hidden{opacity:0;pointer-events:none}.dhx_calendar-day--muffled{opacity:var(--dhx-s-calendar-muffled)}.dhx_calendar-day--disabled{color:var(--dhx-font-color-disabled);pointer-events:none}.dhx_calendar-day--weekend-disabled{pointer-events:none;color:var(--dhx-color-primary-disabled)}.dhx_calendar-day--in-range:after{opacity:1;background-color:var(--dhx-color-primary-light-hover);border-radius:0;width:100%;z-index:-3}.dhx_calendar-day--selected{color:var(--dhx-color-white);position:relative;z-index:var(--dhx-z-index-up)}.dhx_calendar-day--selected:before{opacity:1;background-color:var(--dhx-color-primary)}.dhx_calendar-day--selected-first:after{border-radius:14px 0 0 14px}.dhx_calendar-day--selected-last:after{border-radius:0 14px 14px 0}.dhx_calendar-day--first-date:after{width:100%;opacity:1;right:calc(-50% - 2px);border-radius:32px 0 0 32px}.dhx_calendar-day--last-date:after{width:100%;opacity:1;right:calc(-50% + 2px);border-radius:0 32px 32px 0}.dhx_calendar-day:nth-child(7n).dhx_calendar-day--first-date:after{width:30px;right:calc(-50% + 1px)}.dhx_calendar-day:nth-child(7n+1).dhx_calendar-day--last-date:after{width:30px;right:calc(-50% + 3px)}.dhx_calendar-month,.dhx_calendar-year{position:relative;flex:1 0 25%;margin-bottom:8px;font-family:var(--dhx-font-family);font-size:var(--dhx-font-size-normal);line-height:50px;color:var(--dhx-font-color-primary);text-align:center;cursor:pointer}.dhx_calendar-month:nth-last-child(-n+4),.dhx_calendar-year:nth-last-child(-n+4){margin-bottom:0}.dhx_calendar-month:before,.dhx_calendar-year:before{content:"";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);display:block;width:50px;height:50px;background-color:var(--dhx-background-additional);border-radius:50%;opacity:0;transition:opacity var(--dhx-transition-time) var(--dhx-transition-in),background-color var(--dhx-transition-time) var(--dhx-transition-in);z-index:-1}.dhx_calendar-month:active,.dhx_calendar-month:focus,.dhx_calendar-year:active,.dhx_calendar-year:focus{outline:none}.dhx_calendar-month:active:before,.dhx_calendar-month:focus:before,.dhx_calendar-month:hover:before,.dhx_calendar-year:active:before,.dhx_calendar-year:focus:before,.dhx_calendar-year:hover:before{opacity:1;transition:opacity var(--dhx-transition-time) var(--dhx-transition-out)}.dhx_calendar-month:hover:before,.dhx_calendar-year:hover:before{z-index:-2}.dhx_calendar-month--selected,.dhx_calendar-year--selected{color:var(--dhx-background-primary)}.dhx_calendar-month--selected:before,.dhx_calendar-year--selected:before{opacity:1;transition:opacity var(--dhx-transition-time) var(--dhx-transition-in),background-color var(--dhx-transition-time) var(--dhx-transition-in);background-color:var(--dhx-color-primary)}.dhx_list{margin:0;padding:0;height:100%;list-style:none;overflow:auto;max-height:100%;background-color:var(--dhx-background-primary)}.dhx_list--scroll-view,.dhx_list-item{overflow:hidden}.dhx_list-item{position:relative;font-family:var(--dhx-font-family);padding:8px 12px;border-bottom:var(--dhx-border);outline:none}.dhx_list-item--text{font-family:var(--dhx-font-family);font-size:var(--dhx-font-size-normal);font-weight:var(--dhx-font-weight-regular);line-height:var(--dhx-line-height-normal);transition:background-color var(--dhx-transition-time) var(--dhx-transition-in),box-shadow var(--dhx-transition-time) var(--dhx-transition-in)}.dhx_list-item--selected{background-color:var(--dhx-background-secondary);box-shadow:inset 2px 0 0 0 var(--dhx-color-primary)}.dhx_list-item--focus,.dhx_list-item--selected:hover,.dhx_list-item:hover{background-color:var(--dhx-background-additional);transition:background-color var(--dhx-transition-time) var(--dhx-transition-out)}.dhx_list-item--drophere:after{content:"";position:absolute;inset:0;background-color:var(--dhx-background-secondary);opacity:.6}.dhx_list-item--dragtarget{opacity:.6}.dhx_list-item--drag{cursor:grab}.dhx_list-item--empty{height:37px}.dhx_list-input{width:100%;padding-left:5px}.utilityfocus .dhx_list-item:focus-visible,.utilityfocus .dhx_list:focus-visible{outline:1px dashed --dhx-color-focused;outline-offset:-1px}.dhx_combobox{margin-bottom:16px}.dhx_combobox__options{margin-top:2px;width:100%}.dhx_combobox--required:not(.dhx_combobox--label_sr) .dhx_label:not(.dhx_label--with-help){position:relative}.dhx_combobox--required:not(.dhx_combobox--label_sr) .dhx_label:not(.dhx_label--with-help):after{content:"*";display:inline-block;padding-left:4px;color:var(--dhx-font-color-additional)}.dhx_combobox--required:not(.dhx_combobox--label_sr) .dhx_label__holder{position:relative;max-width:100%;overflow:hidden;text-overflow:ellipsis}.dhx_combobox--required:not(.dhx_combobox--label_sr) .dhx_label__holder:after{content:"*";display:inline-block;padding-left:4px;color:var(--dhx-font-color-additional)}.dhx_combobox--label_sr .dhx_label{position:absolute;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}.dhx_combobox--label-inline{display:flex;align-items:center;width:100%;position:relative}.dhx_combobox--label-inline .dhx_combobox__label{flex:0 0 auto;justify-content:flex-end;text-align:right;margin-right:16px;margin-bottom:0;max-width:30%}.dhx_combobox--label-inline .dhx_combobox-input-box{flex:0 1 auto;width:300%}.dhx_combobox--disabled{opacity:.6;pointer-events:none;cursor:default}.dhx_combobox .dhx_combobox-input__template+.dhx_combobox-input{opacity:0}.dhx_combobox-input-box{position:relative;flex:1;background-color:var(--dhx-background-secondary);background-clip:padding-box;border-radius:var(--dhx-border-radius);box-shadow:var(--dhx-shadow-input-size) var(--dhx-border-color);transition:border-color var(--dhx-transition-time) var(--dhx-transition-out),box-shadow var(--dhx-transition-time) var(--dhx-transition-out)}.dhx_combobox-input-box--readonly,.dhx_combobox-input-box--readonly *{cursor:pointer}.dhx_combobox-input-box--disabled{cursor:not-allowed}.dhx_combobox-input-box--disabled *{cursor:not-allowed;pointer-events:none}.dhx_combobox-input-box--active,.dhx_combobox-input-box:focus-within{box-shadow:var(--dhx-shadow-input-size) var(--dhx-color-primary)}.dhx_combobox-input-box--state_success{box-shadow:var(--dhx-shadow-input-size) var(--dhx-color-success)}.dhx_combobox-input-box--state_error{box-shadow:var(--dhx-shadow-input-size) var(--dhx-color-danger)}.dhx_combobox-input{min-height:30px;display:block;width:100%;margin:0;padding:0;position:absolute;inset:0;font-family:var(--dhx-font-family);font-size:var(--dhx-font-size-normal);line-height:var(--dhx-line-height-normal);color:var(--dhx-font-color-primary);border:0;-webkit-appearance:none;appearance:none;background-color:transparent}.dhx_combobox-input::placeholder{color:var(--dhx-font-color-secondary)}.dhx_combobox-input:active,.dhx_combobox-input:focus{outline:none}.dhx_combobox-input__wrapper{position:static;padding-bottom:0}.dhx_combobox-input__icon{display:flex;align-items:center;cursor:pointer;flex:0;position:absolute;top:50%;right:4px;transform:translateY(-50%);font-size:var(--dhx-icon-size-small);z-index:var(--dhx-z-index-up);color:var(--dhx-font-color-secondary)}.dhx_combobox-input__template{height:100%;display:flex;align-items:center}.dhx_combobox-input-list-wrapper{height:100%;width:100%;overflow:hidden}.dhx_combobox-input-list{display:flex;flex-wrap:wrap;flex-flow:row wrap;list-style:none;margin:0;border-top:1px solid transparent;border-bottom:1px solid transparent;min-height:30px;max-height:96px;width:calc(100% - 32px);overflow-y:scroll;padding:0 41px 0 8px;box-sizing:content-box!important}.dhx_combobox-input-list__item{flex:0 1 auto}.dhx_combobox-input-list__item--input{position:relative;flex:1 0 auto}.dhx_combobox-tag{display:flex;flex-wrap:nowrap;justify-content:space-between;align-items:center;padding:0 8px;margin-top:2px;margin-bottom:2px;border:var(--dhx-border);border-radius:15px;background-color:var(--dhx-background-primary);margin-right:8px}.dhx_combobox-tag__value{font-family:var(--dhx-font-family);font-size:var(--dhx-font-size-normal);line-height:var(--dhx-line-height-normal);color:var(--dhx-font-color-primary);white-space:nowrap}.dhx_combobox-tag__icon,.dhx_combobox-tag__image{margin-right:4px}.dhx_combobox-tag__image{width:16px;height:auto;object-fit:contain;object-position:center}.dhx_combobox-tag__action{height:20px;margin-left:4px;margin-right:-6px;color:var(--dhx-font-color-secondary);padding:0;background-color:transparent;transition:color var(--dhx-transition-time) var(--dhx-transition-in)}.dhx_combobox-tag__action:hover{color:var(--dhx-font-color-primary);transition:color var(--dhx-transition-time) var(--dhx-transition-out)}.dhx_combobox-options{background-color:var(--dhx-background-secondary);border-radius:var(--dhx-border-radius);box-shadow:var(--dhx-border-shadow-normal)}.dhx_combobox-options-wrapper{display:flex;align-items:center}.dhx_combobox-options__icon{margin-right:8px}.dhx_combobox-options__image{margin-right:8px;width:16px;height:auto;object-fit:contain;object-position:center}.dhx_combobox-options__item{display:flex;align-items:center;font-family:var(--dhx-font-family);font-size:var(--dhx-font-size-normal);line-height:var(--dhx-line-height-normal);padding:6px 8px;-webkit-user-select:none;user-select:none;cursor:pointer}.dhx_combobox-options__item--select-all{color:var(--dhx-color-primary);line-height:var(--dhx-line-height-normal);border-bottom:var(--dhx-border)}.dhx_combobox-options__action-create-option{word-break:break-all}.dhx_combobox-options .dhx_layout-cell{overflow:unset}.dhx_colorpicker{font-family:var(--dhx-font-family);font-weight:var(--dhx-font-weight-medium);overflow:hidden;border:var(--dhx-border);background-color:var(--dhx-background-primary);border-radius:var(--dhx-border-radius)}.dhx_colorpicker,.dhx_colorpicker *{box-sizing:border-box}.dhx_popup .dhx_colorpicker{box-shadow:var(--dhx-border-shadow-normal);border:none}.dhx_palette{overflow:hidden;width:100%;height:100%;margin:0;white-space:nowrap;padding:8px}.dhx_palette--custom{display:flex;flex-wrap:wrap;max-width:236px}.dhx_palette--custom.dhx_palette__row .dhx_palette__cell{margin-bottom:0}.dhx_palette__col{display:inline-block}.dhx_palette__col:last-child .dhx_palette_cell{margin-right:0}.dhx_palette__row .dhx_palette__cell{display:inline-block;margin-bottom:6px}.dhx_palette__row .dhx_palette__cell:last-child{margin-right:0}.dhx_palette__row--last{margin-bottom:0}.dhx_palette__cell{position:relative;width:20px;height:20px;margin:0 2px 2px 0;vertical-align:top;border:2px solid transparent}.dhx_palette__cell,.dhx_palette__cell:after{transition:border var(--dhx-transition-time) var(--dhx-transition-in)}.dhx_palette__cell:after{content:"";display:block;position:absolute;inset:-2px;border:1px solid transparent}.dhx_palette__cell:last-child{margin-bottom:0}.dhx_palette__cell--selected,.dhx_palette__cell:hover{border:2px solid hsla(0,0%,100%,.6);transition:border var(--dhx-transition-time) var(--dhx-transition-out)}.dhx_palette__cell--selected:after,.dhx_palette__cell:hover:after{border:1px solid rgba(0,0,0,.6);transition:border var(--dhx-transition-time) var(--dhx-transition-out)}.dhx_colorpicker-custom-colors{font-size:14px;color:var(--dhx-font-color-secondary)}.dhx_colorpicker-custom-colors__header{font-size:14px;padding:9px 0 4px;letter-spacing:-.2px;position:relative}.dhx_colorpicker-custom-colors__picker{display:inline-block;width:20px;height:20px;cursor:pointer;color:var(--dhx-font-color-secondary);box-shadow:inset 0 0 0 1px var(--dhx-font-color-secondary)}.dhx_colorpicker-picker__palette{position:relative;width:100%;border-radius:var(--dhx-border-radius);overflow:hidden}.dhx_colorpicker-picker__palette:before{content:"";height:100%;width:100%;position:absolute;top:0;left:0;background-image:linear-gradient(0deg,#000,hsla(0,0%,100%,0));z-index:2}.dhx_colorpicker-picker__palette:after{content:"";width:100%;height:100%;position:absolute;top:0;left:0;background-image:linear-gradient(90deg,#fff,hsla(20,42%,65%,0));z-index:1}.dhx_colorpicker-picker__buttons{display:flex;padding:12px 0 0;justify-content:flex-end}.dhx_colorpicker-picker__buttons .dhx_button:first-child{margin-right:4px}.dhx_colorpicker-range{position:relative;width:100%;height:16px;margin:4px 0 8px;border-radius:var(--dhx-border-radius)}.dhx_colorpicker-range--hue{background-image:linear-gradient(90deg,red,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.dhx_colorpicker-range__substrate:after,.dhx_colorpicker-range__substrate:before{content:"";position:absolute;top:0;left:0;width:100%;height:100%;border-radius:var(--dhx-border-radius);background-image:repeating-linear-gradient(90deg,#d1d1d6,#d1d1d6 8px,transparent 0,transparent 16px);background-clip:content-box;background-origin:content-box}.dhx_colorpicker-range__substrate:before{padding-bottom:8px;padding-left:8px}.dhx_colorpicker-range__substrate:after{padding-top:8px}.dhx_colorpicker-range__background{position:absolute;top:0;left:0;width:100%;height:100%;border-radius:var(--dhx-border-radius);box-shadow:inset 0 0 3px #0000004d}.dhx_colorpicker-range__grip{position:absolute;top:0;width:6px;height:100%;border:1px solid var(--dhx-color-white);background:transparent;box-shadow:var(--dhx-border-shadow-normal)}.dhx_colorpicker-range__grip--hue{left:0}.dhx_colorpicker-range__grip--alpha{left:calc(100% - 6px)}.dhx_palette_grip{position:absolute;top:0;left:0;width:10px;height:10px;border:1px solid var(--dhx-color-white);border-radius:50%;background:transparent;box-shadow:var(--dhx-border-shadow-normal);z-index:10}.dhx_colorpicker-value{display:flex;flex-direction:row;height:32px;justify-content:space-between}.dhx_colorpicker-value__color{width:100px;border:1px solid transparent;border-radius:var(--dhx-border-radius);margin-right:8px}.dhx_colorpicker-value__input-wrapper{position:relative;border:var(--dhx-border)}.dhx_colorpicker-value__input-wrapper:before{position:absolute;height:100%;line-height:30px;color:var(--dhx-font-color-secondary);font-size:15px}.dhx_colorpicker-value__input-wrapper--hex{margin-left:auto}.dhx_colorpicker-value__input-wrapper--hex:before{content:"#";left:8px}.dhx_colorpicker-value__input-wrapper--alpha{margin-left:8px}.dhx_colorpicker-value__input-wrapper--alpha:before{content:"%";right:8px}.dhx_colorpicker-value__input{height:100%;background-color:var(--dhx-background-primary);line-height:20px;font-size:14px;color:var(--dhx-font-color-primary);border:none;border-radius:var(--dhx-border-radius);outline:none}.dhx_colorpicker-value__input--hex{padding:0 0 0 24px}.dhx_colorpicker-value__input--alpha{width:56px;padding:0 24px 0 8px}.dhx_widget.dhx_form{overflow:auto}.dhx_widget.dhx_form .dhx_layout-cell{overflow:unset}.dhx_widget.dhx_form .dhx_checkbox-group--container .dhx_layout-cell:last-child .dhx_checkbox,.dhx_widget.dhx_form .dhx_radio-group--container .dhx_layout-cell:last-child .dhx_radiobutton{margin-bottom:0}.dhx_widget.dhx_form .dhx_form-group--disabled{opacity:.6;-webkit-user-select:none;user-select:none;pointer-events:none}.dhx_widget.dhx_form .dhx_form-group--simplevault{overflow-y:auto}.dhx_widget.dhx_form .dhx_form-group--container{display:flex;flex-direction:column;width:100%;height:calc(100% - var(--dhx-line-height-small))}.dhx_widget.dhx_form .dhx_form-group--container .dhx_layout{overflow:unset}.dhx_widget.dhx_form .dhx_form-group--container.dhx_form-group--inline{flex-direction:row}.dhx_widget.dhx_form .dhx_layout-columns .dhx_form-element.dhx_form-element--fit-content{flex:0 1 auto!important}.dhx_widget.dhx_form .dhx_layout-columns .dhx_button--full-gravity{flex:1 1 auto}.dhx_widget.dhx_form .dhx_layout-rows .dhx_button--full-gravity{flex:0 1 auto}.dhx_widget.dhx_form .dhx_checkbox-group--container .dhx_layout-columns label,.dhx_widget.dhx_form .dhx_radio-group--container .dhx_layout-columns label{margin-bottom:0}.dhx_widget.dhx_form .dhx_form-group-fieldset{border:none;margin:0;padding:0}.dhx_widget.dhx_form .dhx_form-fieldset{width:100%;margin:0 0 16px;padding:0 16px;border:var(--dhx-border);border-radius:var(--dhx-border-radius)}.dhx_widget.dhx_form .dhx_form-fieldset--disabled .dhx_form-fieldset-legend{color:var(--dhx-font-color-disabled)}.dhx_widget.dhx_form .dhx_form-fieldset-legend{padding:0 8px;margin-bottom:6px;font-family:var(--dhx-font-family);font-weight:var(--dhx-font-weight-medium);font-size:var(--dhx-font-size-large);line-height:var(--dhx-line-height-large);color:var(--dhx-font-color-primary)}.dhx_widget.dhx_form .dhx_form-fieldset-legend--left{text-align:left;margin-left:-8px}.dhx_widget.dhx_form .dhx_form-fieldset-legend--right{text-align:right;margin-right:-8px}.dhx_widget.dhx_form .dhx_form-fieldset-legend--center{text-align:center}.dhx_menu-nav{display:flex;flex-wrap:nowrap;margin:0;padding:0;width:100%;list-style:none;overflow-x:auto;background-color:var(--dhx-background-primary)}.dhx_menu-nav__item--separator{pointer-events:none;width:1px;min-width:1px;background-color:var(--dhx-border-color);margin-top:8px;margin-bottom:8px}.dhx_menu-nav__item--spacer{pointer-events:none;flex:1 0 auto}.dhx_nav-menu-button{display:flex;justify-content:center;align-items:center;padding:8px 12px;font-weight:var(--dhx-font-weight-medium);font-family:var(--dhx-font-family);font-size:var(--dhx-font-size-normal);line-height:var(--dhx-line-height-normal);color:var(--dhx-font-color-primary);background-color:transparent;transition:background-color var(--dhx-transition-time) var(--dhx-transition-in)}.dhx_nav-menu-button--active:not(:disabled),.dhx_nav-menu-button:active:not(:disabled),.dhx_nav-menu-button:hover:not(:disabled){background-color:var(--dhx-background-additional);transition:background-color var(--dhx-transition-time) var(--dhx-transition-out)}.dhx_nav-menu-button--disabled,.dhx_nav-menu-button:disabled{opacity:.8;pointer-events:auto;cursor:default}.dhx_nav-menu-button--disabled *,.dhx_nav-menu-button:disabled *{color:var(--dhx-font-color-disabled)}.dhx_menu{padding:0;margin:0;background:var(--dhx-background-primary);list-style:none;border-radius:var(--dhx-border-radius);box-shadow:var(--dhx-border-shadow-normal);overflow:hidden;z-index:calc(var(--dhx-z-index-overlay-total) - 1)}.dhx_menu:focus{outline:none}.dhx_menu-item{min-width:180px}.dhx_menu-item--separator{pointer-events:none;align-self:stretch;height:1px;min-height:1px;margin:2px 8px;background-color:var(--dhx-border-color)}.dhx_menu-item--spacer{pointer-events:none;height:16px}.dhx_menu-item--left-gap .dhx_menu-button{padding-left:38px}.dhx_menu-button{display:flex;width:100%;justify-content:space-between;padding:8px;text-align:left;font-family:var(--dhx-font-family);font-size:var(--dhx-font-size-normal);font-weight:var(--dhx-font-weight-regular);line-height:var(--dhx-line-height-normal);color:var(--dhx-font-color-primary);background-color:transparent;transition:background-color var(--dhx-transition-time) var(--dhx-transition-in)}.dhx_menu-button--active:not(:disabled),.dhx_menu-button:active:not(:disabled),.dhx_menu-button:focus:not(:disabled),.dhx_menu-button:hover:not(:disabled){background-color:var(--dhx-background-additional);transition:background-color var(--dhx-transition-time) var(--dhx-transition-out)}.dhx_menu-button--disabled,.dhx_menu-button:disabled{opacity:.8;pointer-events:auto;cursor:default}.dhx_menu-button--disabled *,.dhx_menu-button:disabled *{color:var(--dhx-font-color-disabled)}.dhx_menu-button__icon{color:var(--dhx-font-color-secondary)}.dhx_widget .dhx_menu-button__icon{line-height:0}.dhx_widget .dhx_menu-button__icon:before{font-size:var(--dhx-icon-size-normal);line-height:var(--dhx-icon-size-normal)}.dhx_menu-button__icon+.dhx_menu-button__text{margin-left:8px}.dhx_menu-button__block{display:flex;align-items:center}.dhx_menu-button__block--left{justify-content:flex-start}.dhx_menu-button__block--right{justify-content:flex-end}.dhx_menu-button__count{margin-left:8px;margin-top:-2px;margin-bottom:-2px}.dhx_menu-button__hotkey{margin-left:8px;color:var(--dhx-font-color-additional)}.dhx_menu-button__caret{margin-left:8px;color:var(--dhx-font-color-secondary)}.dhx_widget--fullscreen .dhx_menu{z-index:var(--dhx-z-index-overlay-total)}.dhx_toolbar{min-height:44px;display:flex;margin:0;-webkit-user-select:none;user-select:none;background-color:var(--dhx-s-toolbar-background)}.dhx_toolbar__item--spacer{flex:1 0 auto}.dhx_toolbar__item--separator{width:1px;min-width:1px;height:100%;background-color:var(--dhx-border-color);margin:0 2px;height:28px}.dhx_toolbar__item:first-child .dhx_form-group,.dhx_toolbar__item:first-child .dhx_navbar-title,.dhx_toolbar__item:first-child button:not(.dhx_toolbar-button){margin-left:12px}.dhx_toolbar__item:first-child button.dhx_button--view_link:not(.dhx_button--count),.dhx_toolbar__item:not(:first-child) .dhx_form-group,.dhx_toolbar__item:not(:first-child) .dhx_navbar-title,.dhx_toolbar__item:not(:first-child) button:not(.dhx_toolbar-button){margin-left:4px}.dhx_toolbar__item:last-child .dhx_form-group,.dhx_toolbar__item:last-child .dhx_navbar-title,.dhx_toolbar__item:last-child button:not(.dhx_toolbar-button){margin-right:12px}.dhx_toolbar__item:last-child button.dhx_button--view_link:not(.dhx_button--count),.dhx_toolbar__item:not(:last-child) .dhx_form-group,.dhx_toolbar__item:not(:last-child) .dhx_navbar-title,.dhx_toolbar__item:not(:last-child) button:not(.dhx_toolbar-button){margin-right:4px}.dhx_toolbar__input{height:32px}@supports (display:block){.dhx_toolbar__input{height:unset}}.dhx_toolbar__input .dhx_input{height:32px}@supports (display:block){.dhx_toolbar__input .dhx_input{height:unset}}.dhx_toolbar .dhx_navbar{padding:12px 0;height:100%}.dhx_toolbar .dhx_button__icon--menu{transform:rotate(90deg)}.dhx_toolbar-button{position:relative;display:flex;justify-content:center;align-items:center;padding:6px 12px;font-family:var(--dhx-font-family);font-size:var(--dhx-font-size-normal);line-height:var(--dhx-line-height-normal);font-weight:var(--dhx-font-weight-medium);color:var(--dhx-font-color-primary);background-color:transparent;border-radius:var(--dhx-border-radius);transition:background-color var(--dhx-transition-time) var(--dhx-transition-in)}.dhx_toolbar-button--select{padding-right:8px}.dhx_toolbar-button--icon{padding-right:12px}.dhx_toolbar-button--circle{border-radius:calc(var(--dhx-line-height-normal) + 12px)}.dhx_toolbar-button--circle.dhx_toolbar-button--icon{padding-left:6px;padding-right:6px}.dhx_toolbar-button:hover{background-color:var(--dhx-s-toolbar-button-background-hover);transition:background-color var(--dhx-transition-time) var(--dhx-transition-out)}.dhx_toolbar-button--active,.dhx_toolbar-button:active{background-color:var(--dhx-s-toolbar-button-background-active);transition:background-color var(--dhx-transition-time) var(--dhx-transition-out)}.dhx_toolbar-button--disabled,.dhx_toolbar-button:disabled{opacity:.8;pointer-events:auto;cursor:default}.dhx_toolbar-button--disabled:hover,.dhx_toolbar-button:disabled:hover{background-color:transparent}.dhx_toolbar-button--disabled *,.dhx_toolbar-button:disabled *{color:var(--dhx-font-color-disabled)}.dhx_toolbar-button__icon{color:var(--dhx-font-color-primary)}.dhx_widget .dhx_toolbar-button__icon{line-height:0}.dhx_widget .dhx_toolbar-button__icon:before{font-size:var(--dhx-icon-size-normal);line-height:var(--dhx-icon-size-normal)}.dhx_toolbar-button__icon+.dhx_toolbar-button__text{margin-left:8px}.dhx_toolbar-button__count{position:absolute;top:-10px;right:-10px}.dhx_toolbar-button__caret{margin-left:8px;color:var(--dhx-font-color-secondary);transform:rotate(90deg)}.dhx_toolbar-button-image{display:flex;justify-content:center;align-items:center;position:relative;width:44px;height:44px;padding:0;margin-top:-8px;margin-bottom:-8px;font-family:var(--dhx-font-family);font-size:var(--dhx-font-size-normal);line-height:var(--dhx-line-height-normal);color:var(--dhx-font-color-primary);border-radius:50%;transition:opacity var(--dhx-transition-time) var(--dhx-transition-in)}.dhx_toolbar-button-image:hover{opacity:.8;transition:opacity var(--dhx-transition-time) var(--dhx-transition-out)}.dhx_toolbar-button-image__image{position:absolute;border-radius:50%;inset:0;background-size:cover;background-position:50%;background-repeat:no-repeat;z-index:var(--dhx-z-index-up)}.dhx_toolbar-button-image__text{text-align:center;width:100%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.dhx_toolbar-button-image__count{position:absolute;top:-4px;right:-4px}.dhx_diagram_item--move:before,.dhx_diagram_item--selected:before{content:"";outline:var(--dhx-selected-border-dashed);display:block;position:absolute;width:100%;height:100%;top:0;left:0}.dhx_diagram_item__text{white-space:pre-wrap;font-weight:var(--dhx-font-weight-regular);color:var(--dhx-font-color-primary)}.dhx_diagram_item__text,.dhx_diagram_item__title{overflow:hidden;text-overflow:ellipsis;word-break:break-word;font-family:var(--dhx-font-family);font-size:var(--dhx-font-size-normal);line-height:var(--dhx-line-height-normal)}.dhx_diagram_item__title{text-transform:uppercase;white-space:nowrap;font-weight:var(--dhx-font-weight-medium);color:var(--dhx-font-color-secondary)}.dhx_diagram_line--selected{outline:var(--dhx-selected-border-dashed)}.dhx_diagram_line_title{cursor:pointer}.dhx_diagram_line_title--selected:before{content:"";outline:var(--dhx-selected-border-dashed);display:block;position:absolute;width:100%;height:100%;top:0;left:0}.dhx_diagram_line_title__text{width:100%;height:100%}.dhx_diagram_group{display:flex}.dhx_diagram_group__children{display:inherit;position:absolute;top:0;left:0}.dhx_diagram_group__header{display:flex;align-items:center}.dhx_diagram_group__header_text{display:flex;width:100%;height:100%;padding:4px;word-break:break-word;white-space:pre-wrap;overflow:hidden}.dhx_diagram_group__header--position_left .dhx_diagram_group__header_text,.dhx_diagram_group__header--position_right .dhx_diagram_group__header_text{writing-mode:vertical-rl;transform:rotate(-180deg)}.dhx_diagram_group--position_top{align-items:flex-start}.dhx_diagram_group--position_bottom{align-items:flex-end}.dhx_diagram_group--position_right{justify-content:flex-end}.dhx_diagram_group--position_right .dhx_diagram_group__header--position_right.dhx_diagram_group__header{flex-direction:column-reverse}.dhx_diagram_group--position_right .dhx_diagram_group__header--position_right .dhx_diagram_icon,.dhx_diagram_group--position_right .dhx_diagram_menu_icon{margin:6px 0 0}.dhx_diagram_group--position_left{justify-content:flex-start}.dhx_diagram_group--position_left .dhx_diagram_group__header--position_left.dhx_diagram_group__header{flex-direction:column-reverse}.dhx_diagram_group--position_left .dhx_diagram_group__header--position_left .dhx_diagram_icon,.dhx_diagram_group--position_left .dhx_diagram_menu_icon{margin:6px 0 0}.dhx_diagram_swimlane__subheader{display:flex;position:absolute}.dhx_diagram_swimlane__subheader_container{display:flex;flex-direction:inherit;align-items:center}.dhx_diagram_swimlane__subheader_text{display:flex;width:100%;height:100%;padding:4px;word-break:break-word;white-space:pre-wrap;overflow:hidden}.dhx_diagram_swimlane__subheader--position_cols{flex-direction:row}.dhx_diagram_swimlane__subheader--position_rows{flex-direction:column}.dhx_diagram_swimlane__subheader--position_rows .dhx_diagram_swimlane__subheader_text{writing-mode:vertical-rl;transform:rotate(-180deg)}.dhx_diagram_swimlane__subheader--position_rows .dhx_diagram_swimlane__subheader_container{flex-direction:column-reverse}.dhx_diagram_swimlane__subheader--position_rows .dhx_diagram_icon{margin:6px 0 0}.dhx_diagram_shape_card{background-color:var(--dhx-background-primary)}.dhx_diagram_shape_card-img .dhx_diagram_shape__content{box-sizing:border-box;display:table-cell;text-align:left}.dhx_diagram_shape_card-img .dhx_diagram_item__title{margin-top:25px}.dhx_diagram_shape_card-img .dhx_diagram_item__image{float:left;width:60px;height:60px;margin:16px 12px 0 8px;border-radius:50%;background-size:100% 100%;background-repeat:no-repeat}.dhx_diagram_shape .dhx_diagram_toggle-icon{color:var(--dhx-color-white)}.dhx_diagram_shape .dhx_diagram_toggle-icon--collapse{display:none}.dhx_diagram_shape:hover .dhx_diagram_toggle-icon--collapse{animation:hideWithDelay .5s ease-out;display:block}@keyframes hideWithDelay{0%{display:none;opacity:0}1%{display:block;opacity:0}to{display:block;opacity:1}}.dhx_diagram_toggle-icon{cursor:pointer}.dhx_diagram_toggle-icon--collapse,.dhx_diagram_toggle-icon--expand{-webkit-user-select:none;user-select:none;shape-rendering:auto}.dhx_diagram_toggle-icon__wrapper{position:absolute;top:-10px;left:-10px;width:20px;height:20px;border-radius:10px}.dhx_diagram_icon{display:flex;align-items:center;justify-content:center;height:20px;width:20px;min-width:20px;min-height:20px;margin:0 6px 0 0;cursor:pointer}.dhx_diagram_inline_editor{outline:0}.dhx_diagram_toolbar{position:absolute;z-index:1;box-shadow:var(--dhx-border-shadow-normal);border-radius:var(--dhx-border-radius);animation:appear .2s ease-in-out forwards;background-color:var(--dhx-background-primary)}.dhx_diagram_toolbar__wrapper{display:flex;align-items:center;justify-content:center;height:calc(var(--dhx-step-size)*10);padding:0 calc(var(--dhx-step-size)*2)}.dhx_diagram_toolbar__icon{display:flex;justify-content:center;align-items:center;width:30px;height:30px;cursor:pointer;text-align:center;background-repeat:no-repeat;background-position:50%;color:var(--dhx-font-color-secondary);fill:var(--dhx-font-color-secondary)}.dhx_diagram_toolbar__icon .dxi:before{font-size:var(--dhx-icon-size-large)}.dhx_diagram_toolbar__icon path{color:var(--dhx-font-color-secondary);fill:var(--dhx-font-color-secondary)}.dhx_diagram_toolbar__icon:hover,.dhx_diagram_toolbar__icon:hover path{color:var(--dhx-color-primary);fill:var(--dhx-color-primary)}.dhx_diagram_toolbar__icon--remove:hover,.dhx_diagram_toolbar__icon--remove:hover path{color:var(--dhx-color-danger);fill:var(--dhx-color-danger)}.dhx_diagram_toolbar__icon--active,.dhx_diagram_toolbar__icon--active path{color:var(--dhx-color-primary);fill:var(--dhx-color-primary)}@keyframes appear{0%{transform:translateY(30%);opacity:0}to{transform:translateY(0);opacity:1}}@keyframes disappear{0%{transform:translateY(0);opacity:1}to{transform:translateY(30%);opacity:0}}.dhx_diagram{width:100%;height:100%;overflow:auto;position:relative;display:flex;justify-content:center;background:var(--dhx-background-primary);outline:none}.dhx_diagram__wrapper{display:inline-block}.dhx_diagram__container{position:relative}.dhx_diagram__scale-container{position:absolute;display:grid;display:-ms-grid}.dhx_notouch .dhx_editor .dhx_diagram,.dhx_notouch .dhx_editor .dhx_diagram__container,.dhx_notouch .dhx_editor .dhx_editor_shapebar{touch-action:none}.dhx_editor{-webkit-user-select:none;user-select:none}.dhx_editor .dhx_diagram_item{cursor:pointer}.dhx_editor .dhx_diagram__container{position:static;width:0!important;height:0!important}.dhx_editor .dhx_editor_icon-text:before{color:var(--dhx-shapebar-item-border-color)}.dhx_editor_shapebar{font-family:var(--dhx-font-family);font-weight:var(--dhx-font-weight-regular);font-size:var(--dhx-font-size-normal);background-color:var(--dhx-background-secondary);border-right:var(--dhx-border);-webkit-user-select:none;user-select:none;overflow-y:auto;padding:0 0 15px 15px}.dhx_editor_shapebar__section{padding:10px 0}.dhx_editor_shapebar__label{cursor:pointer;font-weight:var(--dhx-font-weight-medium);color:var(--dhx-font-color-primary);position:relative;padding-left:16px}.dhx_editor_shapebar__label:before{content:"";position:absolute;left:0;width:0;height:0;transform:translateY(-50%);top:50%;border-right:5px solid transparent;border-bottom:6px solid var(--dhx-font-color-primary);border-left:5px solid transparent}.dhx_editor_shapebar__area{display:none;width:100%;flex-wrap:wrap;margin-top:5px}.dhx_editor_shapebar__checkbox{display:none}.dhx_editor_shapebar__checkbox:checked~.dhx_editor_shapebar__area{display:flex}.dhx_editor_shapebar__checkbox:checked+.dhx_editor_shapebar__label:before{border-top:7px solid var(--dhx-font-color-primary);border-bottom:none}.dhx_editor_shapebar__preview{cursor:pointer;display:flex;justify-content:center;align-items:center}.dhx_editor_shapebar__preview:hover{background-color:var(--dhx-color-primary-light-hover);outline:5px solid var(--dhx-color-primary-light-hover)}.dhx_editor_shapebar__preview-img-overlay{width:100%;height:100%;position:absolute;top:0;left:0}.dhx_editor_shapebar__preview .dhx_diagram_item{position:relative!important;touch-action:none}.dhx_editor_shapebar__preview .dhx_diagram_group,.dhx_editor_shapebar__preview .dhx_diagram_swimlane{background-color:var(--dhx-background-primary)!important}.dhx_editor_shapebar__preview .dhx_diagram_swimlane .dhx_diagram_group_swimlane .dhx_diagram_group{z-index:-1;position:absolute!important}.dhx_editor_shapebar__shadow{z-index:var(--dhx-z-index-overlay-total);position:fixed}.dhx_editor_editbar{background-color:var(--dhx-background-secondary);border-left:var(--dhx-border)}.dhx_editor_editbar .dhx_layout,.dhx_editor_editbar .dhx_layout-cell{background-color:inherit}.dhx_editor_editbar .dhx_avatar,.dhx_editor_editbar .dhx_combobox-input-box,.dhx_editor_editbar .dhx_input{background-color:var(--dhx-background-primary)}.dhx_editor_editbar .dhx_form-group--state_success .dhx_input__caption,.dhx_editor_editbar .dhx_form-group--state_success .dhx_label,.dhx_editor_editbar .dhx_form-group--state_success .dhx_text{color:var(--dhx-font-color-primary)}.dhx_editor_editbar .dhx_form-group--state_success .dhx_combobox-input-box,.dhx_editor_editbar .dhx_form-group--state_success .dhx_combobox-input-box:focus,.dhx_editor_editbar .dhx_form-group--state_success .dhx_input,.dhx_editor_editbar .dhx_form-group--state_success .dhx_input:focus{box-shadow:var(--dhx-shadow-input-size) var(--dhx-border-color)}.dhx_editor_editbar .dhx_form-group--state_success .dhx_avatar{border-color:var(--dhx-border-color)}.dhx_editor_editbar .dhx_colorpicker--picker-only .dhx_input{width:0}.dhx_editor_editbar .dhx_colorpicker--picker-only .dhx_input__icon{top:6px;left:7px;right:unset;transform:none}.dhx_editor_editbar .dhx_arrange .dhx_form-group{margin-bottom:8px}.dhx_editor_editbar .dhx_arrange .dhx_form-fieldset{padding-bottom:8px}.dhx_editor_editbar .dhx_form-fieldset--compact .dhx_form-fieldset{border:none;padding:0;margin:0}.dhx_editor_toolbar{border-bottom:var(--dhx-border);--dhx-s-toolbar-background:var(--dhx-background-secondary)}.dhx_editor_toolbar .dhx_toolbar_item-scale{width:110px;display:flex;align-items:center;justify-content:center;color:var(--dhx-font-color-secondary);font-weight:var(--dhx-font-weight-medium)}.dhx_editor_toolbar .dhx_toolbar_item-scale__button{cursor:pointer;width:20px;display:flex;align-items:center;justify-content:center;background-color:inherit;padding:0;border:0;margin:0!important;color:var(--dhx-font-color-secondary)}.dhx_editor_toolbar .dhx_toolbar_item-scale__text{text-align:center;min-width:45px;padding:0 4px}.dhx_editor_icon{color:var(--dhx-font-color-primary)}.dhx_editor_icon--no-touch{pointer-events:none;touch-action:none}.dhx_editor_icon-rotate{color:var(--dhx-color-primary)}.dhx_editor_icon-text:before{font-size:45px;color:#b8c6d6}.dhx_magnetic{position:absolute}.dhx_magnetic_line{background-color:var(--dhx-font-color-primary);position:absolute;z-index:1}.dhx_selection_box{position:absolute;border:var(--dhx-selected-border)}.dhx_diagram_resizer{position:absolute;pointer-events:none;touch-action:none}.dhx_diagram_resizer_grip{position:absolute;width:8px;height:8px;z-index:10;background:var(--dhx-background-primary);border:var(--dhx-selected-border)}.dhx_diagram_resizer_grip--line{border-radius:50%}.dhx_diagram_resizer_grip:focus{border:3px solid var(--dhx-color-primary);outline:none}.dhx_action__target--take{box-shadow:0 0 2px 2px var(--dhx-color-success-light-active)}.dhx_action__target--doesnt_take{box-shadow:0 0 2px 2px var(--dhx-color-danger-light-active)}.dhx_connect_point{cursor:pointer;position:absolute;width:30px;height:30px;border-radius:50%;display:flex;align-items:center;justify-content:center;pointer-events:auto;touch-action:auto}.dhx_connect_grip{position:relative;z-index:10;width:8px;height:8px;border-radius:50%;background:var(--dhx-color-primary);border:1px solid var(--dhx-background-primary)}.dhx_connect_grip:focus{border:3px solid var(--dhx-color-primary);outline:none}.dhx_connect_nearest{background:var(--dhx-color-primary-light-hover)}.dhx_connect_nearest .dhx_connect_grip{width:10px;height:10px}.dhx_slide{border:1px solid var(--dhx-color-primary);border-radius:8px;cursor:pointer}.dhx_slide:focus{outline:none}.dhx_slide--horizontal{height:16px;width:8px}.dhx_slide--vertical{height:8px;width:16px}.dhx_editor-org .dhx_diagram_line{cursor:default}[data-dhx-theme=contrast-dark]{--dhx-font-size-normal:calc(var(--dhx-step-size)*4);--dhx-font-size-small:var(--dhx-font-size-normal);--dhx-font-color-primary:var(--dhx-color-white);--dhx-font-color-secondary:hsla(0,0%,100%,.86);--dhx-font-color-additional:var(--dhx-font-color-secondary);--dhx-font-color-disabled:hsla(0,0%,100%,.5);--dhx-font-color-contrast:var(--dhx-color-black);--dhx-font-color-contrast-disabled:var(--dhx-font-color-disabled);--dhx-border-color:hsla(0,0%,100%,.5);--dhx-border-color-focused:hsla(0,0%,100%,.7);--dhx-l-contrast-offset:-12%;--dhx-l-secondary:60%;--dhx-h-background:226;--dhx-s-background:12%;--dhx-l-background:20%;--dhx-background-primary:hsl(var(--dhx-h-background),var(--dhx-s-background),var(--dhx-l-background));--dhx-background-secondary:hsl(var(--dhx-h-background),var(--dhx-s-background),calc(var(--dhx-l-background) + 8%));--dhx-background-additional:hsl(var(--dhx-h-background),var(--dhx-s-background),calc(var(--dhx-l-background) + 12%));--dhx-s-toolbar-background:var(--dhx-color-black);--dhx-s-toolbar-button-background-hover:hsla(0,0%,100%,.07);--dhx-s-toolbar-button-background-active:hsla(0,0%,100%,.15);--dhx-s-grid-header-background:#212329;--dhx-s-grid-selection-background:var(--dhx-color-gray-100);--dhx-s-calendar-muffled:.8;--dhx-s-tick-font-size:var(--dhx-font-size-small);--dhx-shapebar-item-font-color:var(--dhx-font-color-primary);--dhx-shapebar-item-background:#212329;--dhx-shapebar-item-border-color:#6c6e74}[data-dhx-theme=contrast-light]{--dhx-font-size-normal:calc(var(--dhx-step-size)*4);--dhx-font-size-small:var(--dhx-font-size-normal);--dhx-font-color-secondary:rgba(0,0,0,.66);--dhx-font-color-additional:var(--dhx-font-color-secondary);--dhx-border-color:rgba(0,0,0,.4);--dhx-l-contrast-offset:14%;--dhx-s-toolbar-background:var(--dhx-background-primary);--dhx-s-toolbar-button-background-hover:rgba(0,0,0,.07);--dhx-s-toolbar-button-background-active:rgba(0,0,0,.15);--dhx-s-grid-header-background:var(--dhx-background-secondary);--dhx-s-grid-selection-background:var(--dhx-color-gray-700);--dhx-s-calendar-muffled:.8;--dhx-s-tick-font-size:var(--dhx-font-size-small)}[data-dhx-theme=dark]{--dhx-font-color-primary:var(--dhx-color-white);--dhx-font-color-secondary:hsla(0,0%,100%,.7);--dhx-font-color-additional:hsla(0,0%,100%,.5);--dhx-font-color-disabled:hsla(0,0%,100%,.5);--dhx-font-color-contrast:var(--dhx-color-white);--dhx-font-color-contrast-disabled:var(--dhx-font-color-disabled);--dhx-border-color:hsla(0,0%,100%,.3);--dhx-border-color-focused:hsla(0,0%,100%,.5);--dhx-l-secondary:60%;--dhx-h-background:226;--dhx-s-background:12%;--dhx-l-background:20%;--dhx-background-primary:hsl(var(--dhx-h-background),var(--dhx-s-background),var(--dhx-l-background));--dhx-background-secondary:hsl(var(--dhx-h-background),var(--dhx-s-background),calc(var(--dhx-l-background) + 8%));--dhx-background-additional:hsl(var(--dhx-h-background),var(--dhx-s-background),calc(var(--dhx-l-background) + 12%));--dhx-s-toolbar-background:var(--dhx-color-black);--dhx-s-toolbar-button-background-hover:hsla(0,0%,100%,.07);--dhx-s-toolbar-button-background-active:hsla(0,0%,100%,.15);--dhx-s-grid-header-background:#212329;--dhx-s-grid-selection-background:var(--dhx-color-gray-100);--dhx-s-calendar-muffled:.6;--dhx-s-tick-font-size:calc(var(--dhx-font-size-small)/1.2);--dhx-shapebar-item-font-color:var(--dhx-font-color-primary);--dhx-shapebar-item-background:#212329;--dhx-shapebar-item-border-color:#6c6e74}.widget{width:100%;height:100%}\n'],encapsulation:2}),e})(),Uk=(()=>{class e{constructor(){this.name=""}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=dl({type:e,selectors:[["app-root"]],decls:1,vars:0,template:function(n,s){1&n&&bs(0,"diagram")},dependencies:[Wk],encapsulation:2}),e})(),Gk=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=ar({type:e,bootstrap:[Uk]}),e.\u0275inj=ai({imports:[Fk]}),e})();Pk().bootstrapModule(Gk).catch(e=>console.error(e))}},Xi=>{Xi(Xi.s=41)}]);